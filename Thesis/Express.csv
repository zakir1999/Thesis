,Unnamed: 0,QId,QPostTypeId,QAcceptedAnswerId,QOwnerUserId,QAnswerCount,QCommentCount,QFavoriteCount,QCommunityOwnedDate,QCreationDate,QScore,QViewCount,QTitle,QBody,QTags,QStackTrace,Webpack,React,Express
8,8,5132607,1,5133143,602435,1.0,5.0,0.0,0.0,2011-02-27T10:17:41.070,0.0,3365.0,node.js express require?,"<p>In an example I see something like this: </p>

<p><code>var uid = require(""../support/express/support/connect/lib/connect/utils"").uid</code></p>

<p><code>var express = require(""express"")</code> is OK!</p>

<p><code>var uid = require(""express"").uid</code> is undefined</p>

<p>I installed express with npm.</p>

<p>How should I require the uid?</p>
",<node.js><require><express><npm>,0.0,0,0,1
9,9,5291027,1,5298643,80805,3.0,0.0,0.0,0.0,2011-03-13T17:20:32.353,15.0,73636.0,Node.js - cannot find module,"<p>I'm using <a href=""https://github.com/robrighter/node-boilerplate/"" rel=""nofollow noreferrer"">Node Boilerplate</a> and it all worked fine until I decided create another project on top of it (in another dir).</p>
<p>Now I have exactly the same code base (this project AS IS) in two different folders. I can run one of it without any problems but another one is failing with:</p>
<pre><code>% node app.js
node.js:116
        throw e; // process.nextTick error, or 'error' event on first tick
        ^
Error: Cannot find module 'connect/middleware/router'
    at Function._resolveFilename (module.js:299:11)
    at Function._load (module.js:245:25)
    at require (module.js:327:19)
    at Object.&lt;anonymous&gt; (/home/gotts/Sites/nodejs-uploadr/lib/express/lib/express/server.js:17:14)
    at Module._compile (module.js:383:26)
    at Object..js (module.js:389:10)
    at Module.load (module.js:315:31)
    at Function._load (module.js:276:12)
    at require (module.js:327:19)
    at Object.&lt;anonymous&gt; (/home/gotts/Sites/nodejs-uploadr/lib/express/lib/express/index.js:28:31)
</code></pre>
<p>There is a similar problem explained here - <a href=""https://github.com/visionmedia/express/issues/535"" rel=""nofollow noreferrer"">https://github.com/visionmedia/express/issues/535</a> which says that the problem is in the incompatible version of connect/express.</p>
<p>But how is this possible? The source code is exactly the same in two folders and it works fine in one copy and fails in another?</p>
",<node.js><express><npm><node.js-connect>,1.0,0,0,1
10,10,5353311,1,5353446,137100,3.0,1.0,0.0,0.0,2011-03-18T14:20:59.280,1.0,467.0,"Express package still ""require""-able after npm uninstall?","<p><code>npm uninstall express</code> successfully uninstalls express, and when I <code>ls $NODE_PATH</code>, it isn't there anymore.</p>

<p>However, if I run <code>node</code> and <code>require('express')</code>, I get</p>

<pre><code>{ version: '1.0.0rc2',
  Server: { [Function: Server] super_: { [Function: Server] super_: [Object] } },
  createServer: [Function] }
</code></pre>

<p>Why does this still happen? </p>

<p>The reason I'm playing around with Express is because (apparently) it breaks with a certain version of Connect. Does anyone know what successful combination of Express and Connect will work ?</p>

<p>Thanks!</p>
",<javascript><node.js><express><npm><node.js-connect>,0.0,0,0,1
17,17,5919629,1,5930879,441659,14.0,6.0,0.0,0.0,2011-05-07T07:08:38.483,47.0,67851.0,Express module not found when installed with NPM,"<p>When I try to run the <code>app.js</code> file created by express, I get the following error:</p>

<pre><code>$ node app.js

node.js:134
        throw e; // process.nextTick error, or 'error' event on first tick
        ^
Error: Cannot find module 'express'
    at Function._resolveFilename (module.js:320:11)
</code></pre>

<p>When I type in <code>express --version</code> I get a return statement of <code>2.3.3</code>. I used npm to install express. I had to manually make npm using these instructions:</p>

<pre><code>git clone http://github.com/isaacs/npm.git
cd npm
sudo make install
</code></pre>

<p>The error is <code>Error: Cannot find module 'express'</code>.</p>

<p>Do I need to do something after installing npm and express in order to make express see the modules created by npm?</p>

<ul>
<li>My node is version: 0.4.6</li>
<li>My express is version: 2.3.3</li>
<li>My npm is version: 1.0.6</li>
</ul>

<p>Express is installed globally. I used the <code>-g</code> flag to install it.</p>

<hr>

<p><strong>Edit:</strong> When I try <code>""node -e require.paths""</code> I get:</p>

<pre><code>[ '/home/user/.node_modules',
  '/home/user/.node_libraries',
  '/usr/local/lib/node' ]
</code></pre>

<p>So, node isn't detecting the npm installation. How do I get node to detect the npm installation?</p>
",<javascript><node.js><express><npm>,1.0,0,0,1
25,25,6103121,1,6103311,109341,7.0,1.0,0.0,0.0,2011-05-23T21:14:33.280,27.0,38318.0,express command not found in bash after installing it with npm,"<p>just installed new ubuntu vm to test around with node
installed things in this order:</p>

<pre><code>node
mongodb-server
npm
express
mongoose
</code></pre>

<p>now, trying to create a new app i noticed express cannot be used in the shell.
<code>express -v</code>  returns
express: command not found</p>

<p>i installed npm like this</p>

<pre><code>curl http://npmjs.org/install.sh | sudo sh
</code></pre>

<p>and i installed express this way</p>

<pre><code>npm install express
</code></pre>

<p>any ideas?</p>
",<bash><node.js><express><npm>,0.0,0,0,1
30,30,6278969,1,9921140,431498,2.0,6.0,0.0,0.0,2011-06-08T12:52:02.637,3.0,6869.0,"NPM Cannot Work! ""Error: ECONNREFUSED, Could not contact DNS servers""","<p>When I type ""npm install express"",It show these tips.</p>

<pre><code>soasme@ubuntu:~/Desktop/nodeex$ npm install express
npm ERR! Error: ECONNREFUSED, Could not contact DNS servers
npm ERR!     at IOWatcher.callback (dns.js:74:15)
npm ERR! Report this *entire* log at:
npm ERR!     &lt;http://github.com/isaacs/npm/issues&gt;
npm ERR! or email it to:
npm ERR!     &lt;npm-@googlegroups.com&gt;
npm ERR! 
npm ERR! System Linux 2.6.38-8-generic
npm ERR! command ""node"" ""/usr/local/bin/npm"" ""install"" ""express""
npm ERR! 
npm ERR! Additional logging details can be found in:
npm ERR!     /home/soasme/Desktop/nodeex/npm-debug.log
npm not ok
</code></pre>

<p>Is there any thing can do help to it?
I was confused about the ""DNS server"". 
Is this means I cannot resolve the url of update?
The log file is written belows:</p>

<pre><code>info it worked if it ends with ok
verbose cli [ 'node', '/usr/local/bin/npm', 'install', 'express' ]
info using npm@1.0.9
info using node@v0.4.8
verbose config file /home/soasme/.npmrc
verbose config file /usr/local/etc/npmrc
verbose into /home/soasme/Desktop/nodeex [ 'express' ]
verbose cache add [ 'express', null ]
info addNamed [ 'express', '' ]
verbose addNamed [ null, '' ]
verbose GET express
verbose raw, before any munging express
verbose url resolving [ 'http://registry.npmjs.org/', './express' ]
verbose url resolved http://registry.npmjs.org/express
verbose url parsed { protocol: 'http:',
verbose url parsed   slashes: true,
verbose url parsed   host: 'registry.npmjs.org',
verbose url parsed   hostname: 'registry.npmjs.org',
verbose url parsed   href: 'http://registry.npmjs.org/express',
verbose url parsed   pathname: '/express' }
ERR! Error: ECONNREFUSED, Could not contact DNS servers
ERR!     at IOWatcher.callback (dns.js:74:15)
ERR! Report this *entire* log at:
ERR!     &lt;http://github.com/isaacs/npm/issues&gt;
ERR! or email it to:
ERR!     &lt;npm-@googlegroups.com&gt;
ERR! 
ERR! System Linux 2.6.38-8-generic
ERR! command ""node"" ""/usr/local/bin/npm"" ""install"" ""express""
verbose exit [ 11, true ]
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
65,65,7321071,1,7436242,515614,2.0,0.0,0.0,0.0,2011-09-06T13:53:39.977,4.0,948.0,Install Express-on-Railway JS error,"<p>I have this error when I try to install Express-on-Railway JS framework, please help:
<a href=""https://github.com/1602/express-on-railway"" rel=""nofollow"">https://github.com/1602/express-on-railway</a></p>

<pre><code>npm ERR! error installing railway@0.1.7-8 Error: Unsupported
npm ERR! error installing railway@0.1.7-8     at checkEngine (/usr/local/lib/node_modules/npm/lib/install.js:570:14)
npm ERR! error installing railway@0.1.7-8     at Array.0 (/usr/local/lib/node_modules/npm/node_modules/slide/lib/bind-actor.js:15:8)
npm ERR! error installing railway@0.1.7-8     at LOOP (/usr/local/lib/node_modules/npm/node_modules/slide/lib/chain.js:15:13)
npm ERR! error installing railway@0.1.7-8     at chain (/usr/local/lib/node_modules/npm/node_modules/slide/lib/chain.js:20:4)
npm ERR! error installing railway@0.1.7-8     at installOne_ (/usr/local/lib/node_modules/npm/lib/install.js:548:3)
npm ERR! error installing railway@0.1.7-8     at installOne (/usr/local/lib/node_modules/npm/lib/install.js:488:3)
npm ERR! error installing railway@0.1.7-8     at /usr/local/lib/node_modules/npm/lib/install.js:425:9
npm ERR! error installing railway@0.1.7-8     at /usr/local/lib/node_modules/npm/node_modules/slide/lib/async-map.js:54:35
npm ERR! error installing railway@0.1.7-8     at Array.forEach (native)
npm ERR! error installing railway@0.1.7-8     at /usr/local/lib/node_modules/npm/node_modules/slide/lib/async-map.js:54:11
npm ERR! Unsupported
npm ERR! Not compatible with your version of node/npm: express@2.4.6
npm ERR! Required: {""node"":""&gt;= 0.4.1 &lt; 0.5.0""}
npm ERR! Actual:   {""npm"":""1.0.22"",""node"":""v0.5.3-pre""}
npm ERR! 
npm ERR! System Linux 2.6.38-11-generic
npm ERR! command ""node"" ""/usr/local/bin/npm"" ""install"" ""railway"" ""-g""
npm ERR! cwd /home/gezope
npm ERR! node -v v0.5.3-pre
npm ERR! npm -v 1.0.22
...
npm not ok
</code></pre>

<p>Any help would be highly appreciated! Thanks</p>
",<node.js><express><npm>,0.0,0,0,1
72,72,7410060,1,7410117,80535,1.0,0.0,0.0,0.0,2011-09-14T00:36:59.713,3.0,5096.0,What's the best way to use TinyMCE in an express project?,"<p>I'm working on an express project that might need TinyMCE, what's the best way to use TinyMCE in an express project? Do I just follow the installation instructions, is there a special module or set of instructions I should follow? I've searched google, the tinymce forums, and here using the following search terms, nodejs,express,tinymce. Could someone please point me in the right direction? Thank you for your consideration.</p>
",<node.js><tinymce><express><npm>,0.0,0,0,1
99,99,8119027,1,8119993,131050,3.0,3.0,0.0,0.0,2011-11-14T08:35:34.150,1.0,5724.0,NPM - path to root of the application,"<p>I am developing a NPM package, which needs to require a module from the application root. Think of it as the package requiring a properties module, which is placed in the application root by the user. </p>

<p>How do I get the path to root of the application?</p>

<p><strong>UPDATE:</strong></p>

<p>To summarize what I am trying to do, express allows you to do something like this:</p>

<pre><code>app.use(express.router(myNPMModule.router));
</code></pre>

<p>The router function will get <code>app</code> as the parameter. The idea is to allow the users to specify the routes in a separate file, and they just need to follow certain conventions like putting their controllers in <code>/controllers</code> folder, and my module will be able to dynamically parse the path, and then invoke the correct method in the correct module. I have already got it working, but just realized that if I package it in NPM, I no longer have access to the path of the app, so I can't invoke a controller module's method dynamically.</p>
",<node.js><express><npm>,0.0,0,0,1
137,137,8678449,1,8980535,255240,4.0,0.0,0.0,0.0,2011-12-30T10:22:42.980,4.0,4088.0,deploy on heroku failed because npm version is not the latest,"<p>looks like heroku is using npm version 1.0.94</p>

<p>I have a dependency that require node 0.6.x, but npm 1.0.94 is 'based' on node 0.4.7</p>

<p>is there any workaround to solve this issue.</p>

<pre><code>Installing dependencies with npm 1.0.94
       npm ERR! Unsupported
       npm ERR! Not compatible with your version of node/npm: palette@0.0.1
       npm ERR! Required: {""node"":""0.6.x""}
       npm ERR! Actual:   {""npm"":""1.0.94"",""node"":""0.4.7""}
</code></pre>
",<node.js><heroku><express><npm>,0.0,0,0,1
138,138,8696556,1,8696815,151939,1.0,1.0,0.0,0.0,2012-01-02T00:36:06.590,0.0,227.0,Express 2.5.3 not working on Mac OS 10.6 (Snow Leopard),"<p>I've installed node, npm and express on my Mac OS 10.6.8 machine. Node has been installed and is under version v0.4.11. Npm has been installed and is under version 1.0.106. </p>

<p>Express has also been installed:</p>

<pre><code>express@2.5.3 /usr/lib/node_modules/express 
├── mkdirp@0.0.7
├── mime@1.2.4
├── qs@0.4.0
└── connect@1.8.5
</code></pre>

<p>However, I cannot use it, calling it on the command line gives me this error:</p>

<pre><code>$ /usr/bin/express -s -t jade

node.js:134
        throw e; // process.nextTick error, or 'error' event on first tick
        ^
TypeError: Object #&lt;Object&gt; has no method 'platform'
    at Object.&lt;anonymous&gt; (/usr/lib/node_modules/express/bin/express:34:25)
    at Module._compile (module.js:402:26)
    at Object..js (module.js:408:10)
    at Module.load (module.js:334:31)
    at Function._load (module.js:293:12)
    at Array.&lt;anonymous&gt; (module.js:421:10)
    at EventEmitter._tickCallback (node.js:126:26)
</code></pre>

<p>Could anyone give me a hint on what to do? Thanks!</p>
",<macos><node.js><express><npm>,1.0,0,0,1
149,149,8844708,1,0,1146734,4.0,1.0,0.0,0.0,2012-01-13T01:15:31.740,3.0,6262.0,NPM Install error,"<p>I'm trying to get my app to run locally. In an attempt to install NPM in the folder I am receiving an error when it hits to:</p>

<pre><code>npm ERR! error installing contextify@0.0.7
</code></pre>

<p>I have searched the web but all of the results turned up people getting errors get in Windows7. Im using OSX. I have XCode installed.</p>

<p>Below you will find the whole print out:</p>

<pre><code>gorteks$ npm install
npm http GET https://registry.npmjs.org/jquery
npm http 304 https://registry.npmjs.org/jquery
npm http GET https://registry.npmjs.org/jsdom
npm http GET https://registry.npmjs.org/htmlparser
npm http 304 https://registry.npmjs.org/htmlparser
npm WARN htmlparser@1.7.3 package.json: bugs['web'] should probably be bugs['url']
npm http 304 https://registry.npmjs.org/jsdom
npm http GET https://registry.npmjs.org/cssom
npm http GET https://registry.npmjs.org/contextify
npm http 304 https://registry.npmjs.org/cssom
npm http 304 https://registry.npmjs.org/contextify

&gt; contextify@0.0.7 preinstall /Users/gorteks/Sites/digidj-app/node_modules/jquery/node_modules/jsdom/node_modules/contextify
&gt; node-waf clean || (exit 0); node-waf configure build

Nothing to clean (project not configured)
Setting srcdir to                        : /Users/gorteks/Sites/digidj-   app/node_modules/jquery/node_modules/jsdom/node_modules/contextify 
Setting blddir to                        : /Users/gorteks/Sites/digidj-app/node_modules/jquery/node_modules/jsdom/node_modules/contextify/build 
Checking for program g++ or c++          : not found 
/Users/gorteks/Sites/digidj-  app/node_modules/jquery/node_modules/jsdom/node_modules/contextify/wscript:11: error: could   not configure a cxx compiler!
npm ERR! error installing contextify@0.0.7
npm ERR! error installing jsdom@0.2.10
npm ERR! error installing jquery@1.6.3
npm ERR! contextify@0.0.7 preinstall: `node-waf clean || (exit 0); node-waf configure build`
npm ERR! `sh ""-c"" ""node-waf clean || (exit 0); node-waf configure build""` failed with 1
npm ERR! 
npm ERR! Failed at the contextify@0.0.7 preinstall script.
npm ERR! This is most likely a problem with the contextify package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     node-waf clean || (exit 0); node-waf configure build
npm ERR! You can get their info via:
npm ERR!     npm owner ls contextify
npm ERR! There is likely additional logging output above.
npm ERR! 
npm ERR! System Darwin 10.8.0
npm ERR! command ""node"" ""/usr/local/bin/npm"" ""install""
npm ERR! cwd /Users/gorteks/Sites/digidj-app
npm ERR! node -v v0.6.7
npm ERR! npm -v 1.1.0-beta-10
npm ERR! code ELIFECYCLE
npm ERR! message contextify@0.0.7 preinstall: `node-waf clean || (exit 0); node-waf       configure build`
npm ERR! message `sh ""-c"" ""node-waf clean || (exit 0); node-waf configure build""` failed   with 1
npm ERR! 
npm ERR! Additional logging details can be found in:
npm ERR!     /Users/gorteks/Sites/digidj-app/npm-debug.log
npm not ok
</code></pre>

<p>Thanks for all your help guys!</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
171,171,9082088,1,0,1171382,1.0,2.0,0.0,0.0,2012-01-31T15:24:20.077,1.0,1017.0,installing express on windows issues,"<p>I am trying to install express framework for node on my Windows system, it always stops with an error: </p>

<blockquote>
  <p>info it worked if it ends with ok<br>
  verbose cli [ 'C:\Program Files (x86)\nodejs\\node.exe',<br>
  verbose cli   'C:\Program Files
  (x86)\nodejs\node_modules\npm\bin\npm-cli.js',        verbose cli
  'install',               verbose cli   '-g',             verbose cli<br>
  'express' ]            info using npm@1.1.0-3            info using
  node@v0.6.9             verbose config file C:\Users\kpatil.npmrc<br>
  verbose config file C:\Program Files (x86)\nodejs\etc\npmrc<br>
  verbose config file C:\Program Files
  (x86)\nodejs\node_modules\npm\npmrc             verbose mkdir done:
  C:\Users\kpatil\AppData\Roaming\npm 755               verbose cache
  add [ 'express', null ]                  silly cache add: name, spec,
  args [ undefined, 'express', [ 'express', null ] ]<br>
  verbose parsed url { pathname: 'express', path: 'express', href:
  'express' }              verbose addNamed [ 'express', '' ]<br>
  verbose addNamed [ null, '' ]                silly name, range,
  hasData [ 'express', '', false ]              verbose raw, before any
  munging express               verbose url resolving [
  'http://registry.npmjs.org/', './express' ]<br>
  verbose url resolved <a href=""http://registry.npmjs.org/express"" rel=""nofollow"">http://registry.npmjs.org/express</a>       http GET
  <a href=""http://registry.npmjs.org/express"" rel=""nofollow"">http://registry.npmjs.org/express</a>          ERR! Error: failed to fetch
  from registry: express            ERR!     at C:\Program Files
  (x86)\nodejs\node_modules\npm\lib\utils\npm-registry-client\get.js:139:12
  ERR!     at cb (C:\Program Files
  (x86)\nodejs\node_modules\npm\lib\utils\npm-registry-client\request.js:32:9)
  ERR!     at Request._callback (C:\Program Files
  (x86)\nodejs\node_modules\npm\lib\utils\npm-registry-client\request.js:137:18)
  ERR!     at Request.callback (C:\Program Files
  (x86)\nodejs\node_modules\npm\node_modules\request\main.js:109:22)<br>
  ERR!     at Request. (C:\Program Files
  (x86)\nodejs\node_modules\npm\node_modules\request\main.js:198:58)<br>
  ERR!     at Request.emit (events.js:88:20)               ERR!     at
  ClientRequest. (C:\Program Files
  (x86)\nodejs\node_modules\npm\node_modules\request\main.js:195:10)<br>
  ERR!     at ClientRequest.emit (events.js:67:17)                 ERR! 
  at Socket. (http.js:1134:11)                      ERR!<br>
  at Socket.emit (events.js:67:17)</p>
</blockquote>

<p>Any help appreciated...</p>
",<node.js><express><npm>,0.0,0,0,1
203,203,9484829,1,10033249,800737,29.0,9.0,0.0,0.0,2012-02-28T15:33:44.550,202.0,717290.0,npm can't find package.json,"<p>I'm trying to install the dependencies of some example: npm's <code>express 2.5.8</code> that I've downloaded, but all of the apps throw the same error:</p>

<pre><code>c:\node\stylus&gt;npm install -d
npm info it worked if it ends with ok
npm info using npm@1.1.1
npm info using node@v0.6.11
npm ERR! Couldn't read dependencies.

npm ERR! Error: ENOENT, no such file or directory 'c:\node\stylus\package.json'
npm ERR! You may report this log at:
npm ERR!     &lt;http://github.com/isaacs/npm/issues&gt;
npm ERR! or email it to:
npm ERR!     &lt;npm-@googlegroups.com&gt;
npm ERR!
npm ERR! System Windows_NT 6.1.7600
npm ERR! command ""C:\\Program Files (x86)\\nodejs\\\\node.exe"" ""C:\\Program File
s (x86)\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""install"" ""-d""
npm ERR! cwd c:\node\stylus
npm ERR! node -v v0.6.11
npm ERR! npm -v 1.1.1
npm ERR! path c:\node\stylus\package.json
npm ERR! code ENOENT
npm ERR! message ENOENT, no such file or directory 'c:\node\stylus\package.json'

npm ERR! errno {}
npm ERR!
npm ERR! Additional logging details can be found in:
npm ERR!     c:\node\stylus\npm-debug.log
npm not ok
</code></pre>

<p>The blockage appears to be: </p>

<blockquote>
  <p>no such file or directory 'c:\node\stylus\package.json</p>
</blockquote>

<p>Did I miss a step that creates the <code>package.json</code> ?</p>

<p>I'm running:</p>

<ul>
<li>Windows 7 64 bit</li>
<li>npm 1.1.1</li>
<li>node 6.11</li>
<li>express 2.5.8</li>
</ul>
",<node.js><express><npm>,0.0,0,0,1
224,224,9679730,1,27365640,54083,1.0,0.0,0.0,0.0,2012-03-13T07:12:09.867,6.0,1315.0,npm nested dependency management,"<p>I have a question about best practices in managing npm nested dependencies.</p>

<p>Let me explain my situation, and please tell me what I'm doing wrong, or what's the best way to approach this.</p>

<p>I'm running an app using express.js and express-mongostore in a nodeenv. Because of nodeenv, I'm npm-ing everything globally so they all go under the nenv/lib/node_modules folder. The thing is, I'm trying to develop off bleeding edge express.js while express-mongostore hasn't been updated in a while. After installing both modules, I get this folder structure.</p>

<pre><code>nodeenv / lib / node_modules / express / node_modules / connect / ..
                             /
                             / connect-mongodb / node_modules/ connect / ...
</code></pre>

<p>So what ends up happening is that I have 2 different versions of connect. </p>

<p>I got burnt because the cookie generated by the mongodb store and the one generated by the session middleware is different because they point to 2 different connect utils implementation (one calls the store which calls utils and the other calls utils directly. Unfortunately, they point to different files during require resolution). The actual difference here is that they sign the cookie using different algorithms. For a while, my sessions were invalidating themselves every page load and it took me a long while to debug down to this level.</p>

<p>I was reading on the Internets and it seems like this is supposed to be the npm way and a good thing. The issue here is that since express relies on a bunch of utils in connect and connect-mongodb inherits some of the same classes in connect, having them be different repos is problematic.</p>

<p>I currently still have 2 versions of connect and I patched one to be like the other. It is obvious that this is not a sustainable solution. How should I proceed and approach dependency management in this case?</p>

<p>Thanks in advance!</p>
",<node.js><express><npm>,0.0,0,0,1
250,250,10075969,1,10076059,498867,2.0,0.0,0.0,0.0,2012-04-09T16:01:30.557,0.0,2063.0,Problems installing express using npm.,"<p>Im trying to install express using npm, running this code:</p>

<p>npm install express mongoose jade less expresso</p>

<p>But i keep getting this error,</p>

<pre><code>&gt; make deps/jscoverage/node-jscoverage

sh: make: command not found

npm ERR! expresso@0.9.2 preinstall: `make deps/jscoverage/node-jscoverage`
npm ERR! `sh ""-c"" ""make deps/jscoverage/node-jscoverage""` failed with 127
npm ERR! Failed at the expresso@0.9.2 preinstall script.
npm ERR! This is most likely a problem with the expresso package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     make deps/jscoverage/node-jscoverage
</code></pre>

<p>I searched a lot and can't seem to find the answer. Cheers. </p>
",<node.js><express><npm>,0.0,0,0,1
286,286,10733982,1,0,1059357,1.0,1.0,0.0,0.0,2012-05-24T08:42:03.960,5.0,864.0,Managing client side scripts with npm,"<p>Is it possible with NPM to manage the same dependencies for backend and the client-side scripts? I'm building a node.js application with express. When installing all dependencies, those scripts are installed into the node_modules folder. Is it possible to somehow tell express that it should look in those folder for javascript files for the client? E.g. when the client requests the file underscore.js, it should return the file from the installed module. Or is it possible to hook in to the npm installation procedure so that some files can be automatically copied to the public folder of the application?</p>
",<node.js><express><npm>,0.0,0,0,1
295,295,10921788,1,0,0,2.0,0.0,0.0,0.0,2012-06-06T20:32:02.660,1.0,1835.0,nodemailer nodejs: sendmail exited with 127,"<p>I would like to send an email from my server (kimsufi), to confirm registration.</p>

<p>So, i use <strong>nodemailer</strong> <a href=""https://github.com/andris9/Nodemailer"" rel=""nofollow"">https://github.com/andris9/Nodemailer</a></p>

<p>I have this error:</p>

<pre><code>Error occured
Sendmail exited with 127
</code></pre>

<p>What's mean ?</p>

<p>Thanks !</p>
",<javascript><node.js><email><express><npm>,0.0,0,0,1
297,297,10933809,1,11036794,277767,2.0,0.0,0.0,0.0,2012-06-07T14:26:10.497,0.0,274.0,Access bundled node.js module,"<p>I wrote a small express.js based web app. I serve a manifest.webapp but express.js doesn't send the correct mime type. But because express.js bundles the mime module <code>require(""mime"").define(...)</code> has no effect. It defines the mime type for the wrong module!</p>

<p>Is there a way to access the mime module that is bundled with express.js? Or is there a way to tell npm (and nodejitsu) to not use the bundled modules of express.js?</p>
",<node.js><express><npm>,0.0,0,0,1
325,325,11379919,1,0,1401549,18.0,2.0,0.0,0.0,2012-07-08T01:06:16.010,34.0,57671.0,"NPM, cannot find 'graceful-fs', no matter what I do","<p>This is what I get when I try to install express for node.js</p>

<pre><code>npm install express

module.js:340
    throw err;
          ^
Error: Cannot find module 'graceful-fs'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.&lt;anonymous&gt; (/usr/share/npm/lib/utils/ini.js:32:10)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)
</code></pre>

<p>I even tried others and still got the same error. I did some digging and i did find 'gracefui-fs' on my server.</p>

<p>I am running ubuntu 12.04 LTS on an amazon ec2 server. Node installed with no errors, and npm still didn't work. I also un installed and re installed npm using </p>

<pre><code>apt-get
</code></pre>

<p>as well as from source. During installation I received no errors either.</p>
",<node.js><express><npm>,1.0,0,0,1
342,342,11660879,1,11660927,581135,1.0,0.0,0.0,0.0,2012-07-26T00:54:28.603,1.0,951.0,express.js trouble with connect modules,"<p>I am unable to use express.js submodules and I think I'm missing something basic vis a vis npm. I'm trying to follow <a href=""http://vimeo.com/17842590"" rel=""nofollow"">this tutorial</a> to build a simple authentication system.</p>

<p>Path to express in app dir:</p>

<pre><code>./node_modules/express/lib/express.js
</code></pre>

<p>My app:</p>

<pre><code>var express = require('express');
var app = express.createServer();
app.use(express.bodyDecoder()); // problems happen here
</code></pre>

<p>and here's what happens:</p>

<pre><code>meeeeee$ node app.js 

node.js:201
        throw e; // process.nextTick error, or 'error' event on first tick
              ^
TypeError: Object #&lt;Object&gt; has no method 'bodyDecoder'
    at Object.&lt;anonymous&gt; (/Users/nflacco/Projects/santorinillc/js/auth-demo/app.js:3:17)
    at Module._compile (module.js:441:26)
    at Object..js (module.js:459:10)
    at Module.load (module.js:348:31)
    at Function._load (module.js:308:12)
    at Array.0 (module.js:479:10)
    at EventEmitter._tickCallback (node.js:192:40)
</code></pre>

<p>Also for reference, my package.json file:</p>

<pre><code>{
    ""name"" : ""my dirty little app"",
    ""version"" : ""0.0.1"",
    ""dependencies"" : 
    {
        ""express"" : ""2.5.9"",
        ""connect"" : ""1.8.7"",
        ""optimist"" : ""0.3.4""
    }
}
</code></pre>
",<node.js><express><connect><npm>,1.0,0,0,1
351,351,11715486,1,11715748,608209,1.0,0.0,0.0,0.0,2012-07-30T04:42:16.467,3.0,3425.0,Node.js - Why does my project says can't find module when it is installed globally,"<p>I installed express globally using the command ""npm install -g express"". I verified express is present in my /usr/local/bin/"" directory.</p>

<p>However every time i create a new project and execute it says ""Can't find module express"".</p>

<p>When i install express locally using the command ""npm install express"" it works. Is this correct ?</p>
",<node.js><express><npm>,0.0,0,0,1
352,352,11716421,1,11716667,1320892,2.0,0.0,0.0,0.0,2012-07-30T06:36:52.073,195.0,129387.0,"Difference between `npm start` & `node app.js`, when starting app?","<p>I have installed an application using the command <code>express new 'filename'</code>.  I have just learned that you can start an application using:</p>

<pre><code>npm start
</code></pre>

<p>Thus far I have used:</p>

<pre><code>node app.js
</code></pre>

<p>to start my server. Anyone know what the difference is between the two? Thanks.</p>
",<node.js><express><npm>,0.0,0,0,1
419,419,12754604,1,12754849,1701181,3.0,0.0,0.0,0.0,2012-10-05T22:00:04.867,9.0,3624.0,Sharing a Mongoose instance between multiple NPM packages,"<p>In an attempt to modularize a large existing Node+Express+Mongoose
application into multiple mountable apps, each developed as a
separate NPM package, we're wondering whether sharing a single
Mongoose instance between them is a good idea?</p>

<p>Let's say we have a suite of NPM packages each containing client-side assets,
Mongoose models, and a REST-API implemented with Express. They do share
a few common traits but are essentially to be considered separate
reusable artefacts. A host application, also Express-based, mounts these
under various root URIs:</p>

<pre><code>var discussions = require('discussions'),
    tickets     = require('tickets'),
    events      = require('events'),
    express     = require('express'),
    app         = express();

var environment = { ...see below... };

...

app.use('/events-api', events(environment));
app.use('/tickets-api', tickets(environment));
app.use('/discussions-api', discussions(environment));
</code></pre>

<p>Now, since the <code>events</code>, <code>tickets</code> and <code>discussions</code> apps (separate NPM packages
pulled in via the host <code>package.json</code>) use Mongoose, as do the
host application itself, we figured we would pass in the host Mongoose instance
through some kind of <code>environment</code> object that also include other
stuff that the host wants to share with the mounted apps.</p>

<p>Do you see any obvious flaws with this approach? The mounted apps
in this case would <strong>not</strong> specify Mongoose as a dependency in their
respective <code>package.json</code>, and they would <strong>not</strong> <code>require('mongoose')</code>
as normally done but instead get the Mongoose instance from the host
which is responsible for connecting it to MongoDB.</p>

<p>If this is a bad idea and you suggest each sub-app declare a dependency
towards Mongoose on their own, each NPM package would get their own
copy of Mongoose and would each have to connect to MongoDB, right?</p>

<p>Some background info:</p>

<ul>
<li>We really do want to include the apps in a host application, running
in a single process, rather that having multiple Node instances. The
host contains middleware for authentication and other things.</li>
<li>We do want to have the apps as separately developed NPM packages included
as versioned dependencies of the various host applications that we build,
rather than just copying their source to a host application.</li>
<li>We realize that reusing the same Mongoose instance between multiple
mounted apps will have them share the same model namespace.</li>
</ul>

<p><strong>Edit:</strong> To clarify the package structure after all has been <code>npm install</code>ed:</p>

<pre><code>host/
  assets/
  models/
  routes/
  node_modules/
    express/ ...
    mongoose/ ...
    events/
      assets/ ...
      models/ ...
      routes/ ...
    tickets/
      assets/ ...
      models/ ...
      routes/ ...
    discussions/
      assets/ ...
      models/ ...
      routes/ ...
</code></pre>

<p>That is, the <code>events</code>, <code>tickets</code>, and <code>discussions</code> apps do not include
Mongoose (or Express) of their own but are designed to rely on an always-present
host application that suppliesd those dependencies.</p>

<p>We're assuming here that an NPM package like <code>tickets</code> cannot simply
<code>require</code> stuff from the parent, right?</p>
",<node.js><express><mongoose><npm>,0.0,0,0,1
427,427,12894585,1,12894799,860675,1.0,0.0,0.0,0.0,2012-10-15T11:23:26.687,0.0,332.0,Running npm command from expressjs?,"<p>Can i run something like: <code>npm install passport</code> from expressjs itself?</p>

<p>I want to check if i'm using a non installed module and install it before running the application.</p>
",<npm><express><node-modules>,0.0,0,0,1
437,437,12998058,1,13025125,214949,1.0,3.0,0.0,0.0,2012-10-21T13:04:37.833,1.0,5011.0,express Error: Cannot find module '../..',"<p>I'm a beginer with node.js.
I installed node on Ubuntu 12.04 and it works fine for simple simple apps.
I also installed express using:</p>

<pre><code>npm install -g express
</code></pre>

<p>I believe the installation worked fine since I get no errors but right now I want to run one of their apps from the examples (the mvc one) and I get the following error:</p>

<pre><code>module.js:340
    throw err;
          ^
Error: Cannot find module '../..'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.&lt;anonymous&gt; (/home/andreii/Desktop/node/mvc/index.js:2:15)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.runMain (module.js:492:10)
</code></pre>

<p>Any ideas about how can I solve this problem?
Thanks a lot guys!</p>
",<javascript><node.js><express><npm>,1.0,0,0,1
521,521,14097237,1,14314185,1530845,1.0,3.0,0.0,0.0,2012-12-31T03:53:32.553,4.0,1938.0,npm installation issues,"<p>I have installed express, fs and couple of packages.
when I do </p>

<pre><code>npm ls
</code></pre>

<p>I am getting the following Error:</p>

<pre><code>â   âââ mime@1.2.6
âââ fs@0.0.0 extraneous
âââ node-uuid@1.4.0

npm ERR! extraneous: fs@0.0.0 /home/user123/trail/node_modules/fs
npm ERR! extraneous: express@3.0.5 /home/user123/trail/node_modules/express
npm ERR! not ok code 0
</code></pre>

<p>I am not sure how to get this ERR out?
I am able to run my sample application using the azure and express.
not sure if it is taking from sudo npm ? if so how.
I want to know when will it take from sudo npm list (global)? and when from npm list (locally).</p>

<pre><code>sudo npm ls
</code></pre>

<p>there are no Errors</p>
",<express><npm>,0.0,0,0,1
545,545,14333272,1,0,6629,4.0,1.0,0.0,0.0,2013-01-15T07:53:17.560,30.0,64034.0,Node Mysql Cannot Enqueue a query after calling quit,"<p>where do i close the mysql connection?</p>

<p>I need to run queries in sequence.  I am writing code that looks like this at present:</p>

<pre><code>var sqlFindMobile = ""select * from user_mobiles where mobile=?"";
var sqlNewUser = ""insert into users (password) values (?)"";
//var sqlUserId = ""select last_insert_id() as user_id"";
var sqlNewMobile = ""insert into user_mobiles (user_id, mobile) values (?,?)"";
connection.connect(function(err){});
var query = connection.query(sqlFindMobile, [req.body.mobile], function(err, results) {
    if(err) throw err;
    console.log(""mobile query"");
    if(results.length==0) {
        var query = connection.query(sqlNewUser, [req.body.password], function(err, results) {
            if(err) throw err;
            console.log(""added user"");
            var user_id = results.insertId;
            var query = connection.query(sqlNewMobile, [user_id, req.body.mobile], function(err, results) {
                if(err) throw err;
                console.log(""added mobile"");
                    //connection.end();
                });
        });
    }
});
//connection.end();
</code></pre>

<p>(I am a beginner with node, npm-express and npm-mysql.  I have tried searching SO for ""express mysql cannot enqueue"" to find related questions and have not found them.)</p>
",<mysql><node.js><express><npm>,0.0,0,0,1
548,548,14371174,1,20336502,207795,6.0,2.0,0.0,0.0,2013-01-17T02:13:51.303,13.0,5830.0,Speed up deployment on Heroku,"<p>Heroku is great.  But every time I deploy, Heroku seems to like to redownload and rebuild all the packages.  With <code>socket.io</code> and <code>mailparser</code> this is taking around 3 minutes.</p>

<p>Is there a way to speed up the deployment process?  Is there a way to tell Heroku that it can cache these items?  Or can I upload prebuilt <code>node_modules</code>?</p>
",<node.js><heroku><express><npm>,0.0,0,0,1
564,564,14525423,1,14526184,859221,2.0,0.0,0.0,0.0,2013-01-25T15:58:20.507,1.0,7190.0,can not find module express --on windows,"<p>I use ""npm install -g  express"" on windows console.but when I try to ""node app.js"", it shows me the error""can not find module express"",I had set the environment variable""NODE_PATH"",but nothing happen  ,I need your help,Thank you!</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
585,585,14767940,1,0,1826583,3.0,1.0,0.0,0.0,2013-02-08T07:48:39.143,1.0,678.0,I have node JS error for date function what someting wrong?,"<p>I have some error about new date(); i use node js and plug-in express npm i build variable date but something wrong compile is error </p>

<p>this is my code .js</p>

<pre><code>     var update_time = new Date();
     update_time.formatDate(""y/m/d"");
</code></pre>

<p>And i run node this is error </p>

<pre><code>/home/kingdark/Repos/api/epg/node_modules/xml2js/lib/xml2js.js:216
          throw ex;
                ^
TypeError: Object Fri Feb 08 2013 14:33:09 GMT+0700 (ICT) has no method 'formatDate'
    at /home/kingdark/Repos/api/epg/src/sync/epg.js:24:22
    at Parser.exports.Parser.Parser.parseString (/home/kingdark/Repos/api/epg/node_modules/xml2js/lib/xml2js.js:199:18)
    at Parser.EventEmitter.emit (events.js:96:17)
    at Object.exports.Parser.Parser.reset.saxParser.onclosetag (/home/kingdark/Repos/api/epg/node_modules/xml2js/lib/xml2js.js:183:24)
    at emit (/home/kingdark/Repos/api/epg/node_modules/xml2js/node_modules/sax/lib/sax.js:589:33)
    at emitNode (/home/kingdark/Repos/api/epg/node_modules/xml2js/node_modules/sax/lib/sax.js:594:3)
    at closeTag (/home/kingdark/Repos/api/epg/node_modules/xml2js/node_modules/sax/lib/sax.js:834:5)
    at Object.write (/home/kingdark/Repos/api/epg/node_modules/xml2js/node_modules/sax/lib/sax.js:1253:29)
    at Parser.exports.Parser.Parser.parseString (/home/kingdark/Repos/api/epg/node_modules/xml2js/lib/xml2js.js:211:31)
    at Parser.__bind [as parseString] (/home/kingdark/Repos/api/epg/node_modules/xml2js/lib/xml2js.js:6:61)
    at /home/kingdark/Repos/api/epg/src/sync/epg.js:16:15
</code></pre>

<p>How to fix that maybe my syntax is wrong,sorry for my English skill.</p>
",<javascript><node.js><terminal><express><npm>,1.0,0,0,1
615,615,15063631,1,15309046,2101827,2.0,6.0,0.0,0.0,2013-02-25T09:19:36.160,0.0,924.0,How to implement ajax in node.js to achieve partial postback,"<p>I am using <a href=""/questions/tagged/node.js"" class=""post-tag"" title=""show questions tagged &#39;node.js&#39;"" rel=""tag"">node.js</a> (express framework and hbs engine) and <a href=""/questions/tagged/mongodb"" class=""post-tag"" title=""show questions tagged &#39;mongodb&#39;"" rel=""tag"">mongodb</a> to develop an application.</p>

<p>I want to implement an ajax call to  to page for partial post back.</p>
",<node.js><mongodb><express><mongoose><npm>,0.0,0,0,1
622,622,15139848,1,0,888751,1.0,1.0,0.0,0.0,2013-02-28T15:52:41.100,1.0,388.0,Building front-end files into node.js Express project on start,"<p>Right now I have one Git repository for my whole web stack.  I have the static files - the HTML files, JS libraries and Backbone.js app - being served from a directory, like, /project/static/js.  I'm using Express's static file loading and pointing it at /project/static.  </p>

<p>What I'd like to do is the break the project up into front end and back end repos, and when the Express server starts it loads the front end in and serves the static files.  What's the best way to do this?  I was thinking that I could put the front end in a Node module and have it installed with NPM from Github (or local via npm link) and then somehow reference the static files from that Node module.  I've heard of tools like Grunt.js and I've read about using require.js with Node, but what's the right way to do this?</p>
",<node.js><backbone.js><express><npm>,0.0,0,0,1
629,629,15227069,1,0,1045221,2.0,5.0,0.0,0.0,2013-03-05T15:02:55.633,0.0,1005.0,Unable to install Express using npm in Ubuntu 11.10,"<p>I am trying to install express on my node installation using npm. I am doing a local installation. I am using Ubuntu 11.10 in my office environment (i.e. other than a few well known ports everything else would be blocked). I am invoking ""npm install"" from package.json as a user (not 'sudo' ing). The installation is failing with the following logs. </p>

<p>Comments/solution would be appreciated.</p>

<pre><code>    npm http GET http://registry.npmjs.org/express
    npm http GET http://registry.npmjs.org/express
    npm http GET http://registry.npmjs.org/express
    npm http GET http://registry.npmjs.org/range-parser/0.0.4
    npm http GET http://registry.npmjs.org/connect/2.7.2
    npm http GET http://registry.npmjs.org/mkdirp/0.3.3
    npm http GET http://registry.npmjs.org/commander/0.6.1
    npm http GET http://registry.npmjs.org/cookie/0.0.5
    npm http GET http://registry.npmjs.org/buffer-crc32/0.1.1
    npm http GET http://registry.npmjs.org/send/0.1.0
    npm http GET http://registry.npmjs.org/cookie-signature/0.0.1
    npm http GET http://registry.npmjs.org/methods/0.0.1
    npm http GET http://registry.npmjs.org/fresh/0.1.0
    npm http GET http://registry.npmjs.org/debug
    npm http GET http://registry.npmjs.org/connect/2.7.2
    npm http GET http://registry.npmjs.org/range-parser/0.0.4
    npm http GET http://registry.npmjs.org/cookie/0.0.5
    npm http GET http://registry.npmjs.org/commander/0.6.1
    npm http GET http://registry.npmjs.org/mkdirp/0.3.3
    npm http GET http://registry.npmjs.org/send/0.1.0
    npm http GET http://registry.npmjs.org/buffer-crc32/0.1.1
    npm http GET http://registry.npmjs.org/fresh/0.1.0
    npm http GET http://registry.npmjs.org/cookie-signature/0.0.1
    npm http GET http://registry.npmjs.org/methods/0.0.1
    npm http GET http://registry.npmjs.org/debug
    npm http GET http://registry.npmjs.org/connect/2.7.2
    npm http GET http://registry.npmjs.org/range-parser/0.0.4
    npm http GET http://registry.npmjs.org/mkdirp/0.3.3
    npm http GET http://registry.npmjs.org/commander/0.6.1
    npm http GET http://registry.npmjs.org/cookie/0.0.5
    npm http GET http://registry.npmjs.org/buffer-crc32/0.1.1
    npm http GET http://registry.npmjs.org/send/0.1.0
    npm http GET http://registry.npmjs.org/cookie-signature/0.0.1
    npm http GET http://registry.npmjs.org/methods/0.0.1
    npm http GET http://registry.npmjs.org/fresh/0.1.0
    npm http GET http://registry.npmjs.org/debug
    npm http GET http://registry.npmjs.org/commander/-/commander-0.6.1.tgz
    npm ERR! Error: Parse Error
    npm ERR!     at Socket.socketOnData (http.js:1485:20)
    npm ERR!     at TCP.onread (net.js:404:27)
    npm ERR! If you need help, you may report this log at:
    npm ERR!     &lt;http://github.com/isaacs/npm/issues&gt;
    npm ERR! or email it to:
    npm ERR!     &lt;npm-@googlegroups.com&gt;

    npm ERR! System Linux 3.0.0-20-generic
    npm ERR! command ""nodejs"" ""/usr/bin/npm"" ""install""
    npm ERR! cwd /home/nvbalaji/nodejs/hb
    npm ERR! node -v v0.8.21
    npm ERR! npm -v 1.2.12
    npm ERR! code HPE_INVALID_CONSTANT
    npm WARN package.json methods@0.0.1 No README.md file found!
    npm http GET http://registry.npmjs.org/fresh/-/fresh-0.1.0.tgz
    npm ERR! fetch failed http://registry.npmjs.org/commander/-/commander-0.6.1.tgz
    npm ERR! fetch failed http://registry.npmjs.org/fresh/-/fresh-0.1.0.tgz
    npm http GET http://registry.npmjs.org/commander/-/commander-0.6.1.tgz
    npm http GET http://registry.npmjs.org/fresh/-/fresh-0.1.0.tgz
    npm ERR! fetch failed http://registry.npmjs.org/fresh/-/fresh-0.1.0.tgz
    npm ERR! fetch failed http://registry.npmjs.org/commander/-/commander-0.6.1.tgz
    npm http GET http://registry.npmjs.org/fresh/-/fresh-0.1.0.tgz
    npm http GET http://registry.npmjs.org/commander/-/commander-0.6.1.tgz
    npm ERR! fetch failed http://registry.npmjs.org/commander/-/commander-0.6.1.tgz
    npm ERR! fetch failed http://registry.npmjs.org/fresh/-/fresh-0.1.0.tgz
    npm ERR! 
    npm ERR! Additional logging details can be found in:
    npm ERR!     /home/nvbalaji/nodejs/hb/npm-debug.log
    npm ERR! not ok code 0
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
648,648,15498155,1,15498293,2017520,2.0,0.0,0.0,0.0,2013-03-19T11:24:54.403,2.0,991.0,Express Installation Error,"<p>When I am trying to install Express via Node it shows me following error: </p>

<pre><code>D:\NodeJS\express&gt;npm install express
npm http GET https://registry.npmjs.org/express
npm http GET https://registry.npmjs.org/express
npm http GET https://registry.npmjs.org/express
npm ERR! Error: tunneling socket could not be established, cause=getaddrinfo ENOENT
npm ERR!     at ClientRequest.onError (C:\Program Files\nodejs\node_modules\npm\node_modules\request\tunnel.js:161:17)
npm ERR!     at ClientRequest.g (events.js:192:14)
npm ERR!     at ClientRequest.EventEmitter.emit (events.js:96:17)
npm ERR!     at CleartextStream.socketErrorListener (http.js:1394:9)
npm ERR!     at CleartextStream.EventEmitter.emit (events.js:96:17)
npm ERR!     at Socket.onerror (tls.js:1318:17)
npm ERR!     at Socket.EventEmitter.emit (events.js:126:20)
npm ERR!     at Socket.connect.require.lookup.addressType (net.js:699:16)
npm ERR!     at process.startup.processNextTick.process._tickCallback (node.js:244:9)
npm ERR! If you need help, you may report this log at:
npm ERR!     &lt;http://github.com/isaacs/npm/issues&gt;
npm ERR! or email it to:
npm ERR!     &lt;npm-@googlegroups.com&gt;

npm ERR! System Windows_NT 6.1.7601
npm ERR! command ""C:\\Program Files\\nodejs\\\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""install"" ""express""
npm ERR! cwd D:\NodeJS\express
npm ERR! node -v v0.8.17
npm ERR! npm -v 1.2.0
npm ERR! code ECONNRESET
npm ERR!
npm ERR! Additional logging details can be found in:
npm ERR!     D:\NodeJS\express\npm-debug.log
npm ERR! not ok code 0

D:\NodeJS\express&gt;
</code></pre>

<p>I have also tried with -g installation but it not working !
Please help me out here...</p>
",<node.js><express><npm>,0.0,0,0,1
666,666,15553898,1,0,2196146,1.0,5.0,0.0,0.0,2013-03-21T17:11:39.110,1.0,235.0,"npm installs modules into current directory, not only node_modules","<p>I tried to create new project and did like this.</p>

<pre>
> express newproject

> cd newproject

> ls
app.js          package.json    public/         routes/         views/

> npm install

// ...

> ls
app.js                  commander/              cookie-signature/       formidable/             methods/                node_modules/           public/                 routes/
buffer-crc32/           connect/                debug/                  fresh/                  mime/                   package.json            qs/                     send/
bytes/                  cookie/                 express/                jade/                   mkdirp/                 pause/                  range-parser/           views/
</pre>

<p>Why the files are downloaded into current directory? Is this a bug?</p>

<h2>Resolved</h2>

<p>I resolved this issue by fixing ~/.npmrc.</p>

<pre><code>- cache = .
+ cache = ~/.npm
</code></pre>

<p>It works!</p>
",<node.js><express><npm>,0.0,0,0,1
686,686,15728311,1,15728365,102147,4.0,0.0,0.0,0.0,2013-03-31T10:01:17.837,5.0,11836.0,Using Zurb's Foundation via NPM install,"<p>I'm fairly new to using nodejs and npm, so please excuse any naivety.  I want to use Foundation in my latest project and use npm to get it installed. This has worked and my <code>node_modules</code> now contains the foundation dir.</p>

<p>How do I now use Foundation in my markup?  I have a <code>/public</code> dir which contains my views, but surely it would be bad practise to point references to the node_modules dir?  Do I create a custom route in <code>app.js</code> to files within the foundation dir?  I'm not sure what the best practise is?</p>

<p>Help appreciated.</p>
",<node.js><express><npm><zurb-foundation>,0.0,0,0,1
687,687,15731132,1,0,768722,1.0,1.0,0.0,0.0,2013-03-31T15:39:35.193,0.0,1034.0,Module not found when requiring express,"<p>Server is Ubuntu 12.0.4 x64, Node.js version is v0.8.9 (built from source code). I have succesfully installed <code>express</code> by <code>sudo npm install -g express</code> then tried below sample code to verify <code>express</code> but get error saying ""<strong>Can not find module 'express'</strong>""</p>

<pre><code>var express = require('express');
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
702,702,15867713,1,0,2231582,0.0,2.0,0.0,0.0,2013-04-07T20:56:39.970,1.0,316.0,node.js error trying to install express,"<p>Im trying to install express through npm:</p>

<pre><code>npm install express -g
</code></pre>

<p>but it doesnt want to work:(</p>

<p>System is Windows XP</p>

<p>npm-debug.log says :</p>

<pre><code>3672 error Error: read ECONNRESET

3672 error     at errnoException (net.js:878:11)

3672 error     at TCP.onread (net.js:539:19)

3673 error If you need help, you may report this log at:

3673 error     &lt;http://github.com/isaacs/npm/issues&gt;

3673 error or email it to:

3673 error     &lt;npm-@googlegroups.com&gt;

3674 error System Windows_NT 5.1.2600

3675 error command ""E:\\nodejs\\\\node.exe"" ""E:\\nodejs\\node_modules\\npm\\bin\\npm-
cli.js"" ""install"" ""express"" ""-g""

3676 error cwd C:\DOCUME~1\Admin

3677 error node -v v0.10.2

3678 error npm -v 1.2.16

3679 error syscall read

3680 error code ECONNRESET

3681 error errno ECONNRESET

3682 verbose exit [ 1, true ]
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
769,769,16430055,1,0,0,1.0,1.0,0.0,0.0,2013-05-07T23:09:34.650,0.0,305.0,locally installing node npm packages,"<p>I am accessing internet under the wifi network(cyberoam) provided by our college. Whenever I am trying to install any npm package I am getting error like:</p>

<blockquote>
  <p>npm ERR! If you are behind a proxy, please make sure that the</p>
  
  <blockquote>
    <p>npm ERR! 'proxy' config is set properly.  See: 'npm help config'</p>
  </blockquote>
  
  <p>ECONNREFUSED</p>
</blockquote>

<p>I haven't set up any proxies on my Linux machine then also I'm getting error like this.
Is there any way to install those packages locally i.e how can I use them directly without installing them as npm packages.</p>
",<node.js><express><npm>,0.0,0,0,1
774,774,16479478,1,16480102,2369478,1.0,0.0,0.0,0.0,2013-05-10T09:47:11.343,0.0,987.0,How to remove every file of nodejs,"<p>I had a problem with the installation of express. Problem was I had two version installed in two different directory. I tried to uninstall the two versions deleting files of node and the directory node_module. Then I installed one more time node, but now npm doesn't work:</p>

<p>/usr/bin/npm: /usr/bin/nodejs: bad interpreter: No such file or directory</p>

<p>What I have to do? I only thinked that best way is remove every files of nodejs and reinstall it, but I don't know how.</p>
",<node.js><express><npm>,0.0,0,0,1
783,783,16530948,1,16534065,1985032,1.0,1.0,0.0,0.0,2013-05-13T20:53:22.100,1.0,21036.0,node package manager install error with Express,"<p>I'm attempting to install express using the node package manager and am getting the below error.  This is on Windows 7 x64 running cmd as administrator.  Any assistance?</p>

<pre><code>Microsoft Windows [Version 6.1.7601]
Copyright (c) 2009 Microsoft Corporation.  All rights reserved.

C:\&gt;npm install express -g
npm http GET https://registry.npmjs.org/express
npm http GET https://registry.npmjs.org/express
npm http GET https://registry.npmjs.org/express
npm ERR! Error: SELF_SIGNED_CERT_IN_CHAIN
npm ERR!     at SecurePair.&lt;anonymous&gt; (tls.js:1283:32)
npm ERR!     at SecurePair.EventEmitter.emit (events.js:92:17)
npm ERR!     at SecurePair.maybeInitFinished (tls.js:896:10)
npm ERR!     at CleartextStream.read [as _read] (tls.js:430:15)
npm ERR!     at CleartextStream.Readable.read (_stream_readable.js:304:10)
npm ERR!     at EncryptedStream.write [as _write] (tls.js:344:25)
npm ERR!     at doWrite (_stream_writable.js:211:10)
npm ERR!     at writeOrBuffer (_stream_writable.js:201:5)
npm ERR!     at EncryptedStream.Writable.write (_stream_writable.js:172:11)
npm ERR!     at write (_stream_readable.js:557:24)
npm ERR! If you need help, you may report this log at:
npm ERR!     &lt;http://github.com/isaacs/npm/issues&gt;
npm ERR! or email it to:
npm ERR!     &lt;npm-@googlegroups.com&gt;

npm ERR! System Windows_NT 6.1.7601
npm ERR! command ""C:\\Program Files\\nodejs\\\\node.exe"" ""C:\\Program Files\\nod
ejs\\node_modules\\npm\\bin\\npm-cli.js"" ""install"" ""express"" ""-g""
npm ERR! cwd C:\
npm ERR! node -v v0.10.5
npm ERR! npm -v 1.2.18
npm ERR!
npm ERR! Additional logging details can be found in:
npm ERR!     C:\npm-debug.log
npm ERR! not ok code 0
</code></pre>

<p>I can connect to <a href=""http://registry.npmjs.org/express"" rel=""nofollow"">http://registry.npmjs.org/express</a> in Chrome returning JSON</p>
",<windows><node.js><express><npm>,0.0,0,0,1
804,804,16782765,1,16785019,1471938,1.0,0.0,0.0,0.0,2013-05-28T01:58:46.383,0.0,2768.0,Nodejs cannot get /login,"<p>Hi i am following peepcode nodejs screencast, now i have an issues of rendering the login form. My code are as follow:</p>

<p>app.js</p>

<pre><code>/**
 * Module dependencies.
 */
require('coffee-script');
var express = require('express')


  , http = require('http')
  , path = require('path');

var app = express();

// all environments
app.set('port', process.env.PORT || 3000);
app.set('views', __dirname + '/views');
app.set('view engine', 'jade');
app.use(express.favicon());
app.use(express.logger('dev'));
app.use(express.bodyParser());
app.use(express.methodOverride());
app.use(app.router);
app.use(express.static(path.join(__dirname, 'public')));

// development only
if ('development' == app.get('env')) {
  app.use(express.errorHandler());
}

require('./apps/authentication/routes');

http.createServer(app).listen(app.get('port'), function(){
  console.log('Express server listening on port ' + app.get('port'));
});
</code></pre>

<p>and my i have a routes within authentication folder. The code as follow:</p>

<p>routes.coffee</p>

<pre><code>routes = (app) -&gt;

  app.get '/login', (req,res) -&gt;
    res.render ""views/login"", 
      title: 'Login'
      stylesheet: 'login'

module.exports = routes
</code></pre>

<p>The coffee script indentation all works fine, but i have an error when i navigate <code>localhost:3000/login</code> on browser. The error it display are <code>Cannot GET /login</code>. Where am i wrong?</p>
",<node.js><model-view-controller><express><npm>,0.0,0,0,1
809,809,16827858,1,16827990,851029,12.0,3.0,0.0,0.0,2013-05-30T04:18:43.547,918.0,665157.0,"Error ""npm WARN package.json: No repository field""","<p>I installed Express.js with the following command:</p>
<pre class=""lang-none prettyprint-override""><code>sudo npm install -g express
</code></pre>
<p>I get the following warnings:</p>
<pre class=""lang-none prettyprint-override""><code>npm WARN package.json range-parser@0.0.4 No repository field.
npm WARN package.json fresh@0.1.0 No repository field.
npm WARN package.json methods@0.0.1 No repository field.
npm WARN package.json methods@0.0.1 No readme data.
npm WARN package.json cookie-signature@1.0.1 No repository field.
npm WARN package.json send@0.1.0 No repository field.
npm WARN package.json pause@0.0.1 No repository field.
npm WARN package.json bytes@0.2.0 No repository field.
npm WARN package.json github-url-from-git@1.1.1 No repository field.
npm WARN package.json assert-plus@0.1.2 No repository field.
npm WARN package.json ctype@0.5.2 No repository field.
</code></pre>
<p>Why do I have the above warnings? Should I be worried?</p>
",<node.js><express><npm>,0.0,0,0,1
810,810,16827987,1,17314748,851029,34.0,2.0,0.0,0.0,2013-05-30T04:33:03.720,199.0,359934.0,ExpressJS - throw er Unhandled error event,"<p>I created expressjs application using the following commands:</p>

<pre><code>express -e folderName
npm install ejs --save
npm install
</code></pre>

<p>When I run the application with: <code>node app.js</code>, I have the following errors:</p>

<pre><code>events.js:72
    throw er; // Unhandled 'error' event
          ^
Error: listen EADDRINUSE
    at errnoException (net.js:884:11)
    at Server._listen2 (net.js:1022:14)
    at listen (net.js:1044:10)
    at Server.listen (net.js:1110:5)
    at Object.&lt;anonymous&gt; (folderName/app.js:33:24)
    at Module._compile (module.js:456:26)
    at Object.Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Function.Module.runMain (module.js:497:10)
</code></pre>

<p>How to fix it?</p>
",<node.js><express><npm>,1.0,0,0,1
821,821,16973604,1,16973938,1696153,2.0,0.0,0.0,0.0,2013-06-06T22:59:34.727,0.0,1902.0,npm Cannot find module tobi-cookie; npm unable to install Express; Node.js,"<p>I'm trying to install express, but I can't get passed this ""tobi-cookie"" error.</p>

<p>I <strong>installed Connect</strong> via <strong><em>npm</em></strong> a few days ago, and it said it was missing tobi-cookie.</p>

<p>I then <strong>installed tobi-cookie</strong>.</p>

<p>Today I was trying to <strong>install Express</strong>, and got this back:</p>

<pre><code>[root@dsusim:/home/GUIServer]$ npm info express version
npm http GET http://registry.npmjs.org/express
npm ERR! TypeError: Cannot read property 'url' of undefined
npm ERR!     at new Cookie (/usr/lib/node_modules/tobi-cookie/index.js:46:20)
npm ERR!     at addCookie (/usr/lib/node_modules/request/main.js:586:26)
npm ERR!     at Array.forEach (native)
npm ERR!     at ClientRequest.&lt;anonymous&gt; (/usr/lib/node_modules/request/main.js:590:89)
npm ERR!     at ClientRequest.g (events.js:175:14)
npm ERR!     at ClientRequest.EventEmitter.emit (events.js:95:17)
npm ERR!     at HTTPParser.parserOnIncomingClient [as onIncoming] (http.js:1628:21)
npm ERR!     at HTTPParser.parserOnHeadersComplete [as onHeadersComplete] (http.js:119:23)
npm ERR!     at Socket.socketOnData [as ondata] (http.js:1523:20)
npm ERR!     at TCP.onread (net.js:510:27)
npm ERR! If you need help, you may report this log at:
npm ERR!     &lt;http://github.com/isaacs/npm/issues&gt;
npm ERR! or email it to:
npm ERR!     &lt;npm-@googlegroups.com&gt;

npm ERR! System Linux 3.8.7-201.fc18.x86_64
npm ERR! command ""node"" ""/bin/npm"" ""info"" ""express"" ""version""
npm ERR! cwd /home/GUIServer
npm ERR! node -v v0.10.4
npm ERR! npm -v 1.2.14
npm ERR! type non_object_property_load
npm ERR! 
npm ERR! Additional logging details can be found in:
npm ERR!     /home/GUIServer/npm-debug.log
npm ERR! not ok code 0
</code></pre>

<p>I then proceeded to <strong>'npm uninstall' then 'npm rm' tobie-cookie.</strong></p>

<p>Now I'm in big trouble... can't install anything:</p>

<pre><code>[root@localhost:/usr/lib]$ npm info express version

module.js:340
    throw err;
          ^
Error: Cannot find module 'tobi-cookie'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at Object.&lt;anonymous&gt; (/usr/lib/node_modules/request/main.js:26:14)
    at Module._compile (module.js:456:26)
    at Object.Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:364:17)
</code></pre>

<p>.    </p>

<pre><code>[root@localhost:/usr/lib]$ npm install tobi-cookie

module.js:340
    throw err;
          ^
Error: Cannot find module 'tobi-cookie'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at Object.&lt;anonymous&gt; (/usr/lib/node_modules/request/main.js:26:14)
    at Module._compile (module.js:456:26)
    at Object.Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:364:17)
</code></pre>

<p>.    </p>

<pre><code>[root@localhost:/usr/lib]$ npm install tobi-cookie -g

module.js:340
    throw err;
          ^
Error: Cannot find module 'tobi-cookie'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at Object.&lt;anonymous&gt; (/usr/lib/node_modules/request/main.js:26:14)
    at Module._compile (module.js:456:26)
    at Object.Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:364:17)
</code></pre>

<p>.    </p>

<pre><code>[root@localhost:/usr/lib]$ ls /usr/lib/node_modules/
abbrev           config-chain      fresh              lru-cache               npmlog               read-installed     socket.io
ansi             connect           fstream            mime                    npm-registry-client  read-package-json  tar
archy            connect-master    fstream-ignore     minimatch               once                 request            uid-number
async            cookie            fstream-npm        mkdirp                  opener               retry              which
block-stream     cookie-signature  glob               mute-stream             osenv                rimraf
buffer-crc32     couch-login       graceful-fs        node-browserify-master  pause                semver
bytes            debug             inherits           node-gyp                promzard             send
chmodr           delayed-stream    ini                nopt                    proto-list           session.socket.io
chownr           form-data         init-package-json  npm                     qs                   sigmund
combined-stream  formidable        lockfile           npmconf                 read                 slide
</code></pre>

<p>.</p>

<pre><code>[root@localhost:/home/GUIServer]$ npm update

module.js:340
    throw err;
          ^
Error: Cannot find module 'tobi-cookie'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at Object.&lt;anonymous&gt; (/usr/lib/node_modules/request/main.js:26:14)
    at Module._compile (module.js:456:26)
    at Object.Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:364:17)
</code></pre>

<p>.</p>

<pre><code>[root@localhost:/home/GUIServer]$ locate tobi-cookie
/usr/lib/node_modules/tobi-cookie
/usr/lib/node_modules/request/node_modules/tobi-cookie
/usr/share/doc/nodejs-tobi-cookie-0.3.2
/usr/share/doc/nodejs-tobi-cookie-0.3.2/History.md
/usr/share/doc/nodejs-tobi-cookie-0.3.2/Readme.md
</code></pre>
",<node.js><express><npm>,1.0,0,0,1
843,843,17162308,1,17162384,966972,15.0,3.0,0.0,0.0,2013-06-18T06:52:23.453,171.0,432603.0,Node.js Error: Cannot find module express,"<p>I wrote my first node.js app, but it can't find express library:</p>

<pre><code>C:\ChatServer\Server&gt;node server.js

module.js:340
    throw err;
          ^
Error: Cannot find module 'express'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at Object.&lt;anonymous&gt; (C:\ChatServer\Server\server.js:6:9)
    at Object.&lt;anonymous&gt; (C:\ChatServer\Server\server.js:25:4)
    at Module._compile (module.js:456:26)
    at Object.Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
</code></pre>

<p>But express is intalled (with <code>-g</code> key):</p>

<pre><code>C:\ChatServer\Server&gt;npm install -g express
npm http GET https://registry.npmjs.org/express
npm http 304 https://registry.npmjs.org/express
npm http GET https://registry.npmjs.org/connect/2.7.11
npm http GET https://registry.npmjs.org/commander/0.6.1
npm http GET https://registry.npmjs.org/range-parser/0.0.4
npm http GET https://registry.npmjs.org/mkdirp/0.3.4
npm http GET https://registry.npmjs.org/cookie/0.1.0
npm http GET https://registry.npmjs.org/buffer-crc32/0.2.1
npm http GET https://registry.npmjs.org/fresh/0.1.0
npm http GET https://registry.npmjs.org/methods/0.0.1
npm http GET https://registry.npmjs.org/send/0.1.0
npm http GET https://registry.npmjs.org/cookie-signature/1.0.1
npm http GET https://registry.npmjs.org/debug
npm http 304 https://registry.npmjs.org/mkdirp/0.3.4
npm http 304 https://registry.npmjs.org/range-parser/0.0.4
npm http 304 https://registry.npmjs.org/cookie/0.1.0
npm http 304 https://registry.npmjs.org/connect/2.7.11
npm http 304 https://registry.npmjs.org/commander/0.6.1
npm WARN package.json range-parser@0.0.4 No repository field.
npm http 304 https://registry.npmjs.org/buffer-crc32/0.2.1
npm http 304 https://registry.npmjs.org/fresh/0.1.0
npm http 304 https://registry.npmjs.org/methods/0.0.1
npm http 304 https://registry.npmjs.org/send/0.1.0
npm http 304 https://registry.npmjs.org/cookie-signature/1.0.1
npm WARN package.json methods@0.0.1 No repository field.
npm WARN package.json methods@0.0.1 No readme data.
npm WARN package.json fresh@0.1.0 No repository field.
npm WARN package.json send@0.1.0 No repository field.
npm WARN package.json cookie-signature@1.0.1 No repository field.
npm http 304 https://registry.npmjs.org/debug
npm http GET https://registry.npmjs.org/mime/1.2.6
npm http GET https://registry.npmjs.org/qs/0.6.5
npm http GET https://registry.npmjs.org/send/0.1.1
npm http GET https://registry.npmjs.org/formidable/1.0.14
npm http GET https://registry.npmjs.org/cookie/0.0.5
npm http GET https://registry.npmjs.org/bytes/0.2.0
npm http GET https://registry.npmjs.org/pause/0.0.1
npm http 304 https://registry.npmjs.org/mime/1.2.6
npm http 304 https://registry.npmjs.org/bytes/0.2.0
npm WARN package.json bytes@0.2.0 No repository field.
npm http 304 https://registry.npmjs.org/pause/0.0.1
npm WARN package.json pause@0.0.1 No repository field.
npm http 304 https://registry.npmjs.org/formidable/1.0.14
npm http 304 https://registry.npmjs.org/qs/0.6.5
npm http 304 https://registry.npmjs.org/send/0.1.1
npm http 304 https://registry.npmjs.org/cookie/0.0.5
npm http GET https://registry.npmjs.org/mime
npm http 304 https://registry.npmjs.org/mime
C:\Users\Dmitry\AppData\Roaming\npm\express -&gt; C:\Users\Dmitry\AppData\Roaming\npm\node_modules\express\bin\express
npm WARN package.json policyfile@0.0.4 'repositories' (plural) Not supported.
npm WARN package.json Please pick one as the 'repository' field
npm WARN package.json assert-plus@0.1.2 No repository field.
npm WARN package.json ctype@0.5.2 No repository field.
express@3.2.6 C:\Users\Dmitry\AppData\Roaming\npm\node_modules\express
├── methods@0.0.1
├── fresh@0.1.0
├── range-parser@0.0.4
├── cookie-signature@1.0.1
├── buffer-crc32@0.2.1
├── cookie@0.1.0
├── debug@0.7.2
├── commander@0.6.1
├── mkdirp@0.3.4
├── send@0.1.0 (mime@1.2.6)
└── connect@2.7.11 (pause@0.0.1, qs@0.6.5, bytes@0.2.0, cookie@0.0.5, formidable@1.0.14, send@0.1.1)
</code></pre>

<p>Some information:</p>

<pre><code>C:\ChatServer\Server&gt;npm --version
1.2.24

C:\ChatServer\Server&gt;node --version
v0.10.9

C:\ChatServer\Server&gt;npm --version
1.2.24

C:\ChatServer\Server&gt;npm ls -g installed express
npm WARN package.json cookie-signature@1.0.1 No repository field.
npm WARN package.json fresh@0.1.0 No repository field.
npm WARN package.json methods@0.0.1 No repository field.
npm WARN package.json range-parser@0.0.4 No repository field.
npm WARN package.json send@0.1.0 No repository field.
npm WARN package.json policyfile@0.0.4 'repositories' (plural) Not supported.
npm WARN package.json Please pick one as the 'repository' field
npm WARN package.json bytes@0.2.0 No repository field.
npm WARN package.json pause@0.0.1 No repository field.
npm WARN package.json assert-plus@0.1.2 No repository field.
npm WARN package.json ctype@0.5.2 No repository field.
C:\Users\Dmitry\AppData\Roaming\npm
└── express@3.2.6


C:\ChatServer\Server&gt;npm ls installed express
C:\ChatServer\Server
└── (empty)
</code></pre>

<p>How can I solve this problem? (<strong>MUST</strong> I install it without <code>-g</code>?)</p>
",<node.js><express><npm>,1.0,0,0,1
857,857,17235322,1,17245417,0,1.0,2.0,0.0,0.0,2013-06-21T12:32:27.597,3.0,247.0,"Node.js, Express, Jade & Template in Package","<p>Is it possible to store templates for an express application in a separate package?</p>

<p>In my usecase I'd like to have a shared package containing global templages to give all apps the same look and feel even so they run as an independent entity on another port or even another server. Local content templates could live within the app, so all I'm looking for is a way to share that kind of code between multiple apps.</p>

<p>Going a step further I was thinking about skinning packages which can overwrite the default templates. Once installed in the ""template package"" it could change the look and feel of all applications using the core templates.</p>

<p>Is there a way of doing that without having to drop the comfort of express?</p>

<p>cu
Roman</p>
",<node.js><express><npm><templating>,0.0,0,0,1
883,883,17474687,1,17475923,1651859,2.0,1.0,0.0,0.0,2013-07-04T16:17:24.570,4.0,20665.0,NPM install giving error installing express,"<p>When I give command <code>npm install express</code> it throws following error. On ubuntu machine</p>

<pre><code>gaurav@gaurav-Mini-Monster:~/TestScripts$ sudo npm install -g express
npm ERR! error installing express@3.3.3 Error: Unsupported
npm ERR! error installing express@3.3.3     at checkEngine (/usr/local/lib/node_modules/npm/lib/install.js:493:14)
npm ERR! error installing express@3.3.3     at Array.0 (/usr/local/lib/node_modules/npm/node_modules/slide/lib/bind-actor.js:15:8)
npm ERR! error installing express@3.3.3     at LOOP (/usr/local/lib/node_modules/npm/node_modules/slide/lib/chain.js:15:13)
npm ERR! error installing express@3.3.3     at chain (/usr/local/lib/node_modules/npm/node_modules/slide/lib/chain.js:20:4)
npm ERR! error installing express@3.3.3     at installOne_ (/usr/local/lib/node_modules/npm/lib/install.js:470:3)
npm ERR! error installing express@3.3.3     at installOne (/usr/local/lib/node_modules/npm/lib/install.js:411:3)
npm ERR! error installing express@3.3.3     at /usr/local/lib/node_modules/npm/lib/install.js:347:9
npm ERR! error installing express@3.3.3     at /usr/local/lib/node_modules/npm/node_modules/slide/lib/async-map.js:54:35
npm ERR! error installing express@3.3.3     at Array.forEach (native)
npm ERR! error installing express@3.3.3     at /usr/local/lib/node_modules/npm/node_modules/slide/lib/async-map.js:54:11
npm ERR! error rolling back express@3.3.3 Error: UNKNOWN, Unknown error '/usr/local/lib/node_modules/express'
npm ERR! Unsupported
npm ERR! Not compatible with your version of node/npm: connect@2.8.3
npm ERR! Required: {""node"":""&gt;= 0.8.0""}
npm ERR! Actual:   {""npm"":""1.0.106"",""node"":""0.5.11-pre""}
npm ERR! 
npm ERR! System Linux 3.2.0-48-generic-pae
npm ERR! command ""node"" ""/usr/local/bin/npm"" ""install"" ""-g"" ""express""
npm ERR! cwd /home/gaurav/TestScripts
npm ERR! node -v v0.5.11-pre
npm ERR! npm -v 1.0.106
npm ERR! code ENOTSUP
npm ERR! 
npm ERR! Additional logging details can be found in:
npm ERR!     /home/gaurav/TestScripts/npm-debug.log
npm not ok
</code></pre>

<p>I also tried</p>

<pre><code>sudo npm install express
npm install -g express
sudo npm install -g express
</code></pre>

<p>Nothing works.</p>
",<node.js><ubuntu><express><npm>,0.0,0,0,1
906,906,17627108,1,0,2421735,1.0,0.0,0.0,0.0,2013-07-13T04:56:02.617,1.0,496.0,npm ERR! addPlacedTarball Could not remove,"<p>I think this is the error that is halting my progress as I try to install express and dependencies. This log is too confusing for me. There are a number of warning, so I can't work out which is the specific one that's causing problems.</p>

<pre><code>C:\Users\Phucker&gt;npm install -g express
npm http GET https://registry.npmjs.org/express
npm http 304 https://registry.npmjs.org/express
npm http GET https://registry.npmjs.org/connect/2.8.4
npm http GET https://registry.npmjs.org/commander/1.2.0
npm http GET https://registry.npmjs.org/range-parser/0.0.4
npm http GET https://registry.npmjs.org/mkdirp/0.3.5
npm http GET https://registry.npmjs.org/cookie/0.1.0
npm http GET https://registry.npmjs.org/buffer-crc32/0.2.1
npm http GET https://registry.npmjs.org/fresh/0.1.0
npm http GET https://registry.npmjs.org/methods/0.0.1
npm http GET https://registry.npmjs.org/send/0.1.3
npm http GET https://registry.npmjs.org/cookie-signature/1.0.1
npm http GET https://registry.npmjs.org/debug
npm http 304 https://registry.npmjs.org/cookie/0.1.0
npm http 304 https://registry.npmjs.org/commander/1.2.0
npm http 304 https://registry.npmjs.org/range-parser/0.0.4
npm http 304 https://registry.npmjs.org/connect/2.8.4
npm http 304 https://registry.npmjs.org/buffer-crc32/0.2.1
npm http 304 https://registry.npmjs.org/fresh/0.1.0
npm http 304 https://registry.npmjs.org/methods/0.0.1
npm http 304 https://registry.npmjs.org/send/0.1.3
npm WARN package.json methods@0.0.1 No README.md file found!
npm http 304 https://registry.npmjs.org/cookie-signature/1.0.1
npm http 304 https://registry.npmjs.org/debug
npm http 304 https://registry.npmjs.org/mkdirp/0.3.5
npm http GET https://registry.npmjs.org/mime
npm http GET https://registry.npmjs.org/keypress
npm http GET https://registry.npmjs.org/qs/0.6.5
npm http GET https://registry.npmjs.org/bytes/0.2.0
npm http GET https://registry.npmjs.org/pause/0.0.1
npm http GET https://registry.npmjs.org/uid2/0.0.2
npm http GET https://registry.npmjs.org/formidable/1.0.14
npm http 304 https://registry.npmjs.org/mime
npm http 304 https://registry.npmjs.org/keypress
npm http 304 https://registry.npmjs.org/uid2/0.0.2
npm http 304 https://registry.npmjs.org/formidable/1.0.14
npm WARN package.json uid2@0.0.2 No README.md file found!
npm http 304 https://registry.npmjs.org/pause/0.0.1
npm http 304 https://registry.npmjs.org/bytes/0.2.0
npm http 304 https://registry.npmjs.org/qs/0.6.5
C:\Users\Phucker\AppData\Roaming\npm\express -&gt; C:\Users\Phucker\AppData\Ro
\node_modules\express\bin\express
npm WARN unmet dependency C:\Users\Phucker\AppData\Roaming\npm\node_modul
o requires express@'3.0.x' but will load
npm WARN unmet dependency C:\Users\Phucker\AppData\Roaming\npm\node_modul
s,
npm WARN unmet dependency which is version 3.3.4
express@3.3.4 C:\Users\Phucker\AppData\Roaming\npm\node_modules\express
├── methods@0.0.1
├── fresh@0.1.0
├── range-parser@0.0.4
├── cookie-signature@1.0.1
├── buffer-crc32@0.2.1
├── cookie@0.1.0
├── debug@0.7.2
├── mkdirp@0.3.5
├── commander@1.2.0 (keypress@0.1.0)
├── send@0.1.3 (mime@1.2.9)
└── connect@2.8.4 (uid2@0.0.2, pause@0.0.1, qs@0.6.5, bytes@0.2.0, form
0.14)

C:\Users\Phucker&gt;express -c stylus express_example

   create : express_example
   create : express_example/package.json
   create : express_example/app.js
   create : express_example/public
   create : express_example/public/javascripts
   create : express_example/public/images
   create : express_example/public/stylesheets
   create : express_example/public/stylesheets/style.styl
   create : express_example/routes
   create : express_example/routes/index.js
   create : express_example/routes/user.js
   create : express_example/views
   create : express_example/views/layout.jade
   create : express_example/views/index.jade

   install dependencies:
     $ cd express_example &amp;&amp; npm install

   run the app:
     $ node app


C:\Users\Phucker&gt;cd express_example &amp;&amp; npm install
npm WARN package.json application-name@0.0.1 No README.md file found!
npm http GET https://registry.npmjs.org/express/3.3.4
npm http GET https://registry.npmjs.org/stylus
npm http GET https://registry.npmjs.org/jade
npm http 200 https://registry.npmjs.org/express/3.3.4
npm http GET https://registry.npmjs.org/express/-/express-3.3.4.tgz
npm http 200 https://registry.npmjs.org/express/-/express-3.3.4.tgz
npm http 200 https://registry.npmjs.org/stylus
npm http GET https://registry.npmjs.org/stylus/-/stylus-0.34.1.tgz
npm http 200 https://registry.npmjs.org/stylus/-/stylus-0.34.1.tgz
npm http 200 https://registry.npmjs.org/jade
npm http GET https://registry.npmjs.org/jade/-/jade-0.33.0.tgz
npm http 200 https://registry.npmjs.org/jade/-/jade-0.33.0.tgz
npm http GET https://registry.npmjs.org/connect/2.8.4
npm http GET https://registry.npmjs.org/commander/1.2.0
npm http GET https://registry.npmjs.org/range-parser/0.0.4
npm http GET https://registry.npmjs.org/mkdirp/0.3.5
npm http GET https://registry.npmjs.org/cookie/0.1.0
npm http GET https://registry.npmjs.org/buffer-crc32/0.2.1
npm http GET https://registry.npmjs.org/fresh/0.1.0
npm http GET https://registry.npmjs.org/methods/0.0.1
npm http GET https://registry.npmjs.org/send/0.1.3
npm http GET https://registry.npmjs.org/cookie-signature/1.0.1
npm http GET https://registry.npmjs.org/debug
npm http GET https://registry.npmjs.org/mkdirp
npm http GET https://registry.npmjs.org/transformers/2.0.1
npm http GET https://registry.npmjs.org/monocle/0.1.48
npm http GET https://registry.npmjs.org/character-parser/1.0.2
npm http GET https://registry.npmjs.org/with
npm http GET https://registry.npmjs.org/constantinople
npm http GET https://registry.npmjs.org/cssom
npm http 304 https://registry.npmjs.org/connect/2.8.4
npm http 304 https://registry.npmjs.org/range-parser/0.0.4
npm http 304 https://registry.npmjs.org/commander/1.2.0
npm http 304 https://registry.npmjs.org/mkdirp/0.3.5
npm http 304 https://registry.npmjs.org/cookie/0.1.0
npm http 304 https://registry.npmjs.org/buffer-crc32/0.2.1
npm http 304 https://registry.npmjs.org/fresh/0.1.0
npm http 304 https://registry.npmjs.org/methods/0.0.1
npm http 304 https://registry.npmjs.org/send/0.1.3
npm http 304 https://registry.npmjs.org/cookie-signature/1.0.1
npm WARN package.json methods@0.0.1 No README.md file found!
npm http 304 https://registry.npmjs.org/debug
npm http GET https://registry.npmjs.org/mime
npm http GET https://registry.npmjs.org/keypress
npm http GET https://registry.npmjs.org/bytes/0.2.0
npm http GET https://registry.npmjs.org/uid2/0.0.2
npm http GET https://registry.npmjs.org/pause/0.0.1
npm http GET https://registry.npmjs.org/qs/0.6.5
npm http GET https://registry.npmjs.org/formidable/1.0.14
npm http 200 https://registry.npmjs.org/monocle/0.1.48
npm http GET https://registry.npmjs.org/monocle/-/monocle-0.1.48.tgz
npm http 200 https://registry.npmjs.org/with
npm http 200 https://registry.npmjs.org/cssom
npm http GET https://registry.npmjs.org/cssom/-/cssom-0.2.5.tgz
npm http 304 https://registry.npmjs.org/mime
npm http 304 https://registry.npmjs.org/keypress
npm http 304 https://registry.npmjs.org/bytes/0.2.0
npm http 304 https://registry.npmjs.org/uid2/0.0.2
npm WARN package.json uid2@0.0.2 No README.md file found!
npm http 304 https://registry.npmjs.org/pause/0.0.1
npm http 304 https://registry.npmjs.org/qs/0.6.5
npm http 304 https://registry.npmjs.org/formidable/1.0.14
npm http 200 https://registry.npmjs.org/monocle/-/monocle-0.1.48.tgz
npm http 200 https://registry.npmjs.org/transformers/2.0.1
npm http GET https://registry.npmjs.org/transformers/-/transformers-2.0
npm http 200 https://registry.npmjs.org/cssom/-/cssom-0.2.5.tgz
npm http 200 https://registry.npmjs.org/constantinople
npm http 200 https://registry.npmjs.org/transformers/-/transformers-2.0
npm http 200 https://registry.npmjs.org/mkdirp
npm http 200 https://registry.npmjs.org/character-parser/1.0.2
npm http GET https://registry.npmjs.org/character-parser/-/character-pa
2.tgz
npm http 200 https://registry.npmjs.org/character-parser/-/character-pa
2.tgz
npm ERR! addPlacedTarball Could not remove ""C:\\Users\\Phucker\\AppData\\
npm-cache\\character-parser\\1.0.2\\package""
npm ERR! Error: ENOTEMPTY, rmdir 'C:\Users\Phucker\AppData\Roaming\npm-ca
cter-parser\1.0.2\package'
npm ERR! If you need help, you may report this log at:
npm ERR!     &lt;http://github.com/isaacs/npm/issues&gt;
npm ERR! or email it to:
npm ERR!     &lt;npm-@googlegroups.com&gt;

npm ERR! System Windows_NT 6.1.7601
npm ERR! command ""C:\\Program Files\\nodejs\\\\node.exe"" ""C:\\Program F
ejs\\node_modules\\npm\\bin\\npm-cli.js"" ""install""
npm ERR! cwd C:\Users\Phucker\express_example
npm ERR! node -v v0.10.0
npm ERR! npm -v 1.2.14
npm ERR! path C:\Users\Phucker\AppData\Roaming\npm-cache\character-parser
ckage
npm ERR! code ENOTEMPTY
npm ERR! errno 53
npm ERR!
npm ERR! Additional logging details can be found in:
npm ERR!     C:\Users\Phucker\express_example\npm-debug.log
npm ERR! not ok code 0

C:\Users\Phucker\express_example&gt;
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
907,907,17629683,1,17629997,2421735,4.0,0.0,0.0,0.0,2013-07-13T11:19:13.760,4.0,13881.0,node cannot find express module?,"<p>I am unaware what is causing this problem, because I thought it should be working. I do have expressed installed, at least according to npm: </p>

<pre><code>C:\Users\phucker\Desktop&gt;node init.js

module.js:340
    throw err;
          ^
Error: Cannot find module 'express'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at Object.&lt;anonymous&gt; (C:\Users\phucker\Desktop\init.js:1:77)
    at Module._compile (module.js:456:26)
    at Object.Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Function.Module.runMain (module.js:497:10)

C:\Users\phucker\Desktop&gt;npm express -v
1.3.2

C:\Users\phucker\Desktop&gt;
</code></pre>

<p>the code contained in init.js is </p>

<pre><code>var express = require('express');
var app = express();

app.get('/', function(req, res){
  res.send('hello world');
});

app.listen(3000);
</code></pre>
",<node.js><express><npm>,1.0,0,0,1
920,920,17729900,1,17770507,216012,1.0,0.0,0.0,0.0,2013-07-18T17:11:05.830,3.0,2159.0,"Node.js - Domain per Express request, inside another domain","<p><strong>Error handling in Node. Argh!</strong></p>

<p>I'm trying to layout a basic Node app like this...</p>

<blockquote>
  <p>Cluster -> Worker -> Server Domain -> Express Request Domain</p>
</blockquote>

<p>So, if an error is thrown 18 layers deep into a call stack because someone misspelled their name on a login form, the entire server doesn't crash.</p>

<p>Here's some basic code to simulate the worker part:</p>

<pre><code>var domain, server;

domain = require('domain');
server = domain.create();

server.on('error', function(e) {
    console.log('total meltdown...', e.stack);
});

server.run(function() {

    var express = require('express')();

    express.configure(function() {

        // Domain on EVERY request
        express.use(function(req, res, next) {
            var d = domain.create();

            d.on('error', function(e) {
                console.log('fired REQUEST error', e.stack);
                next(e);
            });

            d.run(next);

        });

        // Generic error handler
        express.use(function(e, req, res, next) {
            res.status(500);
            res.end('oops');
        });

        // Serve the request with a blatent error
        express.get('/', function(req, res) {

            this_function_does_not_exist();
            res.end('we will never get here');

        });
    });

    // Fire 'er up
    express.listen(3000);
});
</code></pre>

<p><strong>What I'm expecting...</strong></p>

<p>I curl <code>http://localhost:3000/</code>, get a nice little 'oops' error, and see 'fired REQUEST error' and the error stack in the console.</p>

<p><strong>What actually happens...</strong></p>

<p>I get this both as the browser response, and in the console...</p>

<blockquote>
  <p>ReferenceError: this_function_does_not_exist is not defined
      at /Stuff/test.js:38:13
      at callbacks (/Stuff/node_modules/express/lib/router/index.js:161:37)
      at param (/Stuff/node_modules/express/lib/router/index.js:135:11)
      at pass (/Stuff/node_modules/express/lib/router/index.js:142:5)
      at Router._dispatch (/Stuff/node_modules/express/lib/router/index.js:170:5)
      at Object.router (/Stuff/node_modules/express/lib/router/index.js:33:10)
      at next (/Stuff/node_modules/express/node_modules/connect/lib/proto.js:190:15)
      at next (/Stuff/node_modules/express/node_modules/connect/lib/proto.js:192:9)
      at b (domain.js:183:18)
      at Domain.run (domain.js:123:23)</p>
</blockquote>

<p>Now why would it go and do something like that?</p>
",<javascript><node.js><express><npm><node.js-connect>,1.0,0,0,1
924,924,17791189,1,17870360,851029,1.0,0.0,0.0,0.0,2013-07-22T15:14:35.300,0.0,214.0,mongoose-uniqueslugs - Missing NodeJS Module in Modulus.io,"<p>I deployed NodeJS/ExpressJS web app in Modulus.io</p>

<p>In package.json, I already included the module <a href=""https://npmjs.org/package/mongoose-uniqueslugs"" rel=""nofollow"">mongoose-uniqueslugs</a>:</p>

<pre><code>""dependencies"": {
    ...
    ""mongoose"": ""3.6.11"",
    ""mongoose-uniqueslugs"": ""*"",
    ...
}
</code></pre>

<p>In Modulus.io dashboard, I don't see the folder <code>node_module</code> but I think this is fine since the module is defined in <code>package.json</code>.</p>

<p>I deployed the app with <code>modulus deploy</code> CLI. No displayed error at all.</p>

<p>When browsing the app, it keeps on reloading, so I suspect the app have errors.</p>

<p>I viewed the logs with <code>modulus project logs</code>:</p>

<pre><code>module.js:340
    throw err;
          ^
Error: Cannot find module 'mongoose-uniqueslugs'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at Object.&lt;anonymous&gt; (/mnt/data/2/models/Category.js:2:27)
    at Module._compile (module.js:456:26)
    at Object.Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:364:17)
[2013-07-22T14:49:45.584Z] Application restarted with pid undefined
</code></pre>

<p>Line 2 of Category.js is:</p>

<pre><code> , mongooseUniqueSlugs = require('mongoose-uniqueslugs');
</code></pre>
",<node.js><express><mongoose><npm>,1.0,0,0,1
958,958,18006179,1,18012840,1836830,2.0,0.0,0.0,0.0,2013-08-01T23:12:31.400,33.0,25505.0,TypeError: Request path contains unescaped characters,"<p>I try to install node.js modules using:</p>

<pre><code>npm install express
</code></pre>

<p>but I get this error:</p>

<pre><code>npm http GET https://registry.npmjs.org/express
npm ERR! TypeError: Request path contains unescaped characters.
npm ERR!     at Agent.request (_http_agent.js:264:11)
npm ERR!     at TunnelingAgent.exports.request (http.js:52:22)
npm ERR!     at TunnelingAgent.createSocket (/usr/local/lib/node_modules/npm/node_modules/request/node_modules/tunnel-agent/index.js:117:25)
npm ERR!     at TunnelingAgent.createSecureSocket [as createSocket] (/usr/local/lib/node_modules/npm/node_modules/request/node_modules/tunnel-agent/index.js:184:41)
npm ERR!     at TunnelingAgent.addRequest (/usr/local/lib/node_modules/npm/node_modules/request/node_modules/tunnel-agent/index.js:80:8)
npm ERR!     at new ClientRequest (_http_client.js:112:16)
npm ERR!     at Agent.request (_http_agent.js:279:10)
npm ERR!     at Object.exports.request (https.js:130:22)
npm ERR!     at Request.start (/usr/local/lib/node_modules/npm/node_modules/request/index.js:594:30)
npm ERR!     at Request.end (/usr/local/lib/node_modules/npm/node_modules/request/index.js:1186:28)
npm ERR! If you need help, you may report this log at:
npm ERR!     &lt;http://github.com/isaacs/npm/issues&gt;
npm ERR! or email it to:
npm ERR!     &lt;npm-@googlegroups.com&gt;

npm ERR! System Linux 3.6.11-7.fc16.x86_64
npm ERR! command ""/usr/local/bin/node"" ""/usr/local/bin/npm"" ""install"" ""express""
npm ERR! cwd /usr/local/src/node
npm ERR! node -v v0.11.5-pre
npm ERR! npm -v 1.3.5
npm ERR! 
npm ERR! Additional logging details can be found in:
npm ERR!     /usr/local/src/node/npm-debug.log
npm ERR! not ok code 0
</code></pre>

<p>May be happening I use a proxy I set it up this way to allow downloads from ips outside my network</p>

<pre><code>export https_proxy='http://172.21.0.12:3128'
</code></pre>

<p>I hope you can help me</p>
",<javascript><node.js><express><socket.io><npm>,0.0,0,0,1
1025,1025,18413157,1,18413440,2712585,4.0,0.0,0.0,0.0,2013-08-23T23:07:36.123,8.0,12106.0,"How do I get rid of error ""'.' is not recognized as an internal or external command"" when running 'npm install' for MEAN stack?","<p>downloaded mean stck zip from mean.io
did an npm install
after few minutes I got an error. Please see screenshot. what do I do?</p>

<p><a href=""https://i.stack.imgur.com/200Yj.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/200Yj.png"" alt=""screenshot""></a></p>

<pre><code>npm http 200 https://registry.npmjs.org/event-emitter/-/event-e
mitter-0.2.2.tgz

&gt; mean@1.0.0 postinstall C:\ss\D1\google\04\mean\mean-stack
&gt; ./node_modules/bower/bin/bower install

'.' is not recognized as an internal or external command,
operable program or batch file.
npm ERR! weird error 1
npm ERR! not ok code 0
</code></pre>
",<node.js><express><stack><npm><mean-stack>,0.0,0,0,1
1034,1034,18474539,1,18475879,746041,1.0,0.0,0.0,0.0,2013-08-27T20:11:02.950,7.0,1678.0,Which hogan.js templeting package to use with express.js?,"<p>The <code>hogan.js</code> template package that <code>express</code> provide is <code>hjs</code>, however, that package last update was a year ago, and the repo at github got issues opened also a year ago (though not really crucial ones). </p>

<p>There also seems to be more than one <code>hogan.js</code> package for <code>express</code> tempting at <code>npm</code> which left me confused!</p>
",<node.js><express><npm><hogan.js>,0.0,0,0,1
1041,1041,18562234,1,18564798,2705135,4.0,1.0,0.0,0.0,2013-09-01T19:46:43.570,10.0,19631.0,NPM install express. Error: No compatible version found,"<p>My OS is Ubuntu 13.04, 32 bit.</p>

<p>I am trying to install express with this command:</p>

<pre><code>$ npm install express
</code></pre>

<p>And this is the error I get:</p>

<pre><code>npm http GET https://registry.npmjs.org/express
npm http GET https://registry.npmjs.org/express
npm http 304 https://registry.npmjs.org/express
npm ERR! Error: No compatible version found: express@'&gt;=4.0.0-0'
npm ERR! Valid install targets:
npm ERR! [""0.14.0"",""0.14.1"",""1.0.0"",""1.0.1"",""1.0.2"",""1.0.3"",""1.0.4"",""1.0.5"",""1.0.6"",""1.0.7"",""1.0.8"",""2.0.0"",""2.1.0"",""2.1.1"",""2.2.0"",""2.2.1"",""2.2.2"",""2.3.0"",""2.3.1"",""2.3.2"",""2.3.3"",""2.3.4"",""2.3.5"",""2.3.6"",""2.3.7"",""2.3.8"",""2.3.9"",""2.3.10"",""2.3.11"",""2.3.12"",""2.4.0"",""2.4.1"",""2.4.2"",""2.4.3"",""2.4.4"",""2.4.5"",""2.4.6"",""2.4.7"",""2.5.0"",""2.5.1"",""2.5.2"",""2.5.3"",""2.5.4"",""2.5.5"",""2.5.6"",""2.5.7"",""2.5.8"",""2.5.9"",""2.5.10"",""2.5.11"",""3.0.0"",""3.0.1"",""3.0.2"",""3.0.3"",""3.0.4"",""3.0.5"",""3.0.6"",""3.1.0"",""3.1.1"",""3.1.2"",""3.2.0"",""3.2.1"",""3.2.2"",""3.2.3"",""3.2.4"",""3.2.5"",""3.2.6"",""3.3.0"",""3.3.1"",""3.3.2"",""3.3.3"",""3.3.4"",""3.3.5"",""3.3.6"",""1.0.0-beta"",""1.0.0-beta2"",""1.0.0-rc"",""1.0.0-rc2"",""1.0.0-rc3"",""1.0.0-rc4"",""2.0.0-beta"",""2.0.0-beta2"",""2.0.0-beta3"",""2.0.0-rc"",""2.0.0-rc2"",""2.0.0-rc3"",""3.0.0-alpha1"",""3.0.0-alpha2"",""3.0.0-alpha3"",""3.0.0-alpha4"",""3.0.0-alpha5"",""3.0.0-beta1"",""3.0.0-beta2"",""3.0.0-beta3"",""3.0.0-beta4"",""3.0.0-beta6"",""3.0.0-beta7"",""3.0.0-rc1"",""3.0.0-rc2"",""3.0.0-rc3"",""3.0.0-rc4"",""3.0.0-rc5"",""3.3.7""]
npm ERR!     at installTargetsError (/home/admin/.nodes/0.10.17/lib/node_modules/npm/lib/cache.js:719:10)
npm ERR!     at next (/home/admin/.nodes/0.10.17/lib/node_modules/npm/lib/cache.js:698:17)
npm ERR!     at /home/admin/.nodes/0.10.17/lib/node_modules/npm/lib/cache.js:675:5
npm ERR!     at saved (/home/admin/.nodes/0.10.17/lib/node_modules/npm/node_modules/npm-registry-client/lib/get.js:142:7)
npm ERR!     at /home/admin/.nodes/0.10.17/lib/node_modules/npm/node_modules/graceful-fs/polyfills.js:133:7
npm ERR!     at Object.oncomplete (fs.js:107:15)
npm ERR! If you need help, you may report this log at:
npm ERR!     &lt;http://github.com/isaacs/npm/issues&gt;
npm ERR! or email it to:
npm ERR!     &lt;npm-@googlegroups.com&gt;

npm ERR! System Linux 3.8.0-29-generic
npm ERR! command ""/home/admin/.nodes/current/bin/node"" ""/home/admin/.nodes/current/bin/npm"" ""install"" ""express""
npm ERR! cwd /home/admin/M101JS/Week 2/hw2/hw2-3/blog
npm ERR! node -v v0.10.17
npm ERR! npm -v 1.3.8
npm ERR! 
npm ERR! Additional logging details can be found in:
npm ERR!     /home/admin/M101JS/Week 2/hw2/hw2-3/blog/npm-debug.log
npm ERR! not ok code 0
</code></pre>

<p>I am new to NodeJS and NPM, so I don't understand the response.
Does anyone have an idea how I can fix it?</p>
",<express><installation><npm>,0.0,0,0,1
1063,1063,18743670,1,18743717,1375688,7.0,0.0,0.0,0.0,2013-09-11T14:16:50.903,11.0,41978.0,npm install error - invalid package.json,"<p>I'm using <a href=""http://www.xorcode.com/2013/08/22/getting-started-with-node-js-using-oauth2-in-mean/"">this</a> tutorial to understand implementing oauth2 in Node.js.</p>

<p>This is my package.json:</p>

<pre><code>{
  ""name"": ""application-name"",
  ""version"": ""0.0.1"",
  ""private"": true,
  ""scripts"": {
    ""start"": ""coffee -w server.coffee""
  },  
  ""dependencies"": {
    ""express"": ""3.3.4"",
    ""jade"": ""*"",
    ""coffee-script"": ""latest"",
    ""passport-http"": ""latest"",
    ""passport-http-bearer"": ""latest"",
    ""passport-oauth2-client-password"": ""latest"",
    ""oauth2orize"": ""latest"",
    ""debug"" ""~0.7.2""
  }
}
</code></pre>

<p>I'm getting the error:</p>

<pre><code>npm ERR! install Couldn't read dependencies
npm ERR! Failed to parse json
npm ERR! Unexpected string
npm ERR! File: /Users/jashua/Desktop/auth/package.json
npm ERR! Failed to parse package.json data.
npm ERR! package.json must be actual JSON, not just JavaScript.
npm ERR! 
npm ERR! This is not a bug in npm.
npm ERR! Tell the package author to fix their package.json file. JSON.parse

npm ERR! System Darwin 12.3.0
npm ERR! command ""node"" ""/usr/local/bin/npm"" ""install""
npm ERR! cwd /Users/jashua/Desktop/auth
npm ERR! node -v v0.10.15
npm ERR! npm -v 1.3.5
npm ERR! file /Users/jashua/Desktop/auth/package.json
npm ERR! code EJSONPARSE
npm ERR! 
npm ERR! Additional logging details can be found in:
npm ERR!     /Users/me/Desktop/auth/npm-debug.log
npm ERR! not ok code 0
</code></pre>

<p>Any ideas what's wrong with my package.json?</p>
",<json><node.js><express><oauth-2.0><npm>,0.0,0,0,1
1129,1129,19213870,1,19213882,1626185,1.0,0.0,0.0,0.0,2013-10-06T20:58:45.360,0.0,335.0,npm install appname -g bash: command not found,"<p>Upon trying to install express via npm, bash was simply returning a command not found statement upon running any node module in the shell directly. I went through countless resources and forums to locate the issue and was not succesfull.</p>
",<bash><express><installation><npm>,0.0,0,0,1
1144,1144,19334158,1,19334229,2436847,1.0,0.0,0.0,0.0,2013-10-12T12:25:35.607,0.0,305.0,What is the easy way to access the callback function arguments outside of it?,"<p>My code is like this,</p>

<pre><code>var jenkins = require('jenkins')('http://192.168.1.5:8080');
var job_name = undefined;

jenkins.job.list(function doneGetting(err, list) {
    if (err) throw err;
    job_name = list[0].name;
});

jenkins.job.get(job_name, function(err, info){
    if (err) throw err;
    res.render('index', {
         title: 'Jenkins API',
         job_name: job_name,
         job_info: info
    })
});
</code></pre>

<p>My problem is I am not able to get the value of job_name because it is inside the callback.
I am trying to find the solution for this. Though lot of questions already present about callbacks am not able to find the solution. Sorry for that.</p>

<p>Thanks in advance.</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
1169,1169,19454408,1,19454798,103690,1.0,5.0,0.0,0.0,2013-10-18T16:20:26.037,3.0,1278.0,How to share common client-side javascript across NodeJS projects?,"<p>I'm a Node n00b starting a couple web app projects using Express, and I've got some common client-side libraries I'd like to share between the two projects. This seems like a very common problem, so there must be several solutions available already.</p>

<p>I come from a java background, and in java, I'd create a separate ""common"" project and ""overlay"" common WAR over my project during packaging. This would also allow for r.js optimization during the build process.</p>

<p>My best guess in Node is that I need to create a <a href=""https://stackoverflow.com/questions/10386310/how-to-install-a-private-npm-module-without-my-own-registry"">private NPM module</a>, and map those common files into express via a <code>use()</code> middleware plugin. Is that right?</p>

<p>How, then, can I package both my common and project specific javascript into a minified file using r.js?</p>

<p>Or is source control the answer? Checking out my ""common"" repository inside each project?</p>

<p>Any help would be most appreciated. Thanks.</p>
",<node.js><web-applications><express><npm><r.js>,0.0,0,0,1
1236,1236,19961921,1,19962297,1651859,2.0,3.0,0.0,0.0,2013-11-13T18:47:30.510,1.0,992.0,Error while installing express,"<p>Saw following error while installing express. </p>

<p>I am using node 0.10.17
and npm 1.3.8</p>

<p>I tried <code>npm install express</code></p>

<p>It looks like version issue. Which version is recommended?</p>

<pre><code>npm ERR! Error: shasum check failed for C:\Users\GAURAV~1\AppData\Local\Temp\npm
-5800-RRPyptXX\1384367930969-0.5868753655813634\tmp.tgz
npm ERR! Expected: a567c2af000ad22dc8f2a653d91978ae1f5316f4
npm ERR! Actual:   4077b08504e56e904990e4cc29e248752fbf211f
npm ERR!     at C:\Program Files\nodejs\node_modules\npm\node_modules\sha\index.
js:38:8
npm ERR!     at ReadStream.&lt;anonymous&gt; (C:\Program Files\nodejs\node_modules\npm
\node_modules\sha\index.js:85:7)
npm ERR!     at ReadStream.EventEmitter.emit (events.js:117:20)
npm ERR!     at _stream_readable.js:920:16
npm ERR!     at process._tickCallback (node.js:415:13)
npm ERR! If you need help, you may report this log at:
npm ERR!     &lt;http://github.com/isaacs/npm/issues&gt;
npm ERR! or email it to:
npm ERR!     &lt;npm-@googlegroups.com&gt;

npm ERR! System Windows_NT 6.1.7601
npm ERR! command ""C:\\Program Files\\nodejs\\\\node.exe"" ""C:\\Program Files\\nod
ejs\\node_modules\\npm\\bin\\npm-cli.js"" ""install"" ""express""
npm ERR! cwd D:\Project\websocket
npm ERR! node -v v0.10.17
npm ERR! npm -v 1.3.8
npm http GET https://registry.npmjs.org/bytes/0.2.1
npm http GET https://registry.npmjs.org/mime
npm http GET https://registry.npmjs.org/uid2/0.0.3
npm http 304 https://registry.npmjs.org/bytes/0.2.1
npm http 304 https://registry.npmjs.org/uid2/0.0.3
npm http 304 https://registry.npmjs.org/mime
npm ERR!
npm ERR! Additional logging details can be found in:
npm ERR!     D:\Project\websocket\npm-debug.log
npm ERR! not ok code 0
</code></pre>

<p>Any solution?</p>
",<node.js><express><npm>,0.0,0,0,1
1254,1254,20033453,1,20033488,2444008,2.0,4.0,0.0,0.0,2013-11-17T16:55:23.253,1.0,1562.0,Nodejs installing hiredis with npm. Getting error,"<p>Hi im trying to install hiredis. But im getting this error:</p>

<p><img src=""https://i.stack.imgur.com/Z9vVP.png"" alt=""enter image description here""></p>

<p>Need advise.</p>

<p>Edit:After installing python im getting different error:</p>

<p><img src=""https://i.stack.imgur.com/G53Nl.png"" alt=""enter image description here""></p>
",<node.js><express><npm><hiredis>,0.0,0,0,1
1302,1302,20196601,1,20455260,2352018,6.0,16.0,0.0,0.0,2013-11-25T15:17:29.540,9.0,23864.0,"npm ""error network getaddrinfo ENOTFOUND""","<p>I am trying to install different modules through npm. </p>

<pre><code>c:\&gt;npm install -g express
</code></pre>

<p>But I am getting following error message:</p>

<pre><code>0 info it worked if it ends with ok
1 verbose cli [ 'D:\\FH Kiel\\WS 13\\Advanced Javascript\\nodejs\\\\node.exe',
1 verbose cli   'D:\\FH Kiel\\WS 13\\Advanced Javascript\\nodejs\\node_modules\\npm\\bin\\npm-cli.js',
1 verbose cli   'install',
1 verbose cli   'express' ]
2 info using npm@1.3.14
3 info using node@v0.10.22
4 verbose node symlink D:\FH Kiel\WS 13\Advanced Javascript\nodejs\\node.exe
5 verbose cache add [ 'express', null ]
6 verbose cache add name=undefined spec=""express"" args=[""express"",null]
7 verbose parsed url { protocol: null,
7 verbose parsed url   slashes: null,
7 verbose parsed url   auth: null,
7 verbose parsed url   host: null,
7 verbose parsed url   port: null,
7 verbose parsed url   hostname: null,
7 verbose parsed url   hash: null,
7 verbose parsed url   search: null,
7 verbose parsed url   query: null,
7 verbose parsed url   pathname: 'express',
7 verbose parsed url   path: 'express',
7 verbose parsed url   href: 'express' }
8 silly lockFile f3c62de4-express express
9 verbose lock express C:\Users\MW\AppData\Roaming\npm-cache\f3c62de4-express.lock
10 silly lockFile f3c62de4-express express
11 silly lockFile f3c62de4-express express
12 verbose addNamed [ 'express', '' ]
13 verbose addNamed [ null, '*' ]
14 silly lockFile 64a534c1-express express@
15 verbose lock express@ C:\Users\MW\AppData\Roaming\npm-cache\64a534c1-express.lock
16 silly addNameRange { name: 'express', range: '*', hasData: false }
17 verbose url raw express
18 verbose url resolving [ 'http://registry.npmjs.org/', './express' ]
19 verbose url resolved http://registry.npmjs.org/express
20 info trying registry request attempt 1 at 15:47:46
21 http GET http://registry.npmjs.org/express
22 info retry will retry, error on last attempt: Error: getaddrinfo ENOTFOUND
23 info trying registry request attempt 2 at 15:47:59
24 http GET http://registry.npmjs.org/express
25 info retry will retry, error on last attempt: Error: getaddrinfo ENOTFOUND
26 info trying registry request attempt 3 at 15:49:01
27 http GET http://registry.npmjs.org/express
28 silly lockFile 64a534c1-express express@
29 silly lockFile 64a534c1-express express@
30 error network getaddrinfo ENOTFOUND
30 error network This is most likely not a problem with npm itself
30 error network and is related to network connectivity.
30 error network In most cases you are behind a proxy or have bad network settings.
30 error network
30 error network If you are behind a proxy, please make sure that the
30 error network 'proxy' config is set properly.  See: 'npm help config'
31 error System Windows_NT 6.1.7601
32 error command ""D:\\FH Kiel\\WS 13\\Advanced Javascript\\nodejs\\\\node.exe"" ""D:\\FH Kiel\\WS 13\\Advanced Javascript\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""install"" ""express""
33 error cwd D:\nodejs
34 error node -v v0.10.22
35 error npm -v 1.3.14
36 error syscall getaddrinfo
37 error code ENOTFOUND
38 error errno ENOTFOUND
39 verbose exit [ 1, true ]
</code></pre>

<p>I have tried the following solutions:</p>

<pre><code>npm config set proxy http://usr:pwd@proxyname:port

npm config set https-proxy http://usr:pwd@proxyname:port

npm config set registry http://registry.npmjs.org/
</code></pre>

<p>I have disabled the firewall and tried... nothing is working... There is no proxy setting so this should work (and is working in other computers)... I have installed node.js without any problem.</p>

<p>Thanx.</p>

<p>Update: Here is the windows host file :</p>

<pre><code>#
# For example:
#
#      102.54.94.97     rhino.acme.com          # source server
#       38.25.63.10     x.acme.com              # x client host

# localhost name resolution is handled within DNS itself.
#   127.0.0.1       localhost
#   ::1             localhost


127.0.0.1       localhost
127.0.0.1       localhost
127.0.0.1       localhost
</code></pre>

<p>I have also tried this solution found in other post:</p>

<pre><code>npm install &lt;packagename&gt; --registry http://registry.npmjs.org/
</code></pre>

<p>Didn't work either :(</p>
",<node.js><express><npm>,0.0,0,0,1
1318,1318,20280500,1,20281395,0,1.0,2.0,0.0,0.0,2013-11-29T07:29:17.180,0.0,405.0,Express js installation error in node,"<p>While trying to install express js by the command ""npm install -g express"" in cmd prompt in windows it shows the following error</p>

<pre><code>module.js:340
    throw err;
          ^
Error: Cannot find module 'express'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at Object.&lt;anonymous&gt; (D:\chapter3\sample-app\web-server.js:1:77)
    at Module._compile (module.js:456:26)
    at Object.Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Function.Module.runMain (module.js:497:10)
</code></pre>

<p>How to fix this and run a web server?</p>
",<node.js><express><npm>,1.0,0,0,1
1325,1325,20352342,1,20352397,3061577,1.0,0.0,0.0,0.0,2013-12-03T13:20:25.843,0.0,408.0,cant install express and socket.io for nodejs,"<p>PACKAGE.JSON file</p>

<pre><code>{
    ""name"" : ""realtimewebchat"",
    ""version"" : ""0.0.1"",
    ""private"" : ""true"",
    ""dependencies"" : {
    ""socket.io"" : ""0.9.16"",
    ""express"" : ""3.4.6""
    },
    ""author"" : ""legit"",
}
</code></pre>

<p>DEBUG INFO</p>

<pre><code>0 info it worked if it ends with ok
1 verbose cli [ 'C:\\Program Files\\nodejs\\\\node.exe',
1 verbose cli   'C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js',
1 verbose cli   'install' ]
2 info using npm@1.3.14
3 info using node@v0.10.22
4 verbose node symlink C:\Program Files\nodejs\\node.exe
5 error install Couldn't read dependencies
6 error Failed to parse json
6 error Unexpected token }
7 error File: C:\Users\Gerrerth\Desktop\chat\package.json
8 error Failed to parse package.json data.
8 error package.json must be actual JSON, not just JavaScript.
8 error
8 error This is not a bug in npm.
8 error Tell the package author to fix their package.json file. JSON.parse
9 error System Windows_NT 6.2.9200
10 error command ""C:\\Program Files\\nodejs\\\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""install""
11 error cwd C:\Users\Gerrerth\Desktop\chat
12 error node -v v0.10.22
13 error npm -v 1.3.14
14 error file C:\Users\Gerrerth\Desktop\chat\package.json
15 error code EJSONPARSE
16 verbose exit [ 1, true ]
</code></pre>

<p>I have searched for the solutions for hours from stackoverflow but still havent managed to find the right one. Could anyone recommend some tips?</p>
",<javascript><json><node.js><express><npm>,0.0,0,0,1
1349,1349,20505028,1,20505719,1089500,6.0,6.0,0.0,0.0,2013-12-10T20:56:19.097,11.0,14503.0,Express doesn't work on ubuntu,"<p>I'm new with nodejs and trying to learn it. I have installed node framework express as global module by command:</p>

<pre><code>$ sudo npm install express -g
</code></pre>

<p>This works correctly and I have it in <code>/usr/lib/node_modules</code>. Then I'm creating a new project on express:</p>

<pre><code> $ express app
</code></pre>

<p>But this doesn't create project folder and does not return any error code, clear node code works fine. Anybody knows how to detect and fix this error?</p>
",<node.js><ubuntu><express><npm>,0.0,0,0,1
1401,1401,20771900,1,20773174,1422838,1.0,0.0,0.0,0.0,2013-12-25T10:45:03.783,1.0,364.0,Can't deploy nodejs app to heroku and openshift,"<p>I can't deploy my ExpressJS app to Heroku or OpenShift hosting. On my MacBook Pro all works perfectly, but it go to crash when I try to deploy it on hosting.</p>

<p><code>
error Error: shasum check failed for /app/tmp/npm-403-gj-8PMyB/1387967953013-0.7812028499320149/tmp.tgz
344 error Expected: f99cd60b91df7e6669c59ac2b55c4bfc65ff9494
344 error Actual:   c4a5f6cf7f807d89d1aa0babe686b434426206b6
</code></p>

<p><a href=""https://dpaste.de/Vd7V#L"" rel=""nofollow"">openshift log</a>, <a href=""https://dpaste.de/wef7"" rel=""nofollow"">heroku log</a></p>
",<node.js><heroku><express><npm><openshift>,0.0,0,0,1
1422,1422,20886143,1,0,2906297,1.0,0.0,0.0,0.0,2014-01-02T15:28:14.877,0.0,43.0,Is there any config setting in nodejs to check every ajaxcall ( some thing like zend predispatcher),"<p>I have a task in which i need to check every api call for authentication purpose( does api call have api key ) then call api and return response of api else return error message.</p>

<p>My task flow is some like this,</p>

<p>1(Front end)- call an api ( www.myurl.com/users/getusers ) using ajax with apikey
2-(back end nodejs) - check call have apikey , if exist then got to user/getusers and return response.</p>
",<node.js><jquery><express><npm>,0.0,0,0,1
1465,1465,21184130,1,21620294,1449151,2.0,0.0,0.0,0.0,2014-01-17T10:53:59.260,1.0,204.0,What is Karken.js suit and how much it helps Node.js to be more secure and scalable?,"<p>I've watched few presentations and read few slides about how PayPal uses Karken.js in its Node.js Stack to take advantage of out-of-box security and apparently it works with dust.js too.</p>

<p>But the real question here is, is this a real thing to make the Node.js enterprise material or it's jsut useful for the developers team at PayPal? And why should I use this in my existing Node.js stack?</p>

<p>Update1: It doesn't offer anything more for security. It just makes it easier by using other packages.</p>
",<node.js><paypal><express><npm><dust.js>,0.0,0,0,1
1489,1489,21350009,1,0,2420583,2.0,0.0,0.0,0.0,2014-01-25T11:36:43.983,0.0,206.0,Making an express work with the express installed globally on windows,"<p>I have installed expressjs and nodemon i.e <code>npm install -g express</code> but i want the app i create <code>express the_app</code> to work with the modules that are installed globally.I can access npm on the command line so that part works.What should i do to use this globally installed modules?.</p>
",<node.js><express><npm>,0.0,0,0,1
1519,1519,21502072,1,0,621694,1.0,1.0,0.0,0.0,2014-02-01T18:49:27.180,0.0,314.0,Require a client library installed via npm in NodeJs,"<p>I've a problem with a nodejs app which should serve js assets to the client.
I've installed some modules using npm (primus or socket.io for example), and i want to send these js files to the browser.</p>

<p>Using jade and having a public folder in the root of my project is simple:</p>

<pre><code>script(src='/js/lib/jquery-2.1.0.min.js')
script(src='/js/lib/bootstrap.min.js')
</code></pre>

<p>This example loads with success to the browser the scripts below.</p>

<p>But how can do the same with libraries inside the node_modules folder?</p>
",<node.js><express><npm><pug><assets>,0.0,0,0,1
1534,1534,21595599,1,21595776,3061020,1.0,3.0,0.0,0.0,2014-02-06T06:26:25.560,3.0,3394.0,"""not listed in package.json"" , node.js while installing NTVS","<p><img src=""https://i.stack.imgur.com/Yk9S4.png"" alt=""enter image description here""></p>

<p>In the red box following status  show for the modules.. can anyone  help me.. Thanks advance </p>
",<node.js><express><dependencies><npm>,0.0,0,0,1
1629,1629,22090185,1,22090257,2641547,2.0,2.0,0.0,0.0,2014-02-28T08:44:29.380,6.0,14662.0,Cannot install express globally,"<p>I am trying to install express globally but everytime I run the command line 'npm install -g express' I get the following error message:</p>

<pre><code>npm http GET https://registry.npmjs.org/express
npm http 200 https://registry.npmjs.org/express
npm ERR! Error: EACCES, mkdir '/usr/local/lib/node_modules/express'
npm ERR!  { [Error: EACCES, mkdir '/usr/local/lib/node_modules/express']
npm ERR!   errno: 3,
npm ERR!   code: 'EACCES',
npm ERR!   path: '/usr/local/lib/node_modules/express',
npm ERR!   fstream_type: 'Directory',
npm ERR!   fstream_path: '/usr/local/lib/node_modules/express',
npm ERR!   fstream_class: 'DirWriter',
npm ERR!   fstream_stack: 
npm ERR!    [ '/usr/local/lib/node_modules/npm/node_modules/fstream/lib/dir-writer.js:36:23',
npm ERR!      '/usr/local/lib/node_modules/npm/node_modules/mkdirp/index.js:37:53',
npm ERR!      'Object.oncomplete (fs.js:107:15)' ] }
npm ERR! 
npm ERR! Please try running this command again as root/Administrator.

npm ERR! System Darwin 13.0.0
npm ERR! command ""node"" ""/usr/local/bin/npm"" ""install"" ""-g"" ""express""
npm ERR! cwd /Folder
npm ERR! node -v v0.10.26
npm ERR! npm -v 1.4.3
npm ERR! path /usr/local/lib/node_modules/express
npm ERR! fstream_path /usr/local/lib/node_modules/express
npm ERR! fstream_type Directory
npm ERR! fstream_class DirWriter
npm ERR! code EACCES
npm ERR! errno 3
npm ERR! stack Error: EACCES, mkdir '/usr/local/lib/node_modules/express'
npm ERR! fstream_stack /usr/local/lib/node_modules/npm/node_modules/fstream/lib/dir-writer.js:36:23
npm ERR! fstream_stack /usr/local/lib/node_modules/npm/node_modules/mkdirp/index.js:37:53
npm ERR! fstream_stack Object.oncomplete (fs.js:107:15)
npm ERR! 
npm ERR! Additional logging details can be found in:
npm ERR!     /Users/Folder/npm-debug.log
npm ERR! not ok code 0
</code></pre>

<p>Does anyone have a clue what the problem is?</p>
",<node.js><express><terminal><installation><npm>,0.0,0,0,1
1737,1737,22542202,1,22542676,23875,2.0,0.0,0.0,0.0,2014-03-20T18:38:20.397,0.0,304.0,Using Jade That Comes With Express.js,"<p>So I've got a project that uses Express.js and Jade.  There are a few Jade snippets that I use to create HTML inside the Node.js app.</p>

<h1>Example:</h1>

<pre><code>var jade = require('jade');

var jadeStr = jade.compile('&lt;h1 class=""#{ var.class }""&gt;var.heading&lt;/h1&gt;');
var jadeObj = { class: ""heading"", heading: ""Example heading text.""};

var htmlString = jadeStr(jadeObj);
// use htmlString for a log or error message or whatever
</code></pre>

<p>Right now my <code>package.json</code> file includes both Express.js and Jade, I'd prefer to rely on Express to supply the Jade package, as I don't want to worry about keeping Express and Jade versions in-sync.</p>

<p>When I remove Jade from my <code>package.json</code>, it errors that it can't find the Jade library.  Is there a way of getting the Jade library used by Express.js without including it separately in my <code>package.json</code> file?</p>
",<node.js><express><npm><pug><require>,0.0,0,0,1
1831,1831,22999612,1,23008130,1455026,1.0,0.0,0.0,0.0,2014-04-10T21:43:56.583,7.0,12249.0,zsh: command not found: express,"<p>I installed node and npm and both work fine.</p>

<p>However, when I try to install express via <code>npm install -g express</code> I get:</p>

<p>zsh: command not found: express.</p>

<p>I Have tried adding various paths in my <code>.zshrc</code> file with no luck.</p>

<p>If I echo <code>$path</code> I get this:</p>

<pre><code>Users/Adam/.nvm/v0.10.26/bin /usr/local/heroku/bin /Users/Adam/.rbenv/shims /usr/local/bin /usr/bin /bin /usr/sbin /sbin
</code></pre>

<p>If i run <code>npm - prefix -g</code> i get this:</p>

<pre><code>npm@1.4.3 /Users/Adam/.nvm/v0.10.26/lib/node_modules/npm
</code></pre>

<p>Using mac osx 10 with zsh.</p>
",<node.js><express><npm>,0.0,0,0,1
1833,1833,23002798,1,0,2284688,1.0,4.0,0.0,0.0,2014-04-11T03:10:04.200,0.0,90.0,Creating a express website it throws me the following error,"<p>I just installed node from nodejs.org I'm trying to create a simple website using express and when I called <code>express -c stylus test</code> or <code>sudo express -c stylus test</code> it shows me the following error <code>express: command not found</code>.</p>

<p>I installed express at a global level already.  </p>

<p>Thanks for the help in advance. </p>

<p>Cheers, </p>
",<node.js><express><npm>,0.0,0,0,1
1851,1851,23097826,1,23097939,1787967,2.0,1.0,0.0,0.0,2014-04-16T02:15:52.560,20.0,20843.0,install express with npm,"<p>I recently installed nodejs version 0.10.26 on ubuntu 64 bit. node -v and npm -v commands run fine and I can see the correct versions. When I do a <code>$ sudo npm install -g express
</code> the installation goes fine. But when I try to create a project with express as <code>$ express myProject</code> I get an error saying </p>

<blockquote>
  <p>The program 'express' is currently not installed. You can install it
  by typing: sudo apt-get install node-express</p>
</blockquote>

<p>Do I have to include some path in $PATH in order to run express? Please help.</p>
",<node.js><ubuntu><express><npm>,0.0,0,0,1
1899,1899,23319247,1,23319796,1370927,2.0,0.0,0.0,0.0,2014-04-27T04:01:15.810,5.0,17146.0,"Node js, express delete file at path","<p>I have a photo model:</p>

<pre><code>var photoSchema = mongoose.Schema({
    name: { type: String},
    path: { type: String},
    vehicle: { type: ObjectId, ref: 'Vehicle' }
  });
</code></pre>

<p>A photo is deleted with the route:</p>

<pre><code>app.delete('/api/photos/:id/delete', photos.delete (app.get('photos')));
</code></pre>

<p>I can delete the photo from mongo using:</p>

<pre><code>exports.deletePhoto = function (dir) {
  function (req, res, next) {
    var id = req.params.id;
    Photos.delete (id, function (err) {
      if (err) return next (err);
      return res.send ({
        status: ""200"",
        responseType: ""string"",
        response: ""success""
      });
    });
  };
};
</code></pre>

<p>The photo is saved on disk at </p>

<pre><code>app.set('photos', __dirname + '/public/photos');
</code></pre>

<p>How do I delete the photo from disk in the deletePhoto function?</p>
",<node.js><express><mongoose><npm>,0.0,0,0,1
1904,1904,23338393,1,23348036,2867106,2.0,3.0,0.0,0.0,2014-04-28T10:15:50.897,43.0,39882.0,npm install not installing latest version on GitHub,"<p>I have a module called 'sails-mongo' and I want to update it to the newest version using the following command:</p>

<pre><code>npm update sails-mongo --save
</code></pre>

<p>I also tried uninstall then install again. I tried <code>sails-mongo@latest</code> and <code>sails-mongo@beta</code>.</p>

<p><strong>Problem</strong>:
The current version (<strong>master</strong>) on GitHub the package.json (<a href=""https://github.com/balderdashy/sails-mongo/blob/master/package.json"">https://github.com/balderdashy/sails-mongo/blob/master/package.json</a>) file has:</p>

<pre><code>""dependencies"": {
  ""async"": ""~0.2.9"",
  ""lodash"": ""~2.4.1"",
  ""mongodb"": ""1.4.2"",
  ""waterline-errors"": ""~0.10.0""
},
</code></pre>

<p>And in the one being updated</p>

<pre><code>""dependencies"": {
  ""async"": ""0.2.10"",
  ""underscore"": ""1.5.2"",
  ""underscore.string"": ""2.3.3"",
  ""mongodb"": ""~1.3.23""
},
</code></pre>

<p>The only way I get the master branch is using the command <code>npm install git+https://github.com/balderdashy/sails-mongo</code></p>

<p><strong>Why doesn't <code>sails-mongo@latest</code> install the master branch?</strong></p>
",<node.js><express><npm><sails.js><waterline>,0.0,0,0,1
1905,1905,23342529,1,0,3523048,0.0,4.0,0.0,0.0,2014-04-28T13:32:19.720,1.0,2249.0,Hows uninstall express (in order to install a previous version),"<p>I want to downgrade the the express version from 4.0.0 to 3.4.4 installed globally.
So I tried with sudo aslo:</p>

<pre><code>Simo$ npm uninstall express npm 
      WARN uninstall not installed in
      /node-dev/DaysApp/node_modules: ""express""
</code></pre>

<p>And globally:</p>

<pre><code>Simo$ sudo npm uninstall -g express 
      Password: 
      npm WARN uninstall not installed in /usr/local/lib/node_modules: ""express""
</code></pre>

<p>And I changed the express dependencies version in the package.json to 3.4.4 and did <code>$ npm install</code> and also <code>$ npm install express@3.4.4</code> . But the vesion still 4.0.0</p>

<p>Thank you for your help.</p>
",<node.js><express><npm>,0.0,0,0,1
1908,1908,23353989,1,23354051,1161254,1.0,1.0,0.0,0.0,2014-04-29T01:31:53.283,4.0,1203.0,Express v4.0.0 does not include --sessions command or cmd but prior versions do,"<p>Since I'm not intimately familiar with Express, can anybody tell me why v4.0.0 doesn't include  --sessions as a command?</p>

<p>When I use version 3.4.8 this command is supported, but when I grab the newest version, I run into 2 issues:</p>

<ol>
<li>The Express.cmd isn't generated (I'm running on Win8.1 x64) - Therefore I had to run <code>npm install express-generator</code></li>
<li>No included support for the --sessions command</li>
</ol>

<p>I might also be missing something and this was an intentional separation done by the Express team?</p>
",<node.js><express><npm>,0.0,0,0,1
1920,1920,23392635,1,0,203617,2.0,2.0,0.0,0.0,2014-04-30T15:50:03.627,3.0,3061.0,Running Express.js in Windows 7,"<p>I tried install express (using -g for global) in Windows 7 using </p>

<pre><code> npm install -g express
</code></pre>

<p>I get the following and no errors:</p>

<pre><code> npm http GET https://registry.npmjs.org/express
 ...
 npm http GET https://registry.npmjs.org/mime/-/mime-1.2.11.tgz
 npm http 200 https://registry.npmjs.org/mime/-/mime-1.2.11.tgz
 npm http 304 https://registry.npmjs.org/debug/0.8.0
 express@4.1.1 C:\Users\xxx\AppData\Roaming\npm\node_modules\express
 ├── methods@0.1.0
 ├── parseurl@1.0.1
 ..    
 ├── type-is@1.1.0 (mime@1.2.11)
 └── accepts@1.0.1 (negotiator@0.4.3, mime@1.2.11)
</code></pre>

<p>When I type express, I get:</p>

<pre><code> 'express' is not recognized as an internal or external command. 
</code></pre>

<p>Any idea why this would happen?</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
1926,1926,23410231,1,0,2154872,1.0,4.0,0.0,0.0,2014-05-01T14:55:27.013,0.0,672.0,Installing express in Ubuntu,"<p>I'm trying to install express in my ubuntu using the next command:</p>

<pre><code>sudo npm install -g express
</code></pre>

<p>But when I try to use express to create a new app:</p>

<pre><code>express new_app_name
</code></pre>

<p>I get the next error(Is in spanish but it says ""express command not found""):</p>

<pre><code>express: no se encontró la orden
</code></pre>

<p>Can somebody help me?</p>
",<node.js><express><npm>,0.0,0,0,1
1944,1944,23479599,1,26586549,2779852,2.0,2.0,0.0,0.0,2014-05-05T18:50:39.843,2.0,3476.0,I cannot use npm start to start an express server on windows,"<p>I am new to node. I am trying to run an express server. I get no errors when installing express but when i run <code>npm start</code> or <code>node app</code> (as all the beginner tutorials point) nothing seems to be happening. The only way i can start the server is by typing <code>node /bin/www</code>. My operating system is Windows. Any advice?</p>
",<node.js><express><npm>,0.0,0,0,1
2001,2001,23728111,1,23728146,3650893,1.0,0.0,0.0,0.0,2014-05-19T00:12:44.393,0.0,4423.0,Unable to install Express Node module on Raspberry Pi,"<p>Newbie with raspberry and node here.</p>

<p>I have followed these <a href=""https://stackoverflow.com/questions/23697946/nodejs-version-issue-when-installing-express"">instructions</a> to update nodejs on my raspberry pi running Raspbian, but when I check if the Express module is installed correctly (via the npm list command) I get the following (please excuse the special characters generated by copy-paste):</p>

<pre><code>pi@cutiepi ~ $ npm list
/home/pi
âââ UNMET DEPENDENCY express *
âââ¬ socket.io@0.9.16
  âââ base64id@0.1.0
  âââ policyfile@0.0.4
  âââ redis@0.7.3
  âââ¬ socket.io-client@0.9.16
    âââ¬ active-x-obfuscator@0.0.1
    â âââ zeparser@0.0.5
    âââ uglify-js@1.2.5
    âââ¬ ws@0.4.31
    â âââ commander@0.6.1
    â âââ nan@0.3.2
    â âââ options@0.0.5
    â âââ tinycolor@0.0.1
    âââ xmlhttprequest@1.4.2

npm ERR! missing: express@*, required by undefined@undefined
npm ERR! not ok code 0
</code></pre>

<p>I've run these steps prior to the above, and each step looks successfully completed:</p>

<pre><code>335  node -v

336  npm -v

337  nodejs -v

338  npm list

339  sudo apt-get purge nodejs

340  nodejs -v

341  which nodejs

342  sudo apt-get update

343  sudo apt-get install python-software-properties

344  sudo add-apt-repository ppa:chris-lea/node.js

345  sudo apt-get update

346  sudo apt-get install nodejs

347  which nodejs

348  nodejs -v

349  sudo npm install express -g

350  which express

351  npm list
</code></pre>

<p>Looking for any advice how I can fix this problem.  Thank you in advance, please let me know if I can provide more info that might help.</p>
",<node.js><express><npm><raspberry-pi>,0.0,0,0,1
2076,2076,24072812,1,0,707032,6.0,1.0,0.0,0.0,2014-06-06T01:30:34.123,18.0,19962.0,Forever Node.JS Express 4,"<p>How do you run the Express 4 app with Forever? (or is there a new package?)</p>

<p>I am running my Express 3 apps with <a href=""https://www.npmjs.org/package/forever"">Forever</a> installed locally with the package manager. I use the command:</p>

<pre><code>forever -a start app.js
</code></pre>
",<express><npm><forever><express-4>,0.0,0,0,1
2099,2099,24149848,1,24149904,2589193,1.0,1.0,0.0,0.0,2014-06-10T20:00:06.503,0.0,397.0,Express on NPM doesn't start application,"<p>Installed latest NPM v0.10.28
Then I installed express by</p>

<pre><code>npm install express -g
</code></pre>

<p>Then I installed app as folows</p>

<pre><code>express testExpress
cd testExpress &amp;&amp; npm install
</code></pre>

<p>Then I ran following command to start server</p>

<pre><code>DEBUG=testExpress ./bin/www
</code></pre>

<p>But it gives error</p>

<pre><code>'DEBUG' is not recognized as an internal or external command,
 operable program or batch file.
</code></pre>

<p>Also tried </p>

<pre><code> node DEBUG=testExpress ./bin/www
</code></pre>

<p>Still gives error</p>

<pre><code>module.js:340
    throw err;
          ^
Error: Cannot find module 'C:\tmp\testExpress\DEBUG=testExpress'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Function.Module.runMain (module.js:497:10)
    at startup (node.js:119:16)
    at node.js:906:3
</code></pre>

<p>What mistake I am doing ? Please help.</p>
",<express><npm>,1.0,0,0,1
2104,2104,24164642,1,0,2845273,0.0,5.0,0.0,0.0,2014-06-11T13:48:18.743,0.0,161.0,"Why isn't ""sudo npm install -g express"" working?","<p>I am running Mac OSX 10.9.2,
Node v0.10.28,
NPM 1.4.9</p>

<p>I am doing the expressworks exercises</p>

<pre><code>sudo npm install -g express 
</code></pre>

<p>This command seemingly works but when I run the code </p>

<pre><code>var express = require('express');
var app = express();
app.get('/home', function(req,res) {
res.end('Hello World!');
});

app.listen(3000);
</code></pre>

<p>I get an error that says that node cannot find the module express.</p>

<p>I got it to work when I installed express locally with just</p>

<pre><code>npm install express
</code></pre>

<p>Can someone tell me if I did anything wrong in the first command? </p>
",<javascript><node.js><express><npm>,0.0,0,0,1
2132,2132,24283026,1,24292515,2861976,1.0,4.0,0.0,0.0,2014-06-18T10:19:13.643,0.0,2622.0,Error on using express module in node js,"<p>I am a newbie in node.js. I am using the following code. I have installed the express module and the related files have been installed.</p>

<pre><code>var express = require('express')
var app = express.createServer()
app.listen(8000)

var tweets = []

app.get('/', function(req, res) {
  res.send('Welcome to Node Twitter')
})

app.post('/send', express.bodyParser(), function(req, res) {
  if (req.body &amp;&amp; req.body.tweet) {
    tweets.push(req.body.tweet)
    res.send({status:""ok"", message:""Tweet received""})
  } else {
    //no tweet?
    res.send({status:""nok"", message:""No tweet received""})
  }
})

app.get('/tweets', function(req,res) {
  res.send(tweets)
})
</code></pre>

<p>I am getting the following error.</p>

<pre><code> var app = function(req, res, next) {
   app.handle(req, res, next);
 };

 mixin(app, proto);
 mixin(app, EventEmitter.prototype);

 app.request = { __proto__: req, app: app };
 app.response = { __proto__: res, app: app };
 app.init();
 return app;
 has no method 'createServer'
   at Object.&lt;anonymous&gt; (D:\ProgramFiles\Nodejs\node_modules\twitter.js:3:19)
   at Module._compile (module.js:456:26)
   at Object.Module._extensions..js (module.js:474:10)
   at Module.load (module.js:356:32)
   at Function.Module._load (module.js:312:12)
   at Function.Module.runMain (module.js:497:10)
   at startup (node.js:119:16)
   at node.js:906:3
</code></pre>

<p>This happens when I place the file outside the modules folder. When I place it somewhere else, it cant find the module also and returns the following error.</p>

<pre><code>module.js:340
    throw err;
          ^
Error: Cannot find module 'express'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at Object.&lt;anonymous&gt; (D:\NodeApp\twitter.js:1:77)
    at Module._compile (module.js:456:26)
    at Object.Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Function.Module.runMain (module.js:497:10)
</code></pre>

<p>How to resolve this?</p>
",<node.js><express><npm>,1.0,0,0,1
2139,2139,24334005,1,24334563,2848483,5.0,8.0,0.0,0.0,2014-06-20T19:01:51.870,22.0,35243.0,node . and npm start don't work,"<p>The title says most of the problem. When I try to run <code>node .</code> I get:</p>

<pre><code>    module.js:340
    throw err;
          ^
Error: Cannot find module 'static-favicon'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Function.Module.runMain (module.js:497:10)
    at startup (node.js:119:16)
    at node.js:902:3
</code></pre>

<p>There seems to be no modules folder actually. I'm just running <code>express</code> in an empty directory</p>

<p>npm works fine however. This is with a fresh express install if it matters. Any help would be awesome, thanks!</p>

<p>the full error messages:</p>

<pre><code> new-host-2:~ Brennan$ cd Desktop/
new-host-2:Desktop Brennan$ mkdir test4
new-host-2:Desktop Brennan$ cd test4
new-host-2:test4 Brennan$ express -e

   create : .
   create : ./package.json
   create : ./app.js
   create : ./public
   create : ./public/javascripts
   create : ./public/images
   create : ./public/stylesheets
   create : ./public/stylesheets/style.css
   create : ./routes
   create : ./routes/index.js
   create : ./routes/users.js
   create : ./views
   create : ./views/index.ejs
   create : ./views/error.ejs
   create : ./bin
   create : ./bin/www

   install dependencies:
     $ cd . &amp;&amp; npm install

   run the app:
     $ DEBUG=test4 ./bin/www

new-host-2:test4 Brennan$ node app.js

module.js:340
    throw err;
          ^
Error: Cannot find module 'static-favicon'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at Object.&lt;anonymous&gt; (/Users/Brennan/Desktop/test4/app.js:3:15)
    at Module._compile (module.js:456:26)
    at Object.Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Function.Module.runMain (module.js:497:10)
new-host-2:test4 Brennan$ npm start app.js
npm ERR! Error: ENOENT, open '/Users/Brennan/Desktop/test4/node_modules/app.js/package.json'
npm ERR! If you need help, you may report this *entire* log,
npm ERR! including the npm and node versions, at:
npm ERR!     &lt;http://github.com/npm/npm/issues&gt;

npm ERR! System Darwin 12.4.0
npm ERR! command ""node"" ""/usr/local/bin/npm"" ""start"" ""app.js""
npm ERR! cwd /Users/Brennan/Desktop/test4
npm ERR! node -v v0.10.26
npm ERR! npm -v 1.4.7
npm ERR! path /Users/Brennan/Desktop/test4/node_modules/app.js/package.json
npm ERR! code ENOENT
npm ERR! errno 34
npm ERR! 
npm ERR! Additional logging details can be found in:
npm ERR!     /Users/Brennan/Desktop/test4/npm-debug.log
npm ERR! not ok code 0
new-host-2:test4 Brennan$ forever app.js
warn:    --minUptime not set. Defaulting to: 1000ms
warn:    --spinSleepTime not set. Your script will exit if it does not stay up for at least 1000ms

module.js:340
    throw err;
          ^
Error: Cannot find module 'static-favicon'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at Object.&lt;anonymous&gt; (/Users/Brennan/Desktop/test4/app.js:3:15)
    at Module._compile (module.js:456:26)
    at Object.Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Function.Module.runMain (module.js:497:10)
error: Forever detected script exited with code: 8
</code></pre>
",<node.js><express><npm>,1.0,0,0,1
2189,2189,24526374,1,25801342,2386368,2.0,0.0,0.0,0.0,2014-07-02T08:29:35.320,2.0,1194.0,Mean.io framework with socket.io,"<p>How to use socket.io in Mean.io stack?</p>

<p>First of all, Mean.io changes their folder structure very regularly.. So my question is where is the best place to configure socket.io ? or is it better to use express.io ?</p>

<p>Second I am still not quite sure where to look for to find code that tells mean.io to listen for port, I have found a port is defined in config folder in all.js file, but real problem is as soon as I define server.listen(port) app doesn't load. and if I don't app loads but socket.io doesn't work.</p>

<p>Also I have another question about /socket.io/socket-io.js file? I have copied that in index folder, but my app can't find it or says 404 error. I know it's not an actual file sitting on any such location as far as I have understood, also people suggested to put that line as 127.0.0.1/socket.io/socket-io.js but none made the js file available for the app to be able to run socket.io.</p>

<p>What is the proper way of defining socket.io in mean.io framework?</p>
",<angularjs><express><socket.io><npm><mean.io>,0.0,0,0,1
2260,2260,24849388,1,0,3141914,1.0,0.0,0.0,0.0,2014-07-20T10:04:13.990,-1.0,1270.0,nodejs express npm install dependencies errors,"<p>I am very new to node.js and am following <a href=""http://cwbuecheler.com/web/tutorials/2013/node-express-mongo/"" rel=""nofollow"">this tutorial</a></p>

<p>When I get to step 5, after completing step 1-4 successfully, and run the npm install command I get these errors.
<a href=""https://i.stack.imgur.com/LPN49.png"" rel=""nofollow"">https://i.stack.imgur.com/LPN49.png</a>
Also when I run npm start command I get these errors in image 2
<a href=""https://i.stack.imgur.com/TrOJz.png"" rel=""nofollow"">https://i.stack.imgur.com/TrOJz.png</a></p>

<p>Please help me rectify these errors.</p>
",<node.js><mongodb><express><npm>,0.0,0,0,1
2272,2272,24904986,1,24905010,280842,1.0,0.0,0.0,0.0,2014-07-23T08:05:28.473,0.0,760.0,What's the `composer require` equivalent for npm?,"<p>I am pretty familiar with composer and now looking into <code>npm</code>, the command below doesn't seen to change the <code>package.json</code> file like <code>composer require slim/slim 2.4.3</code></p>

<pre><code>npm install express
</code></pre>

<p>Is changing the json manually necessary?</p>
",<node.js><express><npm><composer-php>,0.0,0,0,1
2278,2278,24920142,1,0,3870372,11.0,3.0,0.0,0.0,2014-07-23T20:16:51.817,30.0,70761.0,"package.json must be actual JSON, not just JavaScript","<p>I used <a href=""http://jsonlint.com/"">http://jsonlint.com/</a> to check the syntax for this package.json file</p>

<pre><code>{
  ""name"": ""hello-world"",
  ""description"": ""hello world test app"",
  ""version"": ""0.0.1"",
  ""private"": true,
  ""dependencies"": {
    ""express"": “4.6.1""
  }
}
</code></pre>

<p>it returns the error </p>

<pre><code>Parse error on line 7:
...        ""express"": “4.6.1""  }}
----------------------^
Expecting 'STRING', 'NUMBER', 'NULL', 'TRUE', 'FALSE', '{', '['
</code></pre>

<p>not sure what is wrong with this. terminal is throwing the error for using npm install</p>

<pre><code>""Failed to parse package.json data.
npm ERR! package.json must be actual JSON, not just JavaScript.""
</code></pre>
",<json><node.js><express><npm>,0.0,0,0,1
2340,2340,25093734,1,25098792,3852946,1.0,5.0,0.0,0.0,2014-08-02T09:49:33.190,0.0,661.0,"Globally instaling packages doesn't work (node.js, npm)","<p>For example I installed express with global (-g) parameter. In node.js/node_modules folder express doesn't exists.</p>

<p>I tried to install it without global parameter and it works perfectly.</p>

<p>How to install it globally?</p>

<p>Thanks.</p>
",<node.js><express><npm>,0.0,0,0,1
2356,2356,25143525,1,0,1376717,5.0,6.0,0.0,0.0,2014-08-05T16:08:53.920,23.0,16628.0,Can we configure multer to not store files locally and only for using req.files.image.path?,"<p>My application's need is as follows:
I upload the image to Cloudinary and store the url of image in my mongodb database.</p>

<p>To upload the image to cloudinary, I needed to give the file path, and for that, I am using multer.I use the statement:</p>

<p>app.use(multer({ dest: './uploads/'}));</p>

<p>The problem I face is that, everytime I upload an image from my local system to the database on Cloudinary, a local copy gets created in './uploads/'.I want this to not happen, since my images are there on Cloudinary.</p>

<p>I read the <a href=""https://github.com/expressjs/multer"">documentation of multer</a> where it says:</p>

<blockquote>
  <p>Multer accepts an options object, the most basic of which is the dest property, which tells Multer where to upload the files. In case you omit the options object, the file will be renamed and uploaded to the temporary directory of the system.</p>
</blockquote>

<p>I am unable to make out if that temporary upload space needs cleaning or if it is taken care of.My images are uploaded on Cloudinary.I used multer only for getting :</p>

<p>req.files.photo.path</p>

<p>to work.Is there any other way to do the same or if multer can be configured in a way to not store images to my local system?</p>
",<node.js><express><npm><multer>,0.0,0,0,1
2367,2367,25193178,1,0,1282430,1.0,0.0,0.0,0.0,2014-08-07T22:16:57.123,0.0,64.0,How do I install a node module in meanio project?,"<p>I have created a new project with mean and now I am stumped on how to propery integrate a new node module  (lodash).  I have installed the node module <code>npm install lodash --save</code> and I see that it has added it to the package.json file and the assets are in the root node_modules folder.</p>

<p>How do I actually use it in my project??</p>
",<express><npm><mean.io>,0.0,0,0,1
2384,2384,25261357,1,0,218349,1.0,3.0,0.0,0.0,2014-08-12T09:55:57.933,0.0,41.0,ExpressJS - Not able to create Basic App,"<p>I installed the <code>express</code> - using <code>npm -g express</code>, And the express is installed globally. which is available on my system in the path of <code>C:\Users\xxxxx\AppData\Roaming\npm\node_modules</code>.</p>

<p>Later I try to create a Basic App, using <code>express</code> in the command of <code>express myApp</code> ( after I mapped a <code>sampleFolder</code>, But the <code>express</code> is not providing any basic app settings.</p>

<p>Instead, it throws the error as :</p>

<pre><code>D:\Tutorials\Angular\Projects - Angular\NG-SERVER&gt;express myApp
'express' is not recognized as an internal or external command,
operable program or batch file.
</code></pre>

<p>What is the thing which i do incorrect here? any one help me to create <code>express</code> basic app please?</p>

<p>I am using <code>Windows7</code> here.</p>

<p>Thanks In advance!</p>
",<node.js><express><npm>,0.0,0,0,1
2466,2466,25520851,1,25521993,3545212,2.0,9.0,0.0,0.0,2014-08-27T07:04:39.440,1.0,4790.0,error when trying to install body-parser,"<p>im trying to install body-parser into my project but i get an error:</p>

<pre><code>npm install body-parser  --registry http://registry.npmjs.org/ 
npm http 304 http://registry.npmjs.org/raw-body
npm ERR! error installing body-parser@1.0.2
npm ERR! Error: No compatible version found: raw-body@'&gt;=1.1.2- &lt;1.2.0-'
npm ERR! Valid install targets:
npm ERR! [""0.0.1"",""0.0.2"",""0.0.3"",""0.1.0"",""0.1.1"",""0.2.0"",""1.0.0"",""1.0.1"",""1.1.0""]
</code></pre>

<p>im using npm 1.1.4 , node 0.6.12 on Ubunto.</p>
",<node.js><ubuntu><express><npm>,0.0,0,0,1
2478,2478,25568517,1,0,1917216,2.0,4.0,0.0,0.0,2014-08-29T12:41:14.307,2.0,328.0,Express not creating app,"<p>I have run the following commands:</p>

<pre><code>sudo apt-get update
sudo apt-get install nodejs
sudo apt-get install npm
npm install -g express-generator@4
</code></pre>

<p>However when I get to the following command, it does nothing:</p>

<pre><code>express /tmp/foo &amp;&amp; cd /tmp/foo
</code></pre>

<p>Thanks in advance for any help.</p>
",<node.js><ubuntu><express><npm>,0.0,0,0,1
2514,2514,25685013,1,25690656,4011548,1.0,0.0,0.0,0.0,2014-09-05T11:35:08.933,0.0,818.0,How to start a session when user logs in and end session when user logs out,"<p>I am new to node.js.  How should I start a session when the user logs in and end the session when the user logs out?</p>

<p>Please note the environment of this application:</p>

<ol>
<li>I'm using Windows</li>
<li>NPM, Express </li>
<li>MySQL for Node</li>
</ol>

<p>This is my app.js file:</p>

<pre><code>var express = require('express');
var routes = require('./routes');
var http = require('http');
var path = require('path');
var customers = require('./routes/customers'); 
var app = express();
var connection  = require('express-myconnection'); 
var mysql = require('mysql');
app.set('port', process.env.PORT || 4300);
app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'ejs');
app.use(express.logger('dev'));
app.use(express.json());
app.use(express.urlencoded());
app.use(express.methodOverride());
app.use(express.static(path.join(__dirname, 'public')));
if ('development' == app.get('env')) {
  app.use(express.errorHandler());
}
app.use(
    connection(mysql,{
        host: 'localhost',
        user: 'root',
        password : '',
        //port : 3306, //port mysql
        database:'nodejs'
    },'pool') //or single
);
app.get('/', customers.login);
app.get('/login', customers.login);
app.post('/login', customers.checklogin);
app.get('/logout', customers.logout);
app.use(app.router);
http.createServer(app).listen(app.get('port'), function(){
  console.log('Express server listening on port ' + app.get('port'));
});
</code></pre>

<p>And this is routing File (customers.js):</p>

<pre><code>exports.logout = function(req, res){
    var messages = '';
    res.render('login',{page_title:""Login"",message: messages});
};
exports.checklogin = function(req,res){
    var loginInput = JSON.parse(JSON.stringify(req.body));
    req.getConnection(function (err, connection) {
        var username    = loginInput.username;
        var pswd        = loginInput.pswd;
        var query = connection.query(""SELECT * FROM users WHERE username = ? AND pswd = ? "",[username,pswd], function(err,rows)
        {
            var messages = 'Username/Password is wrong. Try again.';
            res.render('login',{page_title:""Login"",message: messages});

        });
    });
};
</code></pre>
",<mysql><node.js><express><npm><ejs>,0.0,0,0,1
2520,2520,25714176,1,0,3467293,0.0,3.0,0.0,0.0,2014-09-07T19:53:25.977,4.0,1228.0,How to send data into an OpenOffice word template from NodeJS,"<p>How can I get data passed from NodeJS into placeholders of a OpenOffice template file? Is there any npm packages available to parse an ODT template file so that I can print data into it? </p>

<p>I have a 13 page word file (a template for printing reports) and I want to populate it with certain details from the DB into the different pages of this file. I like to pass the data in JSON format.</p>

<p>What I know is how to write into a plain text/excel file from node, but I want to write into the placeholders of a word template without loosing other parts of the template. I did the same with VBScript (with microsoft word template) in the past. Now want to achieve the same using nodejs. Please share with me your ideas..thanks</p>
",<node.js><express><npm><openoffice-writer>,0.0,0,0,1
2539,2539,25786416,1,25787743,4011548,2.0,1.0,0.0,0.0,2014-09-11T11:36:21.240,1.0,2957.0,How to get recent added recode id from mysql in node.js,"<p>I am adding new user information in mysql db. how can i get recent added record id so that i can create user login detail. Please mind the environment of this Application. 
I'm using 
 1. Windows 
 2. NPM, Express 
 3. MySQL
Here is my code.</p>

<pre><code>var input = JSON.parse(JSON.stringify(req.body));
        req.getConnection(function (err, connection) {
            var data = {
                username    : input.username,
                pswd : input.pswd,
                email   : input.email,
                phone   : input.phone 
            };
            var query = connection.query(""INSERT INTO customer set ? "",data, function(err, rows)
            {
                if (err)
                    console.log(""Error inserting : %s "",err );
                //console.log(query.sql);
                    res.redirect('/dashboard');
            });
        });
</code></pre>
",<mysql><json><node.js><express><npm>,0.0,0,0,1
2552,2552,25829362,1,25829388,1049757,1.0,2.0,0.0,0.0,2014-09-14T01:46:27.730,2.0,17297.0,Node.js Express JS - Could not find module,"<p>Ive allready read 3-4 topics on this here at stackoverflow, but i simply cant seem to run my node.</p>

<p>I Try to run:</p>

<pre><code>node app.js local
</code></pre>

<p>and it returns:</p>

<pre><code>Error: Cannot find module './config'
at Function.Module._resolveFilename (module.js:338:15)
at Function.Module._load (module.js:280:25)
at Module.require (module.js:364:17)
at require (module.js:380:17)
at Object.&lt;anonymous&gt; (/Users/larsfalcon/Documents/lkrieger/git/testinggrounds/app.js:2:14)
at Module._compile (module.js:456:26)
at Object.Module._extensions..js (module.js:474:10)
at Module.load (module.js:356:32)
at Function.Module._load (module.js:312:12)
at Function.Module.runMain (module.js:497:10)
</code></pre>

<p>Before i run this command i do:</p>

<pre><code>npm i
</code></pre>

<p>And it installs my packages, i can physicaly see in my node_modules that express is there, but even if i try run express in the CLI it says its not a bash so i assume its not installed somehow still?</p>

<p>here is a review of my 2 app.js and index.js files that i need to run my node.</p>

<p>App.js</p>

<pre><code>var config = require('./config')();
http.createServer(app).listen(config.port, function(){
     console.log('Express server listening on port ' + config.port);
    });
</code></pre>

<p>index.js</p>

<pre><code>    var config = {
    local: {
        mode: 'local',
        port: 3000
    },
    staging: {
        mode: 'staging',
        port: 4000
    },
    production: {
        mode: 'production',
        port: 5000
    }
}
module.exports = function(mode) {
    return config[mode || process.argv[2] || 'local'] || config.local;
}
</code></pre>

<p>What should i do?</p>
",<javascript><node.js><bash><express><npm>,1.0,0,0,1
2563,2563,25860556,1,25861192,405763,2.0,0.0,0.0,0.0,2014-09-16T04:18:04.570,1.0,1123.0,"Unable to install express-generator at all (only on laptop, desktop is fine)","<p>I am trying to get up and running with express for node.js but I am running into problems at the installation stage.</p>

<p>I have installed node fine, and npm is working ok.</p>

<p>Machine: windows 7 on macbook air 2011</p>

<p>I first tried to install express via <code>npm install -g express</code> but was met with error after error, not so simple I guess. I followed some advice on the express website to create a <code>package.json</code> file in the directory I wanted to install express to, so I did that:</p>

<p>package.json:</p>

<pre><code>{
  ""name"": ""tutorial"",
  ""description"": ""tutorial test app"",
  ""version"": ""0.0.1"",
  ""private"": true,
  ""dependencies"": {
    ""express"": ""4.x""
  }
}
</code></pre>

<p>I then hit <code>npm install</code> and finally express installed into the directory (where the npm command and package.json were situated)</p>

<p>Now I try <code>npm install -g express-generator</code> as per the instructions at <a href=""http://expressjs.com/guide.html#executable"" rel=""nofollow"">Express Guide</a> however I am simply met with the same errors that I was getting before:</p>

<pre><code>c:\code\node\tutorial&gt;npm install -g express-generator
C:\Users\JosephGoss\AppData\Roaming\npm\express -&gt; C:\Users\JosephGoss\AppData\Roaming\npm\node_modules\express-generato
r\bin\express
npm ERR! peerinvalid The package flatiron does not satisfy its siblings' peerDependencies requirements!
npm ERR! peerinvalid Peer flatiron-cli-config@0.1.3 wants flatiron@~0.1.9
npm ERR! peerinvalid Peer flatiron-cli-users@0.1.1 wants flatiron@~0.1.9

npm ERR! System Windows_NT 6.1.7601
npm ERR! command ""C:\\Program Files\\nodejs\\\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js""
 ""install"" ""-g"" ""express-generator""
npm ERR! cwd c:\code\node\tutorial
npm ERR! node -v v0.10.31
npm ERR! npm -v 1.4.23
npm ERR! code EPEERINVALID
npm ERR!
npm ERR! Additional logging details can be found in:
npm ERR!     c:\code\node\tutorial\npm-debug.log
npm ERR! not ok code 0
</code></pre>

<p>I have searched around and could not find another install express tutorial that dealt with this issue. </p>

<p>EDIT: I have just tried to run <code>npm install -g express</code> and <code>npm install -g express-generator</code> on my desktop computer (windows 7 on an i7) and everything works fine.</p>

<p>I'll leave this up incase anyone knows why my laptop can't run npm install properly.</p>
",<node.js><express><installation><npm><express-generator>,0.0,0,0,1
2573,2573,25908558,1,0,4053698,1.0,1.0,0.0,0.0,2014-09-18T09:08:13.827,0.0,657.0,sh.exe.'express' command still not found after correctly set PATH variables,"<p>I'm using Windows 7 Ulitmate 64-Bit, I have re-installed node.js and Please don't tell me to reboot because, I've done it like thousand times.</p>

<p>The guides I found told me to install it by:</p>

<pre><code>npm install express -g
</code></pre>

<p>You also need to install the express-generator: </p>

<pre><code>npm install express-generator@4 -g
</code></pre>

<p>I even have set the paths correctly </p>

<p><a href=""https://i.stack.imgur.com/DYPr8.png"" rel=""nofollow"">https://i.stack.imgur.com/DYPr8.png</a></p>

<p>I read in other questions that spaces are not allowed; So, I have made their paths into variables. </p>

<p><a href=""https://i.stack.imgur.com/3UoXk.png"" rel=""nofollow"">https://i.stack.imgur.com/3UoXk.png</a></p>

<p>I've been figuring out, what kind of bullshit is going on?! I've been pulling my hair out of frustration. My question is, What have I done wrong?</p>
",<windows><node.js><express><windows-7><npm>,0.0,0,0,1
2588,2588,25946947,1,0,1477385,3.0,2.0,0.0,0.0,2014-09-20T08:43:25.983,2.0,5283.0,'npm start' with Express-Generator (NodeJS),"<p>I am a novice in NodeJS and I am trying to start with express and express-generator. I have installed express with the command:</p>

<pre><code>C:\project&gt;npm install -g express
</code></pre>

<p>Then I've installed the express-generator module:</p>

<pre><code>C:\project&gt;npm install -g express-generator
</code></pre>

<p>Then I create a folder for the project and install de dependencies:</p>

<pre><code>C:\project\express&gt; nodetest1
C:\project\nodetest1&gt;npm install
</code></pre>

<p>Everything works fine there, but the problem appears when I try to start the server, with the command:</p>

<pre><code>C:\project\nodetest1&gt;npm start
</code></pre>

<p>It seems that the service starts but it closes as soon as it starts, result:</p>

<pre><code>&gt; nodetest1@0.0.0 start C:\project\nodetest1
&gt; node ./bin/www

C:\project\nodetest1&gt;
</code></pre>

<p>When I try to open <em>localhost:3000</em> it doesn't work. I have search on the net and I haven't found a solution for it, could someone guide me on how to solve this problem?</p>

<p>Thank you.</p>

<p>Update 1:</p>

<p>After having reinstalled node.js and followed the steps proposed below, now I get an error:</p>

<pre><code>C:\wamp\www\mynewapp&gt;npm start

&gt; mynewapp@0.0.0 start C:\wamp\www\mynewapp
&gt; node ./bin/www


npm ERR! mynewapp@0.0.0 start: `node ./bin/www`
npm ERR! spawn ENOENT
npm ERR!
npm ERR! Failed at the mynewapp@0.0.0 start script.
npm ERR! This is most likely a problem with the mynewapp package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     node ./bin/www
npm ERR! You can get their info via:
npm ERR!     npm owner ls mynewapp
npm ERR! There is likely additional logging output above.
npm ERR! System Windows_NT 6.1.7601
npm ERR! command ""C:\\Program Files\\nodejs\\\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""start""
npm ERR! cwd C:\wamp\www\mynewapp
npm ERR! node -v v0.10.32
npm ERR! npm -v 1.4.28
npm ERR! syscall spawn
npm ERR! code ELIFECYCLE
npm ERR! errno ENOENT
npm ERR! mynewapp@0.0.0 start: `node ./bin/www`
npm ERR! Exit status -1
npm ERR!
npm ERR! Failed at the mynewapp@0.0.0 start script.
npm ERR! This is most likely a problem with the mynewapp package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     node ./bin/www
npm ERR! You can get their info via:
npm ERR!     npm owner ls mynewapp
npm ERR! There is likely additional logging output above.

npm ERR! System Windows_NT 6.1.7601
npm ERR! command ""C:\\Program Files\\nodejs\\\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""start""
npm ERR! cwd C:\wamp\www\mynewapp
npm ERR! node -v v0.10.32
npm ERR! npm -v 1.4.28
npm ERR! code ELIFECYCLE
npm ERR!
npm ERR! Additional logging details can be found in:
npm ERR!     C:\wamp\www\mynewapp\npm-debug.log
npm ERR! not ok code 0

C:\wamp\www\mynewapp&gt;
</code></pre>
",<node.js><express><npm><express-generator>,0.0,0,0,1
2669,2669,26196365,1,26196392,4109188,2.0,7.0,0.0,0.0,2014-10-04T19:29:13.117,0.0,2150.0,Start server node.js with forever on ubuntu,"<p>I been searching alot and no result with same problem as me. 
I have a Node.js application and I want to start it with <code>forever start app.js</code>, the process starts but no website found when i try in browser. The process is in the list when I write <code>forever list</code>.</p>

<p><code>Npm start</code> works fine but I cant use nodejs/node app.js or my_file.js.. It gives no error or something just new command line with no output in terminal.</p>

<p>So anyone know why I cant start the app with <code>nodejs app.js</code> or <code>forever start app.js</code> .. No files works. </p>

<p>Thanks!</p>
",<node.js><ubuntu><express><npm><forever>,0.0,0,0,1
2703,2703,26301757,1,0,3960884,1.0,2.0,0.0,0.0,2014-10-10T14:28:03.100,-2.0,83.0,"Why i cant install ""express""?","<p>first i installed :</p>

<pre><code>lds-MacBook-Pro:~ ldnwty$ node --version
v0.10.31
lds-MacBook-Pro:~ ldnwty$ npm --version
1.4.23
lds-MacBook-Pro:~ ldnwty$ express --version
4.8.0
</code></pre>

<p>then when i want to install the express in my project :</p>

<pre><code>lds-MacBook-Pro:contacts ldnwty$ npm install express
npm WARN package.json node@0.0.0 No description
npm WARN package.json node@0.0.0 No repository field.
express@4.9.6 ../../node_modules/express
├── merge-descriptors@0.0.2
├── utils-merge@1.0.0
├── fresh@0.2.4
├── cookie@0.1.2
├── escape-html@1.0.1
├── range-parser@1.0.2
├── cookie-signature@1.0.5
├── finalhandler@0.2.0
├── media-typer@0.3.0
├── vary@1.0.0
├── methods@1.1.0
├── parseurl@1.3.0
├── serve-static@1.6.4
├── path-to-regexp@0.1.3
├── depd@0.4.5
├── qs@2.2.4
├── on-finished@2.1.0 (ee-first@1.0.5)
├── etag@1.4.0 (crc@3.0.0)
├── debug@2.0.0 (ms@0.6.2)
├── proxy-addr@1.0.3 (forwarded@0.1.0, ipaddr.js@0.1.3)
├── send@0.9.3 (destroy@1.0.3, mime@1.2.11, ms@0.6.2)
├── type-is@1.5.2 (mime-types@2.0.2)
└── accepts@1.1.1 (negotiator@0.4.8, mime-types@2.0.2)
</code></pre>

<p>and its not installing it also with ""sudo"".</p>

<p>what can i do?</p>
",<javascript><node.js><express><terminal><npm>,0.0,0,0,1
2734,2734,26433315,1,0,3757233,1.0,2.0,0.0,0.0,2014-10-17T20:55:35.503,-2.0,1040.0,install NodeJS + Express + Jade into Bootstrap 3 template,"<p>I have installed NodeJS + Express + Jade into a folder, its working and all.</p>

<p>Node -v = v0.10.32</p>

<p>npm -v = 1.4.28</p>

<p>Mac OS X 10.9.5</p>

<p>Sublime Text 2</p>

<p>what i want to do is into this project place a Bootstrap 3 Theme.
<a href=""http://startbootstrap.com/template-overviews/sb-admin/"" rel=""nofollow"">http://startbootstrap.com/template-overviews/sb-admin/</a></p>

<p>How can i do this? i tried editing the app.js. Still no clue on how to do it im really new to all this. 
i found something that might be similar where editing the app.js with the following </p>

<pre><code> app.get('/', function(req, res){
  res.render('index.html');
});
</code></pre>

<p>but does not work for me.</p>

<p>Thanks Very Much.</p>
",<node.js><twitter-bootstrap><express><npm><pug>,0.0,0,0,1
2754,2754,26489274,1,26491066,3311646,1.0,2.0,0.0,0.0,2014-10-21T14:32:27.870,3.0,2014.0,#NAME?,"<p>I have a server with NodeJS and NPM already installed. 
Then process to install Express with NPM:</p>

<pre><code>$ npm install express -g
</code></pre>

<p>It answered:</p>

<pre><code>root@server ~ $ npm install express -g
npm http GET https://registry.npmjs.org/express
npm http 200 https://registry.npmjs.org/express
npm http GET https://registry.npmjs.org/debug
npm http GET https://registry.npmjs.org/depd/0.4.5
npm http GET https://registry.npmjs.org/escape-html/1.0.1
npm http GET https://registry.npmjs.org/parseurl
npm http GET https://registry.npmjs.org/on-finished
npm http GET https://registry.npmjs.org/methods/1.1.0
npm http GET https://registry.npmjs.org/path-to-regexp/0.1.3
npm http GET https://registry.npmjs.org/fresh/0.2.4
npm http GET https://registry.npmjs.org/media-typer/0.3.0
npm http GET https://registry.npmjs.org/proxy-addr
npm http GET https://registry.npmjs.org/range-parser
npm http GET https://registry.npmjs.org/qs/2.2.4
npm http GET https://registry.npmjs.org/serve-static
npm http GET https://registry.npmjs.org/send/0.9.3
npm http GET https://registry.npmjs.org/type-is
npm http GET https://registry.npmjs.org/vary
npm http GET https://registry.npmjs.org/cookie/0.1.2
npm http 304 https://registry.npmjs.org/debug
npm http 304 https://registry.npmjs.org/on-finished
npm http 304 https://registry.npmjs.org/escape-html/1.0.1
npm http GET https://registry.npmjs.org/merge-descriptors/0.0.2
npm http GET https://registry.npmjs.org/utils-merge/1.0.0
npm http GET https://registry.npmjs.org/finalhandler/0.2.0
npm http GET https://registry.npmjs.org/accepts
npm http GET https://registry.npmjs.org/etag
npm http 304 https://registry.npmjs.org/methods/1.1.0
npm http 304 https://registry.npmjs.org/depd/0.4.5
npm http 304 https://registry.npmjs.org/range-parser
npm http GET https://registry.npmjs.org/cookie-signature/1.0.5
npm http 304 https://registry.npmjs.org/proxy-addr
npm http 304 https://registry.npmjs.org/serve-static
npm http 304 https://registry.npmjs.org/fresh/0.2.4
npm http 304 https://registry.npmjs.org/type-is
npm http 304 https://registry.npmjs.org/media-typer/0.3.0
npm http 304 https://registry.npmjs.org/send/0.9.3
npm http 304 https://registry.npmjs.org/qs/2.2.4
npm http 304 https://registry.npmjs.org/vary
npm http 304 https://registry.npmjs.org/merge-descriptors/0.0.2
npm http 304 https://registry.npmjs.org/cookie/0.1.2
npm http 304 https://registry.npmjs.org/utils-merge/1.0.0
npm http 304 https://registry.npmjs.org/finalhandler/0.2.0
npm http 304 https://registry.npmjs.org/accepts
npm http 304 https://registry.npmjs.org/etag
npm http 304 https://registry.npmjs.org/cookie-signature/1.0.5
npm http 304 https://registry.npmjs.org/parseurl
npm http 304 https://registry.npmjs.org/path-to-regexp/0.1.3
npm http GET https://registry.npmjs.org/ee-first/1.0.5
npm http GET https://registry.npmjs.org/mime-types
npm http GET https://registry.npmjs.org/crc/3.0.0
npm http GET https://registry.npmjs.org/negotiator/0.4.9
npm http GET https://registry.npmjs.org/forwarded
npm http GET https://registry.npmjs.org/ipaddr.js/0.1.3
npm http GET https://registry.npmjs.org/ms/0.6.2
npm http GET https://registry.npmjs.org/destroy/1.0.3
npm http GET https://registry.npmjs.org/mime/1.2.11
npm http 304 https://registry.npmjs.org/mime-types
npm http 304 https://registry.npmjs.org/forwarded
npm http 304 https://registry.npmjs.org/negotiator/0.4.9
npm http 304 https://registry.npmjs.org/ipaddr.js/0.1.3
npm http 304 https://registry.npmjs.org/crc/3.0.0
npm http 304 https://registry.npmjs.org/ee-first/1.0.5
npm http 304 https://registry.npmjs.org/ms/0.6.2
npm http 304 https://registry.npmjs.org/mime/1.2.11
npm http 304 https://registry.npmjs.org/destroy/1.0.3
npm http GET https://registry.npmjs.org/mime-db
npm http 304 https://registry.npmjs.org/mime-db
express@4.9.8 /var/www/site/npm/lib/node_modules/express
├── merge-descriptors@0.0.2
├── utils-merge@1.0.0
├── cookie@0.1.2
├── fresh@0.2.4
├── escape-html@1.0.1
├── range-parser@1.0.2
├── cookie-signature@1.0.5
├── finalhandler@0.2.0
├── vary@1.0.0
├── media-typer@0.3.0
├── methods@1.1.0
├── parseurl@1.3.0
├── serve-static@1.6.4
├── path-to-regexp@0.1.3
├── depd@0.4.5
├── qs@2.2.4
├── debug@2.0.0 (ms@0.6.2)
├── on-finished@2.1.0 (ee-first@1.0.5)
├── proxy-addr@1.0.3 (forwarded@0.1.0, ipaddr.js@0.1.3)
├── etag@1.4.0 (crc@3.0.0)
├── send@0.9.3 (destroy@1.0.3, ms@0.6.2, mime@1.2.11)
├── accepts@1.1.2 (negotiator@0.4.9, mime-types@2.0.2)
└── type-is@1.5.2 (mime-types@2.0.2)
</code></pre>

<p>and also</p>

<pre><code>$ npm install express-generator -g
</code></pre>

<p>It answered:</p>

<pre><code>root@server ~ $ npm install express-generator -g
npm http GET https://registry.npmjs.org/express-generator
npm http 304 https://registry.npmjs.org/express-generator
npm http GET https://registry.npmjs.org/commander/1.3.2
npm http GET https://registry.npmjs.org/mkdirp/0.5.0
npm http 304 https://registry.npmjs.org/mkdirp/0.5.0
npm http 304 https://registry.npmjs.org/commander/1.3.2
npm http GET https://registry.npmjs.org/keypress
npm http GET https://registry.npmjs.org/minimist/0.0.8
npm http 200 https://registry.npmjs.org/minimist/0.0.8
npm http GET https://registry.npmjs.org/minimist/-/minimist-0.0.8.tgz
npm http 304 https://registry.npmjs.org/keypress
npm http 200 https://registry.npmjs.org/minimist/-/minimist-0.0.8.tgz
/var/www/site/npm/bin/express -&gt; /var/www/site/npm/lib/node_modules/express-generator/bin/express
express-generator@4.9.0 /var/www/site/npm/lib/node_modules/express-generator
├── commander@1.3.2 (keypress@0.1.0)
└── mkdirp@0.5.0 (minimist@0.0.8)
</code></pre>

<p>and all good up here, at least I no errors.
Now the problem arises when I want to use express:</p>

<pre><code>$ express myapp
</code></pre>

<p>It answered:</p>

<pre><code>-bash: express: command not found
</code></pre>

<p>Usually this problem occurs when there is express-generator was installed, and the install is solved, but it is not me =(. If anyone has any idea what I can do, will thank you.</p>

<p>NodeJS version: v0.11.13-pre 
NPM Version: 1.4.6</p>

<p>Ps: All these commands I ran as the root</p>

<p>Ps2: Sorry for my bad english</p>
",<node.js><bash><express><npm>,0.0,0,0,1
2757,2757,26493198,1,26493280,0,2.0,1.0,0.0,0.0,2014-10-21T17:59:33.840,2.0,1390.0,Express: command not found,"<p>On OSX, I've installed ExpressJS via</p>

<pre><code>sudo npm install express-generator -g
</code></pre>

<p>without errors, but I still get</p>

<pre><code>-bash: express: command not found
</code></pre>

<p>This is what I got when installing:</p>

<pre><code>/Users/myusername/.node/bin/express -&gt; /Users/myusername/.node/lib/node_modules/express-generator/bin/express
express-generator@4.9.0 /Users/myusername/.node/lib/node_modules/express-generator
├── commander@1.3.2 (keypress@0.1.0)
└── mkdirp@0.5.0 (minimist@0.0.8)
</code></pre>

<p>Any thoughts?</p>
",<node.js><express><npm>,0.0,0,0,1
2764,2764,26537502,1,0,3007481,1.0,3.0,0.0,0.0,2014-10-23T21:07:49.423,4.0,1311.0,"npm start error (spawn ENOENT, Failed at the nodetest1@0.0.0 start script.)","<p>Trying to start with this tutorial: <a href=""http://cwbuecheler.com/web/tutorials/2013/node-express-mongo/"" rel=""nofollow noreferrer"">http://cwbuecheler.com/web/tutorials/2013/node-express-mongo/</a>. It uses node.js, express, monk, mongoDB and is a tutorial for new comers to node and express like me. </p>

<p>But after installing express and all the necessary dependencies and following the steps to the detail, when I try to run ""npm start"", I get the following error, and I really have no idea what's causing it after searching for a similar answer on stackoverflow: </p>

<p>Part 1 of the error on console: 
<img src=""https://i.stack.imgur.com/dW75X.png"" alt=""Part1Error""></p>

<p>Part 2: 
<img src=""https://i.stack.imgur.com/TyiTM.png"" alt=""enter image description here""></p>

<p>npm-debug: 
<img src=""https://i.stack.imgur.com/ZdwkQ.jpg"" alt=""enter image description here""></p>
",<node.js><mongodb><express><npm>,0.0,0,0,1
2770,2770,26563310,1,26567318,405623,1.0,2.0,0.0,0.0,2014-10-25T14:10:51.727,0.0,376.0,How to require modules from another module - Nodejs,"<p>I have my nodejs app consisting of 2 files, index.js - the main one, capable of routing and all other stuff, and ping.js - that is using phantomJS functionality. In my index.js I have following call:</p>

<pre><code>var phantomMy = require('./ping.js');
</code></pre>

<p>and in ping.js I need standard module of phantomJS - webpage, so I have call like this</p>

<pre><code>var page = require('webpage').create();
</code></pre>

<p>but this gives me error:</p>

<pre><code>Error: Cannot find module 'webpage'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    ..
</code></pre>

<p>What am I doing wrong - maybe not only from a syntax but from architectural point?</p>
",<javascript><node.js><express><npm><phantomjs>,1.0,0,0,1
2772,2772,26566205,1,0,544550,1.0,1.0,0.0,0.0,2014-10-25T19:10:57.473,0.0,281.0,Node npm global install of express cloud9,"<p>I am trying to install express globally in cloud 9 IDE. I run the following command - </p>

<p>npm install -g express</p>

<p>then on the bash prompt I enter - </p>

<p>express --version</p>

<p>I get unknown command error?</p>

<p>Can I not install stuff globally on cloud 9 ?</p>

<p>Niladri </p>
",<node.js><express><npm>,0.0,0,0,1
2815,2815,26773767,1,30504532,1045229,4.0,2.0,0.0,0.0,2014-11-06T07:17:38.700,244.0,143085.0,Purpose of installing Twitter Bootstrap through npm?,"<p>Question 1:</p>

<p>What exactly is the purpose of installing Twitter Bootstrap through npm? I thought npm was meant for server side modules. Is it faster to serve the bootstrap files yourself than using a CDN? </p>

<p>Question 2:</p>

<p>If I were to npm install Bootstrap, how would I point to the bootstrap.js and bootstrap.css files?</p>
",<node.js><twitter-bootstrap><express><npm><cdn>,0.0,0,0,1
2843,2843,26900758,1,0,861487,1.0,4.0,0.0,0.0,2014-11-13T03:18:08.990,0.0,36.0,Installing express 4.x with its middlewares?,"<p>How can i install Express and bring its middlewares, that were in the legacy version?</p>

<p>Sort of <code>npm install -g</code>, but which brings the middleware back, and why Express team dont do that?</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
2910,2910,27158411,1,0,4182185,1.0,0.0,0.0,0.0,2014-11-26T20:35:49.740,0.0,330.0,Express: Command Not Found & Unmet Dependency,"<p>I've looked through many posts and haven't found this specific problem. At this point it's unclear what I have installed/unistalled, but I was hopping that this error message and what follows would shed some light. It's a lot, but I felt more info would be helpful. It's also possible I'm missunderstanding some fundamental concept of express.</p>

<pre><code>Machine:~$ npm install express -g
npm ERR! Error: EACCES, unlink '/Users/Machine/.node/lib/node_modules/express/History.md'
npm ERR!  { [Error: EACCES, unlink '/Users/Machine/.node/lib/node_modules/express/History.md']
npm ERR!   errno: 3,
npm ERR!   code: 'EACCES',
npm ERR!   path: '/Users/Machine/.node/lib/node_modules/express/History.md' }
npm ERR! 
npm ERR! Please try running this command again as root/Administrator.

npm ERR! System Darwin 13.4.0
npm ERR! command ""node"" ""/usr/local/bin/npm"" ""install"" ""express"" ""-g""
npm ERR! cwd /Users/Machine
npm ERR! node -v v0.10.33
npm ERR! npm -v 1.4.28
npm ERR! path /Users/Machine/.node/lib/node_modules/express/History.md
npm ERR! code EACCES
npm ERR! errno 3
npm ERR! stack Error: EACCES, unlink '/Users/Machine/.node/lib/node_modules/express/History.md'
npm ERR! error rolling back Error: EACCES, unlink '/Users/Machine/.node/lib/node_modules/express/History.md'
npm ERR! error rolling back  { [Error: EACCES, unlink '/Users/Machine/.node/lib/node_modules/express/History.md']
npm ERR! error rolling back   errno: 3,
npm ERR! error rolling back   code: 'EACCES',
npm ERR! error rolling back   path: '/Users/Machine/.node/lib/node_modules/express/History.md' }
npm ERR! not ok code 0
Machine:~$ sudo npm install express -g
Password:
express@4.10.4 /Users/Machine/.node/lib/node_modules/express
├── utils-merge@1.0.0
├── merge-descriptors@0.0.2
├── fresh@0.2.4
├── cookie-signature@1.0.5
├── cookie@0.1.2
├── escape-html@1.0.1
├── range-parser@1.0.2
├── finalhandler@0.3.2
├── vary@1.0.0
├── media-typer@0.3.0
├── parseurl@1.3.0
├── methods@1.1.0
├── serve-static@1.7.1
├── content-disposition@0.5.0
├── path-to-regexp@0.1.3
├── depd@1.0.0
├── qs@2.3.3
├── on-finished@2.1.1 (ee-first@1.1.0)
├── debug@2.1.0 (ms@0.6.2)
├── etag@1.5.1 (crc@3.2.1)
├── proxy-addr@1.0.4 (forwarded@0.1.0, ipaddr.js@0.1.5)
├── send@0.10.1 (destroy@1.0.3, ms@0.6.2, mime@1.2.11)
├── accepts@1.1.3 (negotiator@0.4.9, mime-types@2.0.3)
└── type-is@1.5.3 (mime-types@2.0.3)
Machine:~$ ls
Applications        Movies          bin
Desktop         Music           node_modules
Documents       PdaNetUninstall.sh  package.json
Downloads       Pictures        perl5
Google Drive        Public          routes
Library         app.js          views
Machine:~$ cd Doc*
Machine:Documents$ ls
BDB             Practical Computer Concepts
Molecular Biology
Machine:Documents$ mkdir testFolder
Machine:Documents$ ls
BDB             Practical Computer Concepts
Molecular Biology       testFolder
Machine:Documents$ cd test*
Machine:testFolder$ ls
Machine:testFolder$ express mytestapp
-bash: express: command not found
Machine:testFolder$ 
</code></pre>

<p>As you can see, I've tried several different methods of installing experss, from using -g, to the npm install express-generator etc. Nothing has worked. </p>

<p>Of additional interest, when I run look at all the npm packages I have I this:</p>

<pre><code>Machine:TestApp$ npm list
Machine@0.0.0 /Users/Machine
├── UNMET DEPENDENCY body-parser@~1.8.1
├── UNMET DEPENDENCY cookie-parser@~1.3.3
├── UNMET DEPENDENCY debug@~2.0.0
├─┬ express@4.9.8
│ ├─┬ accepts@1.1.3
│ │ ├─┬ mime-types@2.0.3
│ │ │ └── mime-db@1.2.0
│ │ └── negotiator@0.4.9
│ ├── cookie@0.1.2
│ ├── cookie-signature@1.0.5
│ ├─┬ debug@2.0.0
│ │ └── ms@0.6.2
│ ├── depd@0.4.5
│ ├── escape-html@1.0.1
│ ├─┬ etag@1.4.0
│ │ └── crc@3.0.0
│ ├── finalhandler@0.2.0
│ ├── fresh@0.2.4
│ ├── media-typer@0.3.0
│ ├── merge-descriptors@0.0.2
│ ├── methods@1.1.0
│ ├─┬ on-finished@2.1.1
│ │ └── ee-first@1.1.0
│ ├── parseurl@1.3.0
│ ├── path-to-regexp@0.1.3
│ ├─┬ proxy-addr@1.0.4
│ │ ├── forwarded@0.1.0
│ │ └── ipaddr.js@0.1.5
│ ├── qs@2.2.4
│ ├── range-parser@1.0.2
│ ├─┬ send@0.9.3
│ │ ├── destroy@1.0.3
│ │ ├── mime@1.2.11
│ │ ├── ms@0.6.2
│ │ └─┬ on-finished@2.1.0
│ │   └── ee-first@1.0.5
│ ├── serve-static@1.6.4
│ ├─┬ type-is@1.5.3
│ │ └─┬ mime-types@2.0.3
│ │   └── mime-db@1.2.0
│ ├── utils-merge@1.0.0
│ └── vary@1.0.0
├── UNMET DEPENDENCY jade@~1.6.0
├── UNMET DEPENDENCY morgan@~1.3.0
└── UNMET DEPENDENCY serve-favicon@~2.1.3

npm ERR! missing: body-parser@~1.8.1, required by Machine@0.0.0
npm ERR! missing: cookie-parser@~1.3.3, required by Machine@0.0.0
npm ERR! missing: morgan@~1.3.0, required by Machine@0.0.0
npm ERR! missing: serve-favicon@~2.1.3, required by Machine@0.0.0
npm ERR! missing: debug@~2.0.0, required by Machine@0.0.0
npm ERR! missing: jade@~1.6.0, required by Machine@0.0.0
npm ERR! not ok code 0
Machine:TestApp$ express -h
-bash: express: command not found
Machine:TestApp$ npm cache clean
npm ERR! Error: EACCES, unlink '/Users/Machine/.npm/abbrev/1.0.5'
npm ERR!  { [Error: EACCES, unlink '/Users/Machine/.npm/abbrev/1.0.5']
npm ERR!   errno: 3,
npm ERR!   code: 'EACCES',
npm ERR!   path: '/Users/Machine/.npm/abbrev/1.0.5' }
npm ERR! 
npm ERR! Please try running this command again as root/Administrator.

npm ERR! System Darwin 13.4.0
npm ERR! command ""node"" ""/usr/local/bin/npm"" ""cache"" ""clean""
npm ERR! cwd /Users/Machine/Documents/BDB/Final Project/TestApp
npm ERR! node -v v0.10.33
npm ERR! npm -v 1.4.28
npm ERR! path /Users/Machine/.npm/abbrev/1.0.5
npm ERR! code EACCES
npm ERR! errno 3
npm ERR! stack Error: EACCES, unlink '/Users/Machine/.npm/abbrev/1.0.5'
npm ERR! 
npm ERR! Additional logging details can be found in:
npm ERR!     /Users/Machine/Documents/BDB/Final Project/TestApp/npm-debug.log
npm ERR! not ok code 0
</code></pre>
",<javascript><node.js><express><npm><mean.io>,0.0,0,0,1
2916,2916,27185643,1,0,3960873,1.0,0.0,0.0,0.0,2014-11-28T09:34:38.923,1.0,232.0,npm install express not fetching node_module,"<p>I am trying to install express as server-side framework to work on a project and I am using bower as well for other front-end job. However, When I run npm install express it shows all the files without any error but when I cd into the directory, there is nothing; no node-modules or anything to work with. I googled it but there isn't any solution. Please check the following output - </p>

<pre><code>npm install express


express@4.10.4 ../../node_modules/express
+-- utils-merge@1.0.0
+-- merge-descriptors@0.0.2
+-- fresh@0.2.4
+-- cookie@0.1.2
+-- escape-html@1.0.1
+-- range-parser@1.0.2
+-- cookie-signature@1.0.5
+-- finalhandler@0.3.2
+-- vary@1.0.0
+-- media-typer@0.3.0
+-- methods@1.1.0
+-- parseurl@1.3.0
+-- serve-static@1.7.1
+-- content-disposition@0.5.0
+-- path-to-regexp@0.1.3
+-- depd@1.0.0
+-- qs@2.3.3
+-- on-finished@2.1.1 (ee-first@1.1.0)
+-- etag@1.5.1 (crc@3.2.1)
+-- debug@2.1.0 (ms@0.6.2)
+-- proxy-addr@1.0.4 (forwarded@0.1.0, ipaddr.js@0.1.5)
+-- send@0.10.1 (destroy@1.0.3, ms@0.6.2, mime@1.2.11)
+-- type-is@1.5.3 (mime-types@2.0.3)
+-- accepts@1.1.3 (negotiator@0.4.9, mime-types@2.0.3)
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
2944,2944,27272179,1,27288707,457172,1.0,1.0,0.0,0.0,2014-12-03T12:49:34.273,1.0,2293.0,Express.JS installed globally isn't found on Windows,"<p>I have tried installing express-generator via global but it's not found.</p>

<p>I have tried opening a new CMD / Powershell and same thing happens.</p>

<pre><code>PS C:\Users\testuser\testme&gt; npm install -g express-generator
npm http GET https://registry.npmjs.org/express-generator
npm http 304 https://registry.npmjs.org/express-generator
npm http GET https://registry.npmjs.org/commander
npm http GET https://registry.npmjs.org/mkdirp
npm http 304 https://registry.npmjs.org/commander
npm http 304 https://registry.npmjs.org/mkdirp
npm http GET https://registry.npmjs.org/keypress
npm http GET https://registry.npmjs.org/minimist
npm http 304 https://registry.npmjs.org/keypress
npm http 304 https://registry.npmjs.org/minimist
C:\ProgramData\chocolatey\lib\nodejs.commandline.0.10.31\tools\express -&gt; C:\ProgramData\chocolatey\
lib\nodejs.commandline.0.10.31\tools\node_modules\express-generator\bin\express
express-generator@4.9.0 C:\ProgramData\chocolatey\lib\nodejs.commandline.0.10.31\tools\node_modules\
express-generator
├── commander@1.3.2 (keypress@0.1.0)
└── mkdirp@0.5.0 (minimist@0.0.8)
PS C:\Users\testuser\testme&gt; express
express : The term 'express' is not recognized as the name of a cmdlet, function, script file, or
operable program. Check the spelling of the name, or if a path was included, verify that the path
is correct and try again.
At line:1 char:1
+ express
+ ~~~~~~~
    + CategoryInfo          : ObjectNotFound: (express:String) [], CommandNotFoundException
    + FullyQualifiedErrorId : CommandNotFoundException

PS C:\Users\testuser\testme&gt;
</code></pre>

<p>This has been installed globally.</p>

<p>Any ideas?</p>
",<node.js><express><npm>,0.0,0,0,1
2948,2948,27285265,1,27285300,2238830,1.0,0.0,0.0,0.0,2014-12-04T02:28:45.017,0.0,115.0,Difference between different ways of starting node+express application?,"<p>I'm learning Node and Express and noticed that there are many ways of starting an application and wanted to know the difference between them [if any]. My application is called nodetest and these are the steps I followed first:</p>

<ul>
<li>Installed express and express-generator via npm.</li>
<li>express nodetest</li>
<li>cd nodetest &amp;&amp; npm install</li>
</ul>

<p>These are the 3 different ways I found one can start the node+express application:</p>

<ol>
<li>DEBUG=nodetest ./bin/www</li>
<li>node ./bin/www</li>
<li>./bin/www</li>
</ol>

<p>How are they different ? When should I use which ?</p>
",<node.js><express><npm>,0.0,0,0,1
2951,2951,27295690,1,27297688,2984585,1.0,6.0,0.0,0.0,2014-12-04T13:49:23.137,0.0,45.0,Global npm dependency express won't run,"<p>So I have been using npm for some time and have done a recent reinstall from win8.1 to win8.1. I know it worked before and it says so <a href=""https://stackoverflow.com/questions/25998260/run-global-installed-npm-programs-with-npm"">here</a> as well.</p>

<p>Since then I have installed <code>npm i -g express</code> but it won't run.</p>

<blockquote>
  <p>'express' is not recognized as an internal or external command, operable program or batch file.</p>
</blockquote>

<p>I tried running express from console and it won't run.</p>

<p>This is in my path: <code>C:\Users\xxx\AppData\Roaming\npm</code></p>
",<javascript><node.js><express><npm>,0.0,0,0,1
2956,2956,27319443,1,0,2148081,2.0,2.0,0.0,0.0,2014-12-05T15:37:16.120,1.0,321.0,Issue in starting Node App on Windows 7,"<p>I am using windows 7 and I have installed node.js and express. 
After I create a project using express  using the command below</p>

<pre><code>&gt; express projectName
</code></pre>

<p>A new project is created and after that to install dependencies I do</p>

<pre><code>&gt; npm install 
</code></pre>

<p>All works good so far. but when I try to start the application</p>

<pre><code>&gt; npm start    
</code></pre>

<p>Below is the issue I get in the npm-debug.log  file. Please suggest whats wrong here. <strong>I have tried many other threads but solution found there work for me.</strong></p>

<pre><code>0 info it worked if it ends with ok
1 verbose cli [ 'C:\\Program Files\\nodejs\\\\node.exe',
1 verbose cli   'C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js',
1 verbose cli   'start' ]
2 info using npm@1.4.28
3 info using node@v0.10.33
4 verbose node symlink C:\Program Files\nodejs\\node.exe
5 verbose run-script [ 'prestart', 'start', 'poststart' ]
6 info prestart NodeTestApp@0.0.0
7 info start NodeTestApp@0.0.0
8 verbose unsafe-perm in lifecycle true
9 info NodeTestApp@0.0.0 Failed to exec start script
10 error NodeTestApp@0.0.0 start: `node ./bin/www`
10 error spawn ENOENT
11 error Failed at the NodeTestApp@0.0.0 start script.
11 error This is most likely a problem with the NodeTestApp package,
11 error not with npm itself.
11 error Tell the author that this fails on your system:
11 error     node ./bin/www
11 error You can get their info via:
11 error     npm owner ls NodeTestApp
11 error There is likely additional logging output above.
12 error System Windows_NT 6.1.7601
13 error command ""C:\\Program Files\\nodejs\\\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""start""
14 error cwd C:\Users\Ali\Desktop\NodeTestApp
15 error node -v v0.10.33
16 error npm -v 1.4.28
17 error syscall spawn
18 error code ELIFECYCLE
19 error errno ENOENT
20 verbose exit [ 1, true ]
</code></pre>
",<windows><node.js><express><npm>,0.0,0,0,1
2959,2959,27332994,1,0,1216884,1.0,0.0,0.0,0.0,2014-12-06T15:03:29.213,8.0,9025.0,Check if website is contactable,"<p>I want to check if a specific website is online. The name of the website comes from an input field and is sending via post.</p>

<p>There is an NPM module for ping hosts, but this do not help me so much. I need a solution for checking URL's with params, like: <code>hostname.com/category</code></p>

<p>I would be grateful for suggestions. </p>
",<node.js><express><npm>,0.0,0,0,1
2993,2993,27435222,1,27435223,794779,1.0,0.0,0.0,0.0,2014-12-12T00:56:25.827,4.0,2399.0,Node.js npm install express error fetch failed,"<p>npm install express results in the following error</p>

<pre><code>$ npm install express
npm ERR! fetch failed https://registry.npmjs.org/debug/-/debug-2.1.0.tgz
npm ERR! fetch failed https://registry.npmjs.org/etag/-/etag-1.5.1.tgz
npm ERR! fetch failed https://registry.npmjs.org/methods/-/methods-1.1.0.tgz
npm ERR! fetch failed https://registry.npmjs.org/on-finished/-/on-finished-2.1.1.tgz
npm ERR! fetch failed https://registry.npmjs.org/debug/-/debug-2.1.0.tgz
npm ERR! fetch failed https://registry.npmjs.org/debug/-/debug-2.1.0.tgz
npm ERR! Error: Hostname/IP doesn't match certificate's altnames
npm ERR!     at SecurePair.&lt;anonymous&gt; (tls.js:1389:23)
npm ERR!     at SecurePair.emit (events.js:92:17)
npm ERR!     at SecurePair.maybeInitFinished (tls.js:979:10)
npm ERR!     at CleartextStream.read [as _read] (tls.js:471:13)
npm ERR!     at CleartextStream.Readable.read (_stream_readable.js:340:10)
npm ERR!     at EncryptedStream.write [as _write] (tls.js:368:25)
npm ERR!     at doWrite (_stream_writable.js:225:10)
npm ERR!     at writeOrBuffer (_stream_writable.js:215:5)
npm ERR!     at EncryptedStream.Writable.write (_stream_writable.js:182:11)
npm ERR!     at write (_stream_readable.js:601:24)
npm ERR!     at flow (_stream_readable.js:610:7)
npm ERR!     at Socket.pipeOnReadable (_stream_readable.js:642:5)
npm ERR! If you need help, you may report this *entire* log,
npm ERR! including the npm and node versions, at:
npm ERR!     &lt;http://github.com/npm/npm/issues&gt;

npm ERR! System Linux 3.14.13-c9
npm ERR! command ""/home/ubuntu/.nvm/v0.10.33/bin/node"" ""/home/ubuntu/.nvm/v0.10.33/bin/npm"" ""install"" ""express""
npm ERR! cwd /home/ubuntu/workspace
npm ERR! node -v v0.10.33
npm ERR! npm -v 1.4.28
npm ERR! not ok code 0
</code></pre>

<p>How to resolve this? There are already many duplicates of this question with INCORRECT answers, I'm sharing this with the below CORRECT answer to clear things up.</p>
",<node.js><express><npm>,0.0,0,0,1
3018,3018,27539575,1,27539776,0,1.0,2.0,0.0,0.0,2014-12-18T05:05:54.887,0.0,1901.0,node-rest-client POST Vs. PUT,"<p>Has anyone used <a href=""https://www.npmjs.com/package/node-rest-client"" rel=""nofollow"">node-rest-client</a>? For POST and PUT methods, it says ""To send data to remote site using POST or PUT methods, just add a data attribute to args object:"" So how can I distinguish between a POST call and PUT call?</p>
",<node.js><express><npm>,0.0,0,0,1
3027,3027,27585779,1,0,1373836,5.0,0.0,0.0,0.0,2014-12-21T00:48:48.363,7.0,16647.0,"NodeJS sample app failing to startup, unable to find 'config'?","<p>I'm learning node and am trying to run a sample app I've pulled from git:</p>

<p><a href=""https://github.com/madhums/node-express-mongoose-demo"" rel=""noreferrer"">https://github.com/madhums/node-express-mongoose-demo</a></p>

<p>After following all the instructions, when I run </p>

<pre><code>npm start
</code></pre>

<p>I get an error that says </p>

<pre><code>&gt; nodejs-express-mongoose-demo@4.0.0 start /Users/adam419/Desktop/Programming/JSPractice/node-express-mongoose-demo
&gt; NODE_PATH=./config:./app/controllers NODE_ENV=development ./node_modules/.bin/nodemon server.js

20 Dec 16:45:19 - [nodemon] v1.2.1
20 Dec 16:45:19 - [nodemon] to restart at any time, enter `rs`
20 Dec 16:45:19 - [nodemon] watching: *.*
20 Dec 16:45:19 - [nodemon] starting `node --harmony server.js`
WARNING: No configurations found in configuration directory:
WARNING: /Users/adam419/Desktop/Programming/JSPractice/node-express-mongoose-demo/config
WARNING: See https://www.npmjs.org/package/config for more information.

module.js:340
    throw err;
          ^
Error: Cannot find module 'undefined/config/imager.js'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at Object.&lt;anonymous&gt; (/Users/adam419/Desktop/Programming/JSPractice/node-express-mongoose-demo/app/models/article.js:10:20)
    at Module._compile (module.js:456:26)
    at Object.Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:364:17)
20 Dec 16:45:20 - [nodemon] app crashed - waiting for file changes before starting...
</code></pre>

<p>This occcurs after making sure I have mongodb installed and running, making sure I've installed all dependencies including 'config'. In fact in node shell when I run</p>

<pre><code>require('config')
</code></pre>

<p>the result is undefined.</p>

<p>Why is this application failing to start?</p>
",<javascript><node.js><mongodb><express><npm>,1.0,0,0,1
3110,3110,27807420,1,27807912,4425176,2.0,0.0,0.0,0.0,2015-01-06T21:24:19.647,0.0,658.0,express is not recognized in cmd in windows 7,"<p>js on my windows 7 machine, i have executed the below commands from</p>

<p>C:\node> npm install -g express -generator</p>

<p>and also C:\node> npm install -g express -generator@4, and also the npm link express</p>

<p>for the above commands, i got the below messages.</p>

<pre><code>express@4.10.7 C:\Users\user1\AppData\Roaming\npm\node_modules\express
├── methods@1.1.1
├── finalhandler@0.3.3
├── cookie-signature@1.0.5
├── serve-static@1.7.2
├── merge-descriptors@0.0.2
├── utils-merge@1.0.0
├── range-parser@1.0.2
├── media-typer@0.3.0
├── cookie@0.1.2
├── content-disposition@0.5.0
├── parseurl@1.3.0
├── vary@1.0.0
├── escape-html@1.0.1
├── fresh@0.2.4
├── path-to-regexp@0.1.3
├── depd@1.0.0
├── qs@2.3.3
├── on-finished@2.2.0 (ee-first@1.1.0)
├── etag@1.5.1 (crc@3.2.1)
├── debug@2.1.1 (ms@0.6.2)
├── type-is@1.5.5 (mime-types@2.0.7)
├── accepts@1.1.4 (negotiator@0.4.9, mime-types@2.0.7)
├── send@0.10.1 (destroy@1.0.3, ms@0.6.2, mime@1.2.11, on-finished@2.1.1)
└── proxy-addr@1.0.4 (forwarded@0.1.0, ipaddr.js@0.1.5)
</code></pre>

<p>and with npm link express:</p>

<p>C:\node\node_modules\express -> C:\Users\user1\AppData\Roaming\npm\node_modul
es\express</p>

<p>but still when i execute the express nodetest1 at C:/node> i am getting the express is not recognized error.</p>

<p>anyone know any pointers would be helpful.</p>
",<node.js><express><installation><npm>,0.0,0,0,1
3126,3126,27850234,1,27850799,3384695,2.0,0.0,0.0,0.0,2015-01-08T21:57:19.647,0.0,661.0,npm install -Error /npm/optimist/0.3.7' - Linux Mint,"<p>I'm new to node and npm, I'm running npm install on Linux MINT and  the error I'm getting is this one:</p>

<blockquote>
  <p>Linux 3.11.0-12-generic
  npm ERR! argv ""node"" ""/usr/local/bin/npm"" ""install""
  npm ERR! node v0.10.35
  npm ERR! npm  v2.1.17
  <strong>npm ERR! path /home/rolando/.npm/optimist/0.3.7</strong>
  npm ERR! code EACCES
  npm ERR! errno 3</p>
  
  <p>npm ERR! Error: EACCES, mkdir '/home/rolando/.npm/optimist/0.3.7'
  npm ERR!  { [Error: EACCES, mkdir '/home/rolando/.npm/optimist/0.3.7']
  npm ERR!   errno: 3,
  npm ERR!   code: 'EACCES',
  npm ERR!   path: '/home/rolando/.npm/optimist/0.3.7',
  npm ERR!   parent: 'uglify-js' }
  npm ERR! 
  npm ERR! Please try running this command again as root/Administrator.</p>
</blockquote>

<hr>

<p>One thing a notice is that I have the optimist 0.6.1 on my machine (not the 0.3.7), how can I fix that?? I already run an update with curl -L <a href=""https://www.npmjs.org/install.sh"" rel=""nofollow"">https://www.npmjs.org/install.sh</a> | sh</p>

<p>My node -v is 0.10.35 , the npm  is 2.1.17</p>

<p>Also If I  run npm cache clean then I will get following:</p>

<blockquote>
  <p>Error: EACCES, unlink '/home/rolando/.npm/async/0.2.10'
  npm ERR!  { [Error: EACCES, unlink '/home/rolando/.npm/async/0.2.10']
  npm ERR!   errno: 3,
  npm ERR!   code: 'EACCES',
  npm ERR!   path: '/home/rolando/.npm/async/0.2.10' }</p>
</blockquote>

<hr>
",<linux><node.js><express><npm><linux-mint>,0.0,0,0,1
3150,3150,27927805,1,0,630295,1.0,3.0,0.0,0.0,2015-01-13T17:18:34.237,1.0,1687.0,nodejs npm package install failed,"<p>I am new to nodejs, and I have just installed it in my Windows 7 PC. The next thing I try to do is to install express.js package via npm <code>npm install express --save</code>, and I got following error messages</p>

<pre><code>npm ERR! fetch failed http://registry.npmjs.org/ipaddr.js/-/ipaddr.js-0.1.6.tgz
npm ERR! Error: 403 Forbidden
npm ERR!     at WriteStream.&lt;anonymous&gt; (C:\Program Files\nodejs\node_modules\npm\lib\utils\fetch.js:58:12)
npm ERR!     at WriteStream.emit (events.js:117:20)
npm ERR!     at evalmachine.&lt;anonymous&gt;:1610:14
npm ERR!     at C:\Program Files\nodejs\node_modules\npm\node_modules\graceful-fs\graceful-fs.js:102:5
npm ERR!     at Object.oncomplete (evalmachine.&lt;anonymous&gt;:108:15)
npm ERR! If you need help, you may report this *entire* log,
npm ERR! including the npm and node versions, at:
npm ERR!     &lt;http://github.com/npm/npm/issues&gt;

npm ERR! System Windows_NT 6.1.7601
npm ERR! command ""C:\\Program Files\\nodejs\\\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""install"" ""express"" ""--save""
npm ERR! cwd C:\temp\NodeJS_POC
npm ERR! node -v v0.10.35
npm ERR! npm -v 1.4.28
npm ERR! not ok code 0
</code></pre>

<p>Anybody knows why?</p>
",<node.js><express><npm>,0.0,0,0,1
3188,3188,28064034,1,0,2179936,0.0,5.0,0.0,0.0,2015-01-21T09:49:04.810,0.0,369.0,"Node JS + Express won't run, DEBUG=appname ./bin/www","<p>I'm trying to get a node/express server running on a mac, and this command isn't running</p>

<pre><code>DEBUG=ExpressApp ./bin/www
</code></pre>

<p>This is the error that gets thrown out:</p>

<pre><code>module.js:340
    throw err;
      ^
Error: Cannot find module 'express'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at Object.&lt;anonymous&gt; (/Users/jaysen/Desktop/ExpressApp/app.js:1:77)
    at Module._compile (module.js:456:26)
    at Object.Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:364:17)
</code></pre>

<p><strong>UPDATE</strong></p>

<p>After re-running npm install, I just get a blank line.</p>
",<node.js><express><npm>,1.0,0,0,1
3214,3214,28160471,1,28161137,856407,1.0,0.0,0.0,0.0,2015-01-26T23:10:47.190,0.0,151.0,What is a good StrongLoop/GitHub continuous integration pipeline?,"<p>What is a good workflow for developing sites with strongloop and github/bitbucket, for sending your project to testing and then production?</p>

<p>I see the individual ingredients for a really solid workflow, but am curious to see what has been done to stitch together a decent end-to-end continuous integration pipeline (or something close to it).</p>
",<javascript><node.js><express><npm><strongloop>,0.0,0,0,1
3238,3238,28224073,1,28224203,665720,1.0,0.0,0.0,0.0,2015-01-29T20:33:48.077,0.0,32.0,How is this node.js module getting loaded?,"<p>I have just started learning node and express and stumbled across this sample express application - <a href=""https://github.com/madhums/node-express-mongoose-demo"" rel=""nofollow"">https://github.com/madhums/node-express-mongoose-demo</a>. 
The server.js file loads a module named config without a relative path - </p>

<pre><code>var config = require('config')
</code></pre>

<p><a href=""https://github.com/madhums/node-express-mongoose-demo/blob/master/server.js#L15"" rel=""nofollow"">https://github.com/madhums/node-express-mongoose-demo/blob/master/server.js#L15</a>.
What I don't understand is how the module is getting loaded. There is no module named config in node_modules. The package.json contains NODE_PATH which points to <code>./config</code> folder. However, the config folder doesn't contain an <code>index.js</code> file. 
So how does the config object gets its properties?</p>
",<node.js><express><npm>,0.0,0,0,1
3336,3336,28506102,1,0,1901469,1.0,0.0,0.0,0.0,2015-02-13T18:18:30.503,0.0,1105.0,Npm - 404 Not Found: 'ErrorHandler' after moving node project to new machine,"<p>I have moved my nodeJS project from a macbook to a vagrant virtualbox ubuntu hashicorp/precise32 machine. 
After I did this, npm install does not seem to work for me. Here is the output log.</p>

<p>I apologize in advance if this is a stupid question but thanks for the help.
console output:</p>

<pre><code>vagrant@precise32:/vagrant$ npm install
npm ERR! 404 404 Not Found: ErrorHandler
npm ERR! 404
npm ERR! 404 'ErrorHandler' is not in the npm registry.
npm ERR! 404 You should bug the author to publish it
npm ERR! 404 It was specified as a dependency of 'node'
npm ERR! 404
npm ERR! 404 Note that you can also install from a
npm ERR! 404 tarball, folder, or http url, or git url.

npm ERR! System Linux 3.2.0-23-generic-pae
npm ERR! command ""/usr/bin/node"" ""/usr/bin/npm"" ""install""
npm ERR! cwd /vagrant
npm ERR! node -v v0.10.36
npm ERR! npm -v 1.4.28
npm ERR! code E404
npm ERR!
npm ERR! Additional logging details can be found in:
npm ERR!     /vagrant/npm-debug.log
npm ERR! not ok code 0
</code></pre>

<p>output log:</p>

<pre><code>0 info it worked if it ends with ok
1 verbose cli [ '/usr/bin/node', '/usr/bin/npm', 'install' ]
2 info using npm@1.4.28
3 info using node@v0.10.36
4 verbose node symlink /usr/bin/node
5 verbose readDependencies using package.json deps
6 verbose install where, deps [ '/vagrant',
6 verbose install   [ 'ErrorHandler',
6 verbose install     'body-parser',
6 verbose install     'cookie-parser',
6 verbose install     'debug',
6 verbose install     'errorhandler',
6 verbose install     'express',
6 verbose install     'hjs',
6 verbose install     'less-middleware',
6 verbose install     'mongoose',
6 verbose install     'morgan',
6 verbose install     'serve-favicon' ] ]
7 info preinstall node@0.0.0
8 verbose readDependencies using package.json deps
9 verbose already installed skipping less-middleware@1.0.x /vagrant
10 verbose already installed skipping mongoose@^3.8.21 /vagrant
11 verbose already installed skipping morgan@~1.5.1 /vagrant
12 verbose already installed skipping serve-favicon@~2.2.0 /vagrant
13 verbose cache add [ 'ErrorHandler@*', null ]
14 verbose cache add name=undefined spec=""ErrorHandler@*"" args=[""ErrorHandler@*"",null]
15 verbose parsed url { protocol: null,
15 verbose parsed url   slashes: null,
15 verbose parsed url   auth: null,
15 verbose parsed url   host: null,
15 verbose parsed url   port: null,
15 verbose parsed url   hostname: null,
15 verbose parsed url   hash: null,
15 verbose parsed url   search: null,
15 verbose parsed url   query: null,
15 verbose parsed url   pathname: 'ErrorHandler@*',
15 verbose parsed url   path: 'ErrorHandler@*',
15 verbose parsed url   href: 'ErrorHandler@*' }
16 verbose cache add name=""ErrorHandler"" spec=""*"" args=[""ErrorHandler"",""*""]
17 verbose parsed url { protocol: null,
17 verbose parsed url   slashes: null,
17 verbose parsed url   auth: null,
17 verbose parsed url   host: null,
17 verbose parsed url   port: null,
17 verbose parsed url   hostname: null,
17 verbose parsed url   hash: null,
17 verbose parsed url   search: null,
17 verbose parsed url   query: null,
17 verbose parsed url   pathname: '*',
17 verbose parsed url   path: '*',
17 verbose parsed url   href: '*' }
18 verbose addNamed [ 'ErrorHandler', '*' ]
19 verbose addNamed [ null, '*' ]
20 silly lockFile 65786050-ErrorHandler ErrorHandler@*
21 verbose lock ErrorHandler@* /home/vagrant/.npm/65786050-ErrorHandler.lock
22 silly addNameRange { name: 'ErrorHandler', range: '*', hasData: false }
23 verbose already installed skipping body-parser@~1.10.1 /vagrant
24 verbose request where is /ErrorHandler
25 verbose request registry https://registry.npmjs.org/
26 verbose request id 2dbcfd0dda4d0f87
27 verbose url raw /ErrorHandler
28 verbose url resolving [ 'https://registry.npmjs.org/', './ErrorHandler' ]
29 verbose url resolved https://registry.npmjs.org/ErrorHandler
30 verbose request where is https://registry.npmjs.org/ErrorHandler
31 info trying registry request attempt 1 at 18:11:56
32 http GET https://registry.npmjs.org/ErrorHandler
33 verbose already installed skipping cookie-parser@~1.3.3 /vagrant
34 verbose already installed skipping debug@~2.1.1 /vagrant
35 verbose already installed skipping errorhandler@^1.3.2 /vagrant
36 verbose already installed skipping express@~4.10.6 /vagrant
37 verbose already installed skipping hjs@~0.0.6 /vagrant
38 http 404 https://registry.npmjs.org/ErrorHandler
39 verbose headers { date: 'Fri, 13 Feb 2015 18:11:56 GMT',
39 verbose headers   server: 'CouchDB/1.5.0 (Erlang OTP/R16B03)',
39 verbose headers   'content-type': 'application/json',
39 verbose headers   'cache-control': 'max-age=0',
39 verbose headers   'content-length': '52',
39 verbose headers   'accept-ranges': 'bytes',
39 verbose headers   via: '1.1 varnish',
39 verbose headers   age: '0',
39 verbose headers   'x-served-by': 'cache-iad2145-IAD',
39 verbose headers   'x-cache': 'MISS',
39 verbose headers   'x-cache-hits': '0',
39 verbose headers   'x-timer': 'S1423851116.130592,VS0,VE55',
39 verbose headers   'keep-alive': 'timeout=10, max=50',
39 verbose headers   connection: 'Keep-Alive' }
40 silly registry.get cb [ 404,
40 silly registry.get   { date: 'Fri, 13 Feb 2015 18:11:56 GMT',
40 silly registry.get     server: 'CouchDB/1.5.0 (Erlang OTP/R16B03)',
40 silly registry.get     'content-type': 'application/json',
40 silly registry.get     'cache-control': 'max-age=0',
40 silly registry.get     'content-length': '52',
40 silly registry.get     'accept-ranges': 'bytes',
40 silly registry.get     via: '1.1 varnish',
40 silly registry.get     age: '0',
40 silly registry.get     'x-served-by': 'cache-iad2145-IAD',
40 silly registry.get     'x-cache': 'MISS',
40 silly registry.get     'x-cache-hits': '0',
40 silly registry.get     'x-timer': 'S1423851116.130592,VS0,VE55',
40 silly registry.get     'keep-alive': 'timeout=10, max=50',
40 silly registry.get     connection: 'Keep-Alive' } ]
41 silly lockFile 65786050-ErrorHandler ErrorHandler@*
42 silly lockFile 65786050-ErrorHandler ErrorHandler@*
43 error 404 404 Not Found: ErrorHandler
43 error 404
43 error 404 'ErrorHandler' is not in the npm registry.
43 error 404 You should bug the author to publish it
43 error 404 It was specified as a dependency of 'node'
43 error 404
43 error 404 Note that you can also install from a
43 error 404 tarball, folder, or http url, or git url.
44 error System Linux 3.2.0-23-generic-pae
45 error command ""/usr/bin/node"" ""/usr/bin/npm"" ""install""
46 error cwd /vagrant
47 error node -v v0.10.36
48 error npm -v 1.4.28
49 error code E404
50 verbose exit [ 1, true ]
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
3359,3359,28554058,1,0,1794515,0.0,0.0,0.0,0.0,2015-02-17T03:16:09.430,1.0,526.0,Read and display csv data in table with Node (ya-csv),"<p>I am attempting to take a standard input from a csv file and have the user upload that file. I then want to display that data in tabular form so that they may make corrections/approve the data before I write it to the database. </p>

<p>This is my first real foray into express and node and, despite finding many of the libraries, I am a little confused about </p>

<p>1) Which is the easiest to use
2) Where do the particular functions go. </p>

<p>I understand the router pointing to my Jade file, however I'm still a little lost about where to put custom javascript for the processing of the code.</p>

<p>I have started going down the ya-csv route but there isn't a good tutorial out there. Does anyone have any experience implementing this npm module?</p>
",<node.js><csv><express><npm>,0.0,0,0,1
3401,3401,28661975,1,28662159,1971279,1.0,0.0,0.0,0.0,2015-02-22T19:05:11.393,1.0,1018.0,Node.js subdomain not working?,"<p>I am not sure what I am doing wrong, I am trying to do requests from a virtual subdomain using <code>npm subdomain</code>. I followed the directions <a href=""https://github.com/edwardhotchkiss/subdomain"" rel=""nofollow"">https://github.com/edwardhotchkiss/subdomain</a></p>

<pre><code>var subdomain = require('subdomain');
var express  = require('express');
var app      = express();
var http     = require('http');
var server   = http.createServer(app);

app.use(subdomain({ base : 'localhost', removeWWW : true }));

app.get('/subdomain/blog/', function(request, response) {
  response.end('BLOG.LOCALHOST: ""/""');
});

app.get('/', function(request, response) {
  response.end('LOCALHOST: ""/""');
});
</code></pre>

<p>And in my computers hosts file I added </p>

<pre><code>127.0.0.1   localhost
127.0.0.1   blog.localhost
</code></pre>

<p>When I route to <code>http://blog.localhost:3000/</code> I get this returned <code>LOCALHOST: ""/""</code> instead of <code>BLOG.LOCALHOST: ""/""</code></p>

<p>I can't figure out why, I removed my express router, I tried removing any routing logic and stuff but I still keep getting that. Obviously I am doing something wrong. What am I missing?</p>
",<node.js><express><npm><subdomain>,0.0,0,0,1
3408,3408,28685549,1,28685681,1445985,1.0,0.0,0.0,0.0,2015-02-23T23:25:50.813,0.0,3266.0,Trying to install NPM for Node.JS using YUM,"<p>I am trying to get Node.JS working using <a href=""http://blog.modulus.io/absolute-beginners-guide-to-nodejs"" rel=""nofollow"">this tutorial.</a>  I have managed to get node.js installed throuhg PuTTy, using the command:</p>

<p><code>yum install -y nodejs</code></p>

<p>And that seemed to work fine (I might have had to use sudo, I can't remember now)</p>

<p>I am really new to command line interfaces so please bear with me.</p>

<p>I also ran (from another webpage):</p>

<p><code>yum -y groupinstall ""Development Tools""</code></p>

<p>Which also seemed to work fine, but didn't seem to install <code>npm</code> anywhere :(</p>

<p>Now, I can run and execute .js files from the command line using <code>node file.js</code>, and that seems to work fine.  But now I am stuck in the above tutorial where it says to install <a href=""http://expressjs.com/"" rel=""nofollow"">Express.</a>  It says to run the command:</p>

<p><code>npm install express</code> </p>

<p>Except I don't seem to have the command <code>npm</code>.  I read somewhere that it no longer comes with the latest version of Node.JS, so what can I do?  On all of my google searches, I can't seem to find a <code>yum</code> command to install <code>expressjs</code> or <code>npm</code>.  Can anyone help me?</p>
",<node.js><express><npm>,0.0,0,0,1
3424,3424,28722227,1,0,2474269,1.0,0.0,0.0,0.0,2015-02-25T14:56:38.390,0.0,77.0,ExpressJS skeleton root request cancelled,"<p>Im trying to get started with expressjs. I created a skeleton by running <code>express expressSkApp</code>.</p>

<p>Once the skeleton creation is done and I start the server, I'm supposed to get response upon hitting <a href=""http://host:port"" rel=""nofollow"">http://host:port</a> (<a href=""http://localhost:3000"" rel=""nofollow"">http://localhost:3000</a>). But nothing happens at all when I do this. From network monitoring I have found out the request is getting cancelled. And there is nothing in server log. Any reason for the request getting rejected?</p>

<p>After debugging a bit I saw in app.js there is a line of code <code>app.use('/', routes);</code> that redirects the request to a specific route. After debugging, I found out that the request is not getting redirected at all. The moment I change it to <code>app.use('/home', routes);</code> and hit the url <a href=""http://localhost:3000/home"" rel=""nofollow"">http://localhost:3000/home</a>, response is received.
Why is this behaviour? What if I want to hit <a href=""http://localhost:3000/"" rel=""nofollow"">http://localhost:3000/</a> and what it to be redirected to a concerned page? May be I'm missing out on something here.</p>

<p>My package.json dependency section looks like</p>

<pre><code> ""dependencies"": {
    ""express"": ""~4.9.0"",
    ""body-parser"": ""~1.8.1"",
    ""cookie-parser"": ""~1.3.3"",
    ""morgan"": ""~1.3.0"",
    ""serve-favicon"": ""~2.1.3"",
    ""debug"": ""~2.0.0"",
    ""jade"": ""~1.6.0""
 }
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
3520,3520,29029957,1,0,574519,1.0,0.0,0.0,0.0,2015-03-13T10:30:42.243,0.0,782.0,"Node.js, Express Routes, async and callback/building a result object","<p>I've hit another brick wall where I can't quite grasp what to do here, or at least how to do it the correct way. I've implemented an async call so I can run multiple requests in a waterfall method and each one relies on the result of another. This works fine, the trouble is, the third step in the waterfall actually needs to make multiple requests.</p>

<p>What I have at the minute is like below:</p>

<pre><code>async.waterfall([
    function(callback) {
        Object.find().exec(function (err, records) {
            callback(null, records);
        });
    },
    function(arg1, callback) {
        request('url' + arg1.property + '', function(err, resp, body) {
            callback(null, arg1, JSON.parse(body));
        });
    },
    function(arg1, arg2, callback) {
        var array = {newarray:[]};

        arg2.forEach(function(eachField){
            request('url' + arg2.property, function(err, resp, body) {
                array.newarray.push(JSON.parse(body));
            });
        });

        // AT THIS POINT THIS ARRAY SHOWS AS EMPTY
        console.log(array);

        callback(null, arg1, arg2, array);
    }
], function (err, result) {
    // RESULT BREAKS DUE TO FORMAT OF DIFFERENT RESPONSES
    console.log(result);
}); 
</code></pre>

<p>This is kind of working. It makes the first request, sends the data to the second function in the waterfall, makes 10 further requests etc.</p>

<p>Firstly, the array I'm pushing everything to appears empty outside of the 'request' call, and secondly the format of data that comes back from each request is different - this second part I can sort out, but basically I need to understand how to make a request, off the back of that request make 10 further (small, honest!) requests and build these into an object.</p>

<p>At the end I essentially want to end up with something like:</p>

<p>{
    response1: dataSet,
    response2: dataSet,
    response3: dataset
}</p>

<p>And in the future, I may want to add or change some of these, so any help would be hugely helpful!!! All I'm trying to do is make a few requests, build an object with their JSON responses so in my view I can do what I want with that large amount of data!</p>

<p>Thanks</p>
",<node.js><asynchronous><express><request><npm>,0.0,0,0,1
3574,3574,29202301,1,0,1319799,0.0,6.0,0.0,0.0,2015-03-23T02:11:05.433,1.0,739.0,How to minify and concat javascript and css files in Express 4,"<p>Is there a middleware that takes all public stuff like scripts, css, images, and fonts. And then losslessly compress them / minify, concat, replace their mention in templates with their calls. So script 1, script 2, script 3 tags let say in jade is replaced with all.concated.min.js and all images are merged into sprite sheet, losslessly compressed and then all their mentions of them in css or img tags is replaced by extra css rules that are also concated at the end of all.concat.min.css</p>

<p>i forgot to add that this <strong>manager</strong> should also handle http caching. As it's already replacing file values at server start. So it would make logo_s3kc.png max age infinity. But if logo changes which it keeps track using its own internal way, like using checksum. then it changes the name at next start of server so all files point to logo_new.png. but when i view file i only care about logo.png. Just like you have styles.less. Then there gets compiled styles.css etc. </p>
",<node.js><express><npm><pug>,0.0,0,0,1
3661,3661,29438725,1,29438899,3250554,1.0,0.0,0.0,0.0,2015-04-03T19:47:51.480,0.0,281.0,I require Express 3.x for my project but after installing I keep getting ' express --version 1.4.28',"<p>I have tried many things. Uninstalling npm and express.
Following this thread: <a href=""https://stackoverflow.com/questions/27435222/node-js-npm-install-express-error-fetch-failed"">Node.js npm install express error fetch failed</a><br>
Can someone explain what I am not doing Incorrectly.<br>
I know this is simple and I have resolved this in other circumstances but this will not resolve.</p>

<pre><code>package.json
  ""dependencies"": {
    ""bcrypt-nodejs"": ""~0.0.3"",
    ""consolidate"": ""~0.9.1"",
    ""express"": ""&gt;=3.2.6"",
    ""mongodb"": ""~1.4.34"",
etc.
</code></pre>

<p>At prompt if I do 'npm install' I thought it would use the version listed in the dependency list but it installed express 4.0.  see below.</p>

<pre><code>&gt; npm install
</code></pre>

<p>Shouldn't that install the versions in the dependency list ?</p>

<p>Express 4.0; it is not compatible with my course.  4.x is the default at this point in time.</p>

<pre><code>&gt;npm install express
npm express --version
4.0

&gt;rm -rf express
&gt;which express
(returns nothing)

&gt;npm install express@3.2.6


&gt;npm express --version
1.4.28
</code></pre>

<p>I think 1.4.28 is the version of npm itself.<br>
What is going on please ?</p>
",<node.js><mongodb><express><npm><version>,0.0,0,0,1
3672,3672,29455120,1,29455211,171134,2.0,0.0,0.0,0.0,2015-04-05T07:31:21.377,5.0,7765.0,How do I reference a js file from a node module in HTML?,"<p>I've used JetBrains WebStorm to create a Node.js Express App.  I used npm (via File->Settings->Node.js and NPM) to install a package called <a href=""https://www.npmjs.com/package/validator"" rel=""noreferrer"">validator</a> which is used for string validation.</p>

<p>The package was installed under <strong>node_modules</strong>, which is fine.  If I do <code>var validator = require('validator');</code> in my server code, I can use the validation functions successfully.</p>

<p>The problem is that I would also like to use validator in client JavaScript.  I can include the script like this:</p>

<pre><code>&lt;script src=""/javascripts/xss-filters.min.js""&gt;&lt;/script&gt;
</code></pre>

<p>But that means I have to copy <strong>xss-filters.min.js</strong> from the <strong>node_modules</strong> folder into the public <strong>javascripts</strong> folder.  Then, if I ever update the package with npm, the files will be out of sync.</p>

<p>Is there some way to reference <strong>node_modules</strong> from my view, or to create some sort of linked file or file reference or something?  I'd rather not have to maintain this manually.</p>
",<javascript><node.js><express><npm><webstorm>,0.0,0,0,1
3679,3679,29480455,1,0,4756338,1.0,0.0,0.0,0.0,2015-04-06T22:04:45.380,0.0,288.0,Error starting express server,"<p>I'm getting an error when I try to start my express server and for the life of me I can't find out why. It was working for a while, and stopped working, but I don't know what I would have changed that would break it. </p>

<p>Here's the output:</p>

<pre><code>0 info it worked if it ends with ok
1 verbose cli [ 'node', '/usr/local/bin/npm', 'start' ]
2 info using npm@2.7.4
3 info using node@v0.12.2
4 verbose run-script [ 'prestart', 'start', 'poststart' ]
5 info prestart mathlab@0.0.0
6 info start mathlab@0.0.0
7 verbose unsafe-perm in lifecycle true
8 info mathlab@0.0.0 Failed to exec start script
9 verbose stack Error: mathlab@0.0.0 start: `node ./bin/www`
9 verbose stack Exit status 1
9 verbose stack     at EventEmitter.&lt;anonymous&gt; (/usr/local/lib/node_modules/npm/lib/utils/lifecycle.js:213:16)
9 verbose stack     at EventEmitter.emit (events.js:110:17)
9 verbose stack     at ChildProcess.&lt;anonymous&gt; (/usr/local/lib/node_modules/npm/lib/utils/spawn.js:14:12)
9 verbose stack     at ChildProcess.emit (events.js:110:17)
9 verbose stack     at maybeClose (child_process.js:1015:16)
9 verbose stack     at Process.ChildProcess._handle.onexit (child_process.js:1087:5)
10 verbose pkgid mathlab@0.0.0
11 verbose cwd /Users/alangm/Documents/localgit/mathlab
12 error Darwin 14.1.0
13 error argv ""node"" ""/usr/local/bin/npm"" ""start""
14 error node v0.12.2
15 error npm  v2.7.4
16 error code ELIFECYCLE
17 error mathlab@0.0.0 start: `node ./bin/www`
17 error Exit status 1
18 error Failed at the mathlab@0.0.0 start script 'node ./bin/www'.
18 error This is most likely a problem with the mathlab package,
18 error not with npm itself.
18 error Tell the author that this fails on your system:
18 error     node ./bin/www
18 error You can get their info via:
18 error     npm owner ls mathlab
18 error There is likely additional logging output above.
19 verbose exit [ 1, true ]
</code></pre>
",<node.js><express><mongoose><npm>,0.0,0,0,1
3777,3777,29767005,1,0,3828267,2.0,1.0,0.0,0.0,2015-04-21T08:38:01.543,13.0,95700.0,"Why am I getting ""Error socket hang up"" response?","<p>I tried to scrape a website. And I am using the library <a href=""https://github.com/request/request"" rel=""noreferrer"">https://github.com/request/request</a>, but I get this error:</p>

<pre><code>Error: socket hang up
    at createHangUpError (http.js:1476:15)
    at Socket.socketOnEnd (http.js:1572:23)
    at Socket.g (events.js:180:16)
    at Socket.emit (events.js:117:20)
    at _stream_readable.js:943:16
    at process._tickDomainCallback (node.js:463:13) +0ms
</code></pre>

<p>What is wrong here? I also tried to re-install the package, but I get same error... help is appreciated.</p>
",<node.js><express><request><npm>,1.0,0,0,1
3823,3823,29913499,1,0,1355471,1.0,3.0,0.0,0.0,2015-04-28T07:52:14.990,1.0,41.0,"Getting following TypeError error, When I try to pass the header information using nodejs request module","<pre><code>exports.loginUser = function(req, res) {

    console.log(req.body.loginemail);
    console.log(req.body.loginpassword);

    var options = {
        uri: webServiceURL.login,
          method: ""POST"",
        body: {
            ""login"": req.body.loginemail,
            ""password"": req.body.loginpassword
        },
        json: true,
        headers: req.headers
    };
    request(options, function(error, response, body) {

        console.log(body);

    });

};
</code></pre>

<p>I am getting the following error when I try to pass the header information in to the request module. Basically what I am trying to achieve is to pass the cookie information to the API call:</p>

<pre><code>TypeError: undefined is not a function
   at rfc3986 (E:\nodeui\webui\node_modules\request\request.js:234:14)
   at Request.json (E:\nodeui\webui\node_modules\request\request.js:1357:21)
   at Request.init (E:\nodeui\webui\node_modules\request\request.js:599:10)
   at new Request (E:\nodeui\webui\node_modules\request\request.js:272:8)
   at request (E:\nodeui\webui\node_modules\request\index.js:56:10)
   at exports.loginUser (E:\nodeui\webui\app\controllers\user.js:27:6)
   at Layer.handle [as handle_request] (E:\nodeui\webui\node_modules\express\lib\router\layer.js:82:5)
   at next (E:\nodeui\webui\node_modules\express\lib\router\route.js:110:13)
   at Route.dispatch (E:\nodeui\webui\node_modules\express\lib\router\route.js:91:3)
   at Layer.handle [as handle_request] (E:\nodeui\webui\node_modules\express\lib\router\layer.js:82:5)
</code></pre>
",<javascript><node.js><express><request><npm>,1.0,0,0,1
3850,3850,29991541,1,0,670082,1.0,0.0,0.0,0.0,2015-05-01T17:10:01.777,3.0,233.0,How to load private git repository as package at azure website?,"<p>I've an express web app where I have a lot of stuff and want to split it into modules.</p>

<p>One of the way is that move shared code to private git repository and use it as a package. Npm support such using. But I didn't find that azure website does.
If anyone knows how to load private git repository as package at azure website?  </p>

<p>Or may be another way to share code in between apps in secure, private way at azure website?</p>
",<node.js><git><express><npm><azure-web-app-service>,0.0,0,0,1
3967,3967,30317866,1,30331861,3276001,1.0,0.0,0.0,0.0,2015-05-19T06:04:15.907,2.0,78.0,Node.js-Express-Strompath No CustomData after immediately after registration,"<p>I am having a strange error (at least in my opinion) after registering a user to stormpath via node/express using the Express-Stormpath module.</p>

<p>Just after registering I seem to have no access to customData in various routes for just the first user session. On registration I am creating and array for invoices </p>

<pre><code>app.use(stormpath.init(app, {
    ...,
    expandCustomData: true,
    postRegistrationHandler: function(account, req, res, next) {

        account.customData.invoices = [];
        account.save();

        next();
    }
}));
</code></pre>

<p>but then when I go to access them in my index route I get this error </p>

<pre><code>router.get('/', stormpath.loginRequired, function(req, res){

    console.log(req.user.customData.invoices ); // undefined

     res.render('index', {
        title: 'Index'
     });
});
</code></pre>

<p>how ever if I kill my local and restart it I get </p>

<pre><code> console.log(req.user.customData.invoices ); // []
</code></pre>

<p>which is what i would like.</p>

<p>Can anyone shed some light into what i am doing incorrectly here?</p>

<p>Thx in advance.</p>
",<node.js><express><npm><stormpath>,0.0,0,0,1
4066,4066,30589129,1,30590192,1223975,1.0,3.0,0.0,0.0,2015-06-02T06:43:03.023,2.0,1835.0,NPM cluster module and listening on different ports,"<p>I see a lot of examples of using the cluster npm module with Express web servers. For example:</p>

<p><a href=""http://rowanmanning.com/posts/node-cluster-and-express/"" rel=""nofollow"">http://rowanmanning.com/posts/node-cluster-and-express/</a></p>

<p>However, if you create a new web server 'for each core' using the cluster module, doesn't each instance have to listen on a different port? Most of the examples I see don't seem to increment or change the ports that http servers are listening on. Do you need a proxy server to route requests in this case or can you do without? </p>

<p>Furthermore, when using cluster with its default configuration all nodes listening on the same port, when I make a request to my server, all the the processes (for each core) respond. Seems strange, I would have thought the cluster module would manage that so that only one core would respond to each request.</p>
",<node.js><express><npm>,0.0,0,0,1
4074,4074,30604649,1,30604782,3567262,2.0,3.0,0.0,0.0,2015-06-02T19:13:14.263,6.0,6124.0,Hosting my MEAN stack web app on github pages,"<p>I have a project <a href=""https://github.com/httpNick/RackerNews"" rel=""noreferrer"">here</a> that is on github. I created a gh-pages branch to make it hosted on github pages. The link they gave me to my hosted site is <a href=""http://httpnick.github.io/RackerNews"" rel=""noreferrer"">here</a>. </p>

<p>I am pretty new to web apps and especially new to MEAN stack web apps. My question is - how can I access my web app now that it is hosted via github? Obviously the hosted link gives a 404 error because I don't have an index.html file in the root of the project. The ""html"" I have in the project is in the views folder and has an ""ejs"" file extension (index.ejs).</p>

<p>To run this app on my local machine I start an npm server:</p>

<pre><code>npm start
</code></pre>

<p>Then I navigate to <a href=""http://localhost:3000/#/home"" rel=""noreferrer"">http://localhost:3000/#/home</a> in a browser to see the app.</p>

<p>Is it even possible to host this app on github pages? Do I need to modify my project in some way to make it work? Also - I know I will have to change the mongoose database pointer for the database portion to work. Any pointers in the right direction would be greatly appreciated!</p>
",<node.js><express><github><npm><github-pages>,0.0,0,0,1
4077,4077,30617853,1,30618829,3761919,2.0,0.0,0.0,0.0,2015-06-03T10:44:36.577,0.0,96.0,Node js Express doesn't recognize npm inside projectfolder,"<p>I'm trying to install express through cmd in windows. My problem is installing dependencies after i've successfully installed express and built a skeleton of the framework. It requires to install dependencies. It even tells me the code line </p>

<blockquote>
  <p>cd Myprojectname &amp;&amp; npm install</p>
</blockquote>

<p>But it says npm is not recognized as a command.
I don't know if the folder structure is the problem, but here it is:</p>

<pre><code> nodejs
       -Myprojectname\
                      -bin\
                      -public\
                      -routes\
                      -views\
                      -app.js
                      -package.json
       -node_modules\
       -node.exe
       -npm
       -npm.cmd
       -node_etw_provider.bat
       -node_etw_provider
       -package.json
</code></pre>

<p>Thanks for your time!</p>
",<node.js><express><dependencies><npm>,0.0,0,0,1
4092,4092,30656923,1,0,4509587,1.0,0.0,0.0,0.0,2015-06-05T01:28:47.373,0.0,877.0,error in starting server with npm start,"<p>I am new to nodeJs:</p>

<p>I have written down server.js file, I installed nodejs. when I am running <code>""npm start""</code> I am getting following errors.</p>

<blockquote>
  <p>C:\Users\server\server.js:43<br>
  if (!(req.headers &amp;amp;amp;&amp;amp;amp;
  req.headers.authorization)) {                                         </p>

<pre><code>                    ^                                                                                                                           SyntaxError: Unexpected token ;                                       

at exports.runInThisContext (vm.js:73:16)                                                                                                      
at Module._compile (module.js:443:25)                                                                                                          
at Object.Module._extensions..js (module.js:478:10)                                                                                            
at Module.load (module.js:355:32)                                                                                                              
at Function.Module._load (module.js:310:12)                                                                                                    
at Function.Module.runMain (module.js:501:10)                                                                                                  
at startup (node.js:129:16)                                                                                                                    
at node.js:814:3                                                                                                                               
                                                                                                                                                npm ERR! Windows_NT 6.1.7601                                          
</code></pre>
  
  <p>npm ERR! argv ""C:\Program Files\nodejs\\node.exe"" ""C:\Program
  Files\nodejs\node_modules\npm\bin\npm-cli.js"" ""start""<br>
  npm ERR! node v0.12.4<br>
  npm ERR! npm  v2.10.1<br>
  npm ERR! code ELIFECYCLE<br>
  npm ERR! der-server@0.0.0 start: <code>node server.js</code><br>
  npm ERR! Exit status 1<br>
  npm ERR!<br>
  npm ERR! Failed at the der-server@0.0.0 start script 'node server.js'.
  npm ERR! This is most likely a problem with the der-server package,<br>
  npm ERR! not with npm itself.<br>
  npm ERR! Tell the author that this fails on your system:<br>
  npm ERR!     node server.js<br>
  npm ERR! You can get their info via:<br>
  npm ERR!     npm owner ls der-server<br>
  npm ERR! There is likely additional logging output above.             </p>

<pre><code>                                                                                                                                                npm ERR! Please include the following file with any support request:  
</code></pre>
  
  <p>npm ERR!     C:\Users\server\npm-debug.log</p>
</blockquote>
",<javascript><node.js><express><npm>,1.0,0,0,1
4147,4147,30769290,1,30769518,295189,1.0,4.0,0.0,0.0,2015-06-10T23:53:32.380,0.0,305.0,node user model is vomitting,"<p>I am trying to get my hands dirty with making node api following this tutorial</p>

<p><a href=""https://scotch.io/tutorials/authenticate-a-node-js-api-with-json-web-tokens"" rel=""nofollow"">https://scotch.io/tutorials/authenticate-a-node-js-api-with-json-web-tokens</a></p>

<p>problem is that when I execute </p>

<pre><code>$ nodejs server.js
</code></pre>

<p>I get this error</p>

<pre><code>{ [Error: Cannot find module '../build/Release/bson'] code: 'MODULE_NOT_FOUND' }
js-bson: Failed to load c++ bson extension, using pure JS version
{ [Error: Cannot find module '../build/Release/bson'] code: 'MODULE_NOT_FOUND' }
js-bson: Failed to load c++ bson extension, using pure JS version
{ [Error: Cannot find module '../build/Release/bson'] code: 'MODULE_NOT_FOUND' }
js-bson: Failed to load c++ bson extension, using pure JS version
{ [Error: Cannot find module '../build/Release/bson'] code: 'MODULE_NOT_FOUND' }
js-bson: Failed to load c++ bson extension, using pure JS version

module.js:340
    throw err;
    ^
Error: Cannot find module './sou/models/user'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at Object.&lt;anonymous&gt; (/var/www/html/sou/server.js:12:14)
    at Module._compile (module.js:456:26)
    at Object.Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Function.Module.runMain (module.js:497:10)
    at startup (node.js:119:16)
    at node.js:902:3
</code></pre>

<p>My directory structure is </p>

<pre><code>- sou/
----- models/
---------- user.js
- config.js
- package.json
- server.js
</code></pre>

<p>my server.js is</p>

<pre><code>// =======================
// get the packages we need ============
// =======================
var express     = require('express');
var app         = express();
var bodyParser  = require('body-parser');
var morgan      = require('morgan');
var mongoose    = require('mongoose');

var jwt    = require('jsonwebtoken'); // used to create, sign, and verify tokens
var config = require('./config'); // get our config file
var User   = require('./sou/models/user'); // get our mongoose model

// =======================
// configuration =========
// =======================
var port = process.env.PORT || 8080; // used to create, sign, and verify tokens
mongoose.connect(config.database); // connect to database
app.set('superSecret', config.secret); // secret variable

// use body parser so we can get info from POST and/or URL parameters
app.use(bodyParser.urlencoded({ extended: false }));
app.use(bodyParser.json());

// use morgan to log requests to the console
app.use(morgan('dev'));

// =======================
// routes ================
// =======================
// basic route
app.get('/', function(req, res) {
    res.send('Hello! The API is at http://localhost:' + port + '/api');
});

// API ROUTES -------------------
// we'll get to these in a second

// =======================
// start the server ======
// =======================
app.listen(port);
console.log('Magic happens at http://localhost:' + port);
</code></pre>

<p>my models/user.js</p>

<pre><code>// get an instance of mongoose and mongoose.Schema
var mongoose = require('mongoose');
var Schema = mongoose.Schema;

// set up a mongoose model and pass it using module.exports
module.exports = mongoose.model('User', new Schema({
    name: String,
    password: String,
    admin: Boolean
}));
</code></pre>

<p>what am I missing??</p>

<p>thanks</p>

<p>EDIT: Fixing the file path but now getting this error</p>

<p>this</p>

<pre><code>{ [Error: Cannot find module '../build/Release/bson'] code: 'MODULE_NOT_FOUND' }
js-bson: Failed to load c++ bson extension, using pure JS version
{ [Error: Cannot find module '../build/Release/bson'] code: 'MODULE_NOT_FOUND' }
js-bson: Failed to load c++ bson extension, using pure JS version
{ [Error: Cannot find module '../build/Release/bson'] code: 'MODULE_NOT_FOUND' }
js-bson: Failed to load c++ bson extension, using pure JS version
{ [Error: Cannot find module '../build/Release/bson'] code: 'MODULE_NOT_FOUND' }
js-bson: Failed to load c++ bson extension, using pure JS version
Magic happens at http://localhost:8090

/var/www/html/sou/node_modules/mongoose/node_modules/mongodb/lib/server.js:228
        process.nextTick(function() { throw err; })
                                            ^
Error: connect ECONNREFUSED
    at errnoException (net.js:901:11)
    at Object.afterConnect [as oncomplete] (net.js:892:19)
</code></pre>
",<node.js><express><npm>,1.0,0,0,1
4149,4149,30770065,1,30770778,295189,2.0,0.0,0.0,0.0,2015-06-11T01:27:22.040,-1.0,502.0,404 on api authenticate for node restful,"<p>I am using this tutorial</p>

<p><a href=""https://scotch.io/tutorials/authenticate-a-node-js-api-with-json-web-tokens"" rel=""nofollow"">https://scotch.io/tutorials/authenticate-a-node-js-api-with-json-web-tokens</a></p>

<p>to learn about node with restful authentication. I am getting 404s in the route when I post at this</p>

<pre><code>http://localhost:8090/api/authenticate
</code></pre>

<p>Here is the response that I get</p>

<pre><code>Cannot POST /api/authenticate
</code></pre>

<p>and the console shows 404</p>

<pre><code>POST /api/authenticate 404 2.465 ms - 30
</code></pre>

<p>here is my code</p>

<pre><code>// =======================
// get the packages we need ============
// =======================
var express     = require('express');
var app         = express();
var bodyParser  = require('body-parser');
var morgan      = require('morgan');
var mongoose    = require('mongoose');

var jwt    = require('jsonwebtoken'); // used to create, sign, and verify tokens
var config = require('./config'); // get our config file
var User   = require('./app/models/user'); // get our mongoose model

// =======================
// configuration =========
// =======================
var port = process.env.PORT || 8090; // used to create, sign, and verify tokens
mongoose.connect(config.database); // connect to database
app.set('superSecret', config.secret); // secret variable

// use body parser so we can get info from POST and/or URL parameters
app.use(bodyParser.urlencoded({ extended: false }));
app.use(bodyParser.json());

// use morgan to log requests to the console
app.use(morgan('dev'));

// =======================
// routes ================
// =======================
// basic route
app.get('/', function(req, res) {
    res.send('Hello! The API is at http://localhost:' + port + '/api');
});

app.get('/setup', function(req, res) {
  // create a sample user
  var nick = new User({
    name: 'Nick Cerminara',
    password: 'password',
    admin: true
  });

  // save the sample user
  nick.save(function(err) {
    if (err) throw err;

    console.log('User saved successfully');
    res.json({ success: true });
  });
});


// API ROUTES -------------------

// get an instance of the router for api routes
var apiRoutes = express.Router();

// route to authenticate a user (POST http://localhost:8090/api/authenticate)
apiRoutes.post('/authenticate', function(req, res) {
console.log(req);
  // find the user
  User.findOne({
    name: req.body.name
  }, function(err, user) {

    if (err) throw err;

    if (!user) {
      res.json({ success: false, message: 'Authentication failed. User not found.' });
    } else if (user) {

      // check if password matches
      if (user.password != req.body.password) {

  res.json({ success: false, message: 'Authentication failed. Wrong password.' });
      } else {

        // if user is found and password is right
        // create a token
        var token = jwt.sign(user, app.get('superSecret'), {
          expiresInMinutes: 1440 // expires in 24 hours
        });

        // return the information including token as JSON
        res.json({
          success: true,
          message: 'Enjoy your token!',
          token: token
        });
      }

    }

  });
});


// =======================
// start the server ======
// =======================
app.listen(port);
console.log('Magic happens at http://localhost:' + port);
</code></pre>

<p>what am  I doing wrong? the / and /setup works just fine</p>
",<node.js><express><npm>,0.0,0,0,1
4255,4255,31022819,1,31023891,3248720,2.0,1.0,0.0,0.0,2015-06-24T09:30:06.960,3.0,9464.0,Using connect-livereload in an Express node app,"<p>Following <a href=""http://blog.keithcirkel.co.uk/how-to-use-npm-as-a-build-tool/"" rel=""nofollow"">this</a> great article on how to use npm as a build tool, I would like to implement it when building a nodejs express web app.
My node app is created on port 8080, this is a simplified version of my <code>server.js</code> file:</p>

<pre><code>var env = process.env.NODE_ENV

var path = require('path');
var express = require('express');
var logger = require('morgan');

var routes = require('./routes');

var app = express();

app.set('port', process.env.PORT || 8080);
app.set('views', __dirname + '/views');
app.set('view engine', 'jade');
app.engine('jade', require('jade').__express)

var Oneday = 86400000;
app.use(express.static(__dirname + '/www', {
    maxAge: env == 'development' ? 0 : Oneday
}));

app.use(logger('dev'));

app.use(express.static(path.join(__dirname, '/public'), {
    maxAge: env == 'development' ? 0 : Oneday
}))

if (env == 'development') {
    // var liveReloadPort = 9091;
    app.use(require('connect-livereload')({
        port: 8080
        // src: ""js/""
            // port: liveReloadPort
    }));
}

routes.blog(app);
routes.frontend(app, passport);

app.use(function(err, req, res, next) {
    console.log(err.stack);
    res.status(500).send({
        message: err.message
    })
});

app.listen(app.get('port'));
console.log('Server starting on port: ' + app.get('port'));
</code></pre>

<p>The file that I'm watching before needing to reload is in <code>www/js</code>.
I am using <code>npm</code> as a build tool and before launching <code>server.js</code> with npm I launch a separate process that does <code>watchify source/js/app.js -v -o wwww/js/bundle.js</code>
I did checked that watchify works correctly, updating as I save my files. But there is no livereload once a file is changed.
The error I get in the console is:
<code>Uncaught SyntaxError: Unexpected token &lt;</code>
and I can see that connect-livereload inserted this script in the html:</p>

<pre><code>&lt;script&gt;
//&lt;![CDATA[
document.write('&lt;script src=""//' + (location.hostname || 'localhost') + ':8080/livereload.js?snipver=1""&gt;&lt;\/script&gt;')
//]]&gt;
&lt;/script&gt;
&lt;script src=""//localhost:8080/livereload.js?snipver=1""&gt; &lt;/script&gt;
</code></pre>

<p>I tried also to use <a href=""https://github.com/Raynos/live-reload"" rel=""nofollow"">live-reload</a> as mentionned in the original article but without success and I am not sure it's the right plugin to use as <code>live-reload</code> launches a server, when I already start one with express.
Any ideas?</p>
",<node.js><express><npm><livereload>,0.0,0,0,1
4267,4267,31048197,1,0,5048436,1.0,3.0,0.0,0.0,2015-06-25T10:47:43.607,3.0,3364.0,"Node.js- ""npm install express"" error:0906D06C :PEM routines : PEM_read_bio npm","<p>I have installed node.js and it has npm installed along with it. In my windows command prompt,when i write ""npm install express"", it gives me the following error.How to resolve this?</p>

<blockquote>
  <p>C:\Users>npm -v</p>
  
  <p>2.11.2</p>
  
  <p>C:\Users>npm install express</p>
  
  <p>npm ERR! Windows_NT 6.1.7601</p>
  
  <p>npm ERR! argv ""C:\Program Files\nodejs\\node.exe"" ""C:\Program
  Files\nodejs \node_modules\npm\bin\npm-cli.js"" ""install""
  ""express""</p>
  
  <p>npm ERR! node v0.12.5</p>
  
  <p>npm ERR! npm  v2.11.2</p>
  
  <p>npm ERR! error:0906D06C:PEM routines:PEM_read_bio:no start line</p>
  
  <p>npm ERR!</p>
  
  <p>npm ERR! If you need help, you may report this error at: npm ERR!<br>
  <a href=""https://github.com/npm/npm/issues"" rel=""nofollow"">https://github.com/npm/npm/issues</a></p>
  
  <p>npm ERR! Please include the following file with any support request:
  npm ERR!     C:\Users\npm-debug.log</p>
</blockquote>
",<javascript><node.js><express><cmd><npm>,0.0,0,0,1
4268,4268,31050281,1,31051320,1665598,1.0,1.0,0.0,0.0,2015-06-25T12:23:32.877,0.0,281.0,npm path and installation issues - suggestions,"<p>I have used to install my nodejs on D:\ drive instead of C and have set environment variables to D drive node &amp; npm folders. </p>

<p>Then i changed npm installation path as ""prefix=D:\node\node_modules\npm
"" on ""npmrc"" file. So i could confirm that all user based modules are pointing on D drive npm folder instead of appdata.</p>

<p>I tried to install express js globally and i used to check the package tree on my cli as mentioned below,
npm ll -g</p>

<p>while trying this command am getting npm extraneous ERR,</p>

<p><img src=""https://i.stack.imgur.com/0WZBq.jpg"" alt=""enter image description here""></p>

<p>Please suggest me that which way i have to use npm path and installation stuffs. </p>

<p>Thanks in advance.</p>
",<node.js><express><npm>,0.0,0,0,1
4285,4285,31082075,1,0,5054572,1.0,3.0,0.0,0.0,2015-06-26T21:00:42.473,0.0,202.0,cd express_example && npm install error,"<p>I'm pretty new to the node community and such there are a lot of errors I get that I don't know how to fix. Recently I was trying out a tutorial from  <a href=""http://shapeshed.com/creating-a-basic-site-with-node-and-express/"" rel=""nofollow"">http://shapeshed.com/creating-a-basic-site-with-node-and-express/</a> to learn Node and Express, but I immediately got stuck at the beginning installation part: ""cd express_example &amp;&amp; npm install""</p>

<p><strong>I'm on terminal for mac, and receive this error:
&lt;>-bash: cd: express_example: No such file or directory</strong></p>

<p>I don't understand how you can install something with a cd reference at the beginning, I've searched around for a solution, but no one seems to be encountering this issue. If you could direct me to how to solve it, I would appreciate it.</p>
",<bash><express><npm><installation>,0.0,0,0,1
4364,4364,31231860,1,0,2379736,0.0,3.0,0.0,0.0,2015-07-05T15:18:58.090,0.0,98.0,"""npm install express-react-views"" result in access error","<p>I want to install express-react-views in Ubuntu 14.04 locally(not globally) but the installation results in an access error--it is trying to access global npm folder.</p>

<p>Anything I have done wrongly or express-react-views requires sudo privilege?</p>
",<node.js><express><npm><reactjs>,0.0,0,0,1
4370,4370,31248180,1,0,3791726,1.0,0.0,0.0,0.0,2015-07-06T14:15:14.300,-1.0,34.0,unable to return in node.js from a function,"<p>I have three blocks of code where block one executes first and the result of first block is passed to bloack 2 and then the final result is then passed to the third block which has to send data to the route.
But at the end the return is undefined.</p>

<pre><code>function getUserKey(userRole, callback) {


//keys value is stored and returned
                  var keys = base.menuModel.find({ 'name' : userRole  }, function (err, result) {
                                        if (!err) {
                                            var menu =  JSON.stringify(result);
                                              menu = JSON.parse(menu);
                                              var menuKeys = [];
                                              for(i = 0;i &lt; Object.keys(menu[0].permissions[0]).length;i++) {
                                                    menuKeys.push((Object.keys(menu[0].permissions[0])[i]));
                                                  }
                                                callback(null,menuKeys);                   
                //returns menukeys to be shown
                                          }
                                              else {
                                                return err;
                                              }
                                         });

                }
</code></pre>

<p>n is holding the menu keys </p>

<pre><code>                function userMenuData(n, callback) {
                       var filterResult =  base.globalMenuModel.find({""title"" : { $in : n}},function (err, result) {
                                              if (!err) {
                                                    callback(null,result);        
                                                     } 
                                              else {
                                                  return err;
                                              }
                                             });
                }

                var userMenu = function(userRole,callback) {
                  var userMenuTemp = async.compose(userMenuData, getUserKey);
            var sendData = userRole is passed and the result is obtained
                    userMenuTemp(userRole,function(err,result) {

                      return result; // data success
                    });
            console.log(sendData);  //undefined
            return sendData;
                }
</code></pre>

<p>here i want to pass sendData to route in node.js
but at the console i am getting undefined.
Thanks for any help</p>
",<node.js><asynchronous><express><npm>,0.0,0,0,1
4410,4410,31362021,1,31362109,2387316,3.0,4.0,0.0,0.0,2015-07-11T21:28:01.013,104.0,129384.0,npm start vs node app.js,"<p>I'm extremely new to Node and trying to get my head around app basics. I'm curious as to why these two commands:</p>

<blockquote>
  <p>node app.js</p>
</blockquote>

<p>--vs--</p>

<blockquote>
  <p>npm start</p>
</blockquote>

<p>output the same thing to the console and appear to continue ""listening"", but why when I try to access <a href=""http://localhost:3000"" rel=""noreferrer"">http://localhost:3000</a> I get a 404 only when running the first command.</p>

<p>I see that Express 4 seems to have a different app structure, but why is it that one successfully listens and the other doesn't, despite the same behavior in the console?</p>

<p>Any explanation is helpful. Thanks!</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
4486,4486,31549324,1,0,5140868,0.0,3.0,0.0,0.0,2015-07-21T20:47:53.887,0.0,436.0,npm request module's formData is undefined in POST call to another Server + Express4.x.x,"<pre><code>var form = {              
            widgetReleaseId: req.body.widgetReleaseId,
            version: req.body.version,
            uploadDate: req.body.uploadDate,                
            myfiles : myfiles                       
  };
</code></pre>

<blockquote>
  <p>Below is npm request.</p>
</blockquote>

<pre><code>    request.post(
            {
                url:target_url+'widget-releases/',
                formData:form
            }, function optionalCallback(err, httpResponse, body) {

                console.log('body'+body)
                if (err) {
                    console.log(err)
                }

                del(['uploads/'+req.session.loginuser+'**/*'], function (err, paths) {
                    console.log('Deleted files/folders:\n', paths.join('\n'));
                });
                res.redirect('/admin-ui/widget-release/add');   
            });
</code></pre>

<blockquote>
  <p>Api exposed 'Post' on another nodejs Server. .Error is coming while reading the files from folder which supposed to be created using multer. Since req.body.widgetReleaseId is 'undefined' ,it is not creating the folder to copy the files</p>
</blockquote>

<pre><code>router.post('/',multer({
dest: './public/api/downloads/',

changeDest: function(dest, req, res) {


    dest += req.body.widgetReleaseId;

    var stat = null;
    try {
        stat = fs.statSync(dest);
    } catch (err) {
        mkdirp.sync(dest);
    }
    if (stat &amp;&amp; !stat.isDirectory()) {
        throw new Error('Directory cannot be created because an inode of a different type exists at ""' + dest + '""');
    }
    return dest;
},
rename: function(fieldname, filename, req,res){
    return filename.replace(/\W+/g, '-');
},
onFileUploadStart: function (file, req, res) {
    console.log(file.fieldname + ' is starting ...')
},
onFileUploadComplete: function (file, req, res) {
    console.log(file.fieldname + ' uploaded to  ' + file.path)
}   ,
onError: function (error, next) {
    console.log(error)
    next(error)
}
}), function(req,res) {
 //code goes here..
     fs.readdir('./public/api/downloads/'+req.body.widgetReleaseId,function(err,files ){
....
});
</code></pre>

<p>Body-parser settings are correct and before any routing. It was working few days back but now getting Error: ENOENT error as there is no data coming in with formData to nodejs server. Any Clue? I had cleaned the cache and update the project as well.</p>
",<node.js><express><multipartform-data><npm-request>,0.0,0,0,1
4508,4508,31592726,1,31867456,3355603,18.0,0.0,0.0,0.0,2015-07-23T16:11:22.817,86.0,107629.0,How to store a file with file extension with multer?,"<p>Managed to store my files in a folder but they store without the file extension.</p>

<p>Does any one know how would I store the file with file extension?</p>
",<node.js><express><npm><multer>,0.0,0,0,1
4547,4547,31659611,1,31660248,2821490,1.0,0.0,0.0,0.0,2015-07-27T17:34:00.093,0.0,596.0,NPM Link Vs. requiring using path,"<p><a href=""https://docs.npmjs.com/cli/link"" rel=""nofollow"">NPM link</a> seems cool, but what are the differences between NPM link and requiring the module by giving the path? Could you please elaborate the advantageous of each?</p>

<p>When you use npm link you can require it like:</p>

<pre><code>var foo = require(""foo"");
</code></pre>

<p>but if you use the path, you require it like:</p>

<pre><code>var foo = require(""./lib/foo"");
</code></pre>

<p>Thanks</p>
",<node.js><express><npm>,0.0,0,0,1
4571,4571,31729666,1,31730133,4126649,1.0,0.0,0.0,0.0,2015-07-30T16:50:31.887,2.0,2146.0,How to do a manual install of Node js package dependencies,"<p>I am rather new to Node but am working on a project behind a very restrictive firewall so I cannot use npm to install packages (no proxy either). I am trying to use express and have been able to include it by just storing the files locally and requiring the local file path but I do not know how to structure the project so that node can find and include all of the dependencies for express (which I also have manually downloaded from github and stored locally within the project). Does anyone know how to do a completely manual global or local install of individual node dependency packages?</p>
",<node.js><express><npm><installation>,0.0,0,0,1
4612,4612,31822615,1,31822639,5000070,1.0,1.0,0.0,0.0,2015-08-05T02:49:10.007,0.0,102.0,"Why do i have to put ""-g"" on npm install command?","<p>I am new to node.js, everything is running fine right now for me, but i am interested in something, on all tutorials i have seen, it is simple to install packages, for example, when they install express, they write:</p>

<pre><code>npm install express
</code></pre>

<p>but in my console, i have to write</p>

<pre><code>npm install express -g
</code></pre>

<p>The first one gives me error while trying to install the package. Is this caused  because i have installed windows and i use command prompt?</p>
",<express><npm>,0.0,0,0,1
4677,4677,31976722,1,31976870,4951010,34.0,1.0,0.0,0.0,2015-08-12T22:51:54.790,432.0,1423112.0,Start script missing error when running npm start,"<p>I'm receiving this error when trying to debug my node application using the <code>npm start</code> command.</p>
Error:
<pre class=""lang-none prettyprint-override""><code>npm ERR! Windows_NT 6.3.9600
npm ERR! argv &quot;C:\\Program Files\\nodejs\\\\node.exe&quot; &quot;C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js&quot; &quot;start&quot;
npm ERR! node v0.12.7
npm ERR! npm  v2.11.3

npm ERR! missing script: start
npm ERR!
npm ERR! If you need help, you may report this error at:
npm ERR!     &lt;https://github.com/npm/npm/issues&gt;npm ERR! Please include the following file with any support request:
npm ERR!     C:\Users\andrmoll.NORTHAMERICA\Documents\GitHub\SVIChallenge\npm-debug.log
</code></pre>
From the debug file:
<pre class=""lang-none prettyprint-override""><code>Error: missing script: start
       at run (C:\Program Files\nodejs\node_modules\npm\lib\run-script.js:142:19)
       at C:\Program Files\nodejs\node_modules\npm\lib\run-script.js:58:5
       at C:\Program Files\nodejs\node_modules\npm\node_modules\read-package-json\read-json.js:345:5
       at checkBinReferences_ (C:\Program Files\nodejs\node_modules\npm\node_modules\read-package-json\read-json.js:309:45)
       at final (C:\Program Files\nodejs\node_modules\npm\node_modules\read-package-json\read-json.js:343:3)
       at then (C:\Program Files\nodejs\node_modules\npm\node_modules\read-package-json\read-json.js:113:5)
       at C:\Program Files\nodejs\node_modules\npm\node_modules\read-package-json\read-json.js:300:12
       at evalmachine.&lt;anonymous&gt;:334:14
       at C:\Program Files\nodejs\node_modules\npm\node_modules\graceful-fs\graceful-fs.js:102:5
       at FSReqWrap.oncomplete (evalmachine.&lt;anonymous&gt;:95:15)
</code></pre>
",<javascript><node.js><express><package.json><npm-scripts>,1.0,0,0,1
4703,4703,32040987,1,0,3989656,0.0,2.0,0.0,0.0,2015-08-16T23:36:23.343,2.0,1800.0,Cannot find module 'destroy',"<p>I am using ""yo angular-fullstac"" and getting below error when running ""grunt server"" or ""grunt serve --force"" command. Any idea why this happens? How to fix it?</p>

<pre><code>Running ""autoprefixer:dist"" (autoprefixer) task
File .tmp/app/app.css created.
File .tmp/app/app.css.map created (source map).

Running ""express:dev"" (express) task
Starting background Express server
Debugger listening on port 5858
module.js:338
throw err;
      ^
Error: Cannot find module 'destroy'
at Function.Module._resolveFilename (module.js:336:15)
at Function.Module._load (module.js:278:25)
at Module.require (module.js:365:17)
at require (module.js:384:17)
at Object.&lt;anonymous&gt; (D:\Projects\NEWMM\node_modules\express\node_modules\s
end\index.js:8:15)
at Module._compile (module.js:460:26)
at Object.Module._extensions..js (module.js:478:10)
at Module.load (module.js:355:32)
    at Function.Module._load (module.js:310:12)
at Module.require (module.js:365:17)

Running ""wait"" task
&gt;&gt; Waiting for server reload...
Done waiting!

Running ""open:server"" (open) task

Running ""watch"" task
Waiting...
</code></pre>
",<angularjs><node.js><express><npm><yo>,1.0,0,0,1
4718,4718,32081864,1,32082929,419425,1.0,1.0,0.0,0.0,2015-08-18T20:17:38.463,1.0,5220.0,How to add `jquery` to express app,"<p>I just played around with a hello-world-chat <code>express</code> app (<a href=""http://socket.io/get-started/chat/"" rel=""nofollow"">here</a>). And I noticed the following in the index.html</p>

<pre><code>&lt;script src=""/socket.io/socket.io.js""&gt;&lt;/script&gt;
</code></pre>

<p>I had installed </p>

<pre><code>npm install --save socket.io
</code></pre>

<p>How does express know where it is, because there is no file like</p>

<pre><code>/node_modules/socket.io/socket.io.js
</code></pre>

<p>For example, I would like to do the same with jquery</p>

<pre><code>$&gt; npm install --save jquery

&lt;script src=""/jquery/jquery.js""&gt;&lt;/script&gt;
</code></pre>

<p>However, this doesn't work :(</p>

<p>Can someone explain to me how this works ? And if possible how I can fix this for <code>jquery</code>.</p>
",<node.js><express><socket.io><npm>,0.0,0,0,1
4774,4774,32244301,1,32261195,1347170,1.0,3.0,0.0,0.0,2015-08-27T08:27:26.427,0.0,403.0,Creating a global npm package,"<p>I found this article that talks about creating global packages: <a href=""https://bretkikehara.wordpress.com/2013/05/02/nodejs-creating-your-first-global-module/"" rel=""nofollow"">https://bretkikehara.wordpress.com/2013/05/02/nodejs-creating-your-first-global-module/</a></p>

<p>So I've got a bin value declared in my <code>package.json</code> like this:</p>

<pre><code>""bin"": {
    ""my-server"": ""./bin/start-server.js""
  }
</code></pre>

<p>And in <code>start-server.js</code> I have a reference to <code>../server.js</code> which is what I run to start my express server up. After I do an <code>npm install -g</code> in my project folder and run <code>my-server</code>it works just fine, however when I navigate out of the project folder and run <code>my-server</code> the server seems to start, but none of my stylesheets or client-side javascript includes are showing up.</p>

<p>In my <code>server.js</code> file I'm defining these paths like this:</p>

<pre><code>app.set('views', path.join(__dirname, '/public'));
app.set('view engine', 'ejs');
app.use(express.static('public'));
</code></pre>

<p>Is there a different way I should be setting this up so that no matter where someone calls <code>my-server</code> from it has the correct path to the stylesheets?</p>
",<node.js><express><npm>,0.0,0,0,1
4825,4825,32397151,1,0,4174195,1.0,0.0,0.0,0.0,2015-09-04T11:37:23.640,1.0,799.0,Running npm start keeps the process running on the current port regardless of ending it,"<p>I have my application running an a port:</p>

<pre><code>var port = normalizePort(process.env.PORT || '9999');
app.set('port', port);
</code></pre>

<p>For simplicity sake, I've just ran Express in a directory and created a brand new express application.</p>

<p>Issue: I run <code>npm start</code> to start my application. It runs fine, i've not got a gulp task setup. So I press <code>ctrl</code> + <code>c</code> to cancel, make my changes and run <code>npm start</code> again.</p>

<p>I then get an error like this:</p>

<pre><code>Port 9999 is already in use

npm ERR! Darwin 14.5.0
npm ERR! argv ""node"" ""/usr/local/bin/npm"" ""start""
npm ERR! node v0.12.7
npm ERR! npm  v2.11.3
npm ERR! code ELIFECYCLE
npm ERR! example_test@0.0.0 start: `node ./bin/www`
npm ERR! Exit status 1
</code></pre>

<p>So my process is still running on port 9999, how do I kill the process without needing to find the process and kill it every time. Isn't there a way I can cancel the process and it kills it at the same time?</p>

<p>Thanks!</p>
",<node.js><express><npm>,0.0,0,0,1
4863,4863,32480745,1,0,0,3.0,1.0,0.0,0.0,2015-09-09T13:21:34.413,1.0,342.0,Getting error while installing express-generator on ubuntu,"<p>I am getting error while installing express-generator</p>

<pre><code>sudo npm install -g express-generator
npm http GET https://registry.npmjs.org/express-generator
npm http 304 https://registry.npmjs.org/express-generator
npm http GET https://registry.npmjs.org/commander/2.7.1
npm http GET https://registry.npmjs.org/mkdirp/0.5.1
npm http GET https://registry.npmjs.org/sorted-object/1.0.0
npm http 304 https://registry.npmjs.org/commander/2.7.1
npm http 304 https://registry.npmjs.org/mkdirp/0.5.1
npm http 304 https://registry.npmjs.org/sorted-object/1.0.0
npm http GET https://registry.npmjs.org/graceful-readlink
npm http GET https://registry.npmjs.org/minimist/0.0.8
npm http 304 https://registry.npmjs.org/graceful-readlink
npm http 304 https://registry.npmjs.org/minimist/0.0.8
/usr/local/bin/express -&gt; /usr/local/lib/node_modules/express-generator/bin/express
express-generator@4.13.1 /usr/local/lib/node_modules/express-generator
├── sorted-object@1.0.0
├── commander@2.7.1 (graceful-readlink@1.0.1)
└── mkdirp@0.5.1 (minimist@0.0.8)
</code></pre>

<p>I think this is why I can not use express command on terminal.</p>

<p>it is giving me below error while running command  </p>

<pre><code>$ express -h 
bash: /usr/bin/express: No such file or directory
</code></pre>

<p>I am using ubuntu 14.04. </p>

<p>can anyone shade light on this? why i am getting 304?</p>
",<node.js><express><npm>,0.0,0,0,1
5018,5018,32772292,1,32774369,4897352,4.0,5.0,0.0,0.0,2015-09-24T23:01:17.890,8.0,34783.0,Starting Express.js Using app.js or 'npm start'?,"<p>I've recently installed Node.js on a local server and when I create a 'server.js' file (adding a server using the .createServer() method), it loads fine.</p>

<p>However after installing Express.js, the default files are as follows:</p>

<pre><code>/bin
/node_modules
/public
/routes
/views
app.js
package.json
</code></pre>

<p>After following some documentation, I am instructed to go to Terminal and enter the following command:</p>

<pre><code>node app.js
</code></pre>

<p>To which nothing happens, the command line refreshes to the next line in less than a second, and opening a browser after visiting the proper IP and port, to no avail.</p>

<p>Below is the code inside of the app.js file:</p>

<pre><code>var express = require('express');
var path = require('path');
var favicon = require('serve-favicon');
var logger = require('morgan');
var cookieParser = require('cookie-parser');
var bodyParser = require('body-parser');

var routes = require('./routes/index');
var users = require('./routes/users');

var app = express();

// view engine setup
app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'jade');

// uncomment after placing your favicon in /public
//app.use(favicon(path.join(__dirname, 'public', 'favicon.ico')));
app.use(logger('dev'));
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({ extended: false }));
app.use(cookieParser());
app.use(express.static(path.join(__dirname, 'public')));

app.use('/', routes);
app.use('/users', users);

// catch 404 and forward to error handler
app.use(function(req, res, next) {
  var err = new Error('Not Found');
  err.status = 404;
  next(err);
});

// error handlers

// development error handler
// will print stacktrace
if (app.get('env') === 'development') {
  app.use(function(err, req, res, next) {
    res.status(err.status || 500);
    res.render('error', {
      message: err.message,
      error: err
    });
  });
}

// production error handler
// no stacktraces leaked to user
app.use(function(err, req, res, next) {
  res.status(err.status || 500);
  res.render('error', {
        message: err.message,
        error: {}
      });
    });

module.exports = app;
</code></pre>

<p>I understand that the actual 'express' module that is being required in the beginning of the file is where the magic happens, however, when I run the command line:</p>

<pre><code>node app.js
</code></pre>

<p>Nothing happens. However, if I call the following line:</p>

<pre><code>npm start
</code></pre>

<p>Everything appears to be okay. I would like to follow the documentation as is, any reason why the app.js wouldn't be working?</p>

<p>Thank you.</p>

<p>UPDATE: My question was too similar to another one already posted, so I must clarify exactly how they were different. In the other question, a person was questioning a code number they received while running the Supervisor command on the default 'app.js' file.</p>

<p>While similar in nature, this question should remain, as those who are confused by using my same approach will focus on the identity of the actual 'app.js' file by using 'node app.js' without having full knowledge of the Supervisor utility.</p>

<p>Regards.</p>
",<node.js><express><npm>,0.0,0,0,1
5054,5054,32844980,1,32845300,5014456,1.0,0.0,0.0,0.0,2015-09-29T13:14:25.913,0.0,206.0,npm start is throwing the following error on windows,"<p>Hello I use Windows 10 and recently installed mean. However when i start npm using npm start command, i get the following error. I even installed express.</p>

<pre><code>C:\&gt;npm start
npm ERR! Windows_NT 6.3.9600
npm ERR! argv ""C:\\Program Files\\nodejs\\\\node.exe"" ""C:\\ProgramFiles\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""start""
npm ERR! node v0.12.7
npm ERR! npm  v2.11.3
npm ERR! path C:\package.json
npm ERR! code ENOENT
npm ERR! errno -4058

npm ERR! enoent ENOENT, open 'C:\package.json'
npm ERR! enoent This is most likely not a problem with npm itself
npm ERR! enoent and is related to npm not being able to find a file.
npm ERR! enoent

npm ERR! Please include the following file with any support request:
npm ERR!     C:\npm-debug.log
</code></pre>
",<angularjs><node.js><express><npm><mean>,0.0,0,0,1
5069,5069,32877555,1,0,5249612,2.0,4.0,0.0,0.0,2015-10-01T00:13:16.597,0.0,2061.0,node.js express route.get() error,"<p>I am using express-generator and installed the dependencies, everything else is as is, except this app.js file I've updated and posted here. </p>

<p>I'm getting the error when running npm start. I've posted the error and app.js file. It's probably something basic, I'm a newb. Thanks so much.</p>

<p><strong>Error message</strong></p>

<pre><code>    ryan@\Ryan:~/Desktop/node/frameworks/expressapi$ npm start

&gt; expressapi@0.0.0 start /home/ryan/Desktop/node/frameworks/expressapi
&gt; node ./bin/www


/home/ryan/Desktop/node/frameworks/expressapi/node_modules/express/lib/router/route.js:196
        throw new Error(msg);
              ^
Error: Route.get() requires callback functions but got a [object Undefined]
    at Route.(anonymous function) [as get] (/home/ryan/Desktop/node/frameworks/expressapi/node_modules/express/lib/router/route.js:196:15)
    at EventEmitter.app.(anonymous function) [as get] (/home/ryan/Desktop/node/frameworks/expressapi/node_modules/express/lib/application.js:481:19)
    at Object.&lt;anonymous&gt; (/home/ryan/Desktop/node/frameworks/expressapi/app.js:45:5)
    at Module._compile (module.js:456:26)
    at Object.Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at Object.&lt;anonymous&gt; (/home/ryan/Desktop/node/frameworks/expressapi/bin/www:7:11)
npm ERR! weird error 8
npm WARN This failure might be due to the use of legacy binary ""node""
npm WARN For further explanations, please read
/usr/share/doc/nodejs/README.Debian

npm ERR! not ok code 0
</code></pre>

<p><strong>Server code</strong></p>

<pre><code>var express = require('express');
var path = require('path');
var favicon = require('serve-favicon');
var logger = require('morgan');
var cookieParser = require('cookie-parser');
var bodyParser = require('body-parser');

var routes = require('./routes/index');
var users = require('./routes/users');

var app = express();
// view engine setup
app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'jade');

// uncomment after placing your favicon in /public
//app.use(favicon(path.join(__dirname, 'public', 'favicon.ico')));
app.use(logger('dev'));
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({ extended: false }));
app.use(cookieParser());
app.use(express.static(path.join(__dirname, 'public')));

var products = [
    {
      id: 0,
      name: 'watch',
      description: 'tell time with this amazing watch',
      price: 30.00
    },
    {
      id: 1,
      name: 'sandals',
      description: 'walk in comfort with these sansdals',
      price: 10.00
    },
    {
      id: 2,
      name: 'watch',
      description: 'protect your eyes!',
      price: 25.00
    }
];

app.get('/', routes.index);

app.get('/products', function(req, res) {
  res.json(products);
});

app.get('/products/:id', function(req, res) {
  if (req.params.id &gt; (products.length - 1) || req.params.id &lt; 0) {
    res.statusCode = 404;
    res.end('NotFound');
  }
  res.json(products[req.params.id]);
});

app.post('/products', function(req, res) {
  if (typeof req.body.name === 'undefined') {
    res.statusCode = 400;
    res.end('a product name is required');
  }
  products.push(req.body);
  res.send(req.body);
});

app.put('/products/:id', function(req, res) {
  if (req.params.id &gt; (products.length - 1) || req.params.id &lt; 0) {
    res.satusCode = 404;
    res.end('not found');
  }
  products[req.params.id] = req.body;
  res.send(req.body);
});

app.delete('/products/:id', function(req, res) {
  if (req.params.id &gt; (products.length - 1) || req.params.id &lt; 0) {
    res.statusCode = 400;
    res.end('not found for that id');
  }
  products.splice(req.params.id, 1);
  res.json(products);
});
</code></pre>

<p>if i delete line 45 like some have recommended i get the error </p>

<pre><code>ryan@\Ryan:~/Desktop/node/frameworks/expressapi$ npm start

&gt; expressapi@0.0.0 start /home/ryan/Desktop/node/frameworks/expressapi
&gt; node ./bin/www


/home/ryan/Desktop/node/frameworks/expressapi/bin/www:16
app.set('port', port);
    ^
TypeError: Object #&lt;Object&gt; has no method 'set'
    at Object.&lt;anonymous&gt; (/home/ryan/Desktop/node/frameworks/expressapi/bin/www:16:5)
    at Module._compile (module.js:456:26)
    at Object.Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Function.Module.runMain (module.js:497:10)
    at startup (node.js:119:16)
    at node.js:902:3
npm ERR! weird error 8
npm WARN This failure might be due to the use of legacy binary ""node""
npm WARN For further explanations, please read
/usr/share/doc/nodejs/README.Debian

npm ERR! not ok code 0
</code></pre>
",<node.js><express><npm>,1.0,0,0,1
5071,5071,32878281,1,32879160,5249612,1.0,7.0,0.0,0.0,2015-10-01T01:54:17.750,0.0,884.0,node.js express generator app not responding,"<p>The only file/folder ive changed is the main app.js after i installed express generator and npm install. Im a newb, maybe its its a  typo in the app.js file. Heres the file and console output. Thanks so much. when i go to localhost:3000 on chrome it says cannot GET/ and it failed to load resource in console 404 and on the comm line it says GET / 404 11.960 ms - 13 everytime i reload the page </p>

<pre><code>^Cryan@\Ryan:~/Desktop/node/frameworks/expressapi$ npm start

&gt; expressapi@0.0.0 start /home/ryan/Desktop/node/frameworks/expressapi
&gt; node ./bin/www

curl -X get http://localhost:3000/products

curl -X DELETE http://localhost:3000/products/2
</code></pre>

<p>and the app.js file </p>

<pre><code>var express = require('express');
var path = require('path');
var favicon = require('serve-favicon');
var logger = require('morgan');
var cookieParser = require('cookie-parser');
var bodyParser = require('body-parser');

var routes = require('./routes');
var users = require('./routes/users');

var app = express();
// view engine setup
app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'jade');

// uncomment after placing your favicon in /public
//app.use(favicon(path.join(__dirname, 'public', 'favicon.ico')));
app.use(logger('dev'));
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({ extended: false }));
app.use(cookieParser());
app.use(express.static(path.join(__dirname, 'public')));

var products = [
    {
      id: 0,
      name: 'watch',
      description: 'tell time with this amazing watch',
      price: 30.00
    },
    {
      id: 1,
      name: 'sandals',
      description: 'walk in comfort with these sansdals',
      price: 10.00
    },
    {
      id: 2,
      name: 'watch',
      description: 'protect your eyes!',
      price: 25.00
    }
];

app.get('./routes');

app.get('/products', function(req, res) {
  res.json(products);
});

app.get('/products/:id', function(req, res) {
  if (req.params.id &gt; (products.length - 1) || req.params.id &lt; 0) {
    res.statusCode = 404;
    res.end('NotFound');
  }
  res.json(products[req.params.id]);
});

app.post('/products', function(req, res) {
  if (typeof req.body.name === 'undefined') {
    res.statusCode = 400;
    res.end('a product name is required');
  }
  products.push(req.body);
  res.send(req.body);
});

app.put('/products/:id', function(req, res) {
  if (req.params.id &gt; (products.length - 1) || req.params.id &lt; 0) {
    res.statusCode = 404;
    res.end('not found');
  }
  products[req.params.id] = req.body;
  res.send(req.body);
});

app.delete('/products/:id', function(req, res) {
  if (req.params.id &gt; (products.length - 1) || req.params.id &lt; 0) {
    res.statusCode = 400;
    res.end('not found for that id');
  }
  products.splice(req.params.id, 1);
  res.json(products);
});

module.exports = app;
</code></pre>

<p>and here iis the www file </p>

<pre><code>#!/usr/bin/env node

/**
 * Module dependencies.
 */

var app = require('../app');
var debug = require('debug')('expressapi:server');
var http = require('http');

/**
 * Get port from environment and store in Express.
 */

var port = normalizePort(process.env.PORT || '3000');
app.set('port', port);

/**
 * Create HTTP server.
 */

var server = http.createServer(app);

/**
 * Listen on provided port, on all network interfaces.
 */

server.listen(port);
server.on('error', onError);
server.on('listening', onListening);

/**
 * Normalize a port into a number, string, or false.
 */

function normalizePort(val) {
  var port = parseInt(val, 10);

  if (isNaN(port)) {
    // named pipe
    return val;
  }

  if (port &gt;= 0) {
    // port number
    return port;
  }

  return false;
}

/**
 * Event listener for HTTP server ""error"" event.
 */

function onError(error) {
  if (error.syscall !== 'listen') {
    throw error;
  }

  var bind = typeof port === 'string'
    ? 'Pipe ' + port
    : 'Port ' + port;

  // handle specific listen errors with friendly messages
  switch (error.code) {
    case 'EACCES':
      console.error(bind + ' requires elevated privileges');
      process.exit(1);
      break;
    case 'EADDRINUSE':
      console.error(bind + ' is already in use');
      process.exit(1);
      break;
    default:
      throw error;
  }
}

/**
 * Event listener for HTTP server ""listening"" event.
 */

function onListening() {
  var addr = server.address();
  var bind = typeof addr === 'string'
    ? 'pipe ' + addr
    : 'port ' + addr.port;
  debug('Listening on ' + bind);
}
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
5118,5118,32966533,1,0,4688232,1.0,0.0,0.0,0.0,2015-10-06T09:34:58.590,-2.0,533.0,Error for installing npm install express-generator -g,"<p>npm install express results in the following error.How to resolve this? There are already many duplicates of this question with INCORRECT answers, I'm sharing this with the below CORRECT answer to clear things up.</p>

<pre><code>-bash-3.2$ npm install express-generator -g
npm WARN engine express-generator@4.13.1: wanted: {""node"":""&gt;= 0.10""} (current: {""node"":""v0.9.4-pre"",""npm"":""1.4.16""})
npm ERR! error rolling back Error: EACCES, unlink '/usr/local/bin/express'
npm ERR! error rolling back  express-generator@4.13.1 { [Error: EACCES, unlink '/usr/local/bin/express'] errno: 3, code: 'EACCES', path: '/usr/local/bin/express' }
npm ERR! Error: EACCES, unlink '/usr/local/bin/express'
npm ERR!  { [Error: EACCES, unlink '/usr/local/bin/express'] errno: 3, code: 'EACCES', path: '/usr/local/bin/express' }
npm ERR! 
npm ERR! Please try running this command again as root/Administrator.

npm ERR! System Linux 2.6.23.17-88.fc7
npm ERR! command ""node"" ""/usr/local/bin/npm"" ""install"" ""express-generator"" ""-g""
npm ERR! cwd /home/sukumar/www/nodejs/socialgrow
npm ERR! node -v v0.9.4-pre
npm ERR! npm -v 1.4.16
npm ERR! path /usr/local/bin/express
npm ERR! code EACCES
npm ERR! errno 3
npm ERR! stack Error: EACCES, unlink '/usr/local/bin/express'
npm ERR! 
npm ERR! Additional logging details can be found in:
npm ERR!     /home/sukumar/www/nodejs/socialgrow/npm-debug.log
npm ERR! not ok code 0
</code></pre>
",<javascript><node.js><windows><express><npm>,0.0,0,0,1
5123,5123,32978231,1,0,2009914,1.0,0.0,0.0,0.0,2015-10-06T19:35:51.717,0.0,552.0,TypeError: Cannot read property 'getAll' of null at MongoCR.auth in nodejs with mongoDB npm package,"<p>i gota strange error when i was working with node express and mongodb. I googled for the solutions but no luck so far. so posting here. hope i get the solution here.
    I have put my code. please help.
    node code:</p>

<pre><code> var fs = require('fs');
 var mongo = require(""mongodb""),
     Db = mongo.Db,
     Server = mongo.Server;
 var express = require(""express"");
 var mongoClient = mongo.MongoClient;

 var app = express();
 var port = process.env.PORT || 8080;
 app.get('/putdata', function (req, res) {
     var db = new Db('local', new Server('localhost', 27017));
     var countries = JSON.parse(fs.readFileSync(""countries.json"", 'utf8'));
     console.log(countries.countries[0]);
     db.authenticate('testuser', 'test@123', function (err, result) {
     db.open(function (err, data) {
         var obj = { name: ""xyz"" };
         data.collection('test').insert(obj, { safe: true }, function (err, result) {
             if (err) {
                 res.send({ 'error': 'An error has occurred' });
             } else {
                 console.log('Success: ' + JSON.stringify(result));
                 res.send(result[0]);
             }

         });
     });
    .
    .
    .

this is how i created mongodb user:

&gt; db.getUsers()
[
        {
                ""_id"" : ""test.testuser"",
                ""user"" : ""testuer"",
                ""db"" : ""test"",
                ""roles"" : [
                        {
                                ""role"" : ""readWrite"",
                                ""db"" : ""test""
                        }
                ]
        }
]

Error when i hit localhost:3000/putdata :
    TypeError: Cannot read property 'getAll' of null
   at MongoCR.auth (E:\Users\Documents\Visual Studio 2013\Projects\PoC\Server\node_modules\mongodb\node_modules\mongodb-core\lib\auth\mongocr.js:56:25)
   at Server.auth (E:\Users\Documents\Visual Studio 2013\Projects\PoC\Server\node_modules\mongodb\node_modules\mongodb-core\lib\topologies\server.js:1032:40)
   at Server.auth (E:\Users\Documents\Visual Studio 2013\Projects\PoC\Server\node_modules\mongodb\lib\server.js:379:22)
   at authenticate (E:\Users\Documents\Visual Studio 2013\Projects\PoC\Server\node_modules\mongodb\lib\db.js:1375:21)
   at Db.authenticate (E:\Users\Documents\Visual Studio 2013\Projects\PoC\Server\node_modules\mongodb\lib\db.js:1412:44)
   at E:\Users\Documents\Visual Studio 2013\Projects\PoC\Server\app.js:29:8
   at Layer.handle [as handle_request] (E:\Users\Documents\Visual Studio 2013\Projects\PoC\Server\node_modules\express\lib\router\layer.js:82:5)
   at next (E:\Users\Arun\Documents\Visual Studio 2013\Projects\PoC\Server\node_modules\express\lib\router\route.js:100:13)
   at Route.dispatch (E:\Users\Documents\Visual Studio 2013\Projects\PoC\Server\node_modules\express\lib\router\route.js:81:3)
   at Layer.handle [as handle_request] (E:\Users\Documents\Visual Studio 2013\Projects\PoC\Server\node_modules\express\lib\router\layer.js:82:5)
</code></pre>

<p>if you see the path, its in mongodb package. so i suspect the issue is in npm mongodb package. please suggest.
Thanks</p>
",<node.js><mongodb><express><npm>,1.0,0,0,1
5140,5140,33002426,1,33296967,1223975,2.0,0.0,0.0,0.0,2015-10-07T21:07:33.877,0.0,360.0,depcheck with Node.js - finding require('x') where x is not in package.json,"<p>I found this library called depcheck:</p>

<p><a href=""https://www.npmjs.com/package/depcheck"" rel=""nofollow"">https://www.npmjs.com/package/depcheck</a></p>

<p>At first I just assumed that it did what I want - find modules that are used in the code but not declared in package.json, but all it does it look for unused dependencies. I am looking for the exact reverse- dependencies that are used in the code but not declared in package.json.</p>

<p>Is there such an NPM module that can do this? I can't find it. The reason this matters is that when deploying Node.js applicatons it's very common that we are missing a dependency in package.json that we are using our code because one of us forgot to include the --save option when running npm install x.</p>
",<node.js><express><npm>,0.0,0,0,1
5250,5250,33226889,1,0,989577,0.0,3.0,0.0,0.0,2015-10-20T02:14:20.937,0.0,16.0,Having issues posting with express and mongodb,"<p>I am trying to post a form through express. For some reason when I am posting, it is posting about 4-8 times. It seems that when autocomplete is involved it using the keystrokes. </p>

<p>I am also using gulp and wanted to know how to post using express or if I should post separately in a javascript file. </p>

<p><em>Code Example</em></p>

<p>ADD USER FILE (which is included in my server file)-</p>

<pre><code>var express  = require('express');
var passport = require('passport');
var form     = require('express-form');
var field    = form.field;

var User   = require('../models/user');
var router = express.Router({
  mergeParams: false
});

router.get('/user/add', function (req, res) {
  res.render('users/add', { 
    user: req.user,
    message: req.flash('addUserMessage') 
  });
});

router.post('/user/add', function (req, res) {
  User.findOne({ 'email' : req.body.email }, function (err, user) {
    if (err)
        res.redirect('/error');

    if (user) {
        req.flash('addUserMessage', 'This email exists already');
        res.redirect('/user/add');
    } else {
        var newUser = new User();

        newUser.email        = req.body.email;
        newUser.firstName    = req.body.firstName;
        newUser.lastName     = req.body.lastName;

        newUser.save(function(err) {
         if (err)
          throw err;
         req.flash('addUserMessage', 'Success');
         res.redirect('/user/add');
       });
     }
  });
});
</code></pre>
",<forms><mongodb><express><npm><gulp>,0.0,0,0,1
5264,5264,33243208,1,33243270,4825465,2.0,3.0,0.0,0.0,2015-10-20T17:36:23.117,2.0,53.0,How to run my MEAN stack code while making lots of changes without having to restart `npm start`?,"<p>I'm running my MMEAN stack app (Mongoose, MongoDB, Express, AngularJS, and Node.js) with <code>npm start</code>.  <strong>But whenever I make a change in the code, I have to quit and restart <code>npm start</code> for the changes to show up on my web application.</strong> This is getting annoying now because I am still building my app so I'm making lots of changes. So what can I do to run my MMEAN stack app in a smoother way?</p>

<p>This is the directory structure of my app, based on <a href=""https://thinkster.io/mean-stack-tutorial"" rel=""nofollow"">this tutorial</a>:</p>

<pre><code>HTML        views/
Angular.js  public/javascript/
Express.js  routes/
Node.js     app.js
Mongoose js models/, connected in app.js
Mongo db    connected in app.js
</code></pre>
",<javascript><node.js><express><npm><mean-stack>,0.0,0,0,1
5278,5278,33267601,1,33268269,4013924,1.0,0.0,0.0,0.0,2015-10-21T19:26:31.607,0.0,105.0,How to serve index.html with certain elements to certain users?,"<p>I am wanting to serve various users a <code>index.html</code> page however certain users can only see certain elements such as buttons for example. I'm using the Express framework, I know you can ""register"" views then feed the allow / deny certain web pages to a user but I want to allow / deny certain elements for a webpage when the login. Was wondering if anyone has experience in this?</p>
",<javascript><html><node.js><express><npm>,0.0,0,0,1
5290,5290,33292449,1,33293095,0,1.0,2.0,0.0,0.0,2015-10-22T23:25:04.987,1.0,56.0,Integrate with npm install,"<p>What I am trying to do is when I do npm install for my app itself I need to check unused dependencies in package.json.</p>

<p>Is there any way to include npm package <a href=""https://www.npmjs.com/package"" rel=""nofollow"">https://www.npmjs.com/package</a> during npm install itself, so that I don't need to install it seprately see unused dependencies like this</p>

<p>Thanks,</p>
",<javascript><html><node.js><express><npm>,0.0,0,0,1
5295,5295,33301932,1,0,1621640,2.0,0.0,0.0,0.0,2015-10-23T12:06:51.620,0.0,4504.0,Port already in use - Error in application using Node.js & Express.js,"<p>I am pretty new to this. Cannot figure out what this is. It says Port 3000 already in use but when I ping the port, it says unknown host. The static page contained nothing at all and it was working fine before I tried to do something with mongoose. Even after I removed the code, the error still persists. The only code I added to app.js was:</p>

<p><a href=""http://code.runnable.com/U0MpcpIzdaRkX2VH/querying-mongodb-from-express-using-mongoose-for-node-js"" rel=""nofollow noreferrer"">http://code.runnable.com/U0MpcpIzdaRkX2VH/querying-mongodb-from-express-using-mongoose-for-node-js</a></p>

<pre><code>var express = require('express');

// Mongoose import
var mongoose = require('mongoose');

// Mongoose connection to MongoDB (ted/ted is readonly)
mongoose.connect('mongodb://ted:ted@ds061797.mongolab.com:61797/theenlighteneddeveloper', function (error) {
    if (error) {
        console.log(error);
}
});

// Mongoose Schema definition
var Schema = mongoose.Schema;
var UserSchema = new Schema({
    first_name: String,
    last_name: String,
    email: String
});

// Mongoose Model definition
var User = mongoose.model('users', UserSchema);

// Bootstrap express
var app = express();

// URLS management

app.get('/', function (req, res) {
    res.send(""&lt;a href='/users'&gt;Show Users&lt;/a&gt;"");
});

app.get('/users', function (req, res) {
    User.find({}, function (err, docs) {
        res.json(docs);
    });
});

app.get('/users/:email', function (req, res) {
    if (req.params.email) {
        User.find({ email: req.params.email }, function (err, docs) {
            res.json(docs);
        });
    }
});

// Start the server
app.listen(80);
</code></pre>

<p>Here's the screenshot of the terminal when I do an <em>npm start</em>.</p>

<p><a href=""https://i.stack.imgur.com/74J0x.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/74J0x.png"" alt=""This is what I get on npm start""></a>
This is the actual code in the app.js now. 80 is not listening now, 3000 is - which must be the default for express.js</p>

<pre><code>var express = require('express');
var path = require('path');
var favicon = require('serve-favicon');
var logger = require('morgan');
var cookieParser = require('cookie-parser');
var bodyParser = require('body-parser');

var routes = require('./routes/index');
var users = require('./routes/users');

var app = express();

// view engine setup
app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'jade');

// uncomment after placing your favicon in /public
//app.use(favicon(path.join(__dirname, 'public', 'favicon.ico')));
app.use(logger('dev'));
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({ extended: false }));
app.use(cookieParser());
app.use(require('stylus').middleware(path.join(__dirname, 'public')));
app.use(express.static(path.join(__dirname, 'public')));

app.use('/', routes);
app.use('/users', users);

// catch 404 and forward to error handler
app.use(function(req, res, next) {
  var err = new Error('Not Found');
  err.status = 404;
  next(err);
});
if (app.get('env') === 'development') {
  app.use(function(err, req, res, next) {
    res.status(err.status || 500);
    res.render('error', {
      message: err.message,
      error: err
    });
  });
}

// production error handler
// no stacktraces leaked to user
app.use(function(err, req, res, next) {
  res.status(err.status || 500);
  res.render('error', {
    message: err.message,
    error: {}
  });
});


module.exports = app;
</code></pre>
",<node.js><mongodb><express><mongoose><npm>,0.0,0,0,1
5324,5324,33354678,1,0,829928,0.0,3.0,0.0,0.0,2015-10-26T20:08:42.407,0.0,123.0,Npm 2.x errors on Windows,"<p>I have installed NodeJs 4.2.1 and Npm 2.14.7 successfully on Windows 10 x64, but when at the time of gathering dependencies on my new and clean system I'm having several errors. This is what I have done so far:</p>

<p>I have cloned many examples from take: github <a href=""https://github.com/developit/express-es6-rest-api"" rel=""nofollow"">https://github.com/developit/express-es6-rest-api</a> to name one, when I run <code>npm install</code> on it everything works fine, but when I run <code>npm start</code> it raises errors for missing packages for instance: babel-core/register, utf8, requests, etc. It seems that npm is not installing the 2nd dependency level way down. How can I fix this?, as I said before I've tried with several tutorials and even with something mine and everything is the same. I need a hand, noob on NodeJS here.</p>
",<node.js><windows><express><npm>,0.0,0,0,1
5337,5337,33382489,1,33383718,2037589,1.0,2.0,0.0,0.0,2015-10-28T03:37:20.830,-1.0,76.0,Node/Express Cannot Open CSS or JS Files,"<p>I once installed node and express via npm in my Windows laptop. I put my <code>node_modules</code> folder in a same directory as my <code>app.js</code>.  Everything works fine including some attempt serving static files.</p>

<pre><code>app.use('/static', express.static(path.join(__dirname, 'public')));
</code></pre>

<p>I can play with this directory, even with <code>index.html</code> (auto-default page if I open <code>/static/somedir</code>) and its <code>style.css</code>.</p>

<p>Later, I tried to move it to my <strong>linux</strong> vps (node installed) to see how is it look like, it was proxied with nginx.</p>

<p>All my view works fine, but my <code>.css</code>, and <code>.js</code> <em>extension</em> files always return <strong><em>404</em></strong>.</p>
",<javascript><node.js><express><nginx><npm>,0.0,0,0,1
5352,5352,33424568,1,33445846,1475573,1.0,8.0,0.0,0.0,2015-10-29T21:04:05.570,0.0,902.0,Nodejs with Express and CORS Hanging after so many calls,"<p>So I have a Node.JS REST API which I added the CORS npm module to. Now I find that after I make so many calls, the server will hang and I have to restart it. And it's a very small number of calls too, like 6 or 7. I tried using the CORS npm module with default settings and I also tried just setting up manually like so:</p>

<pre><code>app.use(function(req, res, next) {
  res.header(""Access-Control-Allow-Origin"", ""*"");
  res.header(""Access-Control-Allow-Headers"", ""Origin, X-Requested-With, Content-Type, Accept"");
  next();
})
</code></pre>

<p>But no matter which way I do it, it's the same result. Any ideas would be very appreciated. </p>

<p>Here is my code for my main.js file</p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>// Imports
var express  = require('express'),
    CORS = require('cors'),
    app = express(),                               // create our app w/ express
    verRouter = express.Router(),                  // Create router for version stuff
    stageRouter = express.Router(),                // Create router for version stuff
    morgan = require('morgan'),                    // log requests to the console (express4)
    bodyParser = require('body-parser'),           // pull information from HTML POST (express4)
    methodOverride = require('method-override'),   // simulate DELETE and PUT (express4)
    winston = require('winston'),                  // logging library
    mysql = require('mysql'),                      // mysql library
    jwt = require('jsonwebtoken'),                 // library to create JSON tokens for authentication
    passport = require('passport'),                // Authentication library
    LdapStrategy = require('passport-ldapauth'),   // specific library for LDAP use
    config = require('./config/config')            // config to hold sensitive info like mysql credentials and secret key

//init logger
var logger = new (winston.Logger)({
  transports: [
    new (winston.transports.Console)(),
    new (winston.transports.File)({ filename: 'versions_api.log' })
  ]
})
logger.level = 'debug'
logger.exitOnError = false

//LDAP Authentication
var eaOPTS = {
  server: {
    url: config.ldap.url,
    bindDn: config.ldap.bindDn,
    bindCredentials: config.ldap.bindCredentials,
    searchBase: config.ldap.searchBase,
    searchFilter: config.ldap.searchFilter,
    groupSearchBase: config.ldap.groupSearchBase,
    groupSearchFilter: config.ldap.groupSearchFilter,
    groupSearchAttributes: config.ldap.groupSearchAttributes
  }
}

passport.use(new LdapStrategy(eaOPTS))

// db configuration
var pool = mysql.createPool({
  connectionLimit : 10,
  host            : config.db.host,
  user            : config.db.user,
  password        : config.db.password,
  database        : config.db.database
})

app.use(CORS(corsOpts))
app.use(morgan('dev'))                                          // log every request to the console
app.use(bodyParser.urlencoded({'extended':'true'}))             // parse application/x-www-form-urlencoded
app.use(bodyParser.json())                                      // parse application/json
app.use(bodyParser.json({ type: 'application/vnd.api+json' }))  // parse application/vnd.api+json as json
app.use(methodOverride())

//Import the routes
var versions = require('./routes/versions')(app, pool, logger, express, jwt)
var states = require('./routes/states')(app, pool, logger, express, jwt)
var auth = require('./routes/auth')(app, logger, express, passport, jwt)


//Set up the routes
app.use('/versions', versions)
app.use('/states', states)
app.use('/auth', auth)

//Catch any 404s and print out their error message.
app.use(function(err, req, res, next) {
  if(err.status !== 404) {
    return next()
  }

  res.status(404)
  logger.error(err.message)
  console.log(err.message)
  res.send(err.message)
})

// listen (start app with nodemon main.js)
var port = process.env.PORT || 8888
app.listen(port, function() {
  console.log(""App listening on port ""+port)
})</code></pre>
</div>
</div>
</p>

<p>Thanks!</p>

<p><strong>UPDATE:</strong>
As requested, here are the versions.js and state.js files:</p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>/*************************************************************************************
VERSIONS.JS
Description: Module holding all routes for the versions section of the Version REST
            API. All functions in this module handle the versions. Add a new version,
            get all versions, get a single version, update a version, search versions.
*************************************************************************************/
module.exports = function(app, pool, logger, express, jwt) {
  var helper = require(""../modules/helpers"")(logger)
  var router = express.Router()

  // get all versions
  router.get('/list', function(req, res, next) {
    pool.getConnection(function(err, conn) {
      if (err) return helper.handleErr(err, res)
      conn.query(""SELECT *, DATE_FORMAT(st.launch_date, '%Y-%m-%d %H:%i:%s') AS launch FROM versions v LEFT JOIN state_transition st ON (st.version_id=v.id)"", function(err, vers) {
        if (err) return helper.handleErr(err, res)

        res.json(vers) // return all versions in JSON format
      })
    })
  })

  // create a version and send back all versions after creation
  router.post('/add', function(req, res, next) {
    var vals = req.body
    if(!('comment' in vals) || !('version' in vals)) {
      return helper.createErr(""Comment and Version are required parameters."", res)
    }
    pool.getConnection(function(err, conn) {
      if (err) return helper.handleErr(err, res)
      conn.query(""SELECT * FROM versions WHERE version='""+vals.version+""'"", function(err, ver) {
        if(ver.length) helper.createErr(""The version ""+vals.version+"" already exists."")
      })
      conn.query(""INSERT INTO versions(version,comment) VALUES('""+vals.version+""','""+vals.comment+""')"", function(err, ver) {
        if (err) return helper.handleErr(err, res)
        logger.info(""New version added. Version: '""+vals.version+""' Comment: '""+vals.comment+""'"")
        res.json({""status"":""ok"", ""message"":""Version added.""})
      })
    })
  })

  // Retrieve a single version
  router.get('/:ver_id', function(req, res, next) {
    pool.getConnection(function(err, conn) {
      if (err) return helper.handleErr(err, res)
      conn.query(""SELECT *, DATE_FORMAT(st.launch_date, '%Y-%m-%d %H:%i:%s') AS launch FROM versions v LEFT JOIN state_transition st ON (st.version_id=v.id) WHERE v.id=""+req.params.ver_id, function(err, ver) {
        // if there is an error retrieving, send the error.
        if (err) return helper.handleErr(err, res)
        if (ver.length){
          res.json(ver)
        } else {
          return helper.createErr(""No results found."", res)
        }
      })
    })
  })

  // Update a version by ID
  router.post('/edit/:ver_id', function(req, res, next) {
    var vals = req.body
    if (!req.params.ver_id) {
      return helper.createErr(""Must provide a version id."", res)
    }

    pool.getConnection(function(err, conn) {
      if (err) return helper.handleErr(err, res)
      conn.query(""SELECT * FROM versions WHERE id=""+req.params.ver_id, function(err, ver) {
        if (err) return helper.handleErr(err, res)
        //Update the comment for the version since this is the only thing about a version we can update.
        if (ver.length) {
          conn.query(""UPDATE versions SET comment='""+vals.comment+""' WHERE id=""+req.params.ver_id, function(err) {
            if (err) return helper.handleErr(err, res)
            conn.query(""SELECT * FROM versions WHERE id=""+req.params.ver_id, function(err, newver) {
              logger.info('Version updated from '+JSON.stringify(ver[0])+' to '+JSON.stringify(newver[0]))
              res.json({""status"":""ok"", ""message"":""Version updated.""})
            })
          })
        } else {
          return helper.createErr(""No results found."", res)
        }
      })
    })
  })

  //Get all versions that match the provided search criteria
  router.post('/search', function(req, res, next) {
    //version: *.*.*.***** - Search for any version that matches up to the maximum number of characters (a full version string)
    //state: Search for versions and the appropriate state transitions that match the state
    //date_start: Search for versions that have state transition(s) from the given start date (to now if no end date provided)
    //date_end: Search for version that have state transition(s) to a given end date (from a start date if provided, otherwise from the beginning of time)
    var vals = req.body
    if (Object.keys(vals).length == 0) {
      //Create an error cause we can't search for nothing.
      return helper.createErr(""Must provide at least one search parameter (version, state, date start, or date end)."", res)
    } else {
      pool.getConnection(function(err, conn) {
        if (err) return helper.handleErr(err, res)

        //Initialize the query and then append to it as required
        q = ""SELECT *, DATE_FORMAT(st.launch_date, '%Y-%m-%d %H:%i:%s') AS launch FROM versions v LEFT JOIN state_transition st on (v.id = st.version_id) WHERE""
        if ('version' in vals) {
          q = helper.addWhere(q, "" v.version LIKE '""+vals.version+""%'"")
        }
        if ('state' in vals) {
          q = helper.addWhere(q, "" st.state=""+vals.state)
        }

        if ('date_start' in vals &amp;&amp; !('date_end' in vals)) {
          q = helper.addWhere(q, "" DATE(st.launch_date) &gt; '""+vals.date_start+""'"")
        } else if (!('date_start' in vals) &amp;&amp; 'date_end' in vals) {
          q = helper.addWhere(q, "" DATE(st.launch_date) &lt; '""+vals.date_end+""'"")
        } else if ('date_start' in vals &amp;&amp; 'date_end' in vals) {
          q = helper.addWhere(q,"" DATE(st.launch_date) BETWEEN '""+vals.date_start+""' AND '""+vals.date_end+""'"")
        }

        conn.query(q, function(err, vers) {
          if (err) return helper.handleErr(err, res)
          if (vers.length) {
            res.json(vers)
          } else {
            res.json({""results"": ""No results found.""})
          }
        })
      })//end of connection object retrieved from pool
    }
  }) //end of get ""search"" request)

  return router
}//end module</code></pre>
</div>
</div>
</p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>/************************************************************************************
STATES.JS
Description: Module holding all routes for the state section of the Version REST API.
            All functions in this module handle the states. Add a new state, get all
            states for a given version, get a list of the states available.
************************************************************************************/
module.exports = function(app, pool, logger, express, jwt) {
  var helper = require(""../modules/helpers"")(logger)
  var router = express.Router()

  // Get all states (ids and names)
  router.get('/list', function(req, res) {
    pool.getConnection(function(err, conn) {
      if (err) return helper.handleErr(err, res)
      conn.query(""SELECT * FROM states"", function(err, sts) {
        if (err) return helper.handleErr(err, res)

        res.json(sts)
      })
    })
  })

  //Add a new state for a version. When done, pass back the updated version with it's states.
  router.post('/add/:ver_id', function(req, res) {
    var vals = req.body
    if (!('state' in vals) || !('launch' in vals)) helper.createErr(""A state and launch date are required."", res)
    pool.getConnection(function(err, conn) {
      if (err) return helper.handleErr(err, res)
      conn.query(""SELECT * FROM versions WHERE id=""+req.params.ver_id, function(err, ver) {
        if (err) return helper.handleErr(err, res)
        if (!ver.length) {
          //No result was found.
          return helper.createErr(""A version with id +""+req.params.ver_id+"" does not exist."", res)
        }
        conn.query(""SELECT * FROM state_transition WHERE version_id=""+ver[0].id+"" AND state=""+vals.state+"" AND launch_date='""+vals.launch+""'"", function(err, st) {
          if (err) return helper.handleErr(err, res)
          if (st.length) return helper.createErr(""The version ""+ver[0].version+"" already has an entry for state ""+vals.state, res)
        })
        console.log(""INSERT INTO state_transition(version_id,state,launch_date) VALUES(""+ver[0].id+"", ""+vals.state+"", '""+vals.launch+""')"")
        conn.query(""INSERT INTO state_transition(version_id,state,launch_date) VALUES(""+ver[0].id+"", ""+vals.state+"", '""+vals.launch+""')"", function(err, out) {
          if (err) return helper.handleErr(err, res)
          logger.info(""New state added for version ""+ver[0].version)
          res.json({""status"":""ok"", ""message"":""State added.""})
        })
      })
    })
  })

  //Update the launch date of a state for a version
  router.post('/update/:ver_id/:state', function(req, res) {
    var vals = req.body
    if (!('launch_date' in vals)) helper.createErr(""A launch date is required."", res)
    pool.getConnection(function(err, conn) {
      if (err) return helper.handleErr(err, res)
      conn.query(""SELECT * FROM versions WHERE id=""+req.params.ver_id, function(err, ver) {
        if (err) return helper.handleErr(err, res)
        if (!ver.length) {
          //No result was found.
          return helper.createErr(""A version with id +""+req.params.ver_id+"" does not exist."", res)
        }
        conn.query(""SELECT * FROM state_transition WHERE version_id=""+ver[0].id+"" AND state=""+req.params.state, function(err, st) {
          if (err) return helper.handleErr(err, res)
          if (!st.length) return helper.createErr(""This state does not exist yet for this version."", res)
          conn.query(""UPDATE state_transition SET launch_date='""+vals.launch_date+""' WHERE version_id=""+ver[0].id+"" AND state=""+req.params.state, function(err, out) {
            if (err) return helper.handleErr(err, res)
            logger.info(""Launch date updated."")
            res.json({""status"":""ok"", ""message"":""Launch date updated.""})
          })
        })

      })
    })
  })

  // Get a state and it's name by the id.
  router.get('/:state', function(req, res) {
    pool.getConnection(function(err, conn) {
      if (err) return helper.handleErr(err, res)
      conn.query(""SELECT * FROM states WHERE state_id=""+req.params.state, function(err, sts) {
        if (err) return helper.handleErr(err, res)

        res.json(sts[0])
      })
    })
  })

  return router
}</code></pre>
</div>
</div>
</p>
",<node.js><express><npm><cors>,0.0,0,0,1
5380,5380,33467349,1,0,2785428,2.0,0.0,0.0,0.0,2015-11-01T21:19:22.660,2.0,1223.0,npm scripts in sequence with expressjs,"<p>I have three scripts I need to run in a sequence, the middle being starting an expressjs server.</p>

<p>Here is my scripts:</p>

<ol>
<li><p><code>npm run build</code></p></li>
<li><p><code>npm start</code></p></li>
<li><p><code>node ./node_modules/nightwatch/bin/runner.js -c ./nightwatch.json</code></p></li>
</ol>

<p>The reason being is nightwatch requires a server to be running to test against, but when starting expressjs I am stuck in the log/process without it continuing to the next script. When I have <code>npm start &amp;</code> it does run it in the background but takes longer to start than nightwatch third script so nightwatch makes calls to the haven't-start-yet server and fails.</p>
",<node.js><express><npm><nightwatch.js>,0.0,0,0,1
5414,5414,33508283,1,33508688,4704312,1.0,0.0,0.0,0.0,2015-11-03T20:18:23.807,0.0,1462.0,express command not recognized by the mac terminal,"<p>I am new to nodeJS and I am trying to install express. I have already installed node and npm. I am using Max OSX(10.10.1). I am getting error:</p>

<pre><code>-bash: express: command not found
</code></pre>

<p>I have gone through all the questions here but couldn't get any answer to my problem. I tried these commands:</p>

<pre><code>sudo npm install -g express
sudo npm install -g express-generator
</code></pre>

<p>I tried to install it locally without the -g. 
Also, when I did a sudo npm init, I saw that express existed in the dependencies:</p>

<pre><code>""dependencies"": {
""orientjs"": ""^2.1.0"",
""express-generator"": ""^4.13.1"",
""express"": ""^2.5.11""
}
</code></pre>

<p>I added the below paths in .bash_profile one at a time. These are the paths where express folder is there.</p>

<pre><code>.node/bin, 
.node/lib/node_modules in the 
/usr/local/node_modules 
</code></pre>

<p>but it is not present in /usr/local/bin folder. I feel this might be the reason why it throws the error mentioned above.</p>

<p>I tried to link express to npm but it gave an error:</p>

<pre><code>npm ERR! argv ""/usr/local/bin/node"" ""/usr/local/bin/npm"" ""link""        
""express""    
npm ERR! ELOOP: too many symbolic links encountered, 
stat '$HOME/.node/lib/node_modules/express'
</code></pre>

<p>How do I make sure that express is recognized by the terminal? I tried uninstalling and reinstalling several times.</p>
",<node.js><express><npm>,0.0,0,0,1
5482,5482,33624188,1,0,1528604,2.0,12.0,0.0,0.0,2015-11-10T06:32:45.393,3.0,9066.0,Node.js Express : How to redirect page after processing post request?,"<p>How to redirect to different page from post request ?</p>

<pre><code>module.exports = function(app) {
        app.post('/createStation', function(request, response){
            response.redirect('/'); //This doesn't work, why and how to make this work   
           /*var stationDao = require('./server/stationDao.js');
            stationDao.stationDao.createStation(request.body, function(status){
            if(status.status == 'successful'){
                response.redirect('/'); //This is what actually I wanted to do  
            }*/
        });
    });  
};
</code></pre>

<p>Tried using next() as well, </p>

<pre><code>app.post('/createStation', [function(request, response, next){
        var stationDao = require('./server/stationDao.js');
        stationDao.stationDao.createStation(request.body, function(status){
            if(status.status == 'successful'){
                next();
            }
        });
    }, function abc(request, response){
        console.log('I can see this');
        response.redirect('/'); //This doesn't work still
    }]);  
</code></pre>

<p><a href=""https://i.stack.imgur.com/bEwdF.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/bEwdF.png"" alt=""enter image description here""></a></p>

<p>It actually triggers the GET request but the page won't redirect.</p>

<p>Since I am new in node.js, any kind of suggestion for the above code would be appreciated.</p>
",<javascript><node.js><express><npm><dao>,0.0,0,0,1
5499,5499,33656166,1,0,2604779,0.0,4.0,0.0,0.0,2015-11-11T17:22:30.870,2.0,1132.0,Express serve (static) Based on Device,"<p>I'm trying to get express to show customers a different site based on their device. I.e. mobile users are served the mobile app and desktop users the web-app.</p>

<p>This is my code:</p>

<pre><code>var express     = require('express'),
    app         = express();

app.get('/', function(req, res) {

    var ua      = req.header('user-agent');
    // Check the user-agent string to identyfy the device.
    if(/mobile|iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile|ipad|android|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(ua)) {

        console.log(""mobile"");
        app.use('/', express.static(__dirname + '/mobile-app/www'));
        res.sendfile(__dirname + '/mobile-app/www/index.html');

    } else {

        console.log(""web"");
        app.use('/', express.static(__dirname + '/web-app/www'));
        res.sendfile(__dirname + '/web-app/www/index.html');

    }
});
</code></pre>

<p>Each app works fine.  However, if I change the device using Chrome web-tools and then refresh, the other device won't load.  I.e. if the first serve instance is on the web-app and I refresh on the mobile app...the mobile app won't work. If the first serve instance is on the mobile app, then refreshing onto the web app means this won't load.</p>

<p>Are there any ideas about how to do this better?</p>

<p>Thanks</p>
",<node.js><mobile><express><npm><ionic-framework>,0.0,0,0,1
5570,5570,33771185,1,0,2380714,3.0,0.0,0.0,0.0,2015-11-18T03:13:48.207,1.0,6455.0,"Nodejs- TypeError: JSON.Parse,JSON.Stringfy is not a function","<p>I want to convert the string to JSON and vice versa. I am using JSON.Stringfy in router.js below. Do I need to have anything particular npm added to project use the JSON.Stringfy function? </p>

<p>Below is the code:</p>

<pre><code>**app.js** file(main file executed by node.exe)

app.get('/about',routes.about);--&gt;calling it using     **http://localhost:3000/about**


**routers.js**

var User = {
'Name' :'',
'EmailId':'',
'Phone':'',
'Address':'',
'favouriteSport':''
 }

exports.about = function(req,res){
res.send(""Welcome to sports maniac"" + JSON.Stringfy(User));
}
</code></pre>

<p>seeing below exception:</p>

<pre><code>TypeError: JSON.Stringfy is not a function
   at exports.about (F:\Personal Filess\Google Drive\Software Tools\Projects\routes\router.js:17:45)
   at Layer.handle [as handle_request] (F:\Personal Filess\Google Drive\Software Tools\Projects\node_modules\express\lib\router\layer.js:95:5)
   at next (F:\Personal Filess\Google Drive\Software Tools\Projects\node_modules\express\lib\router\route.js:131:13)
   at Route.dispatch (F:\Personal Filess\Google Drive\Software Tools\Projects\node_modules\express\lib\router\route.js:112:3)
   at Layer.handle [as handle_request] (F:\Personal Filess\Google Drive\Software Tools\Projects\node_modules\express\lib\router\layer.js:95:5)
   at F:\Personal Filess\Google Drive\Software Tools\Projects\node_modules\express\lib\router\index.js:277:22
   at Function.process_params (F:\Personal Filess\Google Drive\Software Tools\Projects\node_modules\express\lib\router\index.js:330:12)
   at next (F:\Personal Filess\Google Drive\Software Tools\Projects\node_modules\express\lib\router\index.js:271:10)
   at expressInit (F:\Personal Filess\Google Drive\Software Tools\Projects\node_modules\express\lib\middleware\init.js:33:5)
   at Layer.handle [as handle_request] (F:\Personal Filess\Google Drive\Software Tools\Projects\node_modules\express\lib\router\layer.js:95:5)
</code></pre>
",<javascript><json><node.js><express><npm>,1.0,0,0,1
5572,5572,33778552,1,0,282742,3.0,0.0,0.0,0.0,2015-11-18T11:11:46.160,4.0,5774.0,heroku deploy failed using nodejs,"<p>I am trying to push local files to heroku and getting below error.
I have my code in <a href=""https://github.com/asimkh/apps/tree/haz/"" rel=""nofollow"">github</a> </p>

<p>Can someone help me in this. Thanks</p>

<pre><code>$ heroku buildpacks:set heroku/nodejs
Buildpack set. Next release on haz will use heroku/nodejs.
Run git push heroku master to create a new release using this buildpack.
$ git push heroku master
Counting objects: 693, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (500/500), done.
Writing objects: 100% (693/693), 63.10 MiB | 2.54 MiB/s, done.
Total 693 (delta 220), reused 639 (delta 171)
remote: Compressing source files... done.
remote: Building source:
remote: 
remote: -----&gt; Using set buildpack heroku/nodejs
remote: 
remote:  !     Push rejected, failed to detect set buildpack heroku/nodejs
remote: More info: https://devcenter.heroku.com/articles/buildpacks#detection-failure
remote: 
remote: Verifying deploy....
remote: 
remote: !   Push rejected to haz.
remote: 
To https://git.heroku.com/haz.git
 ! [remote rejected] master -&gt; master (pre-receive hook declined)
error: failed to push some refs to 'https://git.heroku.com/haz.git'
$ 
</code></pre>

<p>for package.json</p>

<pre><code>{
  ""name"": ""haz"",
  ""version"": ""1.0.0"",
  ""description"": ""Hazzir: An Ionic project"",
  ""private"": ""true"",
  ""dependencies"": {
    ""express"": ""^4.13.3""    
  },
  ""main"": ""serve.js"",
  ""scripts"": {
    ""start"": ""node serve.js"",
    ""postinstall"": ""bower install &amp;&amp; grunt build"",
    ""test"": ""echo \""Error: no test specified\"" &amp;&amp; exit 1""
  },
  ""engines"": {
      ""node"": ""4.1.2"",
      ""npm"": ""3.4.0""
    },

  ""keywords"": [
    ""Haz"",
    ""product""
  ],
  ""author"": ""Asim Khan"",
  ""license"": ""ISC"",
  ""bugs"": {
    ""url"": ""https://github.com/asimkh/apps/issues""
  },
  ""homepage"": ""https://github.com/asimkh/apps#readme""
}
</code></pre>

<p>I tested locally, app is runnning at port 5000 using express</p>

<pre><code>var express = require('express'),
    app = express();

app.use(express.static('www'));

// CORS (Cross-Origin Resource Sharing) headers to support Cross-site HTTP requests
app.all('*', function(req, res, next) {
    res.header(""Access-Control-Allow-Origin"", ""*"");
    res.header(""Access-Control-Allow-Headers"", ""X-Requested-With"");
    next();
});

// API Routes
// app.get('/blah', routeHandler);

app.set('port', process.env.PORT || 5000);

app.listen(app.get('port'), function () {
    console.log('Express server listening on port ' + app.get('port'));
});
</code></pre>
",<node.js><express><heroku><npm><ionic-framework>,0.0,0,0,1
5586,5586,33799754,1,33814880,2384429,1.0,2.0,0.0,0.0,2015-11-19T09:23:40.180,0.0,597.0,SailsJS : How to get all current installed module versions in a Project,"<p>I would like to ask how to determine the Express version that is being used of the SailsJS. I know that Sails JS is built on top of Express.</p>

<p>I am using the version below: </p>

<p><code>""dependencies"": {
    ""ejs"": ""~0.8.4"",
    .
    .
    .
    ""rc"": ""~0.5.0"",
    ""sails"": ""~0.11.2"",
    ""sails-disk"": ""~0.10.0""
  }</code></p>

<p>I am asking this because I want to install this module <a href=""https://github.com/rguerreiro/express-device"" rel=""nofollow noreferrer"">https://github.com/rguerreiro/express-device</a> and use with sailsJS.</p>

<p>In this particular module, the version is dependent on the Express version that is why I need the Express ver in order to install the appropriate express-device version.</p>

<p>I have seen also how to use it with sails in this post: <a href=""https://stackoverflow.com/questions/20436169/using-express-device-with-sails"">using express-device with sails</a></p>

<p>The thing is it was 2 years ago and Express had fewer version and the latest can be installed.</p>

<p>Cheers!</p>
",<node.js><express><npm><sails.js>,0.0,0,0,1
5640,5640,33884609,1,33884815,5096704,3.0,0.0,0.0,0.0,2015-11-24T02:52:20.113,0.0,1086.0,Cannot install mongoose using npm install,"<p>I am trying to npm install mongoose but this error keeps popping up. I have a node.js, express framework and i have added mongoonse in my dependencies in package.json as following,</p>

<pre><code>  {
    ""name"": ""OAuthProject"",
    ""version"": ""0.0.0"",
    ""private"": true,
    ""scripts"": {
      ""start"": ""node ./bin/www""
       },
   ""dependencies"": {
     ""body-parser"": ""~1.13.2"",
     ""cookie-parser"": ""~1.3.5"",
     ""debug"": ""~2.2.0"",
     ""express"": ""~4.13.1"",
     ""jade"": ""~1.11.0"",
     ""morgan"": ""~1.6.1"",
     ""serve-favicon"": ""~2.3.0"",
     ""cookie-parser"": ""latest"",
     ""express-session"": ""latest"",
     ""mongoose"": ""latest""           //&lt;------------ MONGOOSE
     }
  }
</code></pre>

<p>I have installed cookie-parser and other modules the same way and those worked. But mongoose and mongodb are not working. Any help is highly appreciated. Below is my log on my terminal. Also, it says to run as a root admin. What might be the command line for that? Sudo apt-get... Thanks!</p>

<p><a href=""https://i.stack.imgur.com/FgWnl.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/FgWnl.png"" alt=""log""></a></p>
",<node.js><mongodb><express><mongoose><npm-install>,0.0,0,0,1
5714,5714,34013177,1,0,1812810,2.0,1.0,0.0,0.0,2015-12-01T05:22:27.403,2.0,1602.0,Error in NPM installing express via package.json,"<p>My node and npm versions are recent. 
But getting error and no express folder is coming up under ./node_modules.
Express folder is coming up under /home/vagrant/.npm
npm-debug.log is generated. Not sure how to attach that.</p>

<pre><code>npm ERR! Linux 3.13.0-68-generic
npm ERR! argv ""/home/vagrant/.nvm/versions/node/v4.2.2/bin/node"" ""/home/vagrant/.nvm/versions/node/v4.2.2/bin/npm"" ""install""
npm ERR! node v4.2.2
npm ERR! npm  v2.14.7
npm ERR! path ../mime/cli.js
npm ERR! code EPROTO
npm ERR! errno -71
npm ERR! syscall symlink

npm ERR! EPROTO: protocol error, symlink '../mime/cli.js' -&gt; '/vagrant/testProject/node_modules/express/node_modules/send/node_modules/.bin/mime'
npm ERR!
npm ERR! If you need help, you may report this error at:
npm ERR!     &lt;https://github.com/npm/npm/issues&gt;
npm ERR! Linux 3.13.0-68-generic
npm ERR! argv ""/home/vagrant/.nvm/versions/node/v4.2.2/bin/node"" ""/home/vagrant/.nvm/versions/node/v4.2.2/bin/npm"" ""install""
npm ERR! node v4.2.2
npm ERR! npm  v2.14.7
npm ERR! path npm-debug.log.f7bc0249588f17bea044ac621dd74bb9
npm ERR! code ETXTBSY
npm ERR! errno -26
npm ERR! syscall rename
</code></pre>
",<express><npm><vagrant>,0.0,0,0,1
5731,5731,34031849,1,34034587,4013924,1.0,0.0,0.0,0.0,2015-12-01T23:00:11.283,0.0,17.0,Authentication through Linux Host,"<p>Im experimenting with Node and Express, is there a npm module to authenticate to the password file on the Linux host when I send a password and username through a web form? </p>
",<linux><authentication><express><npm>,0.0,0,0,1
5744,5744,34055681,1,34064192,4300334,1.0,1.0,0.0,0.0,2015-12-03T00:24:41.967,0.0,269.0,NodeJS assert.AssertionError: How do I kill it?,"<p>I am using IBM Bluemix to make a web service for a school project. </p>

<p>I set a localhost to run my code, but I am facing an ""assert.AssertionError""  when I type ""npm start"" in the Windows 10 Command Prompt.  </p>

<p>I am facing an assert.AssertionError when I try to run my code.</p>

<p>What is causing this error and how can I get rid of it?</p>

<p>Here is my .js file:</p>

<pre class=""lang-js prettyprint-override""><code>/*eslint-env node*/

//------------------------------------------------------------------------------
// node.js starter application for Bluemix
//------------------------------------------------------------------------------

//""Ask"" express
var express = require(express);

// HTTP request - duas alternativas
var http = require('http');
var request = require('request');

// cfenv provides access to your Cloud Foundry environment
// for more info, see: https://www.npmjs.com/package/cfenv
var cfenv = require('cfenv');

// create a new express server 
var app = express();

// serve the files out of ./public as our main files
app.use(express.static(__dirname + '/public'));

// get the app environment from Cloud Foundry
var appEnv = cfenv.getAppEnv();

//chama o express, que abre o servidor
var express = require('express');

// start server on the specified port and binding host
app.listen(appEnv.port, '0.0.0.0', function() {
    // print a message when the server starts listening
    console.log(""server starting on "" + appEnv.url);
});


app.get('/home1', function(res){
    http.get('http://developers.agenciaideias.com.br/cotacoes/json', function(res){
        var body = '';
        res.on('data', function(chunk){
            body += chunk;
        });
        res.on('end', function(){
            var json = JSON.parse(body);
        });
        var json = JSON.parse(res);
        var cotacao = json[""bovespa""][""cotacao""];

        console.log(""A sua cotação é ""+cotacao);

    });
});
</code></pre>

<p><img src=""https://i.stack.imgur.com/hayX3.png"" alt=""Print of the Assert Error""></p>

<p>Here is a print of the error screen I get when I do ""npm start"". Please notice that the ""C:xxxxx"" path is the directory that contains my .js file. </p>
",<javascript><node.js><express><npm><ibm-cloud>,0.0,0,0,1
5789,5789,34117754,1,34118983,5509979,4.0,2.0,0.0,0.0,2015-12-06T13:08:12.580,2.0,6183.0,middleware that run before any routes,"<p>I'm trying to do a token based auth. I'm stuck at running auth before any request happens. For example below code is to get the users, but one middleware should check whether the request has valid token or not. </p>

<p>app.js</p>

<pre><code>var user = require('./controllers/user');
app.use('/api', user);
</code></pre>

<p>user.js</p>

<pre><code>var express = require('express');
var router = express.Router(); 

router.get('/user', function(req, res) {
  User.find({}, function(err, users) {
    res.json(users);
  });
});

module.exports = router;
</code></pre>

<p>I have that logic which is <a href=""http://pastebin.com/raw.php?i=kCybT9LU"" rel=""nofollow"">here</a>, but I don't know where to place it.</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
5791,5791,34123494,1,36429009,3569936,1.0,3.0,0.0,0.0,2015-12-06T22:14:42.793,0.0,114.0,nodejs slow after El Capitan update,"<p>Starting up an express app with ""node app.js"" is excruciatingly slow after updating to El Capitan. Is anyone experiencing this?</p>

<p>I've reinstalled node and npm, and even turned off SIP, but it still takes minutes to start up an app with node.</p>
",<node.js><express><npm><osx-elcapitan>,0.0,0,0,1
5793,5793,34131952,1,34133233,2006805,2.0,6.0,0.0,0.0,2015-12-07T10:59:30.707,2.0,3044.0,"how to use request module to download, and then upload file without intermediate file","<p>I want to download a image file to server first, then upload this file to other server.</p>

<p>If there is no <code>download file step</code>, it will be very simple </p>

<pre><code> var fs = require('fs');
 var path = '/tmp/test.png';
 var formData = {
   method: POST,
   url: 'http://127.0.0.1:3000',
   json: true,
   formData :{file: fs.createReadStream(path)}
 };
    request(formData, function(err, res, body){
   console.log(""successful"");
 });
</code></pre>

<p>However, for the situation with <code>download image file</code>;</p>

<p>I don't want to save the file first, through the format like <code>request('http://google.com/doodle.png').pipe(fs.createWriteStream('doodle.png'))</code>. and then repeat <code>fs.createReadStream</code>.</p>

<p>Is there any method how can I get the file stream, so I can use the file stream directly to constitute <code>formData</code>;</p>
",<node.js><express><npm>,0.0,0,0,1
5828,5828,34188770,1,0,1828780,1.0,0.0,0.0,0.0,2015-12-09T20:54:06.670,0.0,49.0,Run method after first method finishes,"<p>I am creating an npm package and am trying to get one method to execute or wait until after another method has been called and finished. Fe. in the following:</p>

<pre><code>var package = require('myNpmPackage');
package.method1(options);
... 
</code></pre>

<p>later, possibly in another file</p>

<pre><code>package.method2();
</code></pre>

<p>In the above example. Suppose that <code>package.method1()</code> sets the overall package up by connecting to a server, kind of like mongoose and mongo. This means that <code>package.method2()</code> is going to run before <code>package.method1()</code> can successfully set everything up. How can I get <code>package.method2()</code> to execute, only after waiting for <code>package.method1()</code> to finish?</p>
",<javascript><node.js><express><mongoose><npm>,0.0,0,0,1
5894,5894,34316622,1,0,5485528,1.0,0.0,0.0,0.0,2015-12-16T16:01:16.163,0.0,273.0,connect-flash not displaying any message,"<p>I'm using connect-flash package but couldn't find a way to do it right.</p>

<p>for example in my login function I do something like below</p>

<pre><code>req.flash('error','User not found!');
</code></pre>

<p>so how can I display it? </p>
",<javascript><node.js><express><npm>,0.0,0,0,1
5913,5913,34347878,1,34348098,2647849,1.0,5.0,0.0,0.0,2015-12-18T03:00:00.557,0.0,448.0,#NAME?,"<p>I am getting a very odd error trying to install the express-generator with and without <code>sudo</code>.</p>

<p>I need to run: <code>npm install express-generator -g</code> and then <code>express --ejs name_here</code> but when executing the first command, I get the following error:</p>

<pre><code>npm ERR! Darwin 15.2.0
npm ERR! argv ""node"" ""/usr/local/bin/npm"" ""install"" ""express-generator"" ""-g""
npm ERR! node v0.12.7
npm ERR! npm  v2.11.3
npm ERR! path /Users/[name]/.npm/lib/node_modules/express-generator/LICENSE
npm ERR! code EACCES
npm ERR! errno -13

npm ERR! Error: EACCES, unlink '/Users/[name]/.npm/lib/node_modules/express-generator/LICENSE'
npm ERR!     at Error (native)
npm ERR!  { [Error: EACCES, unlink '/Users/[name]/.npm/lib/node_modules/express-generator/LICENSE']
npm ERR!   errno: -13,
npm ERR!   code: 'EACCES',
npm ERR!   path: '/Users/[name]/.npm/lib/node_modules/express-generator/LICENSE' }
npm ERR! 
npm ERR! Please try running this command again as root/Administrator.
npm ERR! error rolling back Error: EACCES, unlink '/Users/[name]/.npm/lib/node_modules/express-generator/LICENSE'
npm ERR! error rolling back     at Error (native)
npm ERR! error rolling back  { [Error: EACCES, unlink '/Users/[name]/.npm/lib/node_modules/express-generator/LICENSE']
npm ERR! error rolling back   errno: -13,
npm ERR! error rolling back   code: 'EACCES',
npm ERR! error rolling back   path: '/Users/[name]/.npm/lib/node_modules/express-generator/LICENSE' }

npm ERR! Please include the following file with any support request:
npm ERR!     /Users/[name]/Documents/Projects/MEAN Stack Tutorial/npm-debug.log
</code></pre>

<p>After trying <code>sudo npm install express-generator -g</code> I get this:</p>

<pre><code>/Users/[name]/.npm/bin/express -&gt; /Users/[name]/.npm/lib/node_modules/express-generator/bin/express
express-generator@4.13.1 /Users/[name]/.npm/lib/node_modules/express-generator
├── sorted-object@1.0.0
├── commander@2.7.1 (graceful-readlink@1.0.1)
└── mkdirp@0.5.1 (minimist@0.0.8)
</code></pre>

<p>Then running <code>express --ejs name_here</code> returns <code>-bash: express: command not found</code></p>

<p>Is there a way I can solve this issue? The other questions on SO seem to have fixed the issue by trying sudo but not for me.</p>
",<javascript><bash><express><npm>,0.0,0,0,1
5920,5920,34359270,1,0,4177962,1.0,4.0,0.0,0.0,2015-12-18T15:47:52.220,2.0,374.0,NPM modules installation algorithm issue on ArchLinux,"<p>I have a fresh installation of ArchLinux, NodeJS (v 5.2.0) and NPM (v 3.5.2). When I try to install any module (for example <code>express-generator</code> with <code>npm install express-generator</code>, same problem if I do it globally or any other package) the installation doesn't create a folder with the module's name in the node_modules folder and, inside, his own node_modules with its dependencies. Making myself clear, npm installs the modules and all his dependencies in the topmost level so, when I run a <code>ls</code>, I get something like this:</p>

<pre><code>node_modules/
bootstrap commander express-generator mkdirp ... etc
</code></pre>

<p>Instead of: </p>

<pre><code>node_modules/
bootstrap/
  node_modules/...
express-generator/
  node_modules/commander mkdirp ... etc
</code></pre>

<p>Recently, I tested this procedure in a virtual machine wiht Windows 7 and another with Debian 8 getting the second result. It happend with every module that I installed.</p>

<p>I don't know if that is a ""new"" behavior of npm's modules or a mistake in any of my configurations. Any help will be grateful. In advance, thank you very much.</p>
",<node.js><npm><archlinux><express-generator>,0.0,0,0,1
5937,5937,34387777,1,34388183,815929,1.0,4.0,0.0,0.0,2015-12-21T01:23:17.847,1.0,742.0,Require module and Create object in multiple places,"<pre><code>var express = require('express'); 
var app = express();
</code></pre>

<p>This question is with the example of express module but this could be for any module in which you require the module and use the constructor.</p>

<p>So the generic code is </p>

<pre><code>var M = require('M'); 
var myM = M();
</code></pre>

<p>and my question is that in my code(in the routers files) i am using the above 2 lines in many files.</p>

<p>So</p>

<ol>
<li>Is this the correct way of using modules,Should each module be required and constructed(by constructor) in one place and then the constructed object be used throughout the code?</li>
<li>What are the side effects of using modules like i have used(extra RAM usage,latency ..)?</li>
</ol>
",<node.js><express><npm>,0.0,0,0,1
5968,5968,34427115,1,34427491,1898031,1.0,2.0,0.0,0.0,2015-12-23T01:18:07.147,2.0,46.0,Jade: Are the template files loaded per npm start?,"<p>As in the title said, are the <strong>jade</strong> <strong><em>template files</em></strong> as is loaded, when I start my app server (e.g. via terminal <code>npm start</code>)?</p>

<p>If so, it would be less CPU consuming to use deeper template hierarchies, I suppose.</p>
",<node.js><express><npm><pug><template-engine>,0.0,0,0,1
5974,5974,34436455,1,34437462,4774816,2.0,2.0,0.0,0.0,2015-12-23T13:09:27.327,9.0,29250.0,Calling multiple HTTP requests in a single HTTP request in Node.js,"<p>I am trying to call multiple URL in a single URL call and push it's json response in an array and send that array in response to the end user.</p>

<p><strong>My code look like this:</strong></p>

<pre><code>var express = require('express');

var main_router = express.Router();

var http = require('http');

urls = [
""http://localhost:3010/alm/build_tool"",
""http://localhost:3010/alm/development_tool"",
""http://localhost:3010/alm/project_architecture""];

var responses = [];

main_router.route('/')

.get(function (req, res) {

var completed_requests = 0;

for (url in urls) {

  http.get(url, function(res) {

    responses.push(res.body);

    completed_request++;

    if (completed_request == urls.length) {

        // All download done, process responses array
    }
  });
}
res.send(responses);
});
</code></pre>

<p>I have also tried this using npm request module.
When i run this code it only return NULL or some random output that have only headers.</p>

<p>My aim is to call multiple URL's in a single node get request and append it's JSON output on a array and send to the end user.</p>

<p>Thanks   </p>
",<javascript><json><node.js><express><npm>,0.0,0,0,1
6057,6057,34560531,1,0,125212,1.0,1.0,0.0,0.0,2016-01-01T22:08:43.013,1.0,152.0,Why am I getting 404s when trying to load Angular2 files with Express,"<p>So I am used to using express and so I am trying to port the instructions found <a href=""https://angular.io/docs/ts/latest/quickstart.html#!#tsconfig"" rel=""nofollow noreferrer"">here</a> to the express template.</p>
<p>I am using the newest express generator, then I added the following to my package.json.</p>
<pre><code>&quot;dependencies&quot;: {
  &quot;angular2&quot;: &quot;2.0.0-beta.0&quot;,
  &quot;systemjs&quot;: &quot;0.19.6&quot;,
  &quot;es6-promise&quot;: &quot;^3.0.2&quot;,
  &quot;es6-shim&quot;: &quot;^0.33.3&quot;,
  &quot;reflect-metadata&quot;: &quot;0.1.2&quot;,
  &quot;rxjs&quot;: &quot;5.0.0-beta.0&quot;,
  &quot;zone.js&quot;: &quot;0.5.10&quot;,
  &quot;body-parser&quot;: &quot;~1.13.2&quot;,
  &quot;cookie-parser&quot;: &quot;~1.3.5&quot;,
  &quot;debug&quot;: &quot;~2.2.0&quot;,
  &quot;express&quot;: &quot;~4.13.1&quot;,
  &quot;jade&quot;: &quot;~1.11.0&quot;,
  &quot;morgan&quot;: &quot;~1.6.1&quot;,
  &quot;serve-favicon&quot;: &quot;~2.3.0&quot;,
  &quot;stylus&quot;: &quot;0.42.3&quot;
}
</code></pre>
<p>Then in my layout.jade file I add the following</p>
<pre><code>....
script(src=&quot;/ng2/angular2-polyfills.js&quot;)
script(src=&quot;/systemjs/system.src.js&quot;)
script(src=&quot;/rxjs/Rx.js&quot;)
script(src=&quot;/ng2/angular2.dev.js&quot;)
</code></pre>
<p>And in my <code>app.js</code> I add the following....</p>
<pre><code>app.use('/rxjs', express.static(path.join(__dirname + 'node_modules/rxjs/bundles')));
app.use('/systemjs', express.static(__dirname + 'node_modules/systemjs/dist'));
app.use('/ng2', express.static(__dirname + '/node_modules/angular2/bundles/'));
</code></pre>
<p>But I still get 404s on the js files can someone see what I am missing?</p>
<p>Another acceptable answer is how do I copy files from the node_modules directory to the public directory.</p>
",<express><npm><angular>,0.0,0,0,1
6077,6077,34587643,1,34587691,2746872,1.0,0.0,0.0,0.0,2016-01-04T09:04:17.023,0.0,280.0,Npm update a dependency of a dependency in Node.js,"<p>I am currently using express 4.0, which uses the node module ""path-to-regexp""</p>

<p>path-to-regexp 0.1.7 doesn't allow <a href=""https://stackoverflow.com/q/34586057/2746872"">zero or more path parameters</a></p>

<p>I want to upgrade path-to-regexp within express to version 1.2.1</p>

<p>Npm update has a depth paramater shown in the <a href=""https://docs.npmjs.com/cli/update"" rel=""nofollow noreferrer"">docs</a>, but I don't want to update all of express' dependencies, just path-to-regexp.</p>

<p>I would also prefer to do it without forking express, and without manually altering express' package.json.</p>
",<node.js><express><npm>,0.0,0,0,1
6297,6297,34919309,1,0,5047290,1.0,0.0,0.0,0.0,2016-01-21T09:02:45.177,0.0,165.0,is it safe to use domain module of npm for exception handling in nodeJS?,"<p>I want to catch exception occurred in callback function of nodeJS. Is it safe to use domain npm module for this purpose?</p>
",<node.js><express><npm>,0.0,0,0,1
6302,6302,34929015,1,0,1828780,0.0,2.0,0.0,0.0,2016-01-21T16:24:46.467,2.0,817.0,Simple async eachLimit example throws range error?,"<p>My code is very simple:</p>

<pre><code>async.eachLimit(lines, 5, function iterator(line, complete) {
    console.log(line)
    complete(null);
}, function done(err) {
  if(err) throw err;
    console.log('done yo!');
});
</code></pre>

<p>However, I keep getting the following error. What am I not understanding?</p>

<pre><code>RangeError: Maximum call stack size exceeded
</code></pre>
",<node.js><asynchronous><express><npm><async.js>,0.0,0,0,1
6332,6332,34974641,1,34974953,4659026,1.0,10.0,0.0,0.0,2016-01-24T10:26:27.710,0.0,910.0,nodejs (express) installation for windows not working as expected,"<p>I am new to nodejs and iam install nodejs with the help of simple setup and now i am trying to install framework  <strong>express</strong> where the node js was installed. I am getting only express-generator@4.13.1  but the path was shoing in wrong direction <code>C:\users...\AppData</code> i guess the installation should be inside node. Can some body help me what i am doing wrong and when i am trying to run simple express code i am getting below error.</p>

<p>Here is the code.</p>

<pre><code>var express = require('express')
var app = express()
app.get('/', function(req, res) {
   res.send('hello world')
})
app.listen(8080)
</code></pre>

<p><a href=""https://i.stack.imgur.com/ibjxn.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ibjxn.png"" alt=""enter image description here""></a></p>

<p><a href=""https://i.stack.imgur.com/zOvS8.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/zOvS8.png"" alt=""enter image description here""></a></p>

<p>Thanks &amp; Regards</p>
",<node.js><express><npm>,0.0,0,0,1
6350,6350,34996737,1,0,4338419,0.0,5.0,0.0,0.0,2016-01-25T15:53:15.673,0.0,619.0,express.static not working,"<p>I have the below code</p>

<pre><code>var express = require('express');
    var app = express();
    var http = require('http').Server(app);

    app.get('/', function(req, res){
      res.send('&lt;h1&gt;Hello world&lt;/h1&gt;');

    });

app.use(express.static(__dirname + '/public'));

http.listen(3000, function(){
  console.log('listening on *:3000');
});
</code></pre>

<p>But when executing <code>localhost:3000/Home.html</code> where Home.html is the html file inside my public directory its saying Cannot GET /Home.html.
I dont know what mistake i did.
Please correct me.</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
6381,6381,35053312,1,35055191,3451736,2.0,3.0,0.0,0.0,2016-01-28T05:11:19.830,3.0,4825.0,ExpressJs 404 on CSS File,"<p>So I am trying to learn how to use expressJS and nodeJS and I am runnning into a problem where the CSS file can't be found (404 error) when I start the server and load the html page. The html page loads fine, but it is not styled when I have the server load it. When I load the page without the server, the page is styled. Here is my code for express and node file:</p>

<pre><code>var http = require('http'),
    express = require('express');
    app = express();

app.get('/', function(req,res){
    res.sendFile(__dirname + '/index.html');
});

app.use(express.static('public'));

app.listen(3000);
</code></pre>

<p>The html link for the css is:</p>

<pre><code>&lt;link href=""public/main.css"" rel=""stylesheet""&gt;
</code></pre>

<p>The file structure is</p>

<ul>
<li><p>FrontEnd(folder)</p>

<ul>
<li>index.html</li>
<li><p>index.js</p></li>
<li><p>public(folder)</p>

<ul>
<li>main.css</li>
</ul></li>
</ul></li>
</ul>

<p>What am I doing wrong? I have googled and looked at documentation but have not figured out the problem so far.</p>
",<css><node.js><express><npm>,0.0,0,0,1
6417,6417,35120407,1,0,1527555,0.0,8.0,0.0,0.0,2016-01-31T22:37:12.400,3.0,584.0,Cannot get Express Generator to work properly Windows 10,"<p>So I am trying to follow this tutorial: <a href=""https://blog.udemy.com/node-js-tutorial/"" rel=""nofollow"">https://blog.udemy.com/node-js-tutorial/</a></p>

<p>I ran <code>npm install -g express-generator</code> in my CMD prompt and it seemingly installs fine. No errors. </p>

<p>I then try to run <code>express test1</code> in my app folder which is C:\node> and I get the error 'express' is not recognized as an internal or external command, operable program or batch file'. I'm completely new to node but I've followed the tutorial exactly and I've simply got stuck at this part. Any help would be greatly appreciated. </p>
",<javascript><node.js><express><npm><express-generator>,0.0,0,0,1
6418,6418,35121669,1,35122162,5833719,2.0,4.0,0.0,0.0,2016-02-01T01:18:33.260,0.0,108.0,Is there any advantage installing modules like socket.io/express globally?,"<p>And if so, I'm interested in knowing if there is any way to run them from <code>/usr/local/lib</code> folder instead of installing those modules in each project's folder I'm working on.</p>
",<node.js><express><socket.io><npm>,0.0,0,0,1
6451,6451,35167824,1,35167883,4653436,2.0,4.0,0.0,0.0,2016-02-03T03:09:47.083,49.0,27113.0,Difference between a server with http.createServer and a server using express in node js,"<p>What's the difference between creating a server using http module and creating a server using express framework in node js?
Thanks.</p>
",<node.js><express><npm><server>,0.0,0,0,1
6508,6508,35261535,1,35261624,2926340,3.0,0.0,0.0,0.0,2016-02-08T02:15:12.533,38.0,32713.0,"Npm ""scripts"": ""start"" run express and open url","<p>I have this entry in <code>package.json</code></p>
<pre><code>&quot;scripts&quot;: {
    &quot;start&quot;: &quot;node bin/www&quot;
  },
</code></pre>
<p>It runs my Express app when I enter the command <code>npm start</code>.</p>
<p>But I also want a browser to open <code>http://localhost:8081</code> at the same time.</p>
<p>Something like:</p>
<p>&quot;start&quot;: &quot;node bin/www, http://localhost:8081&quot;</p>
<p>So when I type <code>npm start</code>, it both runs my Express app and opens the URL.</p>
",<node.js><angular><express><npm>,0.0,0,0,1
6552,6552,35320084,1,35320135,5827454,2.0,0.0,0.0,0.0,2016-02-10T16:04:52.110,1.0,517.0,npm express install is adding extra dependancies,"<p>When I cd into my project and npm install express --save it not only injects express into my node_modules but also installs a lot of other dependencies that I do not need or want. I have tried to uninstall and reinstall node and npm. I am using homebrew to install node. Can someone help me understand why this is happening?</p>

<blockquote>
  <p>npm install express --save</p>
</blockquote>

<pre><code> ─┬ express@4.13.4 
  ├─┬ accepts@1.2.13 
  │ ├─┬ mime-types@2.1.9 
  │ │ └── mime-db@1.21.0 
  │ └── negotiator@0.5.3 
  ├── array-flatten@1.1.1 
  ├── content-disposition@0.5.1 
  ├── content-type@1.0.1 
  ├── cookie@0.1.5 
  ├── cookie-signature@1.0.6 
  ├─┬ debug@2.2.0 
  │ └── ms@0.7.1 
  ├── depd@1.1.0 
  ├── escape-html@1.0.3 
  ├── etag@1.7.0 
  ├─┬ finalhandler@0.4.1 
  │ └── unpipe@1.0.0 
  ├── fresh@0.3.0 
  ├── merge-descriptors@1.0.1 
  ├── methods@1.1.2 
  ├─┬ on-finished@2.3.0 
  │ └── ee-first@1.1.1 
  ├── parseurl@1.3.1 
  ├── path-to-regexp@0.1.7 
  ├─┬ proxy-addr@1.0.10 
  │ ├── forwarded@0.1.0 
  │ └── ipaddr.js@1.0.5 
  ├── qs@4.0.0 
  ├── range-parser@1.0.3 
  ├─┬ send@0.13.1 
  │ ├── destroy@1.0.4 
  │ ├─┬ http-errors@1.3.1 
  │ │ └── inherits@2.0.1 
  │ ├── mime@1.3.4 
  │ └── statuses@1.2.1 
  ├── serve-static@1.10.2 
  ├─┬ type-is@1.6.11 
  │ └── media-typer@0.3.0 
  ├── utils-merge@1.0.0 
  └── vary@1.0.1 
</code></pre>
",<node.js><express><npm-install>,0.0,0,0,1
6557,6557,35325254,1,0,587846,3.0,2.0,0.0,0.0,2016-02-10T20:28:01.257,0.0,1531.0,Installing NodeAdmin for Node.JS on Ubuntu,"<p>I'm a seasoned developer in using the LAMP stack and am trying to switch over to Node.js and play around with it. For database management, I love the flexibility and ease of PHPmyadmin and found the NPM package NodeAdmin to be exactly what I""m looking for in terms of an analogue.</p>

<p>But when trying to install and access nodeadmin, the instructions look like complete Greek to me as someone coming from the Apache environment: <a href=""https://www.npmjs.com/package/nodeadmin"" rel=""nofollow"">https://www.npmjs.com/package/nodeadmin</a></p>

<p>I ran </p>

<pre><code>npm install nodeadmin
</code></pre>

<p>inside the root directory and all looked good. But now I'm unable to access nodeadmin under mydomain.com/nodeadmin as it says I should in the instructions. What directory should I be installing nodeadmin in? What the heck do I do with the code in the ""Setup"" section of that tutorial?</p>

<p>Thanks in advance for helping break in a newb to his new environment. </p>
",<node.js><express><npm>,0.0,0,0,1
6560,6560,35329336,1,0,2040831,1.0,0.0,0.0,0.0,2016-02-11T01:41:59.523,0.0,102.0,Starting an ExpressJS app using my favourite tools,"<p>I'm a front end dev who wants make a blog/portfolio site using express js.</p>

<p>I've used codekit in the past to compile,minify &amp; autoprefix my JADE/SASS files,  and to minify my JS files, but I have no idea where to start when going full stack. I've been reading up on gulp (as I assume this will do all the things that codekit does) but I don't understand fully what I need.</p>

<p>Do I need bower aswell? Do I control all the gulp plugins using NPM?</p>

<p>How do I get all this to work with Zurb Foundation 6?</p>
",<express><npm><gulp><zurb-foundation-6>,0.0,0,0,1
6561,6561,35329722,1,0,2601512,0.0,15.0,0.0,0.0,2016-02-11T02:23:14.523,0.0,1026.0,Cannot find module (with own model),"<p>This is probably an ultra-duplicated question, but i am really new with <code>node</code> (and <code>express</code> particularly) and any of those related questions could solve my problem:</p>

<p>Having this project structure:</p>

<pre><code>├── app
│   ├── models
│   │   ├── user.js
├── package.json
├── server.js
</code></pre>

<p>I run the server and i am having this exception</p>

<pre><code>jscherman@jscherman:~/Work/express-webservice-demo$ node server.js
Server started on port 8080

Error: Cannot find module './app/models/user'
    at Function.Module._resolveFilename (module.js:339:15)
    at Function.Module._load (module.js:290:25)
    at Module.require (module.js:367:17)
    at require (internal/module.js:16:19)
    at Object.&lt;anonymous&gt; (/home/jscherman/Work/express-webservice-demo/server.js:38:12)
    at Module._compile (module.js:413:34)
    at Object.Module._extensions..js (module.js:422:10)
    at Module.load (module.js:357:32)
    at Function.Module._load (module.js:314:12)
    at Function.Module.runMain (module.js:447:10)
</code></pre>

<p>I am linking the model as follows:</p>

<pre><code>var user = require('./app/models/user');
</code></pre>

<p>I am using these versions:</p>

<pre><code>jscherman@jscherman:~/Work/express-webservice-demo$ lsb_release -a
No LSB modules are available.
Distributor ID: Ubuntu
Description:    Ubuntu 15.10
Release:        15.10
Codename:       wily
jscherman@jscherman:~/Work/express-webservice-demo$ node --version
v5.5.0
</code></pre>

<p>I don't understand what is going on . I had understood that ./ means ""starting from server.js path"" but it's not working. Any help?</p>

<hr>

<h2>EDIT</h2>

<p>The following code</p>

<pre><code>console.log('__dirname:', __dirname, '\nprocess.cwd():', process.cwd())
</code></pre>

<p>outputs: </p>

<pre><code>__dirname: /home/jscherman/Work/express-webservice-demo 
process.cwd(): /home/jscherman/Work/express-webservice-demo
</code></pre>

<p>and <code>server.js</code> file:</p>

<pre><code>var express = require('express');
var app = express();
var bodyParser = require('body-parser');

app.use(bodyParser.urlencoded({ extended: true }));
app.use(bodyParser.json());

var port = process.env.PORT || 8080;

var router = express.Router();

router.use(function (req, res, next) {
    console.log('This is a simple middleware');
    next();
})


router.get('/', function(req, res) {
    res.json({ message: 'Welcome to the api' });   
});

app.use('/api', router);


app.listen(port, function () {
  console.log('Server started running on port 3000!');
});


var mongoose   = require('mongoose');
mongoose.connect('mongodb://localhost:27017/prueba', function(){
    console.log('Database connected successfully')
})

var User = require('./app/models/user');
</code></pre>

<p>finally, <code>user.js</code> (inside models folder)</p>

<pre><code>var mongoose     = require('mongoose');
var Schema       = mongoose.Schema;

var UserSchema   = new Schema({
    username: String,
    surname: String
});

module.exports = mongoose.model('user', UserSchema);
</code></pre>

<p>Inspecting cache:</p>

<pre><code>// with console.log(require.cache), output:
{ '/home/jscherman/Work/express-webservice-demo/server.js': 
   Module {
     id: '.',
     exports: {},
     parent: null,
     filename: '/home/jscherman/Work/express-webservice-demo/server.js',
     loaded: false,
     children: [],
     paths: 
      [ '/home/jscherman/Work/express-webservice-demo/node_modules',
        '/home/jscherman/Work/node_modules',
        '/home/jscherman/node_modules',
        '/home/node_modules',
        '/node_modules' ] } }
</code></pre>
",<node.js><express><npm>,1.0,0,0,1
6614,6614,35429276,1,45099014,2425550,2.0,1.0,0.0,0.0,2016-02-16T09:59:37.733,1.0,4557.0,How to install a npm module in current directory?,"<p>I am trying to install express into my current ""directory"".<br/>
However node installs this globally and I do not understand, how I can tell node to install it in my current directory. </p>
",<node.js><express><npm><npm-install>,0.0,0,0,1
6661,6661,35491059,1,0,4941482,0.0,1.0,0.0,0.0,2016-02-18T19:48:57.053,1.0,47.0,Express and npm install failing,"<p>I am getting errors trying to reinstall npm and express and cannot figure out how to resolve it.<a href=""https://i.stack.imgur.com/fK1GU.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/fK1GU.png"" alt=""npm""></a></p>

<p><a href=""https://i.stack.imgur.com/q9Qxj.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/q9Qxj.png"" alt=""express""></a></p>

<p>I've tried:</p>

<pre><code>brew update
brew upgrade node
npm install -g npm
</code></pre>

<p>and:</p>

<pre><code>sudo chown -R ""$USER"":admin /usr/local
</code></pre>
",<javascript><node.js><express><npm>,0.0,0,0,1
6689,6689,35530930,1,0,1279209,22.0,3.0,0.0,0.0,2016-02-21T00:44:56.743,160.0,311590.0,nodemon not working: -bash: nodemon: command not found,"<p>I'm on a Mac running El Capitan. I have node v5.6.0 and npm v3.6.0. 
When I try to run nodemon, I get: </p>

<pre><code>-bash: nodemon: command not found
</code></pre>

<p>I thought this may mean that I didn't have nodemon installed, so when I tried to install it using...</p>

<pre><code>sudo npm install -g nodemon
</code></pre>

<p>...I get this:</p>

<pre><code>npm ERR! Darwin 15.2.0
npm ERR! argv ""/usr/local/bin/node"" ""/usr/local/bin/npm"" ""install"" ""-g""     ""nodemon""
npm ERR! node v5.6.0
npm ERR! npm  v3.6.0
npm ERR! path /usr/local/bin/nodemon
npm ERR! code EEXIST

npm ERR! Refusing to delete /usr/local/bin/nodemon: ../lib/node_modules/nodemon/nodemon.js symlink target is not controlled by         npm /usr/local
npm ERR! File exists: /usr/local/bin/nodemon
npm ERR! Move it away, and try again.

npm ERR! Please include the following file with any support request:
npm ERR!     /Users/brianeoneill/npm-debug.log
</code></pre>

<p>If it makes a difference, I'm trying to run nodemon on a project that uses Express v4.13.1</p>

<p>Thanks for any help you can offer!</p>
",<node.js><bash><express><npm><nodemon>,0.0,0,0,1
6797,6797,35704526,1,0,747201,0.0,3.0,0.0,0.0,2016-02-29T16:26:50.783,0.0,268.0,nodejs/expressjs canned rest api not responding,"<p>I'm using canned to mock a restful api.</p>

<p>It is not working</p>

<pre><code>var canned = require('canned'):
var opts = {cors: true, ... }
can = canned('.', opts)
http.createServer(can).listen(5000)
</code></pre>

<p>I put the index.get.json in './books' </p>

<p>When i try to request data through rest client or browser</p>

<p><a href=""http://127.0.0.1:5000/api/books/?name=alice"" rel=""nofollow"">http://127.0.0.1:5000/api/books/?name=alice</a></p>

<p>It responds in the console</p>

<p><code>request: get api/books/?name=alice not found</code></p>

<p>I tried to remove 'api' but no hope.</p>

<p>index.get.json looks like this:</p>

<pre><code>[{""name"":""alice"", .... }, .... ]
</code></pre>
",<javascript><node.js><express><npm>,0.0,0,0,1
6821,6821,35742337,1,0,1197047,0.0,3.0,0.0,0.0,2016-03-02T08:49:02.353,0.0,642.0,XLSX Parser not installing on Node JS,"<p>I'm getting following error while installing <a href=""https://www.npmjs.com/package/excel"" rel=""nofollow"">Simple NodeJS XLSX parser</a></p>

<pre><code>D:\www\MeanProject\providerapp&gt;npm install excel
npm WARN deprecated graceful-fs@3.0.8: graceful-fs version 3 and before will fail on newer node releases. Please update to graceful-fs@^4.0.0 as soon as possibl
e.

&gt; libxmljs@0.14.3 install D:\www\MeanProject\providerapp\node_modules\excel\node_modules\libxmljs
&gt; node-gyp rebuild

|
D:\www\MeanProject\providerapp\node_modules\excel\node_modules\libxmljs&gt;if not defined npm_config_node_gyp (node ""C:\Program Files\nodejs\node_modules\npm\bin\n
ode-gyp-bin\\..\..\node_modules\node-gyp\bin\node-gyp.js"" rebuild )  else (node  rebuild )
gyp ERR! configure error
gyp ERR! stack Error: Can't find Python executable ""python"", you can set the PYTHON env variable.
gyp ERR! stack     at failNoPython (C:\Program Files\nodejs\node_modules\npm\node_modules\node-gyp\lib\configure.js:116:14)
gyp ERR! stack     at C:\Program Files\nodejs\node_modules\npm\node_modules\node-gyp\lib\configure.js:71:11
gyp ERR! stack     at FSReqWrap.oncomplete (fs.js:82:15)
gyp ERR! System Windows_NT 6.1.7601
gyp ERR! command ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js"" ""rebuild""
gyp ERR! cwd D:\www\MeanProject\providerapp\node_modules\excel\node_modules\libxmljs
gyp ERR! node -v v4.2.5
gyp ERR! node-gyp -v v3.0.3
gyp ERR! not ok
npm ERR! Windows_NT 6.1.7601
npm ERR! argv ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""install"" ""excel""
npm ERR! node v4.2.5
npm ERR! npm  v2.14.12
npm ERR! code ELIFECYCLE

npm ERR! libxmljs@0.14.3 install: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the libxmljs@0.14.3 install script 'node-gyp rebuild'.
npm ERR! This is most likely a problem with the libxmljs package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     node-gyp rebuild
npm ERR! You can get their info via:
npm ERR!     npm owner ls libxmljs
npm ERR! There is likely additional logging output above.

npm ERR! Please include the following file with any support request:
npm ERR!     D:\www\MeanProject\providerapp\npm-debug.log
</code></pre>

<p>I've installed <code>script 'node-gyp rebuild'</code> &amp; Python as shown in the above error but still error persist.</p>

<p>Any help would be appreciated</p>
",<node.js><excel><express><npm><npm-install>,0.0,0,0,1
6879,6879,35856848,1,35858493,1272965,1.0,3.0,0.0,0.0,2016-03-08T00:36:40.610,0.0,32.0,Difficulty doing an express upgrade to 4.x,"<p>After following the express <a href=""http://expressjs.com/en/guide/migrating-4.html"" rel=""nofollow"">3 to 4 migration guide</a>, I get nothing but timeouts from my app.  Silence, nothing in log output, just timeouts, leaving me no idea how to debug.</p>

<p>I am hoping somebody can see the mistake I made in the following.  Here's a before and after on my server and package files.  After changing package.json, I did npm install, and have started and restarted node.</p>

<p>package.js before...</p>

<pre><code>""express"": ""~3.3.5"",
</code></pre>

<p>server.js before...</p>

<pre><code>var express = require('express');
var app = express();
app.use(passport.initialize());

app.use(express.static('./public'));
app.use(express.compress());
app.use(express.methodOverride());
app.use(express.bodyParser());
</code></pre>

<p>package.js after...</p>

<pre><code>""express"": ""*"",
""serve-static"": ""*"",
""compression"": ""*"",
""method-override"": ""*"",
""body-parser"": ""*"", 
</code></pre>

<p>server.js after...</p>

<pre><code>var express = require('express');
var app = express();
app.use(passport.initialize());

var serveStatic = require('serve-static');
var compression = require('compression');
var methodOverride = require('method-override');
var bodyParser = require('body-parser');

app.use(serveStatic('./public'));
app.use(compression);
app.use(methodOverride);
app.use(bodyParser);
</code></pre>

<p>I hope I am presenting the relevant bits here.  I am a little lost, with no errors to follow.</p>
",<node.js><express><npm>,0.0,0,0,1
7051,7051,36129260,1,39355454,4659134,1.0,2.0,0.0,0.0,2016-03-21T11:00:39.510,1.0,369.0,Nodemon express,"<p>I just made a standard <code>express.JS</code> application and I am trying to use <code>mongoose</code> so I can re-run when something changes in the directories. I did not change anything in the express folder and I installed <code>nodemon</code> correctly, when I am trying to run it I get this error:</p>

<p><a href=""https://i.stack.imgur.com/LKdmO.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/LKdmO.png"" alt=""enter image description here""></a></p>

<p>I tried to run nodemon, <code>nodemon ./bin/www, npm start</code>,..
If I try to <code>run node ./bin/www</code>, everything works properly.</p>

<p>I hope you guys can help me!</p>
",<node.js><express><mongoose><npm><nodemon>,0.0,0,0,1
7185,7185,36336799,1,0,2245709,2.0,3.0,0.0,0.0,2016-03-31T14:49:32.353,5.0,6160.0,"Nodejs node-schedule npm is throwing error ""this.job.execute is not a function""","<p>I'm new to nodejs and I have written a nodejs program and scheduling it every minute using the node-schedule. but after running for some time and generating a couple of logs at the console, nodejs throws error that <code>this.job.execute is not a function</code> </p>

<p>here is the code I am using:</p>

<pre><code>var nodeSchedule = require('node-schedule');

runJob();

function runJob(){
    console.log(""start"");
    nodeSchedule.scheduleJob('0 * * * * *',require('./prodModules.js'));

}
</code></pre>

<p>the logs I am getting is:</p>

<pre><code>C:\Users\1060641\Downloads\NodeJS HealthReport\Collector&gt;node src\main\nodejs\collector_main.js
start
Connected
Ready
logged in as Super User
nfs_check running...
NFS Check completed
snapchart_check running...
C:\Users\1060641\node_modules\node-schedule\lib\schedule.js:177
    this.job.execute();
             ^

TypeError: this.job.execute is not a function
    at Job.invoke (C:\Users\1060641\node_modules\node-schedule\lib\schedule.js:177:14)
    at null._onTimeout (C:\Users\1060641\node_modules\node-schedule\lib\schedule.js:445:11)
    at Timer.listOnTimeout (timers.js:92:15)

C:\Users\1060641\Downloads\NodeJS HealthReport\Collector&gt;
</code></pre>

<p>I don't think there is anything wrong with my <code>prodModules.js</code> since running it standalone its running fine.
Scheduling is throwing errors.</p>

<p>Please help.</p>
",<javascript><node.js><express><npm>,1.0,0,0,1
7229,7229,36421951,1,36423479,1882516,1.0,1.0,0.0,0.0,2016-04-05T09:12:38.523,5.0,1100.0,Node express change static folder on a user by user basis,"<p>Is it possible to do something like this with node and express middleware?</p>

<pre><code>app.use('/',express.static('public'))

app.get('/public', function() {
  app.use('/',express.static('public'))
})
app.get('/public2', function() {
  app.use('/',express.static('public2'))
})
</code></pre>

<p>What i'm trying to accomplish is allowing users to have their own ""public"" directories to serve static files. the directory structure would be something like /user/&lt; hash > </p>
",<javascript><node.js><express><npm>,0.0,0,0,1
7401,7401,36656577,1,36656773,896112,1.0,0.0,0.0,0.0,2016-04-15T20:49:18.483,0.0,59.0,Organize node_modules by parent module,"<p>I used Express generator to create an express app. However, my <code>node_modules</code> is populated with all of express's dependencies in the outer level for example:</p>

<pre><code>accepts              ee-first           methods         range-parser
array-flatten        escape-html        mime            raw-body
basic-auth           etag               mime-db         send
express ... and many more
</code></pre>

<p>How can I automatically organize it such that all modules that are dependencies of <code>express</code> move under a file named <code>express</code> ?</p>

<p>Thanks!</p>
",<node.js><express><npm>,0.0,0,0,1
7413,7413,36672484,1,36672979,3187995,1.0,0.0,0.0,0.0,2016-04-17T03:52:29.850,1.0,1253.0,Node.js and expressjs routing to another folder,"<p>I need help with routing using ui.router.</p>

<p>My folder structure looks like this:</p>

<p><a href=""https://i.stack.imgur.com/Fu0A9.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Fu0A9.png"" alt=""enter image description here""></a></p>

<p>In my <code>app.js</code> under <code>javascripts</code> looks like this:</p>

<pre><code>var app = angular.module('testing', ['ui.router']);

app.config(['$stateProvider', '$urlRouterProvider', function($stateProvider, $urlRouterProvider) {
  $stateProvider
    .state('home', {
        url: '/home',
        templateUrl: '/home.html'
    })
    .state('client_form', {
        url: '/request',
        templateUrl: '/client.html',
        controller: 'MainCtrl'
    });

  $urlRouterProvider.otherwise('home');
}]);
</code></pre>

<p>My <code>index.ejs</code> looks like this: </p>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Testing&lt;/title&gt;
        &lt;link href=""http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"" rel=""stylesheet""&gt;

        &lt;script src=""http://ajax.googleapis.com/ajax/libs/angularjs/1.3.10/angular.min.js""&gt;&lt;/script&gt;
        &lt;script src=""http://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.10/angular-ui-router.js""&gt;&lt;/script&gt;
        &lt;script src=""/javascripts/app.js""&gt;&lt;/script&gt;
    &lt;/head&gt;

    &lt;body ng-app=""testing""&gt;

        &lt;div class=""col-md-6 col-md-offset-3""&gt;
            &lt;ui-view&gt;&lt;/ui-view&gt;
        &lt;/div&gt;

    &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p><code>home.ejs</code>:</p>

<pre><code>&lt;div class=""page-header text-center"" style=""font-size:45px""&gt;
  Hacker List
&lt;/div&gt;

&lt;div class=""text-center""&gt;
    &lt;a href=""worker.html""&gt;
        &lt;button type=""submit"" class=""btn btn-primary btnBig""&gt;Worker&lt;/button&gt;
    &lt;/a&gt;

    &lt;br /&gt;

    &lt;a href=""Client.html""&gt;
        &lt;button type=""submit"" class=""btn btn-primary btnBig""&gt;Client&lt;/button&gt;
    &lt;/a&gt;
&lt;/div&gt;
</code></pre>

<p>When I do <code>npm start</code> and go to the website, I get an infinite loop of it not finding <code>home.html</code>. </p>

<p>I can make the code in <code>home.ejs</code> appear if I make it inline inside <code>index.ejs</code> using <code>&lt;script type=""text/ng-template"" id=""/home.html""&gt;HOME_CODE_HERE&lt;/script&gt;</code>; however, I don't want to do that. </p>

<p>I'm not sure how to fix this.</p>
",<javascript><angularjs><node.js><express><npm>,0.0,0,0,1
7526,7526,36840321,1,0,3012133,3.0,2.0,0.0,0.0,2016-04-25T12:16:50.003,8.0,311.0,How to add plugin and using some external module/file on RT,"<p>I'm having node.js application/module which is <strong>working OK</strong> with plug-in concept ,i.e.</p>

<p>My module is acting like proxy with additional capabilities such as <strong>adding new functionality</strong> to the out-of-the-box functionality(methods).
To do this you need to do the following:</p>

<blockquote>
  <p>clone my application</p>
  
  <p>create new folder which is called extenders(inside my app)</p>
</blockquote>

<p>In this folder you should provide two files</p>

<blockquote>
  <ol>
  <li>extend.js with your logic as functions/methods </li>
  <li>extend.json which define your API (to know which file to invoke)</li>
  </ol>
</blockquote>

<p>Note: the JS &amp; JSON file name must be identical </p>

<p>for example lets assume that this is your <code>extend.json</code> file</p>

<pre><code>{
  ""extenders"": [
    {
        ""path"": ""run"",
        ""fn"": ""runFn""
      },
}
</code></pre>

<p>In this case when the user put in the browser the following link</p>

<blockquote>
  <p>localhost:3000/run</p>
</blockquote>

<p>Im invoking the <strong>runFn</strong> function (which exist in the extend.js file)with its logic and this is <strong>working</strong> as expected (under the hood I read the json &amp; js files  and invoke the function like <code>extender[fnName](req, res)</code>);</p>

<p><strong>Now</strong> I want to support the use case of adding <strong>external extender via code</strong>
for example that the user will do something like</p>

<pre><code>var myModule = require('myModule');

myModule.extend('./pathTo/newExternalPathforExtendersFolder');
</code></pre>

<p>so when my module will run it search weather there is new external extenders exist with all configuration and if so refer to it in RT (to the js&amp;json files).</p>

<p><strong>My questions are:</strong></p>

<ol>
<li>I need to find when my module is <strong>starting</strong> who is register to my module and then do my logic on this module , how it can be done in node?</li>
</ol>

<p>2.if there is other solution in node please let me know.</p>
",<javascript><node.js><express><module><npm>,0.0,0,0,1
7552,7552,36896504,1,0,3879818,1.0,4.0,0.0,0.0,2016-04-27T17:11:15.343,1.0,548.0,Sharp image uploader not working when running app with PM2,"<p>I have an express app that I am using Sharp to resize images after a user has uploaded them.  When I start the app using 'npm start' I am able to upload the images with no issues, but if I use PM2 to manage the process the images don't get saved on the server.  I can save them without using Sharp to resize them, it is only when I have the code for sharp that they don't get saved.  Below is the code from my controller.  Multer is processing the form and sharp is resizing the image.</p>

<pre><code>doNewRecipe: function(req, res) {
    for (var key in req.body) {
        req.body[key] = req.body[key] || undefined;
    }
    var body = _.pick(req.body, 'title', 'description', 'ingredients', 'instructions', 'yield', 'prep_time', 'cook_time', 'categoryId');
    body.userId = req.session.user.id;

    if (req.file) {
        var tempPath = req.file.path,
            ext = path.extname(req.file.originalname).toLowerCase(),
            //targetPath = path.resolve(finalUploadPath + req.file.filename + ext);
            targetPath = path.resolve(finalUploadPath);
        fs.renameSync(tempPath, tempPath + ext);
        var newFileName = req.file.filename + ext;
        var imageFile = tempPath + ext;


        body.image = newFileName;

        sharp(imageFile)
            .resize(450, 450)
            .max()
            .toFile('./public/finalUpload/' + newFileName, function(err, info) {
                body.image = newFileName;
                fs.unlinkSync(path.resolve(tempPath + ext));

                db.recipe.create(body).then(function(recipe) {
                    res.redirect('/recipe/view/' + recipe.id);
                }, function(e) {
                    console.log(e.message);
                    res.render('error', {message: e.toString()});
                });
            });


        //fs.renameSync(tempPath, targetPath);
    } else {

        db.recipe.create(body).then(function(recipe) {
            res.redirect('/recipe/view/' + recipe.id);
        }, function(e) {
            console.log(e.message);
            res.render('error', {message: e.toString()});
        });
    }
},
</code></pre>
",<express><npm><multer>,0.0,0,0,1
7611,7611,36982452,1,0,3352844,1.0,1.0,0.0,0.0,2016-05-02T12:27:23.107,0.0,406.0,Proxy Error while installing express using npm,"<p>When I am trying to install express by npm getting below error.</p>

<p>D:\testing node>npm install express -l</p>

<pre><code>npm WARN package.json testnode@1.0.0 No description
npm WARN package.json testnode@1.0.0 No repository field.
npm WARN package.json testnode@1.0.0 No README data
npm ERR! Windows_NT 6.1.7601
npm ERR! argv ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Program Files\\nodejs\\
node_modules\\npm\\bin\\npm-cli.js"" ""install"" ""express"" ""-l""
npm ERR! node v4.0.0
npm ERR! npm  v2.14.2
npm ERR! code ECONNREFUSED
npm ERR! errno ECONNREFUSED
npm ERR! syscall connect

npm ERR! Error: connect ECONNREFUSED 103.245.222.162:443
npm ERR!     at Object.exports._errnoException (util.js:837:11)
npm ERR!     at exports._exceptionWithHostPort (util.js:860:20)
npm ERR!     at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1060:14)
npm ERR!  { [Error: connect ECONNREFUSED 103.245.222.162:443]
npm ERR!   code: 'ECONNREFUSED',
npm ERR!   errno: 'ECONNREFUSED',
npm ERR!   syscall: 'connect',
npm ERR!   address: '103.245.222.162',
npm ERR!   port: 443,
npm ERR!   parent: 'testnode' }
npm ERR!
npm ERR! If you are behind a proxy, please make sure that the
npm ERR! 'proxy' config is set properly.  See: 'npm help config'

npm ERR! Please include the following file with any support request:
npm ERR!     D:\testing node\npm-debug.log
</code></pre>

<p><strong>Although I have removed proxy too but even after that getting the same</strong>
<strong>Tried running npm as administrative</strong></p>
",<node.js><express><npm-install>,0.0,0,0,1
7657,7657,37037966,1,0,0,0.0,4.0,0.0,0.0,2016-05-04T21:03:57.400,0.0,31.0,npm module or software which checks and tells what methods we have used for node js,"<p>I am working on a JS application which has a lot of NPM modules written in NodeJS and ReactJS. Since NodeJS is a big framework i'm not sure which NodeJS methods are used. Are there any NPM modules or software which checks and tells what methods we have used in our NodeJS code?</p>

<pre><code>const http = require('http');

const hostname = '127.0.0.1';
const port = 3000;

const server = http.createServer((req, res) =&gt; {
  res.statusCode = 200;
  res.setHeader('Content-Type', 'text/plain');
  res.end('Hello World\n');
});

server.listen(port, hostname, () =&gt; {
  console.log(`Server running at http://${hostname}:${port}/`);
});
</code></pre>
",<javascript><node.js><express><reactjs><npm>,0.0,0,0,1
7688,7688,37102364,1,37102397,5553315,4.0,0.0,0.0,0.0,2016-05-08T16:53:26.630,24.0,67958.0,How do I create a MySQL connection pool while working with NodeJS and Express?,"<p>I am able to create a MySQL connection like this:</p>

<pre><code>var mysql      = require('mysql');
var connection = mysql.createConnection({
    host     : 'localhost',
    user     : 'me',
    password : 'secret',
    database : 'my_db'
});

connection.connect();
</code></pre>

<p>But I would rather like to initiate a pool and use it across my project.</p>
",<mysql><node.js><express><npm><connection-pooling>,0.0,0,0,1
7690,7690,37103548,1,0,3084507,2.0,16.0,0.0,0.0,2016-05-08T18:46:28.400,1.0,118.0,Heroku NodeJS deploy,"<p>I've tried to deploy my NodeJS project to Heroku. I use free account. When I deployed it I visited the page in the browser and it says: <strong><em>An error occurred in the application and your page could not be served. Please try again in a few moments.</em></strong> I checked the app's logs and it shows that NodeJS cannot find module: <code>Error: Cannot find module 'merge-descriptors'</code>. OK, I installed it and again the same error but the logs showed that another module is missing. When I installed and this module the error was again on the page. I checked all modules in <code>npm list</code> and noticed all of these modules are installed but under express. The most strange is that the app is running perfectly on localhost. The problem occurs only in Heroku. Also I tried to recover an old version of the app but the page again showed error. How I can fix that problem?</p>
",<node.js><express><heroku><npm>,0.0,0,0,1
7812,7812,37285882,1,0,2129340,0.0,3.0,0.0,0.0,2016-05-17T20:41:15.153,0.0,47.0,Best practices regarding back and next buttons in Express.js,"<p>I’m currently developing a website using the Express web framework. I deploy the website on Parse’s hosted environment, but I’ve other options to host the site to make integration of third-party middleware easier. </p>

<p>I’ve managed to setup a website with login and I can add/get data from the Parse backend. I picked up a book (Express in Action’) and I’ve currently some ideas how to improve the site. I’m using EJS for tempting purposes.</p>

<p>I’m basically asking for some best practices about the following. I retrieve a list of data from the website. Now I want the user to search in this list, select an item, and a click-next-button. In the next screen it’s possible to navigate back using a back button (and remember state). I’ve setup a form with the possible to select an item, but I’m just wondering what’s the easiest way to implement this behavior in a sensible and reliable way. I’ve a hard time locating some easy examples but perhaps I’m searching using the wrong keywords. My exposure to front-end frameworks is limited, but it seems that a combination is AngularJS and Express is one way to go. </p>
",<javascript><angularjs><express><parse-platform><npm>,0.0,0,0,1
7885,7885,37371712,1,37371917,5734741,2.0,4.0,0.0,0.0,2016-05-22T07:34:10.310,-1.0,840.0,How can I execute queries one after the other and extract value from 1st query and use it in the 2nd using expressJS?,"<pre><code>router.post(""/application_action"", function(req,res){
var Employee = req.body.Employee;
var conn = new jsforce.Connection({
  oauth2 : salesforce_credential.oauth2
});
var username = salesforce_credential.username;
var password = salesforce_credential.password;
    conn.login(username, password, function(err, userInfo, next) {
if (err) { return console.error(err); res.json(false);}
// I want this conn.query to execute first and then conn.sobject
    conn.query(""SELECT id FROM SFDC_Employee__c WHERE Auth0_Id__c = '"" + req.user.id + ""'"" , function(err, result) {
    if (err) { return console.error(err); }

    Employee[""Id""] = result.records[0].Id;
 });
   //I want this to execute after the execution of above query i.e. conn.query
    conn.sobject(""SFDC_Emp__c"").update(Employee, function(err, ret) {
 if (err || !ret.success) { return console.error(err, ret);}
 console.log('Updated Successfully : ' + ret.id);
 });
});
</code></pre>

<p>I have provided my code above. I need to modify <code>Employee</code> in the <code>conn.query</code> and use it in <code>conn.sobject</code>. I need to make sure that my first query executes before 2nd because I am getting value from 1st and using in the 2nd. Please do let me know if you know how to accomplish this.</p>
",<node.js><express><asynchronous><npm><salesforce>,0.0,0,0,1
7887,7887,37376908,1,40827833,1138192,2.0,5.0,0.0,0.0,2016-05-22T16:39:56.357,2.0,3837.0,nodemon not able to start nodejs app with express v4,"<p>There must have some simple solution with this problem. I have created a new project using <strong>Webstorm</strong> for Express js + Node js. Then i installed <strong>nodemon</strong> using <code>npm install -g nodemon</code> and it was fine. But when i am trying to start my app using <code>nodemon app.js</code> it is showing only </p>

<blockquote>
  <p>sany2k8@sany2k8-Aspire-4752:/var/projects/ENStack$ <strong>nodemon app.js</strong> </p>
  
  <p>[nodemon] 1.9.2  </p>
  
  <p>[nodemon] to restart at any time, enter <code>rs</code> [nodemon] watching: <em>.</em> </p>
  
  <p>[nodemon] starting <code>node app.js</code> </p>
  
  <p>[nodemon] clean exit - waiting for changes before restart</p>
</blockquote>

<p><strong>package.json</strong></p>

<pre><code>{
  ""name"": ""ENStack"",
  ""version"": ""0.0.0"",
  ""private"": true,
  ""scripts"": {
    ""start"": ""node ./bin/www""
  },
  ""dependencies"": {
    ""body-parser"": ""~1.13.2"",
    ""cookie-parser"": ""~1.3.5"",
    ""debug"": ""~2.2.0"",
    ""express"": ""~4.13.1"",
    ""jade"": ""~1.11.0"",
    ""morgan"": ""~1.6.1"",
    ""serve-favicon"": ""~2.3.0""
  }
}
</code></pre>

<p><strong>Edit:</strong> When i tried with <code>npm start</code> then it is showing bunch of errors </p>

<p>sany2k8@sany2k8-Aspire-4752:/var/projects/ENStack$ <strong>npm start</strong></p>

<blockquote>
  <p>ENStack@0.0.0 start /var/projects/ENStack
  node ./bin/www</p>
</blockquote>

<p><strong>Port 3000 is already in use</strong></p>
",<node.js><express><npm><webstorm><nodemon>,0.0,0,0,1
7888,7888,37386612,1,37386803,5702270,3.0,3.0,0.0,0.0,2016-05-23T08:53:09.417,0.0,2330.0,Install express js with npm,"<p>I'm installed nodejs on my ubuntu 14.04 machine. When i ran <strong>node --version</strong> it gives me <strong>v4.4.2</strong>. I have install npm with version <strong>3.9.2</strong>. When i run command <strong>npm install -g express</strong> it gives following output
<a href=""https://i.stack.imgur.com/s3Viy.png"" rel=""nofollow"">install express js</a></p>

<p>After completing the process, when I try to check express version it tells that <strong>The program 'express' is not installed try apt-get install node-express</strong>. Can somebody tell me where I'm doing wrong</p>
",<node.js><express><npm>,0.0,0,0,1
7933,7933,37448233,1,0,950548,1.0,2.0,0.0,0.0,2016-05-25T21:51:01.023,1.0,1710.0,Express application crashes when it encouters an error,"<p>I'm creating a service using <code>NodeJS</code> and <code>Express</code>, that application encapsulates the api Instagram and many times they can thew an exception because the user have to use an flow.</p>

<p>I tryied to envolve my action code in a try /catch but when the application thows an expcetion the npm stop working and i have to execute:</p>

<pre><code>$ npm start
</code></pre>

<p>To get my application running back, i don't find a solution to allow the application to still running after an error.</p>

<p><em>i know the current error was happening because my mysql is offline but in similar cases i want to return the catch result.</em></p>

<hr>

<h2>app.js</h2>

<pre><code>/**
 * Module dependencies.
 */

var express = require('express');
var routes = require('./routes');
var http = require('http');
var path = require('path');


var app = express();
var connection  = require('express-myconnection');
var mysql = require('mysql');


// all environments
app.set('port', process.env.PORT || 4300);
app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'ejs');
//app.use(express.favicon());
app.use(express.logger('dev'));
app.use(express.json());
app.use(express.urlencoded());
app.use(express.methodOverride());

app.use(express.static(path.join(__dirname, 'public')));

// development only
//if ('development' == app.get('env')) {
app.use(express.errorHandler());
//}

/*------------------------------------------
    connection peer, register as middleware
    type koneksi : single,pool and request
-------------------------------------------*/

app.get('/', routes.index);
app.get('/home', routes.home);
app.get('/media/:id', routes.media);
app.get('/produto/:id', routes.produto);
app.get('/authorize_user', routes.authorize_user);
app.get('/handleauth', routes.handleauth);

app.use(app.router);

app.use(function(req, res, next) {
    var err = new Error('Not Found');
    err.status = 404;
    next(err);
});

app.use(logErrors);
app.use(clientErrorHandler);
app.use(errorHandler);


function errorHandler(err, req, res, next) {
  if (res.headersSent) {
    return next(err);
  }
  res.status(500);
  res.render('error', { error: err });
}

function clientErrorHandler(err, req, res, next) {
  if (req.xhr) {
    res.status(500).send({ error: 'Something failed!' });
  } else {
    next(err);
  }
}

function logErrors(err, req, res, next) {
  console.error(err.stack);
  next(err);
}


http.createServer(app).listen(app.get('port'), function(){
  console.log('Express server listening on port ' + app.get('port'));
});
</code></pre>

<h2>routes/index.js</h2>

<pre><code>/*
 * GET home page.
 */
var mysql = require('mysql');
var ig = require('instagram-node').instagram();
var request = require(""request"")
var userinfos = { host: 'localhost', user: 'root', password : 'root', port : 8889, database:'bluebird' };
var auth = '';
var redirect_uri = 'http://localhost:4300/handleauth';

ig.use({
  client_id: 'xxxxxxxxxx',
  client_secret: 'xxxxxxxxxxxx'
});

exports.index = function(req, res){
  res.render('index', {
    title: 'Blue Bird API',
    content: 'Integração com o instagram'
  });
};

exports.home = function(req, res){
  try {
    var con = mysql.createConnection(userinfos);
    con.query('SELECT * FROM home',function(err,rows){
      if(err) throw err;

      var result = [];

      rows.forEach(function(value, index, ar){

        ig.use({ access_token: auth });
        ig.media(value.Image, function(err, media, remaining, limit) {

          if(!err)
            result.push(media);

          if(index + 1 &gt;= rows.length){
            res.header(""Access-Control-Allow-Origin"", ""*"");
            res.header(""Access-Control-Allow-Headers"", ""Origin, X-Requested-With, Content-Type, Accept"");
            res.json(result);
          }

        });

      });
    });
  } catch(err) {
    res.json([]);
  }
};


exports.produto = function(req, res){

  try {

    var id = req.params.id;
    var con = mysql.createConnection(userinfos);
    con.query('SELECT * FROM Produto where Product = id',function(err,rows){
      if(err) throw err;

      res.header(""Access-Control-Allow-Origin"", ""*"");
      res.header(""Access-Control-Allow-Headers"", ""Origin, X-Requested-With, Content-Type, Accept"");
      res.json(rows);
    });

  } catch(err) {
    res.json([]);
  }

};


exports.media = function(req, res){

  try {

    var id = req.params.id;
    var url = ""https://api.instagram.com/oembed/?url=http://instagram.com/p/"" + id;

    request({
        url: url,
        json: true
    }, function (error, response, body) {

        if (!error &amp;&amp; response.statusCode === 200) {
            res.header(""Access-Control-Allow-Origin"", ""*"");
            res.header(""Access-Control-Allow-Headers"", ""Origin, X-Requested-With, Content-Type, Accept"");
            res.json(body); // Print the json response
            //var results = JSON.parse(body);
        }else {
          res.header(""Access-Control-Allow-Origin"", ""*"");
          res.header(""Access-Control-Allow-Headers"", ""Origin, X-Requested-With, Content-Type, Accept"");
          res.send(response);
        }
    });

  } catch(err) {
    res.json([]);
  }
};

exports.authorize_user = function(req, res) {
  try {
    res.redirect(ig.get_authorization_url(redirect_uri, { scope: ['likes'], state: 'a state' }));

  } catch(err) {
    res.json([]);
  }
};

exports.handleauth = function(req, res) {
  try {
    ig.authorize_user(req.query.code, redirect_uri, function(err, result) {
      if (err) {
        console.log(err.body);
        res.send(""Didn't work"");
      } else {
        console.log('Yay! Access token is ' + result.access_token);
        auth = result.access_token;
        res.send('You made it!!');
      }
    });

  } catch(err) {
    res.json([]);
  }
};
</code></pre>

<h2>Error:</h2>

<pre><code>/Users/felipeassuncao/Development/Projects/bluebird/api/routes/index.js:28
      if(err) throw err;
              ^

Error: connect ECONNREFUSED 127.0.0.1:8889
    at Object.exports._errnoException (util.js:896:11)
    at exports._exceptionWithHostPort (util.js:919:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1073:14)
    --------------------
    at Protocol._enqueue (/Users/felipeassuncao/Development/Projects/bluebird/api/node_modules/mysql/lib/protocol/Protocol.js:110:48)
    at Protocol.handshake (/Users/felipeassuncao/Development/Projects/bluebird/api/node_modules/mysql/lib/protocol/Protocol.js:42:41)
    at Connection.connect (/Users/felipeassuncao/Development/Projects/bluebird/api/node_modules/mysql/lib/Connection.js:99:18)
    at Connection._implyConnect (/Users/felipeassuncao/Development/Projects/bluebird/api/node_modules/mysql/lib/Connection.js:298:10)

npm ERR! Darwin 15.5.0
npm ERR! argv ""/usr/local/bin/node"" ""/usr/local/bin/npm"" ""start""
npm ERR! node v6.0.0
npm ERR! npm  v3.8.6
npm ERR! code ELIFECYCLE
npm ERR! application-name@0.0.1 start: `node app.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the application-name@0.0.1 start script 'node app.js'.
npm ERR! Make sure you have the latest version of node.js and npm installed.
npm ERR! If you do, this is most likely a problem with the application-name package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     node app.js
npm ERR! You can get information on how to open an issue for this project with:
npm ERR!     npm bugs application-name
npm ERR! Or if that isn't available, you can get their info via:
npm ERR!     npm owner ls application-name
npm ERR! There is likely additional logging output above.

npm ERR! Please include the following file with any support request:
npm ERR!     /Users/felipeassuncao/Development/Projects/bluebird/api/npm-debug.log
</code></pre>
",<javascript><node.js><express><error-handling><npm>,1.0,0,0,1
7987,7987,37535392,1,0,0,0.0,4.0,0.0,0.0,2016-05-31T01:08:13.627,0.0,26.0,"How may I Parse more than one input[type=""file""] using npm's express-formidable?","<p>I want to parse not one but two input[type='file'] using express-formidable
hers what I have so far..</p>

<p>the HTML:</p>

<pre><code>&lt;form action=""/edit"" method=""POST"" enctype=""multipart/form-data""&gt;
    &lt;b&gt;Profile song:&lt;/b&gt;
    &lt;br&gt;
    &lt;input name""song"" type=""file""&gt;
</code></pre>

<p>note the <code>name=""song""</code></p>

<p><strong>Typo:</strong> <code>name""song""</code>
problem solved smh</p>

<pre><code>    &lt;b&gt;Profile picture:&lt;/b&gt;
    &lt;br&gt;
    &lt;input name=""pic"" type=""file""&gt;
    &lt;b&gt;Display name:&lt;/b&gt;
    &lt;br&gt;
    &lt;input name=""displayName"" type=""text"" class=""form-control"" placeholder=""Display name"" value=""&lt;%= currentUser.displayName || '' %&gt;""&gt;
    &lt;b&gt;Bio:&lt;/b&gt;
    &lt;br&gt;
    &lt;textarea name=""bio"" type=""password"" class=""form-control"" placeholder=""Tell us about yourself""&gt;&lt;%= currentUser.bio %&gt;&lt;/textarea&gt;
    &lt;input type=""submit"" class=""btn btn-block btn-primary"" value=""Update""&gt;
&lt;/form&gt;
</code></pre>

<p>in <code>routes.js</code>:</p>

<pre><code>router.post(""/edit"", ensureAuthenticated, function (req, res, next) {
    console.log(req.body)
</code></pre>

<p>/*</p>

<pre><code> req.body.song is undefined

             however...

 req.body.pic IS defined
</code></pre>

<p>*/</p>

<p>I can't seem to find any docs which cover this topic in this context.</p>

<p><strong>So I ask:</strong> Why am I only able to <strong>parse</strong> <code>input[name=""pic""]</code> and not <code>input[name=""song""]</code> ?</p>

<p>thanks in advance stackoverflowers!</p>

<pre><code>    var file = req.body.pic
    var file_name = file.name
    var pic_type = file.type
    var pic_size = file.size
    var pic_tmp_name = pic.path.substring(pic.path.lastIndexOf(""upload_""))

    req.user.profilePic = {
        path: ""/uploads/""+pic_tmp_name
    }

    var song = req.body.song
    var song_name = song.name
    var song_type = song.type
    var song_size = song.size
    var song_tmp_name = song.path.substring(song.path.lastIndexOf(""upload_""))

    req.user.profileSong = {
        path: ""/uploads/""+song_tmp_name
    }
    req.user.displayName = req.body.displayName
    req.user.bio = req.body.bio
    req.user.save(function (err) {
        if (err) { return next(err) }
        req.flash(""info"", ""Profile Updated!"")
        res.redirect(""/edit"")
    })
})
</code></pre>

<p>in <code>app.js</code></p>

<pre><code>app.use(formidable.parse({
    encoding: ""utf-8"",
    multiples: true,
    keepExtensions: true,
    maxFieldsSize: 1000 * 1024 * 1024, // 10mb
    maxFields: 1000,
    uploadDir: path.resolve(__dirname+""/uploads"")
}))
</code></pre>
",<javascript><node.js><express><npm>,0.0,0,0,1
8038,8038,37625910,1,0,6421848,2.0,7.0,0.0,0.0,2016-06-04T03:02:40.307,3.0,1646.0,'express' command not found on mac,"<p>Definitely a noob question so please don't judge but this has been bothering me for a while.</p>

<p>No more how many times I run <code>$ sudo npm install -g express-generator</code> or <code>$ npm install express -g</code>, everything seems to install but the command <code>$ express</code> still doesn't exist.</p>

<p>I'm running fish shell. Also, I'm assuming this is an issue coming from my PATH file, but I'm lost on if that's .bash_profile or .bashrc.</p>

<p>My .bash_profile has the three lines in it:</p>

<pre><code>  export PATH=/usr/local/bin:$PATH
  export PATH=/Users/username/.node/lib/node_modules/express-generator/bin/express:$PATH
  export PATH=/Users/username/.node/bin/express:$PATH
</code></pre>

<p>and my .bashrc file has nothing regarding node in it. </p>

<p>When express installs, it returns: </p>

<pre><code>  /Users/username/.node/bin/express -&gt; /Users/username/.node/lib/node_modules/express-generator/bin/express
  /Users/username/.node/lib 
</code></pre>

<p>but when I command <code>which node</code> it returns </p>

<pre><code>/usr/local/bin/
</code></pre>

<p>When I try to run <code>$ls -l /usr/local/bin/express</code> it returns:</p>

<pre><code>ls: /usr/local/bin/express: No such file or directory
</code></pre>

<p>Cannot find the diagnosis of why the express command won't work after installation.</p>
",<node.js><macos><express><npm><fish>,0.0,0,0,1
8046,8046,37644831,1,38362432,3093167,2.0,2.0,0.0,0.0,2016-06-05T17:35:06.817,0.0,446.0,Why is req./body.param through a GET request undefined?,"<p>my issue is that req.body.param is undefined but body itself returns the wanted json from the requested source. </p>

<p>This means my iteration wont work too because i need to access req.body.data.length or the count of the id param available.
Thats also why i set num of iterations to 5 to test the output.  </p>

<p>Project is created via the express-generator(body-parser is installed).</p>

<p>This is what i get returned     </p>

<pre><code>[
 {
  __v: 0,
  id: ""0"",
  appid: 730,
  updated_at: ""2016-06-05T16:52:39.742Z"",
  _id: ""575458d71d1c41f414e3b29a"",
  created_at: ""2016-06-05T16:52:39.731Z""
 },
 {
 __v: 0,
 id: ""1"",
 appid: 730,
 updated_at: ""2016-06-05T16:52:39.749Z"",
 _id: ""575458d71d1c41f414e3b29b"",
 created_at: ""2016-06-05T16:52:39.737Z""
 },  ... 
]  
</code></pre>

<p>This is how the requested api json body looks like:  </p>

<pre><code>{
 data: [
        {
          id: 1,
          product_name: ""Product1"",
          app: appName,
          quantity: 137360,
          price: 0.05,
          updated_at: ""2016-06-04 23:02:03"",
          median_week: 0.04,
          median_month: 0.05,
         },
         {
          id:2,
          ...,
         }   
         .....
         {
          id:142640,
          ...,
         }   
       }  
</code></pre>

<p>My Function</p>

<pre><code>router.get('/', function(req, res) {
 request.get('url/api/items/all/', function (error,  response, body) {
console.log(options);
console.log('###########\n '+ body + '\n');
console.log('error '+error);
console.log('req:body '+req.body.data);
if (error &amp;&amp; response.statusCode !== 200) {
    // request could not be completed
    return res.send(400, {message: 'Something went wrong'});
} else {
   // get the count
   //console.log('body.id.length: '+req.body.id.length);
   //console.log('body.data.length: '+req.body.data.length);
   //console.log('data.length: '+data.length);

   var iterator = 5;//req.body.data.length; //|| req.body.num_items;
   // iterate number of times
   async.times(iterator, function(number, next){
     console.log('iterating'+ number);
     var newItem = Item({
       id: number,
       market_hash_name: req.body.market_hash_name,
       appid: '730',
       quantity: req.body.quantity,
       price: req.body.price,
       median_week:  req.body.median_week,
       median_month: req.body.median_month,
       average_median_week: req.body.average_median_week,
       trend_week: req.body.trend_week,
       trend_month: req.body.trend_month,
       total_sold_week: req.body.total_sold_week,
       total_sold_month: req.body.total_sold_month,
       updated_at: req.body.updated_at
  })

  // save andt
  //  call next (which is callback)
           newItem.save(next);
       }, function(timesErr, timesResult){

           // if something failed, return error
           // even if 1 item failed to save, it will return error
           if(timesErr) {
               return res.send(400, {message: 'Something went wrong'});
           }
           // send the list of saved items;
           // or whatever you want
           res.status(200).send(timesResult);
       });
     }
 });

});
</code></pre>

<p>This Problem is referred to <a href=""https://stackoverflow.com/questions/37637854/cache-save-to-db-a-json-body-from-a-get-request/37639495?noredirect=1#comment62768551_37639495"">this issue</a></p>
",<node.js><express><mongoose><body-parser><npm-request>,0.0,0,0,1
8075,8075,37687713,1,37690448,754462,2.0,0.0,0.0,0.0,2016-06-07T19:26:02.333,1.0,2663.0,package.json with angular2 and express,"<p>Hello I just started learning angular 2. I have read a bit on express and have better understanding in that. One thing that confuses me is package.json. particularly the start part. </p>

<p>This is the packege.json when I had only express installed. </p>

<pre><code>{
  ""name"": ""Whatever"",
  ""version"": ""0.0.0"",
  ""private"": true,
  ""scripts"": {
    ""start"": ""node ./bin/www""
  },
  ""dependencies"": {
    ""body-parser"": ""~1.13.2"",
    ""cookie-parser"": ""~1.3.5"",
    ""debug"": ""~2.2.0"",
    ""ejs"": ""~2.3.3"",
    ""express"": ""~4.13.1"",
    ""morgan"": ""~1.6.1"",
    ""serve-favicon"": ""~2.3.0""
  }
}
</code></pre>

<p>Now I decided to install or add angular to the project file. But I am not sure how to properly change package.json.</p>

<p>This is the package.json form angular2 webpage.</p>

<pre><code>{
  ""name"": ""angular2-quickstart"",
  ""version"": ""1.0.0"",
  ""scripts"": {
    ""start"": ""tsc &amp;&amp; concurrently \""npm run tsc:w\"" \""npm run lite\"" "",
    ""lite"": ""lite-server"",
    ""postinstall"": ""typings install"",
    ""tsc"": ""tsc"",
    ""tsc:w"": ""tsc -w"",
    ""typings"": ""typings""
  },
  ""license"": ""ISC"",
  ""dependencies"": {
    ""@angular/common"":  ""2.0.0-rc.1"",
    ""@angular/compiler"":  ""2.0.0-rc.1"",
    ""@angular/core"":  ""2.0.0-rc.1"",
    ""@angular/http"":  ""2.0.0-rc.1"",
    ""@angular/platform-browser"":  ""2.0.0-rc.1"",
    ""@angular/platform-browser-dynamic"":  ""2.0.0-rc.1"",
    ""@angular/router"":  ""2.0.0-rc.1"",
    ""@angular/router-deprecated"":  ""2.0.0-rc.1"",
    ""@angular/upgrade"":  ""2.0.0-rc.1"",
    ""systemjs"": ""0.19.27"",
    ""core-js"": ""^2.4.0"",
    ""reflect-metadata"": ""^0.1.3"",
    ""rxjs"": ""5.0.0-beta.6"",
    ""zone.js"": ""^0.6.12"",
    ""angular2-in-memory-web-api"": ""0.0.11"",
    ""bootstrap"": ""^3.3.6""
  },
  ""devDependencies"": {
    ""concurrently"": ""^2.0.0"",
    ""lite-server"": ""^2.2.0"",
    ""typescript"": ""^1.8.10"",
    ""typings"":""^1.0.4""
  }
}
</code></pre>

<p>but this package.json has different start. I am confused on how should the app start now both with angular 2 and express. </p>

<p><strong>How do I combine both package.json's properly?</strong></p>
",<express><angular><npm>,0.0,0,0,1
8117,8117,37741347,1,37741440,5446406,2.0,0.0,0.0,0.0,2016-06-10T06:30:52.260,0.0,161.0,Unhandled 'error' event?,"<p>when I add all three files (dishRouter.js, promoRouter.js and leaderRouter.js in app.js) shows me the following error</p>

<p><a href=""https://i.stack.imgur.com/YDNpm.jpg"" rel=""nofollow"">error image</a></p>

<p>This is my app.js</p>

<pre><code>var express = require('express');
var path = require('path');
var favicon = require('serve-favicon');
var logger = require('morgan');
var cookieParser = require('cookie-parser');
var bodyParser = require('body-parser');
var routes = require('./routes/index');
var users = require('./routes/users');
var dishRouter = require('./routes/dishRouter');
var promoRouter = require('./routes/promoRouter');
var leaderRouter = require('./routes/leaderRouter');

var app = express();

// view engine setup
app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'jade');

// uncomment after placing your favicon in /public
//app.use(favicon(path.join(__dirname, 'public', 'favicon.ico')));

app.use(logger('dev'));
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({ extended: false }));
app.use(cookieParser());

app.use(express.static(path.join(__dirname, 'public')));

app.use('/', routes);
app.use('/users', users);
app.use('/dishes',dishRouter);
app.use('/promotions',promoRouter);
app.use('/leadership',leaderRouter);

// catch 404 and forward to error handler
app.use(function(req, res, next) {
  var err = new Error('Not Found');
  err.status = 404;
  next(err);
});

// error handlers
// development error handler
// will print stacktrace
if (app.get('env') === 'development') {
  app.use(function(err, req, res, next) {
    res.status(err.status || 500);
    res.render('error', {
      message: err.message,
      error: err
    });
  });
}

// production error handler
// no stacktraces leaked to user
app.use(function(err, req, res, next) {
  res.status(err.status || 500);
  res.render('error', {
    message: err.message,
    error: {}
  });
});

module.exports = app;
</code></pre>

<p>This is dishRouter.js</p>

<pre><code>var express = require('express');
var morgan = require('morgan');
var bodyParser = require('body-parser');

var hostname = 'localhost';
var port = 3000;

var app = express();

app.use(morgan('dev'));

var dishRouter = express.Router();

dishRouter.use(bodyParser.json());

dishRouter.route('/')
.all(function(req,res,next) {
      res.writeHead(200, { 'Content-Type': 'text/plain' });
      next();
})

.get(function(req,res,next){
        res.end('Will send all the dishes to you!');
})

.post(function(req, res, next){
    res.end('Will add the dish: ' + req.body.name + ' with details: ' + req.body.description);
})

.delete(function(req, res, next){
        res.end('Deleting all dishes');
});

dishRouter.route('/:dishId')
.all(function(req,res,next) {
      res.writeHead(200, { 'Content-Type': 'text/plain' });
      next();
})

.get(function(req,res,next){
        res.end('Will send details of the dish: ' + req.params.dishId +' to you!');
})

.put(function(req, res, next){
        res.write('Updating the dish: ' + req.params.dishId + '\n');
    res.end('Will update the dish: ' + req.body.name +
        ' with details: ' + req.body.description);
})

.delete(function(req, res, next){
        res.end('Deleting dish: ' + req.params.dishId);
});

app.use('/dishes',dishRouter);

app.use(express.static(__dirname + '/public'));

app.listen(port, hostname, function(){
  console.log(`Server running at http://${hostname}:${port}/`);
});

module.exports = dishRouter;
</code></pre>

<p>this is leaderRouter.js</p>

<pre><code>var express = require('express');
var morgan = require('morgan');
var bodyParser = require('body-parser');

var hostname = 'localhost';
var port = 3000;

var app = express();

app.use(morgan('dev'));

var leaderRouter = express.Router();

leaderRouter.use(bodyParser.json());

leaderRouter.route('/')
.all(function(req,res,next) {
      res.writeHead(200, { 'Content-Type': 'text/plain' });
      next();
})

.get(function(req,res,next){
        res.end('Will send all the leaders to you!');
})

.post(function(req, res, next){
    res.end('Will add the leader: ' + req.body.name + ' with details: ' + req.body.description);
})

.delete(function(req, res, next){
        res.end('Deleting all leaders');
});

leaderRouter.route('/:leaderId')
.all(function(req,res,next) {
      res.writeHead(200, { 'Content-Type': 'text/plain' });
      next();
})

.get(function(req,res,next){
        res.end('Will send details of the leader: ' + req.params.leaderId +' to you!');
})

.put(function(req, res, next){
        res.write('Updating the leader: ' + req.params.leaderId + '\n');
    res.end('Will update the leader: ' + req.body.name +
        ' with details: ' + req.body.description);
})

.delete(function(req, res, next){
        res.end('Deleting leader: ' + req.params.leaderId);
});

app.use('/leaders',leaderRouter);

app.use(express.static(__dirname + '/public'));

app.listen(port, hostname, function(){
  console.log(`Server running at http://${hostname}:${port}/`);
});

module.exports = leaderRouter;
</code></pre>

<p>and this is promoRouter.js</p>

<pre><code>var express = require('express');
var morgan = require('morgan');
var bodyParser = require('body-parser');

var hostname = 'localhost';
var port = 3000;

var app = express();

app.use(morgan('dev'));

var promoRouter = express.Router();

promoRouter.use(bodyParser.json());

promoRouter.route('/')
.all(function(req,res,next) {
      res.writeHead(200, { 'Content-Type': 'text/plain' });
      next();
})

.get(function(req,res,next){
        res.end('Will send all the promotions to you!');
})

.post(function(req, res, next){
    res.end('Will add the promotion: ' + req.body.name + ' with details: ' + req.body.description);
})

.delete(function(req, res, next){
        res.end('Deleting all promotions');
});

promoRouter.route('/:promotionId')
.all(function(req,res,next) {
      res.writeHead(200, { 'Content-Type': 'text/plain' });
      next();
})

.get(function(req,res,next){
        res.end('Will send details of the promotion: ' + req.params.promotionId +' to you!');
})

.put(function(req, res, next){
    res.write('Updating the promotion: ' + req.params.promotionId + '\n');
    res.end('Will update the promotion: ' + req.body.name +
        ' with details: ' + req.body.description);
})

.delete(function(req, res, next){
        res.end('Deleting promotion: ' + req.params.promotionId);
});

app.use('/promotions',promoRouter);

app.use(express.static(__dirname + '/public'));

app.listen(port, hostname, function(){
  console.log(`Server running at http://${hostname}:${port}/`);
});

module.exports = promoRouter;
</code></pre>

<p>but to add only one router, works perfectly, why?</p>

<p>I use Win7, node v4.4.5, npm v3.9.0</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
8212,8212,37870594,1,37870979,5417449,1.0,3.0,0.0,0.0,2016-06-16T22:48:00.430,0.0,491.0,How to POST with request in Express,"<p>So I'm trying to POST a new user to Intercom using the <a href=""https://www.npmjs.com/package/request"" rel=""nofollow"">request</a> module, but can't seem to get the format correct. I'm able to do GET requests just fine with request and POST with the same data with CURL. So my conclusion is there must be somthing wrong with the way I'm using the request library.</p>

<p>Working CURL request:</p>

<pre><code>    curl https://api.intercom.io/users \
-X POST \
-u xxx:da39xxxxxxxxxxxxxxxxx0709 \
-H 'Accept: application/json' \
-H 'Content-Type: application/json' -d '
{
  ""user_id"": ""25"",
  ""email"": ""wash@serenity.io"",
  ""name"": ""Hoban Washburne"",
  ""signed_up_at"": 1392731331,
  ""last_seen_ip"" : ""1.2.3.4""
}
</code></pre>

<p>Not working server side request:</p>

<pre><code>  request.post('https://api.intercom.io/users',
  {
    'auth': {
      'user': 'xxx',
      'pass': 'xxx',
      'sendImmediately': false
    }},
      {
        ""user_id"": ""193"",
          ""email"": ""test@test.io"",
          ""name"": ""Hoban Washburne"",
          ""signed_up_at"": 1392731331,
          ""last_seen_ip"" : ""1.2.3.4"",
      },function (error, response, body) {
    var info = JSON.parse(body);
    console.log(info);
    console.log(error);
  });
res.status(200).send(info);
</code></pre>
",<node.js><express><npm><http-post><httprequest>,0.0,0,0,1
8216,8216,37880579,1,37880872,5239358,2.0,1.0,0.0,0.0,2016-06-17T11:35:48.213,0.0,1904.0,Multiple request url mapping handler in one controller does not work in Node Express JS,"<p>In my <code>server.js</code> file I have below url mappings:</p>

<pre><code>app.use('/registerCourse', require('./controllers/training.controller'));
app.use('/getCourses', require('./controllers/training.controller'));
</code></pre>

<p>In <code>training.controller</code> file I have mapped below way:</p>

<pre><code>router.post('/registerCourse', registerCourse);
router.get('/getCourses', getCourses);
</code></pre>

<p>when call <code>""/registerCourse"",""/getCourses"",""/getCourseDetails""</code> throwing error saying:</p>

<blockquote>
  <p>""Cannot GET /getCourses""
  Server.js - </p>
</blockquote>

<pre><code>require('rootpath')();
var express = require('express');
var app = express();
var session = require('express-session');
var bodyParser = require('body-parser');
var expressJwt = require('express-jwt');
var config = require('config.json');

app.set('view engine', 'ejs');
app.set('views', __dirname + '/views');
app.use(bodyParser.urlencoded({ extended: false }));
app.use(bodyParser.json());
app.use(session({ secret: config.secret, resave: false,    saveUninitialized: true }));


app.use('/login', require('./controllers/login.controller'));

app.use('/app', require('./controllers/app.controller'));

app.use('/registerCourse', require('./controllers/training.controller'));
app.use('/getCourses', require('./controllers/training.controller'));
app.use('/getCourseDetails', require('./controllers/training.controller'));



app.get('/', function (req, res) {
return res.redirect('/app');
});


var server = app.listen(3000, function () {
console.log('Server listening at http://' + server.address().address +    ':' + server.address().port);
});
</code></pre>

<p>training.controller.js-</p>

<pre><code>var config = require('config.json');
var express = require('express');
var app = express();  
var router = express.Router();
var trainingService = require('services/training.service');
app.use(router);  

router.post('/registerCourse', registerCourse);
router.get('/getCourses', getCourses);
router.get('/getCourseDetails', getCourseDetails);
module.exports = router;


function registerCourse(req, res) {
   console.log("" registerCourse called ()""+req.body);
   trainingService.register(req.body);

}

function getCourses(req, res) {

     trainingService.getCourses()
    .then(function (data) {
        res.json(data);
    })
    .catch(function (err) {

        res.status(400).send(err);
    });
}
function getCourseDetails(req, res) {

    console.log(req.body)
}
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
8225,8225,37888177,1,0,1601443,1.0,3.0,0.0,0.0,2016-06-17T18:33:48.890,-1.0,87.0,Unable to access the variable in NodeJs function,"<p>I am using NodeJS postgresql client to fetch some data loop through it and give an output. I'm using ExpressJS together with postgresql client. </p>

<p>This is my code </p>

<pre><code>    var main_data = some array of data
    var user_info = {}
    for (var key in result.rows) {
      var user = main_data[key].user

      client.query('SELECT name,age,address FROM users WHERE user_id = $1 LIMIT 1;' , [user], function(queryErr, result){
        var return_data = result.rows[0]
        user_info.name = return_data.name
        user_info.gender = return_data.gender
        user_info.address = return_data.address
        main_data[key].user_info = user_info
     })
    }

    done()
    res.json(main_data)
    return
</code></pre>

<p>However when I run this code I don't get a proper output. The userinfo is not pushed to the main_data. It just outputs main_data variable just as the beginning of the code.</p>

<p><strong>It is not simple as the suggested duplicate</strong>
Because the function sits inside a for loop so I can't just make the response call once the function is done. I have to wait till the whole loop is finished which may be 1000+ of loops to finish before I can make the response call.</p>

<p>So tell me how can I achieve it.
What am I doing wrong and how can fix it?
Thank you very much</p>
",<javascript><node.js><postgresql><express><npm>,0.0,0,0,1
8305,8305,38011933,1,0,6507492,1.0,3.0,0.0,0.0,2016-06-24T11:05:26.450,0.0,808.0,Parse server : module not found error on npm start command,"<p>I have installed <strong>npm</strong> on my local machine and setup <strong>parse</strong> example project.</p>

<p>Now I tried to run the project using <strong><em>npm start</em></strong> command but it gives an error at following line of code in <strong>index.js</strong> file.</p>

<pre><code>var api = new ParseServer({
    databaseURI:  'mongodb://XXX',
    cloud: process.env.CLOUD_CODE_MAIN || __dirname + '\\cloud\\main.js',
    appId: 'XXX',
    masterKey:  'XXX', 
    serverURL:  'http://localhost:1337/parse',  
});
</code></pre>

<p>When I run command as below </p>

<pre><code>F:\parse-server-example-master&gt;npm start
</code></pre>

<p>Its giving following error on command line</p>

<pre><code>&gt; parse-server-example@1.4.0 start F:\parse-server-example-master
&gt; node index.js
module.js:442
    throw err;
    ^

Error: Cannot find module 'cloud/xxx.js'
    at Function.Module._resolveFilename (module.js:440:15)
    at Function.Module._load (module.js:388:25)
    at Module.require (module.js:468:17)
    at require (internal/module.js:20:19)
    at Object.&lt;anonymous&gt; (F:\parse-server-example-master\cloud\main.js:3:1)
    at Module._compile (module.js:541:32)
    at Object.Module._extensions..js (module.js:550:10)
    at Module.load (module.js:458:32)
    at tryModuleLoad (module.js:417:12)
    at Function.Module._load (module.js:409:3)

npm ERR! Windows_NT 6.3.9600
npm ERR! argv ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Program Files\\nodejs\\
node_modules\\npm\\bin\\npm-cli.js"" ""start""
npm ERR! node v6.2.2
npm ERR! npm  v3.9.5
npm ERR! code ELIFECYCLE
npm ERR! parse-server-example@1.4.0 start: `node index.js`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the parse-server-example@1.4.0 start script 'node index.js'.
npm ERR! Make sure you have the latest version of node.js and npm installed.
npm ERR! If you do, this is most likely a problem with the parse-server-example
package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     node index.js
npm ERR! You can get information on how to open an issue for this project with:
npm ERR!     npm bugs parse-server-example
npm ERR! Or if that isn't available, you can get their info via:
npm ERR!     npm owner ls parse-server-example
npm ERR! There is likely additional logging output above.

npm ERR! Please include the following file with any support request:
npm ERR!     F:\parse-server-example-master\np
m-debug.log
</code></pre>

<p>How can I solve this error?</p>
",<node.js><mongodb><express><parse-platform><npm>,1.0,0,0,1
8380,8380,38092887,1,0,2564723,2.0,0.0,0.0,0.0,2016-06-29T07:20:29.457,4.0,1848.0,Debugging nodejs run by babel-node with WebStorm,"<p>I have <code>npm run</code> script in package.json:</p>

<pre><code>""scripts"": {
   ""start"": ""nodemon lib/app.js --exec babel-node --presets es2015,stage-2""
}
</code></pre>

<p>How do you start a debugging session on WebStorm with this script?</p>
",<express><npm><webstorm>,0.0,0,0,1
8501,8501,38263205,1,0,6325268,1.0,0.0,0.0,0.0,2016-07-08T09:25:42.167,0.0,368.0,Parse cloud code error for body-parser on npm start command,"<p>I have created the project for parse cloud code and now I am trying to start it using node.js</p>

<p>When I run <code>start npm</code> command it gives following error.</p>

<pre><code>:\Project&gt;npm start

&gt; parse-server-example@1.4.0 start C:\Project
&gt; node index.js

1
C:\Project\node_modules\express\lib\express.js:89
      throw new Error('Most middleware (like ' + name + ') is no longer bundled
with Express and must be installed separately. Please see https://github.com/sen
chalabs/connect#middleware.');
      ^

Error: Most middleware (like bodyParser) is no longer bundled with Express and m
ust be installed separately. Please see https://github.com/senchalabs/connect#mi
ddleware.
    at Function.Object.defineProperty.get (C:\Project\node_modules\express\lib\
express.js:89:13)
    at Object.&lt;anonymous&gt; (C:\Project\cloud\plivo_receiver.js:6:16)
    at Module._compile (module.js:541:32)
    at Object.Module._extensions..js (module.js:550:10)
    at Module.load (module.js:458:32)
    at tryModuleLoad (module.js:417:12)
    at Function.Module._load (module.js:409:3)
    at Module.require (module.js:468:17)
    at require (internal/module.js:20:19)
    at Object.&lt;anonymous&gt; (C:\Project\cloud\main.js:6:1)

npm ERR! Windows_NT 6.3.9600
npm ERR! argv ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Program Files\\nodejs\\
node_modules\\npm\\bin\\npm-cli.js"" ""start""
npm ERR! node v6.3.0
npm ERR! npm  v3.10.3
npm ERR! code ELIFECYCLE
npm ERR! parse-server-example@1.4.0 start: `node index.js`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the parse-server-example@1.4.0 start script 'node index.js'.
npm ERR! Make sure you have the latest version of node.js and npm installed.
npm ERR! If you do, this is most likely a problem with the parse-server-example
package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     node index.js
npm ERR! You can get information on how to open an issue for this project with:
npm ERR!     npm bugs parse-server-example
npm ERR! Or if that isn't available, you can get their info via:
npm ERR!     npm owner ls parse-server-example
npm ERR! There is likely additional logging output above.

npm ERR! Please include the following file with any support request:
npm ERR!     C:\Project\npm-debug.log
</code></pre>

<p>As per the instruction in error I checked  <a href=""https://github.com/sen%20chalabs/connect#middleware"" rel=""nofollow"">https://github.com/sen
chalabs/connect#middleware</a> but could not understand the solution.</p>

<p>Error is being generated at following code of line.</p>

<pre><code>app.use(express.bodyParser());
app.use(express.methodOverride());
</code></pre>

<p>Please let me know how to resolve this issue.</p>
",<express><parse-cloud-code><parse-server><body-parser><npm-start>,0.0,0,0,1
8531,8531,38292932,1,38293043,2024590,1.0,0.0,0.0,0.0,2016-07-10T14:25:33.157,0.0,41.0,Versions of npm packages,"<p>I installed <strong>Express</strong> and the package.json shows me <code>""express"": ""^4.14.0""</code>. But when i do <code>npm express -v</code> via console inside my project, it gives me 3.8.8. Can somebody explain, where the different versions come from and how I can fix this?</p>
",<node.js><express><npm>,0.0,0,0,1
8581,8581,38365501,1,0,6587517,1.0,0.0,0.0,0.0,2016-07-14T04:28:01.140,2.0,1022.0,npm install failing. Cloud 9 ide,"<p>I am having the same issue with npm. Tried on my pc tried to avoid directory issues and getting the same issues on cloud9 . Hoping it being on a virtual machine there would be little i could do to mess it up, i have tried private:true  and falsi and completely without it. As well as sockt.io ""latest"" same with express. Any insight would be great</p>

<pre><code>{ ""name"": ""chit"",
 ""version"": ""0.0.1"",
 ""description"": ""chat practice"",
 ""private"": ""false"",
 ""dependencies"":{ ""socket.io"":""1.4.8"",
 ""express"":""4.14.0"" }
 ""author"": ""Charles"",
 ""license"": ""ISC""  
</code></pre>

<p>Thank you so much</p>

<p>See error</p>

<pre><code>ERR! install Couldn't read dependencies
npm ERR! Linux 4.2.0-c9
npm ERR! argv ""/home/ubuntu/.nvm/versions/node/v4.4.5/bin/node"" ""/home/ubuntu/.nvm/versions/node/v4.4.5/bin/npm"" ""install""
npm ERR! node v4.4.5
npm ERR! npm  v2.15.5
npm ERR! file /home/ubuntu/workspace/chat/package.json
npm ERR! code EJSONPARSE

npm ERR! Failed to parse json
npm ERR! Unexpected token 'a' at 10:4
npm ERR!   ""author"": ""Charles"",
npm ERR!    ^
npm ERR! File: /home/ubuntu/workspace/chat/package.json
npm ERR! Failed to parse package.json data.
npm ERR! package.json must be actual JSON, not just JavaScript.
npm ERR! 
npm ERR! This is not a bug in npm.
npm ERR! Tell the package author to fix their package.json file. JSON.parse

npm ERR! Please include the following file with any support request:
npm ERR!     /home/ubuntu/workspace/chat/npm-debug.log
</code></pre>
",<node.js><express><cloud9-ide><npm-install>,0.0,0,0,1
8605,8605,38404290,1,0,2182080,1.0,3.0,0.0,0.0,2016-07-15T20:04:39.340,0.0,470.0,How to redirect PUT request to POST request in express router route handler?,"<p>I am handling PUT /api/checkout route with express router:
   <code>this.router.put('/:id/checkout', (req, response, next) =&gt; { /*...*/ });</code></p>

<p>Now as I am handling different types of payments with different third party services one of which expects POST request I am looking for a way handle the PUT request by executing the POST request to third party service endpoint. How do I do that ?</p>

<p>What i did at this point is execute POST request directly with <code>request.post</code>.</p>

<p>The challenge at this point is how to handle the resource moved response.</p>

<pre><code>request.post({
  url  : 'https://paymentgateway.com/charge',
  form : {
    product_id        : product_id,
    amount            : amount
  }
}, (err, httpResponse, body) =&gt; {
</code></pre>

<p>The response I get here is <code>httpResponse.statucCode === 302</code> and <code>body === &lt;html&gt;&lt;head&gt;&lt;title&gt;Object moved&lt;/title&gt;&lt;/head&gt;&lt;body&gt;</code>. Not sure how to handle this. HTML form with same request parameters automatically redirects the client to redirect URL.</p>
",<express><npm>,0.0,0,0,1
8673,8673,38493568,1,0,5361741,2.0,5.0,0.0,0.0,2016-07-21T01:49:24.260,1.0,19440.0,"Sending/handling GET requests in typescript using Express, Request and Node.js","<p>I'm using a combination of Express and Request (installed using npm) to try to send a get request to get some json from the server. However no matter what I do the body that is returned is ""undefined"". </p>

<p>This is the code in my server.js file. The json isn't actually what I'm sending, it's just an example as I can't post what I'm actually sending.</p>

<pre><code>import express = require(""express"");
import bodyParser = require(""body-parser"");
let app = express();
app.use(bodyParser.json());

app.get('/config', function(req, res){
    res.json('{name: test}');
})

app.listen(3000);
</code></pre>

<p>I've tried both of the following but both of them say that body is undefined.</p>

<pre><code>import request = require(""request"");

let req = {
    url: `http://localhost:3000/config`,
    method: 'GET',
    headers: {
        'Content-Type': 'application/json'
    }
}

request(req, function(error, response, body){
    this.config = JSON.parse(body);
})

request(`/config`, function(err, res, body) {
    this.config = JSON.parse(body);
});
</code></pre>

<p>Does anyone know what I'm doing wrong? I've never used express or request before so any tips would be greatly appreciated.</p>

<hr>

<p><strong>UPDATE</strong></p>

<p>If I change the request code to the following, the inside of the function is never run. Does anyone know why this would be?</p>

<pre><code>let req = {
    url: `http://localhost:3000/config`,
    method: 'GET',
    headers: {
        'Content-Type': 'application/json'
    }
}

request(req, function(error, response, body){
    console.log(""response =&gt; ""+JSON.parse(body));
    return JSON.parse(body);
})
</code></pre>
",<node.js><express><typescript><npm-request>,0.0,0,0,1
8812,8812,38680688,1,0,4614833,0.0,5.0,0.0,0.0,2016-07-31T04:12:18.600,0.0,360.0,node express-generator not getting installed on ubuntu 14.04,"<p>I am trying to install express-generator on my ubuntu 14.04 by running this command</p>

<p><code>sudo npm install express-generator -g</code></p>

<p>it shows that <code>express-generator</code> is installed </p>

<pre><code>sinscary@avenger:~$ sudo npm install express-generator -g
[sudo] password for sinscary: 
/home/sinscary/.node/bin/express -&gt; /home/sinscary/.node/lib/node_modules/express-generator/bin/express
express-generator@4.13.4 /home/sinscary/.node/lib/node_modules/express-generator
├── sorted-object@2.0.0
├── commander@2.7.1 (graceful-readlink@1.0.1)
└── mkdirp@0.5.1 (minimist@0.0.8)
</code></pre>

<p>but i don't know why when i run <code>express -h</code> i am continuously getting this error</p>

<pre><code>The program 'express' is currently not installed. You can install it by typing:
sudo apt-get install node-express
</code></pre>

<p>I am able to install express with <code>sudo apt-get install node-express
</code> this command but i read somewhere that the prefered way of installing <code>express-generator</code> is with <code>npm</code>.</p>

<p><a href=""https://stackoverflow.com/questions/33445007/npm-install-express-generator-not-installing-express"">This Question</a> is similar to my problem but solution given here didn't work for me. As i can see by comparing the answer given here, in my case <code>npm</code> is placing the binary links in <code>/home/username/.node/bin</code> instead of <code>/home/username/npm/bin</code></p>

<p>So i added <code>export PATH=$HOME/.node/bin:$PATH</code> to my <code>.bashrc</code> file but still getting the same error.</p>

<p>I have followed step by step to install express as suggested in <a href=""http://expressjs.com/en/starter/generator.html"" rel=""nofollow noreferrer"">Documentation</a> , but still facing the same problem.</p>

<p>Any help on that </p>
",<node.js><linux><ubuntu><express><npm>,0.0,0,0,1
8844,8844,38711916,1,0,1621306,1.0,0.0,0.0,0.0,2016-08-02T04:43:54.793,1.0,3157.0,Execute a cgi script from a Node Express server,"<p>So I have a website with a member area. That member area is managed through a payment processor called CCBill. In order for CCBill to manage a password file on my server, they need to execute a cgi script. </p>

<p>Right now, I've looked at cgi and serve-cgi npm modules. But I'm not sure if they can do what I need. Can anyone help me with this?</p>

<p>My Express Router get function:</p>

<pre><code>router.get('*', function(req, res, next) {
    console.log('in');
    var mPath = path.join(appRoot, '/cgi-bin' + req.params[0]);
    console.log(mPath);
    const execFile = require('child_process').execFile;
    const child = execFile(mPath, function(error, stdout, stderr) {
        if (error) {
            console.log(error);
            throw error;
        }
        console.log(stdout);
    });
});
</code></pre>
",<node.js><express><npm><cgi>,0.0,0,0,1
8901,8901,38768460,1,38769093,1139444,1.0,0.0,0.0,0.0,2016-08-04T13:17:26.167,1.0,299.0,Update Node App in Azure,"<p>We have a node app running <code>express</code> with a couple proxies in a WAWS with 4 slots.</p>

<p>Is it possible to trigger an <code>npm update</code> without pushing new code?</p>
",<node.js><azure><express><npm><azure-web-app-service>,0.0,0,0,1
8924,8924,38801983,1,0,5431613,1.0,0.0,0.0,0.0,2016-08-06T08:04:32.230,-4.0,1960.0,Nodejs Error: getaddrinfo ENOENT,"<p>When I run the application, I am getting error getaddrinfo.</p>

<p>I am using mysql for database. So if I run the application,I am getting this error.</p>
",<mysql><node.js><express><npm>,0.0,0,0,1
9004,9004,38900537,1,58880186,2894638,6.0,2.0,0.0,0.0,2016-08-11T15:28:32.233,25.0,24315.0,TypeScript: Extend Express.Session interface with own class,"<p>I'm working on a Typescript project with npm packages. I want to add a property to the Express.Session interface.</p>

<p>example Class:</p>

<pre><code>class User {
    name: string;
    email: string;
    password: string;
}

export = User;
</code></pre>

<p>New d.ts file for the interface definition (don't want to edit express-session.d.ts):</p>

<pre><code>declare namespace Express {
    interface Session {
        user: User
    }
}
</code></pre>

<p>app.ts</p>

<pre><code>import User = require('./User');

function (req: express.Request, res: express.Response) {
    req.session.user //I want to use it like this.
}
</code></pre>

<p>the problem is, that User is not known in de d.ts file. But neither require nor import the User-file fixes that.</p>

<p>How can I add my own class to the session interface?</p>
",<node.js><express><typescript><npm><express-session>,0.0,0,0,1
9036,9036,38938342,1,38946723,6559963,1.0,1.0,0.0,0.0,2016-08-14T01:09:59.860,1.0,45.0,npm restful api suddenly no longer working,"<p>I followed this tutorial to create a restful api with npm and postgres</p>

<p><a href=""http://mherman.org/blog/2016/03/13/designing-a-restful-api-with-node-and-postgres/#.V6qjM5N97Vo"" rel=""nofollow"">Designing a RESTful API With Node and Postgres</a></p>

<p>I got everything to work without a problem, closed the server and went to other things.. when I got back, the routing stopped working suddenly giving <code>404 error</code>.. I checked everything related to routing and I can't find the problem!</p>

<p>When I connect to <code>localhost:3000</code> I get the correct express homepage
but when I try to access the api, <code>localhost:3000/api/patients</code> the <code>404 error</code> page appears</p>

<p>Here is my code</p>

<p><code>index.js</code></p>

<pre><code>var express = require('express');
var router = express.Router();
var db = require('../queries');


router.get('/api/patients', db.getAllPatients);


module.exports = router;
</code></pre>

<p><code>queries.js</code></p>

<pre><code>var promise = require('bluebird');

var options = {
  // Initialization Options
  promiseLib: promise
};

var pgp = require('pg-promise')(options);
var connectionString = 'postgres://localhost:5432/maindb'
var db = pgp(connectionString);

module.exports = {
  getAllPatients: getAllPatients
}

function getAllPatients(req, res, next) {
  db.any('select * from patients where deleted = false')
    .then(function (data) {
      res.status(200)
        .json({
          status: 'success',
          data: data,
          message: 'Retrieved ALL patients'
        });
    })
    .catch(function (err) {
      return next(err);
    });
}
</code></pre>
",<api><express><npm><pg-promise>,0.0,0,0,1
9086,9086,39002144,1,39022886,3907211,3.0,0.0,0.0,0.0,2016-08-17T16:45:01.237,11.0,18579.0,Error: Could not locate the bindings file. Tried:,"<p>I ran into the following error while trying to run my electron app that contains my express app.</p>

<pre><code>Error: Could not locate the bindings file. Tried:
</code></pre>

<p>I think the issue has to do with <code>serialport</code> module, for without it being required everything works fine.</p>

<pre><code>C:\Users\Jonathan\Desktop\client\&lt;NAME&gt;\electron-with-express\express-app\node_modules\bindings\bindings.js:91

&lt;br&gt;Error: Could not locate the bindings file. Tried:
&lt;br&gt; → C:\Users\Jonathan\Desktop\client\&lt;NAME&gt;\electron-with-express\express-app\node_modules\serialport\build\serialport.node
&lt;br&gt; → C:\Users\Jonathan\Desktop\client\&lt;NAME&gt;\electron-with-express\express-app\node_modules\serialport\build\Debug\serialport.node
&lt;br&gt; → C:\Users\Jonathan\Desktop\client\&lt;NAME&gt;\electron-with-express\express-app\node_modules\serialport\build\Release\serialport.node
&lt;br&gt; → C:\Users\Jonathan\Desktop\client\&lt;NAME&gt;\electron-with-express\express-app\node_modules\serialport\out\Debug\serialport.node
&lt;br&gt; → C:\Users\Jonathan\Desktop\client\&lt;NAME&gt;\electron-with-express\express-app\node_modules\serialport\Debug\serialport.node
&lt;br&gt; → C:\Users\Jonathan\Desktop\client\&lt;NAME&gt;\electron-with-express\express-app\node_modules\serialport\out\Release\serialport.node
&lt;br&gt; → C:\Users\Jonathan\Desktop\client\&lt;NAME&gt;\electron-with-express\express-app\node_modules\serialport\Release\serialport.node
&lt;br&gt; → C:\Users\Jonathan\Desktop\client\&lt;NAME&gt;\electron-with-express\express-app\node_modules\serialport\build\default\serialport.node
&lt;br&gt; → C:\Users\Jonathan\Desktop\client\&lt;NAME&gt;\electron-with-express\express-app\node_modules\serialport\compiled\6.3.1\win32\ia32\serialport.node
&lt;br&gt;    at bindings (C:\Users\Jonathan\Desktop\client\&lt;NAME&gt;\electron-with-express\express-app\node_modules\bindings\bindings.js:88:9)
&lt;br&gt;    at Object.&lt;anonymous&gt; (C:\Users\Jonathan\Desktop\client\&lt;NAME&gt;\electron-with-express\express-app\node_modules\serialport\lib\bindings.js:3:35)
&lt;br&gt;&lt;/anonymous&gt;    at Module._compile (module.js:541:32)
&lt;br&gt;    at Object.Module._extensions..js (module.js:550:10)
&lt;br&gt;    at Module.load (module.js:458:32)
&lt;br&gt;    at tryModuleLoad (module.js:417:12)
&lt;br&gt;    at Function.Module._load (module.js:409:3)
&lt;br&gt;    at Module.require (module.js:468:17)
&lt;br&gt;    at require (internal/module.js:20:19)
&lt;br&gt;    at Object.&lt;anonymous&gt; (C:\Users\Jonathan\Desktop\client\&lt;NAME&gt;\electron-with-express\express-app\node_modules\serialport\lib\serialport.js:15:25)
</code></pre>
",<node.js><express><npm><serial-port><electron>,0.0,0,0,1
9109,9109,39020525,1,42028199,3907211,1.0,1.0,0.0,0.0,2016-08-18T14:14:29.227,7.0,19464.0,How to run express within electron?,"<p>I have been able to successfully run express within the electron app via repositories such as </p>

<p><a href=""https://github.com/theallmightyjohnmanning/electron-express"" rel=""noreferrer"">https://github.com/theallmightyjohnmanning/electron-express</a></p>

<p><a href=""https://github.com/frankhale/electron-with-express"" rel=""noreferrer"">https://github.com/frankhale/electron-with-express</a></p>

<p>However, I was advised not to do so due to the GNU GENERAL PUBLIC LICENSE that they impose. I am trying to create a commercial app that will monetize. Hence, a liscene like MIT might do, but not sure about GNU.</p>

<p>Anyhow, I have been trying to follow his procedure:
<a href=""https://gist.github.com/maximilian-ruppert/a446a7ee87838a62099d"" rel=""noreferrer"">https://gist.github.com/maximilian-ruppert/a446a7ee87838a62099d</a></p>

<p>But is running into some issues.
Heres what I have done so far.</p>

<pre><code># Clone the Quick Start repository
$ git clone https://github.com/electron/electron-quick-start

# Go into the repository
$ cd electron-quick-start

# Install the dependencies and run
$ npm install &amp;&amp; npm start
</code></pre>

<p>Then to get express</p>

<pre><code>$ express myapp
$ cd myapp

$ npm install
renamed myapp to just app
</code></pre>

<p>and now I am stuck at the part where i need to configure the electron <code>main.js</code> file or/and the render <code>index.html</code> file to link to the express app and have that run instead of the <code>index.html</code></p>

<p>Any help would be appreciated.</p>

<p>I am running on windows 10.</p>
",<node.js><express><npm><electron>,0.0,0,0,1
9137,9137,39054540,1,39054776,3249717,3.0,2.0,0.0,0.0,2016-08-20T13:12:57.600,-4.0,1047.0,Array.push not pushing properly,"<p>EDIT: I've added the res.send(json), wasn't included the snippet.</p>

<p>I'm trying to extract/scrape a website and combine their output into json data.  However when I run the endpoint, the response combines every result into its key, instead of adding a record per iteration.  To expound, I get:</p>

<pre><code>{ 
      item: ""item1item2item3item4item5item6"",
      title: ""title1title2title3title4title5title5"",
      price: ""price1price2price3price4price5price6""
}
</code></pre>

<p>This is my target output format though..:</p>

<pre><code>{ item: ""item1"",
  title: ""title1"",
  price: ""price1"",
  itemlink: ""itemlink1"" },
{ item: ""item2"",
  title: ""title2"",
  price: ""price2"",
  itemlink: ""itemlink2"" },
{ item: ""item3"",
  title: ""title3"",
  price: ""price3"",
  itemlink: ""itemlink3"" }, etc...
</code></pre>

<p>Here's the below snippet:</p>

<pre><code>    request(url, function(error, response, html){
    if(!error){
        var $ = cheerio.load(html);

    var json = [];
    /* Pulls out all the titles
    $('.item-name').each(function() {
        var title = $(this).text();
        json2.push({title: title});
    })
    */

    function getID(str) {
        return str.split('viewitem.php?iid=')[1];
    }

    $('.catlist').each(function(key, index) {
        var title = $('.item-name').text();
        var price = $('.catprice').text();
        var id = getID($('h2').children().attr('href'));
        var itemlink = $('h2').children().attr('href');

        json.push({     
            id: id, 
            title: title, 
            price: price, 
            itemlink: itemlink 
        });
    })

}
res.send(json)

})
</code></pre>

<p>I'm out of my wits, already spent hours on this.  Any idea why they are not iterating properly for me? Thanks in advance!</p>
",<javascript><jquery><express><npm><cheerio>,0.0,0,0,1
9142,9142,39057651,1,0,1305878,1.0,2.0,0.0,0.0,2016-08-20T18:52:42.767,0.0,25.0,Where do you place NPM's request code?,"<p>I want to use the <a href=""https://www.npmjs.com/package/request"" rel=""nofollow noreferrer"">request</a> module in my express app, but I am not sure where the actual <em>requests</em> code goes.</p>

<p>Usage:</p>

<ul>
<li>When a user loads a page, make a GET request and populate the page with <code>data</code>. </li>
<li>When a users clicks on a item from a table, make a GET request.</li>
<li>When a user fills out a form, POST.</li>
</ul>

<p>I tried searching for answers but it seems to be implied that the developer knows where to place the code. </p>

<p><strong>Example</strong> of a code snippet using request that I am unsure where to place in the express app:</p>

<pre><code>var request = require('request');
request('http://www.google.com', function (error, response, body) {
  if (!error &amp;&amp; response.statusCode == 200) {
    console.log(body) // Show the HTML for the Google homepage. 
  }
})
</code></pre>

<p>I am guessing that I should not place the code in the server.js file especially if I am going to be making many different calls, but that's what it looks like others are doing on <a href=""https://stackoverflow.com/questions/38493568/sending-handling-get-requests-in-typescript-using-express-request-and-node-js"">StackOverflow</a>. </p>

<p>Does the request belong in a model?</p>
",<express><model-view-controller><npm-request>,0.0,0,0,1
9205,9205,39136263,1,0,6401373,1.0,0.0,0.0,0.0,2016-08-25T03:32:59.847,0.0,165.0,mutler module install is failing for node.js,"<p>I am trying to install the mutler module for uploading files using node.js 
This is the error i keep getting when I am trying to install mutler: </p>

<pre><code>karans-MBP:artink Karan$ sudo npm install mutler --save 
npm ERR! Darwin 15.0.0
npm ERR! argv ""/usr/local/bin/node"" ""/usr/local/bin/npm"" ""install"" ""mutler"" ""--save""
npm ERR! node v4.4.7
npm ERR! npm  v3.10.7
npm ERR! code E404

npm ERR! 404 Registry returned 404 for GET on https://registry.npmjs.org/mutler
npm ERR! 404 
npm ERR! 404  'mutler' is not in the npm registry.
npm ERR! 404 You should bug the author to publish it (or use the name yourself!)
npm ERR! 404 
npm ERR! 404 Note that you can also install from a
npm ERR! 404 tarball, folder, http url, or git url.

npm ERR! Please include the following file with any support request:
npm ERR!     /Users/Karan/artink/npm-debug.log
</code></pre>

<p>I have tried various solutions posted on stackoverflow but nothing seems to work. </p>
",<node.js><express><npm>,0.0,0,0,1
9286,9286,39210768,1,0,214131,2.0,4.0,0.0,0.0,2016-08-29T16:18:10.887,0.0,1013.0,error while instaling expressjs using npm in office,"<p>I want to learn node and express js. I installed nodejs perfectly in office and trying to intall expressjs using ' npm install express --g ' , But it is throwing error. I done some proxy setting also using ' npm config set proxy <a href=""http://autoproxyfh.xxxx.com/VPN-US.pac:80"" rel=""nofollow"">http://autoproxyfh.xxxx.com/VPN-US.pac:80</a> ' and ' npm config set proxy <a href=""http://username:password@http://autoproxyfh.xxxx.com/VPN-US.pac:80"" rel=""nofollow"">http://username:password@http://autoproxyfh.xxxx.com/VPN-US.pac:80</a> ' . But still it is throwing error. Please find the error below.</p>

<blockquote>
  <p>C:\Users\user\Desktop\Nodejs>npm install express --g npm
  ERR! Windows_NT 6.1.7601 npm ERR! argv ""C:\Program
  Files\Node.js\node.exe"" ""C:\Program Files\Node.js
  \node_modules\npm\bin\npm-cli.js"" ""install"" ""express"" ""--g"" npm
  ERR! node v6.4.0 npm ERR! npm  v3.10.3 npm ERR! code ECONNRESET</p>
  
  <p>npm ERR! network tunneling socket could not be established,
  cause=connect ECONNR EFUSED 10.220.81.10:80 npm ERR! network This is
  most likely not a problem with npm itself npm ERR! network and is
  related to network connectivity. npm ERR! network In most cases you
  are behind a proxy or have bad network settin gs. npm ERR! network npm
  ERR! network If you are behind a proxy, please make sure that the npm
  ERR! network 'proxy' config is set properly.  See: 'npm help config'</p>
  
  <p>npm ERR! Please include the following file with any support request:
  npm ERR!     C:\Users\RaviKanth.Yandluri\Desktop\Nodejs\npm-debug.log</p>
</blockquote>

<p>and tried with another possibility but still throwing error.</p>

<blockquote>
  <p>C:\Users\user\Desktop\Nodejs>npm config set registry <a href=""http://regist"" rel=""nofollow"">http://regist</a>
  ry.npmjs.org/</p>
  
  <p>C:\Users\user\Desktop\Nodejs>npm install express npm ERR! Windows_NT
  6.1.7601 npm ERR! argv ""C:\Program Files\Node.js\node.exe"" ""C:\Program Files\Node.js \node_modules\npm\bin\npm-cli.js""
  ""install"" ""express"" npm ERR! node v6.4.0 npm ERR! npm  v3.10.3 npm
  ERR! code ECONNREFUSED npm ERR! errno ECONNREFUSED npm ERR! syscall
  connect</p>
  
  <p>npm ERR! Error: connect ECONNREFUSED 10.1.2.50:80 npm ERR!     at
  Object.exports._errnoException (util.js:1026:11) npm ERR!     at
  exports._exceptionWithHostPort (util.js:1049:20) npm ERR!     at
  TCPConnectWrap.afterConnect [as oncomplete] (net.js:1081:14) npm ERR! 
  { Error: connect ECONNREFUSED 10.1.2.50:80 npm ERR!     at
  Object.exports._errnoException (util.js:1026:11) npm ERR!     at
  exports._exceptionWithHostPort (util.js:1049:20) npm ERR!     at
  TCPConnectWrap.afterConnect [as oncomplete] (net.js:1081:14) npm ERR! 
  code: 'ECONNREFUSED', npm ERR!   errno: 'ECONNREFUSED', npm ERR!<br>
  syscall: 'connect', npm ERR!   address: '10.1.2.50', npm ERR!   port:
  80 } npm ERR! npm ERR! If you are behind a proxy, please make sure
  that the npm ERR! 'proxy' config is set properly.  See: 'npm help
  config'</p>
  
  <p>npm ERR! Please include the following file with any support request:
  npm ERR!     C:\Users\user\Desktop\Nodejs\npm-debug.log</p>
</blockquote>
",<node.js><express><npm><npm-install>,0.0,0,0,1
9336,9336,39269350,1,0,6770224,1.0,3.0,0.0,0.0,2016-09-01T10:40:12.337,0.0,1760.0,electron cannot find module package.json,"<p>this is my first time using electron and im trying to run an express app, it gives me this error </p>

<p>Update code</p>

<pre><code>Error: Cannot find module 'C:\package.json'
    at Module._resolveFilename (module.js:440:15)
    at Function.Module._resolveFilename (C:\Users\marku_000\AppData\Roaming\npm\node_modules\electron\dist\resources\electron.asar\common\reset-search-paths.js:35:12)
</code></pre>

<p>Any help is appreciated </p>
",<javascript><node.js><express><npm><electron>,1.0,0,0,1
9340,9340,39275140,1,0,4786655,0.0,2.0,0.0,0.0,2016-09-01T15:07:31.927,0.0,992.0,Node - download zip and extract sequentially,"<p>I am working on a Node Express, which would call REST URL to download a zip and extract it.</p>

<p>Below are the steps that I am following</p>

<ol>
<li>Using the request module, send a POST request to REST API.</li>
<li>REST API returns a zip file. Pipe it to save it to the filesystem</li>
<li>Extract the zip file</li>
<li>Cleanup the zip file (this code is not there yet)</li>
</ol>

<p>This is how my code looks like</p>

<pre><code>return new Promise(function(resolve, reject) {
  var req = require('request');
  var extract = require('extract-zip');
  var postData = {
    username: ""abc"",
    password: ""zyz""
  }
  var options = {
    method: 'post',
    body: postData,
    json: true,
    url: ""http://localhost:8080/zipdownload""
  }
  req(options, function(err, res, body) {
    if(err) {
      console.log('Error posting json ' + err)
      return;
    }
  }).pipe(fs.createWriteStream(USER_DIR + '/MY.zip')).on('finish', function() {
    console.log('Finished downloading ZIP file');
    extract(USER_DIR + '/MY.zip', {
      dir: USER_DIR + '/MyExtractedFolder'
    }, function(err) {
      if(err) {
        console.log('Error extracting  zip ' + err);
      }
      resolve(""Promised resolved donwloading and extracting zip"");
    })
  }).on('error', function(error) {
    reject('Error in downloading content', error);
  });
});
</code></pre>

<p>I am able to download the zip file and save it in the file system using .pipe. However when I try to extract it using extract-zip, it gives me the below error</p>

<blockquote>
  <p>End of central directory record signature not found.</p>
</blockquote>

<p>I suspect that extract code is not at the right place and Promise gets resolved while the extract code is still running. As a result, the calling function, tries to do something with the extracted files which do not currently exist.</p>

<p>Also, I am not able to make out where should I put the code for zip cleanup. It needs to trigger once the extraction has been done and not in parallel to extraction.</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
9369,9369,39308277,1,0,3310334,0.0,1.0,0.0,0.0,2016-09-03T14:59:44.293,1.0,115.0,nsp shows a vulnerability which doesn't exist,"<p>When I run <a href=""https://github.com/nodesecurity/nsp"" rel=""nofollow""><code>nsp check</code></a> against the root of an express application I am making I get this output:</p>

<pre><code>(+) 4 vulnerabilities found
┌───────────────┬─────────────────────────────────────────────────────┐
│               │ Sanitization bypass using HTML Entities             │
├───────────────┼─────────────────────────────────────────────────────┤
│ Name          │ marked                                              │
├───────────────┼─────────────────────────────────────────────────────┤
│ Installed     │ 0.2.10                                              │
├───────────────┼─────────────────────────────────────────────────────┤
│ Vulnerable    │ &lt;=0.3.5                                             │
├───────────────┼─────────────────────────────────────────────────────┤
│ Patched       │ &gt;=0.3.6                                             │
├───────────────┼─────────────────────────────────────────────────────┤
│ Path          │ myapp@1.0.0 &gt; marked-engine@0.1.0 &gt; marked@0.2.1    │
├───────────────┼─────────────────────────────────────────────────────┤
│ More Info     │ https://nodesecurity.io/advisories/101              │

... 3 more omitted, all concerning marked@0.2.10
</code></pre>

<p>even though the version of <code>marked</code> I am using is <code>0.3.6</code>:</p>

<pre><code>$ npm list
myapp@1.0.0
├── ...
└─┬ marked-engine@0.1.0
  └── marked@0.3.6
</code></pre>

<p>So, what's the problem? Why does <code>nsp</code> report this vulnerability?</p>
",<node.js><security><express><npm>,0.0,0,0,1
9464,9464,39413988,1,39414455,243858,1.0,0.0,0.0,0.0,2016-09-09T14:31:40.050,0.0,425.0,Error: Cannot find module './layer' when loading Express in Heroku,"<p>I'm currently building a Node.js Express application on Heroku. It works fine locally, but when I upload it to Heroku I get the following error:</p>

<pre><code>2016-09-09T14:14:46.606481+00:00 app[web.1]: [DEBUG] Loading modules...
2016-09-09T14:14:46.607904+00:00 app[web.1]: [DEBUG] Loading express...
2016-09-09T14:14:46.632062+00:00 app[web.1]: module.js:457
2016-09-09T14:14:46.632064+00:00 app[web.1]:     throw err;
2016-09-09T14:14:46.632065+00:00 app[web.1]:     ^
2016-09-09T14:14:46.632065+00:00 app[web.1]:
2016-09-09T14:14:46.632066+00:00 app[web.1]: Error: Cannot find module './layer'
</code></pre>

<p>When I go to look in my local node_modules the file <code>node_modules\express\lib\router\layer.js</code> is present.</p>

<p>I then ran <code>heroku run bash</code> and see :</p>

<pre><code>~/node_modules/express/lib/router $ ls
index.js  route.js
</code></pre>

<p>So I run:</p>

<pre><code>~ $ rm -rf node_modules/
~ $ npm i
~ $ npm start
</code></pre>

<p>And it all works fine again. However logging out of heroku bash and it stops working. After that if I then log back in and run <code>npm start</code>, it fails with the first message again:</p>

<pre><code>Running bash on little-owl... up, run.6609
~ $ npm start

&gt; little-owl@0.0.1 start /app
&gt; node server.js

[DEBUG] Loading modules...
[DEBUG] Loading express...
module.js:457
    throw err;
    ^

Error: Cannot find module './layer'
</code></pre>

<p>Any ideas?</p>
",<node.js><express><heroku><npm>,0.0,0,0,1
9517,9517,39495796,1,0,6797267,1.0,1.0,0.0,0.0,2016-09-14T16:49:08.740,0.0,158.0,live-reload is creating these annoying warnings,"<p>I get all these warnings when using live-reload.
I don't even know what all those scripts are?
What is causing those warnings?</p>

<p><img src=""https://i.stack.imgur.com/cA6KI.png"" alt=""enter image description here""></p>

<pre><code>'//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
__browserify_process:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
package.json:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
browser.js:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
package.json:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
shoe.js:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
package.json:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
browser.js:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
stream:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
events:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
util:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
package.json:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
sockjs.js:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
url:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
querystring:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
inject.js:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
package.json:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
index.js:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
backoff.js:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
fibonacci.js:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
strategy.js:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
exponential.js:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
widget.js:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
package.json:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
index.js:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
other.js:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
reload.js:1 '//@ sourceURL' and '//@ sourceMappingURL' are deprecated, please use '//# sourceURL=' and '//# sourceMappingURL=' instead.
</code></pre>
",<angularjs><express><npm>,0.0,0,0,1
9590,9590,39606371,1,39606422,4208955,2.0,0.0,0.0,0.0,2016-09-21T02:00:13.533,1.0,1634.0,Node.js Unable to start server,"<p>I'm confused a) what the actual error is here - it seems some people with this missing module can still start their server, b) How can I fix this?</p>

<p>I've tried: </p>

<pre><code>rm -rf node_modules
npm cache clean
npm install
</code></pre>

<p>npm-debug.log provided no additional errors/obviously useful info. This is a beginner setup using Express that makes a small query to MongoDB.</p>

<p>npm start output:</p>

<pre><code>david@david-desktop:~/Documents/node/nodetest1$ npm start

&gt; nodetest1@0.0.0 start /home/david/Documents/node/nodetest1
&gt; node ./bin/www

{ [Error: Cannot find module '../build/Release/bson'] code: 'MODULE_NOT_FOUND' }
js-bson: Failed to load c++ bson extension, using pure JS version
Port 3000 is already in use

npm ERR! Linux 4.4.0-36-generic
npm ERR! argv ""/usr/bin/nodejs"" ""/usr/bin/npm"" ""start""
npm ERR! node v4.5.0
npm ERR! npm  v3.10.7
npm ERR! code ELIFECYCLE
npm ERR! nodetest1@0.0.0 start: `node ./bin/www`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the nodetest1@0.0.0 start script 'node ./bin/www'.
npm ERR! Make sure you have the latest version of node.js and npm installed.
npm ERR! If you do, this is most likely a problem with the nodetest1 package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     node ./bin/www
npm ERR! You can get information on how to open an issue for this project with:
npm ERR!     npm bugs nodetest1
npm ERR! Or if that isn't available, you can get their info via:
npm ERR!     npm owner ls nodetest1
npm ERR! There is likely additional logging output above.

npm ERR! Please include the following file with any support request:
npm ERR!     /home/david/Documents/node/nodetest1/npm-debug.log
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
9663,9663,39691171,1,39691349,3919831,2.0,0.0,0.0,0.0,2016-09-25T19:51:52.217,1.0,108.0,Where to put package in package.json? dependency or devdependency,"<p>Just a short question.</p>

<p>I develop a api in node &amp; express where i need the <a href=""https://www.npmjs.com/package/request"" rel=""nofollow"">package request</a> for my tests and for the api logic itself. Should i put it in the normal dependencies or in the dev dependencies. Or even in both of them? Thx.</p>
",<node.js><express><npm><package.json>,0.0,0,0,1
9767,9767,39823541,1,0,6913053,2.0,1.0,0.0,0.0,2016-10-03T01:47:40.057,-2.0,847.0,Error: Cannot find module 'xxx' repeats over and over?,"<p>Trying out a tutorial using express.js to simple web server.
Problem: When I run the js, I keep getting the same error over and over saying module ""x"" then module ""y"" then module ""z"" is missing.
The dependent modules don't seem to get loaded.</p>

<p>What do I need to do to get all the dependencies in my js to be loaded automatically? (Or is this normal node.js behavior?)</p>

<p>Here's what I do:</p>

<ol>
<li><p>cd to app folder</p></li>
<li><p>npm init  // package.json created</p></li>
<li><p>npm install express  // node_modules dir created. express inside.</p></li>
<li><p>node 03y.js</p></li>
<li><p>Errors like this:</p></li>
</ol>

<blockquote>
  <p>Error: Cannot find module 'body-parser'
  at Function.Module._resolveFilename (module.js:325:15)</p>
</blockquote>

<ol start=""6"">
<li><p>So I do: npm install body-parser</p></li>
<li><p>Run again: eg: Error: Cannot find module 'whatever' etc....</p></li>
</ol>

<p>Am I missing a vital step?</p>
",<node.js><express><npm>,1.0,0,0,1
9859,9859,39924192,1,0,511501,1.0,0.0,0.0,0.0,2016-10-07T19:03:00.490,0.0,35.0,How to properly read POST params with express?,"<p>My node app is supposed to POST to an external server, so I'm playing with <code>request</code> from NPM. I want to verify it's working, but I'm not entirely sure I'm doing that right.</p>

<p>I've tried both of these methods</p>

<pre><code>request({
  url: url,
  method: 'POST',
  form: { a: 1}
}

request({
  url: url,
  method: 'POST',
  json: true,
  body: { a: 1}
}
</code></pre>

<p>In my test when I hit my own server, <code>req.body</code> shows the right object when I do <code>json</code> true. However that just means I'm passing a JSON header. The API I actually need to hit is expecting a normal POST, not JSON.</p>

<p>So when I try to verify that <code>request</code> is working right when I use <code>form</code>, my server says <code>req.body</code> is an empty object. </p>

<p><strong>EDIT</strong>
I am posting to external API fine using <code>form</code>, but on my own server, express is leaving <code>request.body</code> as empty object.</p>
",<express><npm-request>,0.0,0,0,1
9867,9867,39930479,1,39936994,6554563,3.0,0.0,0.0,0.0,2016-10-08T08:50:09.663,5.0,2560.0,In nodeJs socket.io on method is unresolved in webstorm,"<p>I am learning socket.io in node and i have installed the module using-</p>

<pre><code>npm install socket.io --save
</code></pre>

<p>here is my code</p>

<pre><code>var app = require('express')();
var http = require('http').Server(app);
var io = require('socket.io')(http);

app.get('/', function(req, res){
  res.send('index.html');
});

io.on('connection', function(socket){
  console.log('a user connected');
});

http.listen(3000, function(){
  console.log('listening on *:3000');
});
</code></pre>

<p><a href=""https://i.stack.imgur.com/v5zZt.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/v5zZt.png"" alt=""enter image description here""></a></p>

<blockquote>
  <p>but webstorm is saying that 'on' is unresolved .. please help</p>
</blockquote>
",<javascript><node.js><sockets><express><npm>,0.0,0,0,1
10079,10079,40174157,1,40174480,2404470,2.0,4.0,0.0,0.0,2016-10-21T10:24:18.280,0.0,1461.0,Express not listening on localhost:3000,"<p>So, we've built a basic <a href=""https://shapeshed.com/creating-a-basic-site-with-node-and-express"" rel=""nofollow"">express node website</a></p>

<p><a href=""https://i.stack.imgur.com/5fwmC.png"" rel=""nofollow""><img src=""https://i.stack.imgur.com/5fwmC.png"" alt=""express -c stylus express_example""></a></p>

<p>Trying to run the app with <code>DEBUG=express_example:* npm start</code></p>

<p><a href=""https://i.stack.imgur.com/NI5lR.png"" rel=""nofollow""><img src=""https://i.stack.imgur.com/NI5lR.png"" alt=""DEBUG=express_example:* npm start""></a></p>

<p>With <code>node DEBUG=express_example:* npm start</code></p>

<p>Also, tried inside <code>node</code> runtime:</p>

<p><a href=""https://i.stack.imgur.com/80mKP.png"" rel=""nofollow""><img src=""https://i.stack.imgur.com/80mKP.png"" alt=""DEBUG=express_example:* npm start inside node""></a></p>

<p><a href=""http://localhost:3000/"" rel=""nofollow"">http://localhost:3000/</a> is not connecting</p>

<p><a href=""https://i.stack.imgur.com/QVL7p.png"" rel=""nofollow""><img src=""https://i.stack.imgur.com/QVL7p.png"" alt=""enter image description here""></a></p>

<p><strong>Where are we wrong?</strong></p>
",<javascript><node.js><windows><express><npm>,0.0,0,0,1
10083,10083,40180375,1,0,6943964,0.0,1.0,0.0,0.0,2016-10-21T15:25:40.580,1.0,95.0,Getting error while creating express project in WebStorm,"<p>Today when I create a new express project in WebStorm, I get this error:</p>

<pre><code>Create Express Project
         Error creating Node.js Express App. Failed command:
         ""C:\Program Files\nodejs\node.exe"" ""C:\Program Files\nodejs\node_modules\npm\bin\npm-cli.js"" install
         Exit code: -1
</code></pre>

<p>But I could create successfully a month ago. </p>

<p>My npm and node version is 2.15.9 and 4.5.0</p>
",<node.js><express><npm><webstorm>,0.0,0,0,1
10163,10163,40292990,1,40293032,5967286,2.0,3.0,0.0,0.0,2016-10-27T19:42:46.863,0.0,314.0,Starting node app whenever it stops,"<p>I don't have any errors in my node app, but it stops after some requests. Though i have enabled the logs and checked, its showing on different requests. </p>

<p>Is it possible to start the node app whenever it is stopped ?</p>

<p>Currently i am using this to start the node app</p>

<p>To start the app</p>

<p><code>nohup npm start &amp;</code></p>

<p>And to find the process id</p>

<p><code>ps aux | grep node</code> </p>

<p>And to kill certain process</p>

<p><code>kill -9 PID</code></p>

<p>I don't want to leave the app stopped. It should be ever running. So, Is it possible to start the app whenever it gets stopped. </p>

<p>Thanks</p>
",<node.js><express><npm><mean-stack><nohup>,0.0,0,0,1
10389,10389,40570538,1,0,7151529,0.0,3.0,0.0,0.0,2016-11-13T04:20:53.310,0.0,112.0,Unable to install express using npm in windows 10,"<p>I have tried a number of times to install express using npm. The attached image shows the nodejs npm install express <code>SyntaxError</code></p>

<p><a href=""https://i.stack.imgur.com/1hOVw.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/1hOVw.jpg"" alt=""enter image description here""></a></p>

<p>I have manually copied the npmrc file into AppData with the same results. </p>

<p>I have changed my PATH to </p>

<pre><code>C:\Users[Username]\AppData\Roaming\npm;C:\Program Files\nodejs
</code></pre>

<p>I can not get express to install.</p>
",<node.js><express><npm-install>,0.0,0,0,1
10397,10397,40580751,1,0,4464516,2.0,0.0,0.0,0.0,2016-11-14T01:33:28.943,0.0,31.0,Can't install ExpressJS - npm is throwing an error,"<p>When I try to install ExpressJS with the command npm install -g express, I get the following errors:</p>

<p><a href=""https://i.stack.imgur.com/htu1T.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/htu1T.png"" alt=""enter image description here""></a></p>

<p>What can I do about it?</p>
",<node.js><express><npm>,0.0,0,0,1
10481,10481,40677972,1,0,7074714,0.0,2.0,0.0,0.0,2016-11-18T13:10:16.090,0.0,27.0,Looking for multiple file uploader using Express+Node,"<p>I am working in one Node Application. My requirement is to upload multiple Image Files. </p>

<p>I want <a href=""https://github.com/blueimp/jQuery-File-Upload"" rel=""nofollow noreferrer"">this</a> type of module. </p>

<p>I find also this <a href=""https://www.npmjs.com/package/blueimp-file-upload-expressjs"" rel=""nofollow noreferrer"">module</a> but it is not working. </p>

<p>Is any one know any other module for implementing multiple file uploader just like blueimp.</p>
",<node.js><express><npm><blueimp>,0.0,0,0,1
10559,10559,40764239,1,0,1079131,1.0,3.0,0.0,0.0,2016-11-23T12:11:55.790,4.0,2583.0,How to create pm2 ecosystem.json file for node js express app which starts using npm start?,"<p>I want to use pm2 for node js express app.
I am able to start node js server using npm start.
I want to configure the same in ecosystem.json file so that i can start by using pm2 tool.
Also i want to start in cluster mode.</p>

<p>Please note that i am able to start the node js app by using the command below</p>

<p><strong>pm2 start ""/usr/bin/npm"" --name ""blaze-node"" -- start -i 0</strong></p>

<p>There are two problems with the above command.</p>

<ol>
<li>It is not configured in ecosystem.json file.</li>
<li>It is not obeying the -i 0 parameter. It only start single instance.</li>
</ol>

<p>Some more information</p>

<p>Below is the ecosystem.json file</p>

<pre><code>   {
   ""apps"":[
      {
         ""name"":""blaze-node"",
         ""script"":""npm"",
         ""exec_mode"":""cluster"",
         ""instances"":""0"",
         ""env_dev"":{
            ""watch"":true,
            ""NODE_ENV"":""dev""
         },
         ""env_qa"":{
            ""watch"":false,
            ""NODE_ENV"":""qa""
         },
         ""env_prod"":{
            ""watch"":false,
            ""NODE_ENV"":""prod""
         }
      }
   ]
}
</code></pre>

<p>If i execute the below command
pm2 start ecosystem.json --env dev
it show the nice output showing that the processes have been started.
But nothing is getting listened on 3000 port.</p>

<p>Instead when i use the command without using ecosystem.json file
as below</p>

<p><strong>pm2 start ""/usr/bin/npm"" --name ""blaze-node"" -- start -i 0</strong></p>

<p>Every thing works fine except those two problems as stated above.</p>

<p>Please help.</p>
",<javascript><node.js><express><npm><pm2>,0.0,0,0,1
10583,10583,40789886,1,40790323,6175543,1.0,0.0,0.0,0.0,2016-11-24T15:20:27.837,0.0,405.0,Adjusting the querystring/URL in Node's request module,"<p>I am using the npm request module to make a request within an Express.js application to an internal API. I am passing the following options to the <code>request</code> function:</p>

<pre><code>requestOptions = {
 url : http://whatever.com/locations/
 method : ""GET"",
 json : {},
 qs : {
  lng : longitude,
  lat : latitude + '/predictions'
 }
</code></pre>

<p>The latitude and longitude parameters will change depending on user input and so can not be hard coded.</p>

<p>An example of a URL I wish to make the request to is <code>http://whatever.com/locations/37.891726,-122.277858/predictions</code>. </p>

<p>Unfortunately, the result of <code>request(requestOptions, callback)</code> is that the request is made to <code>http://whatever.com/locations/?lng=37.891726&amp;lat=-122.277858%2Fpredictions</code>. </p>

<p>I know from the <a href=""https://www.npmjs.com/package/request"" rel=""nofollow noreferrer"">documentation</a> that I can adjust the separator from <code>&amp;</code> to <code>,</code>, and also that the <code>/</code> I manually appended to <code>lat</code> can be properly sent if I add the attribute <code>qsStringifyOptions : {encode: false}</code> to <code>requestOptions</code>. But appending <code>/predictions</code> manually the way I did feels wrong to begin with, and I still have the difficulty of the remaining format -- namely, removing the <code>lat=</code>/<code>lng=</code>, the initial ? from the query string. </p>

<p>Is it possible to somehow change the querystring options to suit my needs, or is it possible that the request package is not what I want?</p>
",<javascript><node.js><express><npm><http-get>,0.0,0,0,1
10606,10606,40813599,1,0,5509161,0.0,1.0,0.0,0.0,2016-11-25T23:53:41.630,1.0,90.0,no response from express :: npm behind OSX proxy setting,"<p>I've set up osx Proxy with username and password checked the followings: </p>

<ul>
<li>auto proxy discovery</li>
<li>web proxy with ip, port, username, and pass</li>
<li>same for the secure web proxy</li>
</ul>

<p>So far these are what've done: on .npmrc file</p>

<ul>
<li>proxy <a href=""http://username:pass@111.111.1.11:port"" rel=""nofollow noreferrer"">http://username:pass@111.111.1.11:port</a></li>
<li>https-proxy <a href=""http://username:pass@111.111.1.11:port"" rel=""nofollow noreferrer"">http://username:pass@111.111.1.11:port</a></li>
<li>strict-ssl false</li>
</ul>

<p>when I request any get from my node and express app, I get these errors 
Status: 503 Service Unavailable</p>

<p>Header == > </p>

<ul>
<li>Connection →keep-alive </li>
<li>Content-Length →3555 </li>
<li>Content-Type →text/html</li>
<li>Date →Fri, 25 Nov 2016 22:22:05 GMT</li>
<li>Mime-Version →1.0</li>
<li>Server    →squid/3.1.9</li>
<li>X-Squid-Error →ERR_CONNECT_FAIL 101</li>
</ul>

<p>When I go to any websites it works.
When I go to whatsmyip, it shows my proxy ip 
any https and http websites no issues 
BUT I can't get a single request ever since changing my proxy on my osx. </p>

<p>Help and would you be able to explain what is going on?</p>

<p>Thanks in Advance </p>
",<node.js><macos><express><proxy><npm>,0.0,0,0,1
10613,10613,40820626,1,0,4348004,1.0,0.0,0.0,0.0,2016-11-26T16:45:21.760,0.0,565.0,Use npm speaker as output for GridFS download stream - NodeJS,"<p>I am creating a music streaming service using the MEAN stack. So far, I have written code that uploads an mp3 file to my MongoDB database, using GridFS, and I can also download that file to the root folder of my site.</p>

<p>However, I do not want the download stream to write to a file, rather stream to a player/the speakers so that the file is not on the user's system, simply streams from the server. </p>

<p>I have been looking at the npm speaker module, and have attempted to implement it as below:</p>

<pre><code>var assert = require('assert');
var fs = require('fs');
var mongodb = require('mongodb');
var Speaker = require('speaker');

var uri = 'mongodb://localhost:27017/test';

var speaker = new Speaker({
    channels: 2,          // 2 channels
    bitDepth: 16,         // 16-bit samples
    sampleRate: 44100     // 44,100 Hz sample rate
});

mongodb.MongoClient.connect(uri, function(error, db) {
    assert.ifError(error);

    var bucket = new mongodb.GridFSBucket(db, {
        chunkSizeBytes: 1024,
        bucketName: 'songs'
    });

    bucket.openDownloadStreamByName('testmp3.mp3').pipe(speaker)


});
</code></pre>

<p>I'm not sure if I need to implement a buffer to do this. The npm speaker moudule, as far as I am aware, is a writable stream, and so I should be able to pipe to it. </p>

<p>The solution I have above, produces about 30 seconds of static noise, before quitting with the ""Process finished with exit code 132 (interrupted by signal 4: SIGILL)"" error.</p>

<p>I am new to NodeJS etc so any help on this would be very much appreciated. </p>

<p>Thanks</p>
",<node.js><mongodb><express><npm><node-speaker>,0.0,0,0,1
10620,10620,40827399,1,0,7093689,0.0,4.0,0.0,0.0,2016-11-27T09:19:12.063,1.0,124.0,"'npm start' error in ubuntu,but it's ok in windows 7","<p>How can I find the problem and fix it? Here is the error message:</p>

<pre><code>npm ERR! Linux 3.13.0-32-generic
npm ERR! argv ""/usr/local/bin/node"" ""/usr/local/bin/npm"" ""start""
npm ERR! node v6.2.2
npm ERR! npm  v3.9.5
npm ERR! code ELIFECYCLE
npm ERR! aa-server@1.0.0 start: `node ./bin/www`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the aa-server@1.0.0 start script 'node ./bin/www'.
npm ERR! Make sure you have the latest version of node.js and npm installed.
npm ERR! If you do, this is most likely a problem with the aa-server package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     node ./bin/www
npm ERR! You can get information on how to open an issue for this project with:
npm ERR!     npm bugs aa-server
npm ERR! Or if that isn't available, you can get their info via:
npm ERR!     npm owner ls aa-server
npm ERR! There is likely additional logging output above.
npm ERR! Please include the following file with any support request:
npm ERR!     /aa-server/npm-debug.log
</code></pre>
",<node.js><linux><ubuntu><express><npm>,0.0,0,0,1
10627,10627,40840907,1,40842943,7219213,1.0,3.0,0.0,0.0,2016-11-28T09:27:32.623,1.0,845.0,start and stop expressjs app of node.js using php,"<p>I am making a web service. I am using express.js of node.js npm.</p>

<p>To submit this project to my client I need to make a controller file to start and stop the server without using the command prompt in the server.</p>

<p>To start the server, I am using command <code>set DEBUG=myapp:* &amp; npm start</code> because my server is Linux based. </p>

<p>Is there a way to star and stop my server using PHP to avoid  using the command prompt or terminal in server?</p>

<p>I already referred to this <a href=""https://github.com/niutech/node.php"" rel=""nofollow noreferrer"" title=""GitHub Link node.php"">link</a> but I can't understand how to use it for the express.js framework. Using this file I can only run individual node files. I cannot run <code>set DEBUG=myapp:* &amp; npm start</code>  </p>
",<javascript><php><node.js><express><npm>,0.0,0,0,1
10677,10677,40888459,1,40888709,5622475,1.0,0.0,0.0,0.0,2016-11-30T12:31:39.873,1.0,5198.0,Using mongoDB in Express routers,"<p>I am just learning how to use node/express and mongodb, and I am a little confused about pooling connections works. </p>

<p>My strategy right now is to have the database connections at the router level, so each route has its own connection. My code for one of my routes looks like this:</p>

<pre><code>var express = require('express');
var router = express.Router();

var config = require('../config.json');

var url = config.db.URI;

var MongoClient = require('mongodb').MongoClient
    , assert = require('assert');

var db;

// Connect to database
router.all('*', function(req, res, next) {
    console.log('Connecting to db');
    MongoClient.connect(url, function(err, database) {
        assert.equal(null, err);
        db = database;
    });
    next();
});

// GET admin list page
router.get('/', function(req, res, next) {
    res.render('lists/index');
    var coll = db.collection('lists');
    coll.find().each(function(err, obj) {
        console.log(obj);
    });
    next();
});

router.get('/new', function(req, res, next) {
    res.render('lists/new');
    next();
});

router.all('*', function(req, res, next) {
    console.log('Closing database');
    //db.close();
});

module.exports = router;
</code></pre>

<p>I am testing how this view interacts with my database with the two router.all functions wrapping my http requests. In my mind, any time a page in this router is requested, the server should connect to the database, allow the corresponding http request function to access the database (in this case just printing its contents to console), then close it at then end once the http request is done. However, this is not the case. As you can see I've commented out the db.close function as it throws an error saying ""Can't set headers once they are sent"" with it. I assume this means that I don't quite understand the Express route ""pipeline"" and things are not executing in the order I expect them too. </p>

<p>Is there a different router method I should be using? Maybe router.use? Or am I approaching this in the wrong way, should I put my database connection somewhere else?</p>

<p>I am using <a href=""http://blog.mlab.com/2013/11/deep-dive-into-connection-pooling/"" rel=""nofollow noreferrer"">this</a> as a reference somewhat on what is good practice as far as pooling goes, but they don't seem to close the connection? If I don't close the connection I just see my number of mongodb connections go up and up, which I don't think is a good thing. Is it just that you have to find a balance between the number and length of connections?</p>
",<node.js><mongodb><express><npm>,0.0,0,0,1
10754,10754,40987083,1,0,3120659,1.0,2.0,0.0,0.0,2016-12-06T02:58:11.323,1.0,1403.0,Cheerio not found with Webpack within module,"<p>I'm using the <strong>scrape-it</strong> module: <a href=""https://github.com/IonicaBizau/scrape-it"" rel=""nofollow noreferrer"">https://github.com/IonicaBizau/scrape-it</a></p>

<p>I'm trying to bundle my js with <strong>webpack</strong>. However, I'm encountering this error: </p>

<pre><code>ERROR in ./~/scrape-it/~/cheerio/index.js
Module not found: Error: Cannot resolve 'file' or 'directory' ./package in /Users/Spicycurryman/Desktop/Main/styell/node_modules/scrape-it/node_modules/cheerio
resolve file
</code></pre>

<p>Full stack trace:</p>

<pre><code>ERROR in ./~/scrape-it/~/cheerio-req/~/cheerio/index.js
Module not found: Error: Cannot resolve 'file' or 'directory' ./package in /Users/Spicycurryman/Desktop/Main/styell/node_modules/scrape-it/node_modules/cheerio-req/node_modules/cheerio
resolve file
  /Users/Spicycurryman/Desktop/Main/styell/node_modules/scrape-it/node_modules/cheerio-req/node_modules/cheerio/package doesn't exist
  /Users/Spicycurryman/Desktop/Main/styell/node_modules/scrape-it/node_modules/cheerio-req/node_modules/cheerio/package.webpack.js doesn't exist
  /Users/Spicycurryman/Desktop/Main/styell/node_modules/scrape-it/node_modules/cheerio-req/node_modules/cheerio/package.web.js doesn't exist
  /Users/Spicycurryman/Desktop/Main/styell/node_modules/scrape-it/node_modules/cheerio-req/node_modules/cheerio/package.js doesn't exist
resolve directory
  /Users/Spicycurryman/Desktop/Main/styell/node_modules/scrape-it/node_modules/cheerio-req/node_modules/cheerio/package doesn't exist (directory default file)
  /Users/Spicycurryman/Desktop/Main/styell/node_modules/scrape-it/node_modules/cheerio-req/node_modules/cheerio/package/package.json doesn't exist (directory description file)
[/Users/Spicycurryman/Desktop/Main/styell/node_modules/scrape-it/node_modules/cheerio-req/node_modules/cheerio/package]
[/Users/Spicycurryman/Desktop/Main/styell/node_modules/scrape-it/node_modules/cheerio-req/node_modules/cheerio/package.webpack.js]
[/Users/Spicycurryman/Desktop/Main/styell/node_modules/scrape-it/node_modules/cheerio-req/node_modules/cheerio/package.web.js]
[/Users/Spicycurryman/Desktop/Main/styell/node_modules/scrape-it/node_modules/cheerio-req/node_modules/cheerio/package.js]
 @ ./~/scrape-it/~/cheerio-req/~/cheerio/index.js 11:18-38
</code></pre>

<p>I'm kind of confused for why this is occurring since all the appropriate modules exist. <strong>Here's my webpack.config.js file which is probably the source of the issue.</strong> </p>

<pre><code>var webpack = require('webpack');
var path = require('path');
var fs = require('fs');
var request = require('request');
var CaseSensitivePathsPlugin = require('case-sensitive-paths-webpack-plugin');


module.exports = {
    entry: ""./main.js"",
    output: {
        path: __dirname,
        filename: ""bundle.js""
    },
    module: {
    loaders: [
      { test: /\.json$/, loader: 'json-loader' }
        ]
    },
    resolve: {
        extensions: ['', '.webpack.js', '.web.js', '.js']
    },
    node: {
        console: 'empty',
        fs: 'empty',
        net: 'empty',
        tls: 'empty'
    }
}
</code></pre>

<p><strong>Why is this occurring? How can this be resolved?</strong></p>
",<node.js><express><npm><webpack><cheerio>,0.0,1,0,1
10848,10848,41081922,1,41082798,4352150,1.0,0.0,0.0,0.0,2016-12-11T00:52:15.287,1.0,150.0,npm install express isn't working still,"<p>I entered ""sudo npm install -g express-generator"" which threw errors back at me. </p>

<p>I then checked issues like this on Stackoverflow and found none were successful. </p>

<p>The things I tried were:</p>

<p>""sudo chown -R username ~/.npm"" and ""npm cache clean""
but it's throwing an error back:</p>

<pre><code>npm ERR! Darwin 16.1.0
npm ERR! argv ""/usr/local/bin/node"" ""/usr/local/bin/npm"" ""install"" 
""express-generator"" ""-g""
npm ERR! node v6.6.0
npm ERR! npm  v3.10.8
npm ERR! uid must be an unsigned int
npm ERR! 
npm ERR! If you need help, you may report this error at:
npm ERR!     &lt;https://github.com/npm/npm/issues&gt;
npm ERR! Darwin 16.1.0
npm ERR! argv ""/usr/local/bin/node"" ""/usr/local/bin/npm"" ""install"" ""-   g"" ""express-generator""
npm ERR! node v6.6.0
npm ERR! npm  v3.10.8
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
10856,10856,41091487,1,41091807,1800508,1.0,0.0,0.0,0.0,2016-12-11T21:45:38.260,0.0,109.0,Twitter sentiment package issues npm,"<p>I'm trying to build a twitter sentiment analysis tool with Angular, Node and Express. Right now I am able to grab user tweets, remove *some special characters and then when I call the sentiment function it returns input.lowercase is not a function. I tried using the package Sentimental instead and it returned a very similar error. </p>

<pre><code> router.post(""/postUsername"", function(req, res){
  console.log(req.body.userName);
  var client = new Twitter({
    consumer_key: ,
    consumer_secret: '',
    access_token_key: '',
    access_token_secret: ''
  });


  client.get('statuses/user_timeline', {screen_name: req.body.userName, count:20}, function(error, tweets, response) {
    if (!error) {
      var concatenatedTweets = analyzeIt.analyzeIt(tweets);
      console.log(concatenatedTweets);
      var score = sentiment(concatenatedTweets);
      console.log(score);
      }
  });
});
</code></pre>

<p>and my analyze it function *function doesn't work the way I'd wanting to removing things</p>

<pre><code>function analyzeIt(data) {
  return data.map(function(item){
    var puncutaionLess = item.text.replace(""/[.,#!$%^&amp;*;:{}=-_`~()]/g@?"" , '');
    var finalString = puncutaionLess.replace(/\s{2,}/g,"" "");
    return finalString.replace(""#@"" , """");
  });
};
</code></pre>

<p>Any help would very much appreciated?</p>
",<angularjs><node.js><express><npm><sentiment-analysis>,0.0,0,0,1
10857,10857,41092594,1,41093731,7282084,1.0,4.0,0.0,0.0,2016-12-12T00:10:52.730,3.0,11283.0,npm installation error connect ECONNREFUSED 127.0.0.1:8080,"<p>ive just started working on my first node JS app, while trying to install express through npm, i was getting te following error :</p>

<pre><code> Error: connect ECONNREFUSED 127.0.0.1:8080
     at Object.exports._errnoException (util.js:870:11)
     at exports._exceptionWithHostPort (util.js:893:20)
     at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1057:14)
  { [Error: connect ECONNREFUSED 127.0.0.1:8080]
   code: 'ECONNREFUSED',
   errno: 'ECONNREFUSED',
   syscall: 'connect',
   address: '127.0.0.1',
   port: 8080 }
</code></pre>

<p>and at npm-debug :</p>

<pre><code>36 verbose stack Error: connect ECONNREFUSED 127.0.0.1:8080
36 verbose stack     at Object.exports._errnoException (util.js:870:11)
36 verbose stack     at exports._exceptionWithHostPort (util.js:893:20)
36 verbose stack     at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1057:14)
37 verbose cwd C:\APS\NodeJS
38 error Windows_NT 6.1.7601
39 error argv ""C:\\APS\\NodeJS\\node.exe"" ""C:\\APS\\NodeJS\\node_modules\\npm\\bin\\npm-cli.js"" ""install"" ""express""
40 error node v4.4.0
41 error npm  v2.14.20
42 error code ECONNREFUSED
43 error errno ECONNREFUSED
44 error syscall connect
45 error Error: connect ECONNREFUSED 127.0.0.1:8080
45 error     at Object.exports._errnoException (util.js:870:11)
45 error     at exports._exceptionWithHostPort (util.js:893:20)
45 error     at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1057:14)
45 error  { [Error: connect ECONNREFUSED 127.0.0.1:8080]
45 error   code: 'ECONNREFUSED',
45 error   errno: 'ECONNREFUSED',
45 error   syscall: 'connect',
45 error   address: '127.0.0.1',
45 error   port: 8080 }
46 error If you are behind a proxy, please make sure that the
46 error 'proxy' config is set properly.  See: 'npm help config'
47 verbose exit [ 1, true ]
</code></pre>

<p>i looke for tat issue and couldnt find somthing , if anyone that faced such an issue can help ill appriciate it.
TNX</p>
",<node.js><express><npm-install>,1.0,0,0,1
10872,10872,41116192,1,0,4826084,1.0,0.0,0.0,0.0,2016-12-13T08:03:40.003,0.0,127.0,Serve index.html from npm package to be able to split back end and front end into two different npm projects,"<p>I want to split my server code and client code into two different npm packages. So instead of having something that looks like this:</p>

<pre><code>exampleStructure.
|   package.json
|
\---src
    |   index.js
    |
    \---client
        |   index.js
        |
        \---public
                index.html
</code></pre>

<p>I want to have a structure that looks more like this:</p>

<pre><code>exampleStructure.
+---client
|   |   package.json
|   |
|   +---build
|   |   |   index.js
|   |   |
|   |   \---public
|   |           index.html
|   |
|   \---src
|       +---app
|       |       index.js
|       |
|       \---www
|               index.html
|
\---server
    |   package.json
    |
    \---src
            index.js
</code></pre>

<p>In the <code>server</code> project I can have <code>client</code> as a dependency using <code>file:../client</code>, so I don't have to deploy it to npm, and then route it to <code>/*</code> as normal. This way I can separate the building process for the different projects, for example I can have a Typescript project on the back end that is being built with <code>tscomp</code> or <code>Gulp</code> and in the <code>client</code> project I can simply have <code>create-react-app</code>. Then if I want I could also have for example <code>Nodemon</code> watching the server but using <code>React Hot Loader</code> with webpack dev server for the front end. That way I can leverage all the best tools for each project and I don't have to be afraid of removing dependencies when refactoring (for example changing from React to Angular2/Vue/whatnot) and I can easily using different testing frameworks as well.</p>

<p>Now my question is, how do I actually create a package with static assets (like index.html) and serve it in a different package (using ie Node and Express)?</p>
",<node.js><express><npm>,0.0,0,0,1
10952,10952,41224459,1,0,6806646,1.0,0.0,0.0,0.0,2016-12-19T14:11:35.957,0.0,96.0,Does express-handlebars keep its variables hidden from the client after using res.render()?,"<p>I assume all variables and data used to mark up the page which is to be rendered are not sent to the client unless {{}} is used. For example, can you use {{user.name}} without it revealing all the other data associated with the object user? Thank you.</p>
",<node.js><express><npm><handlebars.js>,0.0,0,0,1
11183,11183,41535821,1,0,7391342,1.0,0.0,0.0,0.0,2017-01-08T17:50:24.563,0.0,2616.0,Socket.IO Failed to load resource: the server responded with a status of 404 (Not Found),"<p>To start I'm not a coding expert so excuse me if this was a newbie question.
I have installed a nodejs app into my VPS (digital ocean), after uploading everything (both server side and client side) seem to be running but I'm having an issue.</p>

<p>The dependencies are managed using bower so installed everything in the root directory of Apache server. As I use the ""Inspect Element"" in my browser to see 
the console I get a first error of:</p>

<pre><code>http://104.131.66.68/manager/bower_components/socket.io-client/dist/socket.io.min.js Failed to load resource: 
the server responded with a status of 404 (Not Found)
</code></pre>

<p>I checked the bower_components folder in my server and the folder socket.io-client exists! But when I checked through my browser to see the source files it is not there! Other dependencies are available.</p>

<p>These are the errors that appear, the socket.io error at the top most i suspect the reset are due to the same problem and lastly is the API Key (i intend to handle that after this).</p>

<p><a href=""https://i.stack.imgur.com/VoblP.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/VoblP.png"" alt=""enter image description here""></a></p>

<p>your help is highly appreciated!!
Thank you</p>
",<node.js><sockets><express><web-applications><npm>,0.0,0,0,1
11213,11213,41568851,1,41569142,1543163,1.0,4.0,0.0,0.0,2017-01-10T12:25:58.323,0.0,125.0,Which is the best way to get deployed server version?,"<p>I usually track my server version with the version field of my <code>package.json</code>.</p>

<p>Sometimes it is really useful to have a <code>/version</code> route to rapidly inspect the deployed version. I am thinking about doing this:</p>

<pre><code>app.get('/version', (req, res) =&gt; {
    let pack = require('../package.json');
    res.send(pack.version);
});
</code></pre>

<p>Is there a better way (most clean, cross-platform, simplest, logical)?</p>
",<node.js><express><npm>,0.0,0,0,1
11257,11257,41611989,1,41637461,999857,1.0,5.0,0.0,0.0,2017-01-12T11:24:14.267,0.0,389.0,Why do I have to delete and reinstall all node modules every time I restart my PC?,"<p>Every time I reboot my computer, I have to delete the node_modules folder and re-install using <code>NPM install</code> - is there a way to fix this? </p>

<p>The issue that happens is the webserver refuses to start, saying that there are modules missing - the module it thinks is missing seems to change each time randomly I guess based on whichever it looks for first. Here's an example error message:</p>

<pre><code>[nodemon] starting `node start.js`
module.js:327
    throw err;
    ^

Error: Cannot find module './middleware/query'
    at Function.Module._resolveFilename (module.js:325:15)
    at Function.Module._load (module.js:276:25)
    at Module.require (module.js:353:17)
    at require (internal/module.js:12:17)
    at Object.&lt;anonymous&gt; (D:\GoogleDrive\University\EL600\Code\kentnetmon\node_                                                          modules\express\lib\application.js:20:13)
    at Module._compile (module.js:409:26)
    at Object.Module._extensions..js (module.js:416:10)
    at Module.load (module.js:343:32)
    at Function.Module._load (module.js:300:12)
    at Module.require (module.js:353:17)
    at require (internal/module.js:12:17)
    at Object.&lt;anonymous&gt; (D:\GoogleDrive\University\EL600\Code\kentnetmon\node_                                                          modules\express\lib\express.js:17:13)
    at Module._compile (module.js:409:26)
    at Object.Module._extensions..js (module.js:416:10)
    at Module.load (module.js:343:32)
    at Function.Module._load (module.js:300:12)
[nodemon] app crashed - waiting for file changes before starting...
</code></pre>

<p>This is really annoying and could mean broken or hard-to-install deployed builds.</p>
",<node.js><express><npm>,1.0,0,0,1
11289,11289,41665322,1,41671493,2050155,1.0,0.0,0.0,0.0,2017-01-15T19:21:57.267,0.0,231.0,Use the exact version of lib from NPM,"<p>We use the following lib as dependencies in our project
<a href=""https://github.com/rlidwka/sinopia"" rel=""nofollow noreferrer"">https://github.com/rlidwka/sinopia</a></p>

<p>In this lib the <code>package.json</code> they use express 
<a href=""https://github.com/rlidwka/sinopia/blob/master/package.yaml"" rel=""nofollow noreferrer"">https://github.com/rlidwka/sinopia/blob/master/package.yaml</a></p>

<pre><code>dependencies:
  express: '&gt;=5.0.0-0 &lt;6.0.0-0'
</code></pre>

<p>which is very problematic and we cannot use it since version 5 (5.0.0-alpha.1) is not official outside<br>
<a href=""https://github.com/expressjs/express"" rel=""nofollow noreferrer"">https://github.com/expressjs/express</a>
the npm released version is <code>4.14</code>  my question is the following</p>

<ol>
<li>What is the sense to declare dependencies in this way which is not
released yet?</li>
<li>Is there a way somehow to restricted the version to 4.14 or other 5
version (not alfa version ) without doing fork to this repo ?</li>
</ol>
",<node.js><git><express><npm><shrinkwrap>,0.0,0,0,1
11364,11364,41748227,1,41748266,7326330,2.0,0.0,0.0,0.0,2017-01-19T17:36:55.950,1.0,201.0,"Angular 2, Node js Error npm run server:prod","<p>I have an error trying to run the project in production,</p>

<p>When running npm run build: prod compiles me without errors, but when running npm run server: prod pass this:</p>

<pre><code>C:\Users\Prueba Tecnica\Venfi&gt; npm run server:prod

&gt; venfi@3.3.0 server:prod C:\Users\Prueba Tecnica\Venfi
&gt; http-server dist --cors

events.js:160
  throw er; // Unhandled 'error' event
  ^

Error: listen EADDRINUSE 0.0.0.0:8080
at Object.exports._errnoException (util.js:1026:11)
at exports._exceptionWithHostPort (util.js:1049:20)
at Server._listen2 (net.js:1257:14)
at listen (net.js:1293:10)
at net.js:1403:9
at _combinedTickCallback (internal/process/next_tick.js:77:11)
at process._tickCallback (internal/process/next_tick.js:98:9)
at Module.runMain (module.js:606:11)
at run (bootstrap_node.js:394:7)
at startup (bootstrap_node.js:149:9)

npm ERR! Windows_NT 10.0.14393
npm ERR! argv ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""run"" ""server:prod""
npm ERR! node v6.9.1
npm ERR! npm  v3.10.8
npm ERR! code ELIFECYCLE
npm ERR! venfi@3.3.0 server:prod: `http-server dist --cors`
npm ERR! Exit status 1 
npm ERR!
npm ERR! Failed at the venfi@3.3.0 server:prod script 'http-server dist --cors'.
npm ERR! Make sure you have the latest version of node.js and npm installed.
npm ERR! If you do, this is most likely a problem with the venfi package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     http-server dist --cors
npm ERR! You can get information on how to open an issue for this project with:
npm ERR!     npm bugs venfi
npm ERR! Or if that isn't available, you can get their info via:
npm ERR!     npm owner ls venfi
npm ERR! There is likely additional logging output above.

npm ERR! Please include the following file with any support request:
npm ERR!     C:\Users\Prueba Tecnica\Venfi\npm-debug.log
</code></pre>

<p>Thanks for your help.</p>
",<javascript><node.js><angular><express><npm>,1.0,0,0,1
11417,11417,41806587,1,41807038,7457663,1.0,2.0,0.0,0.0,2017-01-23T12:37:21.077,0.0,85.0,"how to get length of couch.get(data,headers,status)","<p>I tried to create nodejs with expressjs by connecting to couchdb . For that I have used nodejs-couch installed using npm. </p>

<pre><code>app.get('/', function(req, res) {
  couch
    .get(dbName, viewUrl)
    .then(
      function(data, headers, status) {
        console.log(data.length);
        var data1 = data.data.rows;
        console.log(data1);
        res.send(data1.length);
      },
      function(err) {
        res.send(err);
      }
    );
});
</code></pre>

<p>my json data :</p>

<pre><code>[
  {
    ""id"": ""7a6a4d9cf76efc00977ca63ca3002a31"",
    ""key"": ""7a6a4d9cf76efc00977ca63ca3002a31"",
    ""value"": {
      ""name"": ""nagarjuna"",
      ""email"": ""nagarjuna@gmail.com"",
      ""password"": ""12345"",
      ""mobile"": ""987654321"",
      ""rev"": ""8-c90103f1fca709ae314a684c767c97dc""
    }
  },
  {
    ""id"": ""7a6a4d9cf76efc00977ca63ca3003743"",
    ""key"": ""7a6a4d9cf76efc00977ca63ca3003743"",
    ""value"": {
      ""name"": ""sandeep"",
      ""email"": ""sandeep@gmail.com"",
      ""password"": ""54321"",
      ""mobile"": ""9876541"",
      ""rev"": ""1-fd6e667b87794adea78e169bc46016e6""
    }
  }
]
</code></pre>

<p>I had written get function to fetch all customer information. If I print <code>console.log(data.data.rows);</code> I am able fetch json data. But I want to get length and attribute values from json. But when I print <code>console.log(data.length);</code> it getting <code>undefined</code>.</p>

<p>Can any one suggest me. Any suggestions would be appreciated. </p>
",<json><node.js><express><npm><couchdb>,0.0,0,0,1
11464,11464,41860641,1,0,999857,1.0,0.0,0.0,0.0,2017-01-25T20:02:59.530,0.0,193.0,Allow users to set up schedule for server-side scripts to run in Node,"<p>I'm creating a project in Node &amp; Express that allows users to schedule the server to run test scripts e.g. once every ten minutes. I looked into <a href=""https://www.npmjs.com/package/node-schedule"" rel=""nofollow noreferrer"">node-schedule</a> which looks great however it seems that all scheduled tasks disappear if the server ever restarts Node. </p>

<p><a href=""https://www.npmjs.com/package/cron"" rel=""nofollow noreferrer"">Cron</a> looks good too but it has the problem that it doesn't seem to have a way to delete scheduled tasks after they have been set up.</p>

<p>If you were doing this, how would you go about it? I really don't want anything that's going to be complex, just need to schedule tasks, be able to delete individual tasks, and keep tasks in the event of a server reboot.</p>
",<node.js><express><npm><cron><scheduled-tasks>,0.0,0,0,1
11469,11469,41873043,1,0,7473492,1.0,1.0,0.0,0.0,2017-01-26T12:03:25.497,1.0,283.0,Angular2 - npm Start Error on Windows 7,"<p>I am new to angular and I have been trying to learn more about angular2. I have followed the getting started guide to create the angular2-quickstart project. However when I am running the command npm start, the browser start but everything fails after 1 second. Below is the content of my npm error log file:</p>

<pre><code>ramesh@ramesh-PC MINGW32 /c/Projects/quickstart (master)
$ node --version
v7.4.0

ramesh@ramesh-PC MINGW32 /c/Projects/quickstart (master)
$ npm --version
4.1.1

$ npm start

&gt; angular-quickstart@1.0.0 start C:\Projects\quickstart
&gt; tsc &amp;&amp; concurrently ""tsc -w"" ""lite-server""

node_modules_rr/karma/config.tpl.ts(13,18): error TS1109: Expression expected.
node_modules_rr/karma/config.tpl.ts(13,30): error TS1109: Expression expected.
node_modules_rr/karma/config.tpl.ts(17,13): error TS1109: Expression expected.
node_modules_rr/karma/config.tpl.ts(18,5): error TS1109: Expression expected.
node_modules_rr/karma/config.tpl.ts(22,15): error TS1109: Expression expected.
node_modules_rr/karma/config.tpl.ts(23,5): error TS1109: Expression expected.
node_modules_rr/karma/config.tpl.ts(28,20): error TS1109: Expression expected.
node_modules_rr/karma/config.tpl.ts(28,35): error TS1109: Expression expected.
node_modules_rr/karma/config.tpl.ts(51,16): error TS1109: Expression expected.
node_modules_rr/karma/config.tpl.ts(51,28): error TS1109: Expression expected.
node_modules_rr/karma/config.tpl.ts(56,16): error TS1109: Expression expected.
node_modules_rr/karma/config.tpl.ts(56,26): error TS1109: Expression expected.

npm ERR! Windows_NT 6.1.7600
npm ERR! argv ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Users\\ramesh\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js"" ""start""
npm ERR! node v7.4.0
npm ERR! npm  v4.1.1
npm ERR! code ELIFECYCLE
npm ERR! angular-quickstart@1.0.0 start: `tsc &amp;&amp; concurrently ""tsc -w"" ""lite-server"" `
npm ERR! Exit status 2
npm ERR!
npm ERR! Failed at the angular-quickstart@1.0.0 start script 'tsc &amp;&amp; concurrently ""tsc -w"" ""lite-server"" '.
npm ERR! Make sure you have the latest version of node.js and npm installed.
npm ERR! If you do, this is most likely a problem with the angular-quickstart package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     tsc &amp;&amp; concurrently ""tsc -w"" ""lite-server""
npm ERR! You can get information on how to open an issue for this project with:
npm ERR!     npm bugs angular-quickstart
npm ERR! Or if that isn't available, you can get their info via:
npm ERR!     npm owner ls angular-quickstart
npm ERR! There is likely additional logging output above.

npm ERR! Please include the following file with any support request:
npm ERR!     C:\Projects\quickstart\npm-debug.log
</code></pre>

<p>Thank you.</p>
",<node.js><angular><ubuntu><express><npm>,0.0,0,0,1
11534,11534,41960865,1,0,0,1.0,0.0,0.0,0.0,2017-01-31T15:05:51.860,0.0,43.0,Including a function in async series,"<p>I am using <a href=""https://github.com/ttezel/twit"" rel=""nofollow noreferrer""><code>twit</code></a> package.
The <code>twit.get</code> function should return data which will be used to insert data in table.</p>

<p>How do I include <code>twit.get</code> in <code>async</code> tasks as a function?</p>

<pre><code>  var tweet=new twit(config);
  var asyncTasks = [];       
  var responseObj = {};
  asyncTasks.push(insertTweets.bind(null,10476462));


  async.series(asyncTasks, function(error){
    if(error){

    }
    res.send(response);
  })


tweet.get('statuses/user_timeline', { screen_name:'adamdangelo', count: 10}, function(err, data, response) {
cosole.log(data);
})


 function insertTweets(userId,cb){
  for(var i=0;i&lt;data.length;i++){

     var t={user_id:10476462, tweet_id:i,tweet: data[i].text};

     con.query(""INSERT INTO `tweets` SET ?"",t,
      function(err,data,response){
         if(err){console.log('Error in inserting'+err); return err;}
            console.log('Tweets inserted');
         })
      }    
   }
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
11551,11551,41970076,1,0,6056007,1.0,0.0,0.0,0.0,2017-02-01T00:40:38.013,1.0,712.0,Error while installing express using npm install command,"<p>What should I need to change in node version or is their any issue in npm install </p>

<p><strong>node version</strong>
v7.4.0</p>

<p><strong>npm -v</strong>
4.0.5</p>

<p><strong>Package.json contains</strong></p>

<pre><code>{
  ""name"": ""bookstore"",
  ""version"": ""1.0.0"",
  ""description"": ""Simple Bookstore app"",
  ""main"": ""app.js"",
  ""scripts"": {
    ""test"": ""echo \""Error: no test specified\"" &amp;&amp; exit 1""
  },
  ""dependencies"":{
    ""express"":""*"",
    ""body-parses"":""*"",
    ""mongoose"":""*""
  },
  ""author"": ""shraddha gajjar"",
  ""license"": ""ISC""
}
</code></pre>

<p>**npm install after updating package.json **</p>

<pre><code>npm ERR! Windows_NT 10.0.14393
npm ERR! argv ""C:\\nodejs\\node.exe"" ""C:\\nodejs\\node_modules\\npm\\bin\\npm-cli                          .js"" ""install""
npm ERR! node v7.4.0
npm ERR! npm  v4.0.5
npm ERR! code ECONNRESET

npm ERR! network tunneling socket could not be established, cause=getaddrinfo ENO                          TFOUND my.proxyserver.com my.proxyserver.com:8080
npm ERR! network This is most likely not a problem with npm itself
npm ERR! network and is related to network connectivity.
npm ERR! network In most cases you are behind a proxy or have bad network setting                          s.
npm ERR! network
npm ERR! network If you are behind a proxy, please make sure that the
npm ERR! network 'proxy' config is set properly.  See: 'npm help config'

npm ERR! Please include the following file with any support request:
</code></pre>

<p><strong>npm-debug.log contains this</strong></p>

<pre><code>0 info it worked if it ends with ok
1 verbose cli [ 'C:\\nodejs\\node.exe',
1 verbose cli   'C:\\nodejs\\node_modules\\npm\\bin\\npm-cli.js',
1 verbose cli   'install' ]
2 info using npm@4.0.5
3 info using node@v7.4.0
4 silly loadCurrentTree Starting
5 silly install loadCurrentTree
6 silly install readLocalPackageData
7 silly install normalizeTree
8 silly loadCurrentTree Finishing
9 silly loadIdealTree Starting
10 silly install loadIdealTree
11 silly cloneCurrentTree Starting
12 silly install cloneCurrentTreeToIdealTree
13 silly cloneCurrentTree Finishing
14 silly loadShrinkwrap Starting
15 silly install loadShrinkwrap
16 silly loadShrinkwrap Finishing
17 silly loadAllDepsIntoIdealTree Starting
18 silly install loadAllDepsIntoIdealTree
19 silly fetchNamedPackageData express
20 silly mapToRegistry name express
21 silly mapToRegistry using default registry
22 silly mapToRegistry registry https://registry.npmjs.org/
23 silly mapToRegistry data Result {
23 silly mapToRegistry   raw: 'express',
23 silly mapToRegistry   scope: null,
23 silly mapToRegistry   escapedName: 'express',
23 silly mapToRegistry   name: 'express',
23 silly mapToRegistry   rawSpec: '',
23 silly mapToRegistry   spec: 'latest',
23 silly mapToRegistry   type: 'tag' }
24 silly mapToRegistry uri https://registry.npmjs.org/express
25 silly fetchNamedPackageData body-parses
26 silly mapToRegistry name body-parses
27 silly mapToRegistry using default registry
28 silly mapToRegistry registry https://registry.npmjs.org/
29 silly mapToRegistry data Result {
29 silly mapToRegistry   raw: 'body-parses',
29 silly mapToRegistry   scope: null,
29 silly mapToRegistry   escapedName: 'body-parses',
29 silly mapToRegistry   name: 'body-parses',
29 silly mapToRegistry   rawSpec: '',
29 silly mapToRegistry   spec: 'latest',
29 silly mapToRegistry   type: 'tag' }
30 silly mapToRegistry uri https://registry.npmjs.org/body-parses
31 silly fetchNamedPackageData mongoose
32 silly mapToRegistry name mongoose
33 silly mapToRegistry using default registry
34 silly mapToRegistry registry https://registry.npmjs.org/
35 silly mapToRegistry data Result {
35 silly mapToRegistry   raw: 'mongoose',
35 silly mapToRegistry   scope: null,
35 silly mapToRegistry   escapedName: 'mongoose',
35 silly mapToRegistry   name: 'mongoose',
35 silly mapToRegistry   rawSpec: '',
35 silly mapToRegistry   spec: 'latest',
35 silly mapToRegistry   type: 'tag' }
36 silly mapToRegistry uri https://registry.npmjs.org/mongoose
37 verbose request uri https://registry.npmjs.org/body-parses
38 verbose request no auth needed
39 info attempt registry request try #1 at 4:09:58 PM
40 verbose request id 4a1bc2d02cb1e1b0
41 http request GET https://registry.npmjs.org/body-parses
42 verbose request uri https://registry.npmjs.org/mongoose
43 verbose request no auth needed
44 info attempt registry request try #1 at 4:09:58 PM
45 http request GET https://registry.npmjs.org/mongoose
46 info retry will retry, error on last attempt: Error: tunneling socket could not be established, cause=getaddrinfo ENOTFOUND my.proxyserver.com my.proxyserver.com:8080
47 info retry will retry, error on last attempt: Error: tunneling socket could not be established, cause=getaddrinfo ENOTFOUND my.proxyserver.com my.proxyserver.com:8080
48 verbose request uri https://registry.npmjs.org/express
49 verbose request no auth needed
50 info attempt registry request try #1 at 4:09:58 PM
51 verbose etag ""10J3I4BR36A96WY35G7X5YW6E""
52 http request GET https://registry.npmjs.org/express
53 info retry will retry, error on last attempt: Error: tunneling socket could not be established, cause=getaddrinfo ENOTFOUND my.proxyserver.com my.proxyserver.com:8080
54 info attempt registry request try #2 at 4:10:08 PM
55 http request GET https://registry.npmjs.org/body-parses
56 info attempt registry request try #2 at 4:10:08 PM
57 http request GET https://registry.npmjs.org/mongoose
58 info retry will retry, error on last attempt: Error: tunneling socket could not be established, cause=getaddrinfo ENOTFOUND my.proxyserver.com my.proxyserver.com:8080
59 info retry will retry, error on last attempt: Error: tunneling socket could not be established, cause=getaddrinfo ENOTFOUND my.proxyserver.com my.proxyserver.com:8080
60 info attempt registry request try #2 at 4:10:08 PM
61 verbose etag ""10J3I4BR36A96WY35G7X5YW6E""
62 http request GET https://registry.npmjs.org/express
63 info retry will retry, error on last attempt: Error: tunneling socket could not be established, cause=getaddrinfo ENOTFOUND my.proxyserver.com my.proxyserver.com:8080
64 info attempt registry request try #3 at 4:11:08 PM
65 http request GET https://registry.npmjs.org/body-parses
66 info attempt registry request try #3 at 4:11:08 PM
67 http request GET https://registry.npmjs.org/mongoose
68 silly fetchPackageMetaData Error: tunneling socket could not be established, cause=getaddrinfo ENOTFOUND my.proxyserver.com my.proxyserver.com:8080
68 silly fetchPackageMetaData     at ClientRequest.onError (C:\nodejs\node_modules\npm\node_modules\request\node_modules\tunnel-agent\index.js:176:17)
68 silly fetchPackageMetaData     at Object.onceWrapper (events.js:290:19)
68 silly fetchPackageMetaData     at emitOne (events.js:96:13)
68 silly fetchPackageMetaData     at ClientRequest.emit (events.js:188:7)
68 silly fetchPackageMetaData     at Socket.socketErrorListener (_http_client.js:309:9)
68 silly fetchPackageMetaData     at emitOne (events.js:96:13)
68 silly fetchPackageMetaData     at Socket.emit (events.js:188:7)
68 silly fetchPackageMetaData     at connectErrorNT (net.js:1025:8)
68 silly fetchPackageMetaData     at _combinedTickCallback (internal/process/next_tick.js:74:11)
68 silly fetchPackageMetaData     at process._tickCallback (internal/process/next_tick.js:98:9)
68 silly fetchPackageMetaData  error for body-parses@* { Error: tunneling socket could not be established, cause=getaddrinfo ENOTFOUND my.proxyserver.com my.proxyserver.com:8080
68 silly fetchPackageMetaData     at ClientRequest.onError (C:\nodejs\node_modules\npm\node_modules\request\node_modules\tunnel-agent\index.js:176:17)
68 silly fetchPackageMetaData     at Object.onceWrapper (events.js:290:19)
68 silly fetchPackageMetaData     at emitOne (events.js:96:13)
68 silly fetchPackageMetaData     at ClientRequest.emit (events.js:188:7)
68 silly fetchPackageMetaData     at Socket.socketErrorListener (_http_client.js:309:9)
68 silly fetchPackageMetaData     at emitOne (events.js:96:13)
68 silly fetchPackageMetaData     at Socket.emit (events.js:188:7)
68 silly fetchPackageMetaData     at connectErrorNT (net.js:1025:8)
68 silly fetchPackageMetaData     at _combinedTickCallback (internal/process/next_tick.js:74:11)
68 silly fetchPackageMetaData     at process._tickCallback (internal/process/next_tick.js:98:9) code: 'ECONNRESET' }
69 silly fetchPackageMetaData Error: tunneling socket could not be established, cause=getaddrinfo ENOTFOUND my.proxyserver.com my.proxyserver.com:8080
69 silly fetchPackageMetaData     at ClientRequest.onError (C:\nodejs\node_modules\npm\node_modules\request\node_modules\tunnel-agent\index.js:176:17)
69 silly fetchPackageMetaData     at Object.onceWrapper (events.js:290:19)
69 silly fetchPackageMetaData     at emitOne (events.js:96:13)
69 silly fetchPackageMetaData     at ClientRequest.emit (events.js:188:7)
69 silly fetchPackageMetaData     at Socket.socketErrorListener (_http_client.js:309:9)
69 silly fetchPackageMetaData     at emitOne (events.js:96:13)
69 silly fetchPackageMetaData     at Socket.emit (events.js:188:7)
69 silly fetchPackageMetaData     at connectErrorNT (net.js:1025:8)
69 silly fetchPackageMetaData     at _combinedTickCallback (internal/process/next_tick.js:74:11)
69 silly fetchPackageMetaData     at process._tickCallback (internal/process/next_tick.js:98:9)
69 silly fetchPackageMetaData  error for mongoose@* { Error: tunneling socket could not be established, cause=getaddrinfo ENOTFOUND my.proxyserver.com my.proxyserver.com:8080
69 silly fetchPackageMetaData     at ClientRequest.onError (C:\nodejs\node_modules\npm\node_modules\request\node_modules\tunnel-agent\index.js:176:17)
69 silly fetchPackageMetaData     at Object.onceWrapper (events.js:290:19)
69 silly fetchPackageMetaData     at emitOne (events.js:96:13)
69 silly fetchPackageMetaData     at ClientRequest.emit (events.js:188:7)
69 silly fetchPackageMetaData     at Socket.socketErrorListener (_http_client.js:309:9)
69 silly fetchPackageMetaData     at emitOne (events.js:96:13)
69 silly fetchPackageMetaData     at Socket.emit (events.js:188:7)
69 silly fetchPackageMetaData     at connectErrorNT (net.js:1025:8)
69 silly fetchPackageMetaData     at _combinedTickCallback (internal/process/next_tick.js:74:11)
69 silly fetchPackageMetaData     at process._tickCallback (internal/process/next_tick.js:98:9) code: 'ECONNRESET' }
70 info attempt registry request try #3 at 4:11:08 PM
71 verbose etag ""10J3I4BR36A96WY35G7X5YW6E""
72 http request GET https://registry.npmjs.org/express
73 silly get cb [ 304, undefined ]
74 verbose etag https://registry.npmjs.org/express from cache
75 verbose get saving express to C:\Users\shraddha\AppData\Roaming\npm-cache\registry.npmjs.org\express\.cache.json
76 verbose correctMkdir C:\Users\shraddha\AppData\Roaming\npm-cache correctMkdir not in flight; initializing
77 silly resolveWithNewModule express@4.14.0 checking installable status
78 silly cache add args [ 'express@*', null ]
79 verbose cache add spec express@*
80 silly cache add parsed spec Result {
80 silly cache add   raw: 'express@*',
80 silly cache add   scope: null,
80 silly cache add   escapedName: 'express',
80 silly cache add   name: 'express',
80 silly cache add   rawSpec: '*',
80 silly cache add   spec: '*',
80 silly cache add   type: 'range' }
81 silly addNamed express@*
82 verbose addNamed ""*"" is a valid semver range for express
83 silly addNameRange { name: 'express', range: '*', hasData: false }
84 silly mapToRegistry name express
85 silly mapToRegistry using default registry
86 silly mapToRegistry registry https://registry.npmjs.org/
87 silly mapToRegistry data Result {
87 silly mapToRegistry   raw: 'express',
87 silly mapToRegistry   scope: null,
87 silly mapToRegistry   escapedName: 'express',
87 silly mapToRegistry   name: 'express',
87 silly mapToRegistry   rawSpec: '',
87 silly mapToRegistry   spec: 'latest',
87 silly mapToRegistry   type: 'tag' }
88 silly mapToRegistry uri https://registry.npmjs.org/express
89 verbose addNameRange registry:https://registry.npmjs.org/express not in flight; fetching
90 verbose get https://registry.npmjs.org/express not expired, no request
91 silly addNameRange number 2 { name: 'express', range: '*', hasData: true }
92 silly addNameRange versions [ 'express',
92 silly addNameRange   [ '0.14.0',
92 silly addNameRange     '0.14.1',
92 silly addNameRange     '1.0.0',
92 silly addNameRange     '1.0.1',
92 silly addNameRange     '1.0.2',
92 silly addNameRange     '1.0.3',
92 silly addNameRange     '1.0.4',
92 silly addNameRange     '1.0.5',
92 silly addNameRange     '1.0.6',
92 silly addNameRange     '1.0.7',
92 silly addNameRange     '1.0.8',
92 silly addNameRange     '2.0.0',
92 silly addNameRange     '2.1.0',
92 silly addNameRange     '2.1.1',
92 silly addNameRange     '2.2.0',
92 silly addNameRange     '2.2.1',
92 silly addNameRange     '2.2.2',
92 silly addNameRange     '2.3.0',
92 silly addNameRange     '2.3.1',
92 silly addNameRange     '2.3.2',
92 silly addNameRange     '2.3.3',
92 silly addNameRange     '2.3.4',
92 silly addNameRange     '2.3.5',
92 silly addNameRange     '2.3.6',
92 silly addNameRange     '2.3.7',
92 silly addNameRange     '2.3.8',
92 silly addNameRange     '2.3.9',
92 silly addNameRange     '2.3.10',
92 silly addNameRange     '2.3.11',
92 silly addNameRange     '2.3.12',
92 silly addNameRange     '2.4.0',
92 silly addNameRange     '2.4.1',
92 silly addNameRange     '2.4.2',
92 silly addNameRange     '2.4.3',
92 silly addNameRange     '2.4.4',
92 silly addNameRange     '2.4.5',
92 silly addNameRange     '2.4.6',
92 silly addNameRange     '2.4.7',
92 silly addNameRange     '2.5.0',
92 silly addNameRange     '2.5.1',
92 silly addNameRange     '2.5.2',
92 silly addNameRange     '2.5.3',
92 silly addNameRange     '2.5.4',
92 silly addNameRange     '2.5.5',
92 silly addNameRange     '2.5.6',
92 silly addNameRange     '2.5.7',
92 silly addNameRange     '2.5.8',
92 silly addNameRange     '2.5.9',
92 silly addNameRange     '2.5.10',
92 silly addNameRange     '2.5.11',
92 silly addNameRange     '3.0.0',
92 silly addNameRange     '3.0.1',
92 silly addNameRange     '3.0.2',
92 silly addNameRange     '3.0.3',
92 silly addNameRange     '3.0.4',
92 silly addNameRange     '3.0.5',
92 silly addNameRange     '3.0.6',
92 silly addNameRange     '3.1.0',
92 silly addNameRange     '3.1.1',
92 silly addNameRange     '3.1.2',
92 silly addNameRange     '3.2.0',
92 silly addNameRange     '3.2.1',
92 silly addNameRange     '3.2.2',
92 silly addNameRange     '3.2.3',
92 silly addNameRange     '3.2.4',
92 silly addNameRange     '3.2.5',
92 silly addNameRange     '3.2.6',
92 silly addNameRange     '3.3.0',
92 silly addNameRange     '3.3.1',
92 silly addNameRange     '3.3.2',
92 silly addNameRange     '3.3.3',
92 silly addNameRange     '3.3.4',
92 silly addNameRange     '3.3.5',
92 silly addNameRange     '3.3.6',
92 silly addNameRange     '1.0.0-beta',
92 silly addNameRange     '1.0.0-beta2',
92 silly addNameRange     '1.0.0-rc',
92 silly addNameRange     '1.0.0-rc2',
92 silly addNameRange     '1.0.0-rc3',
92 silly addNameRange     '1.0.0-rc4',
92 silly addNameRange     '2.0.0-beta',
92 silly addNameRange     '2.0.0-beta2',
92 silly addNameRange     '2.0.0-beta3',
92 silly addNameRange     '2.0.0-rc',
92 silly addNameRange     '2.0.0-rc2',
92 silly addNameRange     '2.0.0-rc3',
92 silly addNameRange     '3.0.0-alpha1',
92 silly addNameRange     '3.0.0-alpha2',
92 silly addNameRange     '3.0.0-alpha3',
92 silly addNameRange     '3.0.0-alpha4',
92 silly addNameRange     '3.0.0-alpha5',
92 silly addNameRange     '3.0.0-beta1',
92 silly addNameRange     '3.0.0-beta2',
92 silly addNameRange     '3.0.0-beta3',
92 silly addNameRange     '3.0.0-beta4',
92 silly addNameRange     '3.0.0-beta6',
92 silly addNameRange     '3.0.0-beta7',
92 silly addNameRange     '3.0.0-rc1',
92 silly addNameRange     '3.0.0-rc2',
92 silly addNameRange     '3.0.0-rc3',
92 silly addNameRange     ... 144 more items ] ]
93 silly addNamed express@4.14.0
94 verbose addNamed ""4.14.0"" is a plain semver version for express
95 silly cache afterAdd express@4.14.0
96 verbose afterAdd C:\Users\shraddha\AppData\Roaming\npm-cache\express\4.14.0\package\package.json not in flight; writing
97 verbose correctMkdir C:\Users\shraddha\AppData\Roaming\npm-cache correctMkdir not in flight; initializing
98 verbose afterAdd C:\Users\shraddha\AppData\Roaming\npm-cache\express\4.14.0\package\package.json written
99 silly rollbackFailedOptional Starting
100 silly rollbackFailedOptional Finishing
101 silly runTopLevelLifecycles Finishing
102 silly install printInstalled
103 verbose stack Error: tunneling socket could not be established, cause=getaddrinfo ENOTFOUND my.proxyserver.com my.proxyserver.com:8080
103 verbose stack     at ClientRequest.onError (C:\nodejs\node_modules\npm\node_modules\request\node_modules\tunnel-agent\index.js:176:17)
103 verbose stack     at Object.onceWrapper (events.js:290:19)
103 verbose stack     at emitOne (events.js:96:13)
103 verbose stack     at ClientRequest.emit (events.js:188:7)
103 verbose stack     at Socket.socketErrorListener (_http_client.js:309:9)
103 verbose stack     at emitOne (events.js:96:13)
103 verbose stack     at Socket.emit (events.js:188:7)
103 verbose stack     at connectErrorNT (net.js:1025:8)
103 verbose stack     at _combinedTickCallback (internal/process/next_tick.js:74:11)
103 verbose stack     at process._tickCallback (internal/process/next_tick.js:98:9)
104 verbose cwd C:\Users\shraddha\Desktop\Umang Sir\NodeWork\BookStore
105 error Windows_NT 10.0.14393
106 error argv ""C:\\nodejs\\node.exe"" ""C:\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""install""
107 error node v7.4.0
108 error npm  v4.0.5
109 error code ECONNRESET
110 error network tunneling socket could not be established, cause=getaddrinfo ENOTFOUND my.proxyserver.com my.proxyserver.com:8080
111 error network This is most likely not a problem with npm itself
111 error network and is related to network connectivity.
111 error network In most cases you are behind a proxy or have bad network settings.
111 error network
111 error network If you are behind a proxy, please make sure that the
111 error network 'proxy' config is set properly.  See: 'npm help config'
112 verbose exit [ 1, true ]
</code></pre>
",<node.js><express><npm><npm-install>,0.0,0,0,1
11600,11600,42029081,1,0,4110635,2.0,4.0,0.0,0.0,2017-02-03T16:47:52.623,0.0,5241.0,"MYSQL Database not connecting, Node.JS, NPM MYSQL","<p>I'm trying to connect to a MYSQL database using the npm MYSQL library(<a href=""https://www.npmjs.com/package/mysql"" rel=""nofollow noreferrer"">https://www.npmjs.com/package/mysql</a>), but I'm getting a error that the server can't be connected to. When I go into the server, I can see the DB, and I validated my credentials and they're valid. My app lives on our seperate server with IP address ending in 123.75, while the DB is on 123.74. I'm using a route I setup on Express to call the DB. I've listed the Express &amp; NPM MYSQL code below (credentials redacted), along with the error I'm receiving. </p>

<p>NPM MYSQL:</p>

<pre><code> const config = sql.createConnection( {
    host: '123.74:3306',
    user: 'root',
    pass: '****',
    database: '****'
});
</code></pre>

<p>Express Route:</p>

<pre><code>app.use('/t',function(req,res){
      config.connect(function(err){
          if (err){
              res.send(err);
              return;
          }
          res.send('connected');
      });
      config.end();

  });
</code></pre>

<p>Error:</p>

<pre><code>{""code"":""ENOTFOUND"",""errno"":""ENOTFOUND"",""syscall"":""getaddrinfo"",""hostname"":""123.74:3306"",""host"":""123.74:3306"",""port"":3306,""fatal"":true}
</code></pre>

<p>Update:</p>

<p>I found the issue in the library, and posted a solution. </p>
",<mysql><node.js><express><npm>,0.0,0,0,1
11604,11604,42034062,1,42034580,7049870,1.0,0.0,0.0,0.0,2017-02-03T22:32:58.267,0.0,267.0,express static path not available to passport.js,"<p>I am a newb here, so go easy on me. 
I have the following server.js:</p>

<pre><code>var express = require('express');
var app = express();
var path = require('path');

var port = process.env.PORT || 3001;
var cookieParser = require(""cookie-parser"");
var session = require('express-session');
var morgan = require(""morgan"");
var mongoose = require(""mongoose"");
var bodyParser = require(""body-parser"");
var passport = require(""passport"");
var flash = require(""connect-flash"");

app.use('/bower_components',  express.static(__dirname + '/bower_components'));
app.use('./config/auth',  express.static(__dirname + './config/auth'));
app.use('/app',  express.static(__dirname + '/app'));
app.set('views', __dirname + '/dist/views');
app.set('view engine', 'jade');

require('./config/passport')(passport);
app.use(morgan('dev'));
app.use(cookieParser());
app.use(bodyParser.urlencoded({extended:false}));
app.use(session({secret: 'anystringoftext',
                saveUninitialized: true,
                resave: true}));

app.use(passport.initialize());
app.use(passport.session());
app.use(flash());
app.use(express.static(__dirname + '/dist')); 

//app.use(express.static(path.join(__dirname, '/*')));
require('./app/routes.js')(app, passport);

app.listen(port);
console.log('server running on port:'+port);
</code></pre>

<p>I am trying to get passport to work with google authentication:</p>

<pre><code>var GoogleStrategy = require('passport-google-oauth').OAuth2Strategy;
var User = require('../app/models/user');
var configAuth = require('./config/auth');
module.exports = function(passport){
    passport.serializeUser(function(user, done){
        done(null, user.id);
    });
    passport.deserializeUser(function(id, done){
        User.findById(id, function(err, user){
            done(err, user);
        })
    });
    passport.use(new GoogleStrategy({
        clientID: configAuth.googleAuth.clientID,
        clientSecret: configAuth.googleAuth.clientSecret,
        callbackURL: configAuth.googleAuth.callbackURL
    }, function(accessToken, refreshToken, profile, done) {
        process.nextTick(function(){
            User.findOne({'google.id': profile.id}, function(err, user){
                if(err)
                    return done(err);
                if(user)
                    return done(null, user);
                else {
                    var newUser = new User();
                    newUser.google.id = profile.id;
                    newUser.google.token = accessToken;
                    newUser.google.name = profile.displayName;
                    newUser.google.email = profile.emails[0].value;

                    newUser.save(function(err){
                        if(err)
                            throw err;
                        return done(null, newUser);
                    })
                    console.log(profile);
                }
            });
        });
    }

   ));
}
</code></pre>

<p>and I am getting the following errors:</p>

<blockquote>
  <p>Error: Cannot find module './config/auth'
      at Function.Module._resolveFilename (module.js:325:15)
      at Function.Module._load (module.js:276:25)
      at Module.require (module.js:353:17)
      at require (internal/module.js:12:17)
      at Object. (/Users/toddcoulson/Documents/PTO/config/passport.js:3:18)
      at Module._compile (module.js:409:26)
      at Object.Module._extensions..js (module.js:416:10)
      at Module.load (module.js:343:32)
      at Function.Module._load (module.js:300:12)
      at Module.require (module.js:353:17)
      at require (internal/module.js:12:17)
      at Object. (/Users/toddcoulson/Documents/PTO/server.js:20:1)
      at Module._compile (module.js:409:26)
      at Object.Module._extensions..js (module.js:416:10)
      at Module.load (module.js:343:32)
      at Function.Module._load (module.js:300:12)</p>
</blockquote>

<p>I have tried calling ./config/auth, /config/auth, /config, many different combinations, but it doesn't seem to be getting the config auth file read in. Any ideas on what I am missing? 
I have been following code from here: 
<a href=""https://github.com/BrentAureli/Youtube-Tutorials/tree/master/NodeJS%20Tutorials/Tutorial%2011%20-%20Google%20OAuth"" rel=""nofollow noreferrer"">https://github.com/BrentAureli/Youtube-Tutorials/tree/master/NodeJS%20Tutorials/Tutorial%2011%20-%20Google%20OAuth</a>
but I don't think that is exactly my situation because I added browser-sync in with express, and got that working. So I am not sure if browser-sync has anything to do with this, but I thought I would add that. Thanks in advance for any help. 
In terms of folder structure all of my static files are in /dist, and on the same level as server.js I have a folder app and a folder config. </p>
",<express><npm><browser-sync>,1.0,0,0,1
11654,11654,42093672,1,0,7529603,1.0,0.0,0.0,0.0,2017-02-07T15:29:25.907,0.0,2210.0,How to write a wrapper class in express js,"<p>I writing simple wrap app that one get the a)Request Date &amp; Time of the user request
b)Request URL.
c)Response Time.</p>

<p>This is How to wrap the express js</p>

<pre><code>var express = require('express');
var app = express();

var appget = app.get;

(function() {

app.get = function() {

  var start = new Date();

  console.log('arguments', arguments)

  var result = appget.apply(this, arguments);
  var end = new Date();

  var duration = end.getTime() - start.getTime();

  console.log(""duration==="", duration);
}

})();
</code></pre>

<p>I wrote simple the wrapper code
But need to know how to get the req parameters ?</p>

<p>Anybody experience in this one?</p>
",<javascript><node.js><express><npm><wrapper>,0.0,0,0,1
11869,11869,42336670,1,42901314,4596229,1.0,1.0,0.0,0.0,2017-02-20T04:42:32.817,0.0,1983.0,Why node js Active Directory results in etimedout?,"<p>I am using node js express framework. My Active Directory is not connecting and it always results in the following error</p>

<blockquote>
  <p>""code"":""ETIMEDOUT"",""errno"":""ETIMEDOUT"",""syscall"":""connect""</p>
</blockquote>

<p>This is my code I have written for accessing the Active Directory:</p>

<pre><code>var path = require('path');
var ActiveDirectory = require('activedirectory');
var directoryConfig = { 
    url: 'ldap://'+process.env['USERDNSDOMAIN'], 
    baseDN: 'dc=xxx,dc=yyy,dc=zzz',
    username: process.env['USERPROFILE'].split(path.sep)[2],
    password: 'test'
}
</code></pre>

<p>And in the get request of index.js page  </p>

<pre><code>router.get('/', function(req, res) {
    var ad = new ActiveDirectory(directoryConfig);
    ad.userExists(directoryConfig.username, function(err, exists) {
        if (err) {
            console.log('ERROR: ' +JSON.stringify(err));
            return;
        }
        console.log(directoryConfig.username + ' exists: ' + exists);
    });
});
</code></pre>

<p>I have searched for <code>etimedout</code> error but none of the solution is preferable for active directory. Please suggest us a way to get rid of this issue.</p>
",<node.js><express><npm><active-directory>,0.0,0,0,1
11902,11902,42391892,1,0,4596229,1.0,0.0,0.0,0.0,2017-02-22T12:45:39.697,0.0,3331.0,Static header and footer in Express JS,"<p>I am working with express js 4.14.0 and handlebars js 4.0.6. My view folder structure is like</p>

<pre><code>view
   Layout.hbs
   Layout Folder
    - Main.hbs
  Partials Folder
    -Header.hbs
    -Footer.hbs
    -Page.hbs
 Index1.hbs
 Index2.hbs

app.engine( 'hbs', express_hbs( { 
  extname: 'hbs', 
  defaultLayout: 'main', 
  layoutsDir: __dirname + '/views/layouts/',
  partialsDir: __dirname + '/views/partials/'
} ) );
</code></pre>

<p>Main.hbs where the page starts to render initially is</p>

<pre><code>&lt;div class=""bodyContent""&gt;
        &lt;header&gt;{{&gt; header }}&lt;/header&gt;
        &lt;div class=""container-fluid body-content""&gt;
            {{{body}}}
        &lt;/div&gt;
        &lt;footer&gt;{{&gt; footer }}&lt;/footer&gt;  
    &lt;/div&gt;  
</code></pre>

<p>Initially Header, Footer and Page will get displayed through Index1.hbs page. When I am getting through to Index2.hbs page, Header and Footer is rendering again. It leads to flickering issue in header and footer when navigating between pages. How i can design Header and Footer like shared layout between the pages in express js using handlebars? How to overwrite the body content alone?</p>
",<node.js><express><npm><handlebars.js>,0.0,0,0,1
12058,12058,42601086,1,0,6222152,1.0,0.0,0.0,0.0,2017-03-04T20:34:14.837,0.0,1225.0,Passport - Register User & Pass Through info,"<p>I'm using Node/Express/Passport to register new users to my site. Simple enough. I'm using Mongoose to save data.</p>

<p>Goal: I'm attempting to have a person (WHO IS NOT LOGGED IN) answer a few questions. (Answers stored in vars) Then once they've finished I want them to register a new account.</p>

<p>When they register I want to pass along their username and password to the database, along with the data from their answers. So the goal is for this to happen in one click. This is what I have tried with no luck so far. Thanks for any help!!</p>

<pre><code>var Beliefs = mongoose.model(""Beliefs"", beliefsSchema);
//handle sign up logic
app.post(""/quiz"", function(req, res){
    var newUser = new User({username: req.body.username});
    User.register(newUser, req.body.password, function(err, user){
        if(err){
            req.flash(""error"", err.message);
            console.log(err)

        }
        passport.authenticate(""local"")(req, res, function(){
          req.flash(""success"", ""Welcome to JobQuiz "" + user.username);
          res.redirect(""jobquiz""); 
        });
    });
});
    //Create Answers
    Beliefs.create(req.body.beliefs, function(err, newBeliefs){
    Beliefs.create(req.body.beliefs2, function(err, newBeliefs2){
        if(err){
            console.log(err)
        } else {
            newBeliefs.author.id = req.user._id;
            newBeliefs.author.username = req.user.username;
            newBeliefs.save();
            newBeliefs2.author.id = req.user._id;
            newBeliefs2.author.username = req.user.username;
            newBeliefs2.save();
            console.log(""User is:"" + req.user.username)
            console.log(req.body.beliefs)
            res.redirect(""/elementsintro"");

        }
    });


});
</code></pre>

<p>Edit: </p>

<p>Here's my question. How would I go about saving the info to the USER during this process. My problem is when 
I add the code below:</p>

<p>newBeliefs.author.id = req.user._id;
 newBeliefs.author.username = req.user.username;</p>

<p>...I get an error that there is no User yet. How would solve this problem? </p>
",<node.js><mongodb><express><npm><passport.js>,0.0,0,0,1
12089,12089,42632759,1,42632973,7242984,1.0,2.0,0.0,0.0,2017-03-06T18:16:44.180,2.0,4949.0,Can't install express and packages,"<p><a href=""https://i.stack.imgur.com/xPdGo.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/xPdGo.png"" alt=""enter image description here""></a></p>

<p><a href=""https://i.stack.imgur.com/bJLcO.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/bJLcO.png"" alt=""enter image description here""></a></p>

<p>Hey, excuse me if this question is ridiculous but I can't handle with start in nodeJS, I try to install <code>npm install -g n</code> global and try install express locally but I cannot do this, I am trying install express like that <code>npm install express</code> before set my local path</p>
",<node.js><express><npm>,0.0,0,0,1
12156,12156,42717887,1,42719663,872370,1.0,16.0,0.0,0.0,2017-03-10T11:57:38.110,1.0,297.0,Node Server Unable to Start,"<p><strong>Issue</strong>: Unable to start Node server</p>

<p><strong>Platform</strong>: Bash on Ubuntu on Windows 10</p>

<p>Currently following <a href=""https://www.youtube.com/watch?v=o_1-Kge54K4&amp;app=desktop"" rel=""nofollow noreferrer"">tutorial</a> that builds a blog on MEAN</p>

<p>Commands ran after installation:</p>

<pre><code>apt-get install npm
npm init
npm install express --save
node server.js
</code></pre>

<p>Last command <code>node server.js</code> supposed to start Node server. </p>

<p>But nothing happens on my bash command line.
<a href=""https://i.stack.imgur.com/wokar.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/wokar.png"" alt=""enter image description here""></a></p>

<pre><code>server.js codes:
</code></pre>

<p><a href=""https://i.stack.imgur.com/DoZtK.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/DoZtK.png"" alt=""enter image description here""></a></p>

<pre><code>command node-v (node version not found):
</code></pre>

<p><a href=""https://i.stack.imgur.com/8rzRG.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/8rzRG.png"" alt=""enter image description here""></a></p>

<pre><code>However, Node is already installed:
</code></pre>

<p><a href=""https://i.stack.imgur.com/eVnnB.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/eVnnB.png"" alt=""enter image description here""></a></p>

<pre><code>Accessing localhost:3000
</code></pre>

<p><a href=""https://i.stack.imgur.com/an6ia.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/an6ia.png"" alt=""enter image description here""></a></p>
",<node.js><bash><ubuntu><express><npm>,0.0,0,0,1
12242,12242,42815971,1,0,1029486,2.0,3.0,0.0,0.0,2017-03-15T16:49:44.070,0.0,7475.0,ReferenceError: NODE_ENV is not defined with Express,"<p>This is my index.js file:</p>

<pre><code>var express = require('express');
var app = express();
var compression = require('compression');
var path = require('path');

app.use(compression());
app.set('port', (process.env.PORT || 9000));

app.use(express.static(path.join(__dirname, 'dist')));
app.use('/public', express.static(path.join(__dirname, '/public')));

app.set('views', __dirname + '/');
app.set('view engine', 'ejs');

app.listen(app.get('port'), function() {
    console.log('Node app is running on port', app.get('port'));
});
</code></pre>

<p>And these are my NPM scripts for building and starting the server:</p>

<pre><code>""scripts"": {
    ""start"": ""NODE_ENV=production node index.js"",
    ""dev"": ""NODE_ENV=development webpack-dev-server --progress --bail --open"",
    ""build"": ""NODE_ENV=production webpack -p --colors""
},
</code></pre>

<p>I don't know how but I still get <code>ReferenceError: NODE_ENV is not defined</code>. Can anyone help? </p>
",<javascript><node.js><express><npm>,0.0,0,0,1
12275,12275,42847419,1,42950741,4478278,1.0,0.0,0.0,0.0,2017-03-17T01:02:39.610,0.0,275.0,Create New User Using npm scripts,"<p>I'd like to create a user using a js file in my package.json scripts, but when I run the script via <code>npm run create_admin</code> the user is not created and no error is thrown. Some quick debugging leads me to believe that <code>Account.register</code> is not being called.</p>

<p>package.json scripts - </p>

<pre><code>""scripts"": {
""start"": ""node bin/www"",
""test"": ""mocha --recursive"",
""create_admin"": ""node scripts/create_admin""}
</code></pre>

<p>create_admin.js - </p>

<pre><code>var prompt = require('prompt'),
    Account = require('../models/account'),
    util = require('../utility/utility');

var schema = {
    properties: {
        username: {
            pattern:  /^[a-zA-Z\s\-]+$/,
            message: 'Username must contain only letters, spaces, or dashes.',
            required: true,
            description: 'Enter username'
    },
        password: {
            hidden: true,
            required: true,
            description: 'Enter password'
        },
        confirmPassword: {
            hidden: true,
            required: true,
            description: 'Confirm password'
        }
    }
};

prompt.start();
prompt.get(schema, function(err, result) {
    if (result.password === result.confirmPassword) {
        var newAccount = {
            username: result.username,
            isAdmin: true,
            regDate: Date.now(),
            lastLogin: Date.now()
        };
        Account.register(new Account(newAccount), result.password, function(err, account) {
            if (err) {
                console.log('Username already in use. Please try another username');
            } else {
                console.log('Admin account created');
            }
        });
    } else {
        console.log('Error - passwords do not match');
    }
});
</code></pre>

<p>Any help is appreciated.</p>
",<node.js><express><mongoose><npm>,0.0,0,0,1
12283,12283,42863035,1,0,1677392,0.0,3.0,0.0,0.0,2017-03-17T16:49:36.537,3.0,1107.0,How to share code between client and server when using Node.js,"<p>So, I guess this question has been asked and answered before, but it seems like most questions seem to be about sharing code between client and server when the client and server code reside in the same project.</p>

<p>I have server code in Node.js (TypeScript), model classes specifically, that I want to re-use on the client, but the client and server code is completely separated. What are my best options for re-using that code? </p>

<p>Possible solution:</p>

<ul>
<li>Publish all model classes as an npm package and install that in the client project</li>
</ul>

<p>Cons: Have to create a new package every time something changes, feels too complicated.</p>

<p>What other options do I have?</p>
",<node.js><express><typescript><npm>,0.0,0,0,1
12317,12317,42903085,1,0,2784957,1.0,4.0,0.0,0.0,2017-03-20T12:02:49.330,-2.0,600.0,bluebird npm TypeError: Cannot read property 'call' of null,"<p>I am using bluebird npm,I am getting the above error</p>

<p>I am calling three different function &amp; doing some database operation, but I am getting this error.</p>

<p>If I tried with two functions, it is working but with three function it is throwing error, TypeError: Cannot read property 'call' of null.</p>

<p>If you go to bluebird/js/release/using.js and comment the line no 39 ;</p>

<p>If I comment this line, then this issue is not coming &amp; all is working fine.</p>

<p>If you want more info please <a href=""https://github.com/petkaantonov/bluebird/issues/1356"" rel=""nofollow noreferrer"">Click Here</a></p>

<pre><code>This is main.js

var myModule = require('../lib/myModule');
var sync = require('deasync');

var id = 90;
var moduleObj = new moduleEntity(id);
console.log(moduleObj);

var id = 90;
var moduleObj = new moduleEntity(id);
console.log(moduleObj);

var id = 90;
var moduleObj = new moduleEntity(id);
console.log(moduleObj);

In MyModule.js

var deasync = require('deasync');
var dbEntity = require('../db/dbEntity');

module.exports = function (id) {
var outputEntity;
dbEntity(id, function(data){
outputEntity = data
});
while(outputEntity === undefined) { deasync.runLoopOnce();};
return outputEntity;

};

In dbEntery.js

var Promise = require(""bluebird"");
var getConnection = require('./dbcon');

module.exports = function (id,cb) {
var sql_getRecords = SELECT * from tanle_name;

Promise.using(getConnection, function (conn) {
    return conn.query(sql_getRecords).then(function(data){
        cb(data[0]);
    })
});
};
</code></pre>

<p><strong>Here is error stack trace</strong></p>

<pre><code>TypeError: Cannot read property 'call' of null
at FunctionDisposer.doDispose (/home/user/Projects/project_name/node_modules/bluebird/js/release/using.js:98:18)
at FunctionDisposer.Disposer.tryDispose (/home/user/Projects/project_name/node_modules/bluebird/js/release/using.js:78:20)
at iterator (/home/user/Projects/project_name/node_modules/bluebird/js/release/using.js:36:53)
at dispose (/home/user/Projects/project_name/node_modules/bluebird/js/release/using.js:48:9)
at /home/user/Projects/project_name/node_modules/bluebird/js/release/using.js:194:20
at PassThroughHandlerContext.finallyHandler (/home/user/Projects/project_name/node_modules/bluebird/js/release/finally.js:55:23)
at PassThroughHandlerContext.tryCatcher (/home/user/Projects/project_name/node_modules/bluebird/js/release/util.js:16:23)
at Promise._settlePromiseFromHandler (/home/user/Projects/project_name/node_modules/bluebird/js/release/promise.js:510:31)
at Promise._settlePromise (/home/user/Projects/project_name/node_modules/bluebird/js/release/promise.js:567:18)
at Promise._settlePromise0 (/home/user/Projects/project_name/node_modules/bluebird/js/release/promise.js:612:10)
at Promise._settlePromises (/home/user/Projects/project_name/node_modules/bluebird/js/release/promise.js:687:18)
at Async._drainQueue (/home/user/Projects/project_name/node_modules/bluebird/js/release/async.js:133:16)
at Async._drainQueues (/home/user/Projects/project_name/node_modules/bluebird/js/release/async.js:143:10)
at Immediate.Async.drainQueues (/home/user/Projects/project_name/node_modules/bluebird/js/release/async.js:17:14)
at runCallback (timers.js:651:20)
at tryOnImmediate (timers.js:624:5)
</code></pre>

<p>Bluebird version -- 3.5</p>

<p>Node Version -- v7.6.0</p>
",<node.js><express><npm><bluebird>,1.0,0,0,1
12395,12395,42986926,1,42997415,2720351,1.0,0.0,0.0,0.0,2017-03-23T21:03:11.840,4.0,3667.0,Express Busboy on File Event not firing,"<p>I am trying to make busboy work with my express code, but none of its events are firing,</p>

<p>there are no silly mistakes like non-matching input field names etc.</p>

<p>Here is </p>

<p><strong>app.js</strong></p>

<pre><code>var express = require('express');
var path = require('path');
var favicon = require('serve-favicon');
var logger = require('morgan');
var cookieParser = require('cookie-parser');
var bodyParser = require('body-parser');    
var index = require('./index');
var liveupload = require('./liveupload');

var app = express();

// view engine setup    
app.set('view engine', 'pug');

// uncomment after placing your favicon in /public
//app.use(favicon(path.join(__dirname, 'public', 'favicon.ico')));
app.use(logger('dev'));
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({ extended: false }));
app.use(cookieParser());
app.use(express.static(path.join(__dirname, 'public')));
app.use(express.static(__dirname + '/bower_components/dropzone/dist'));

app.use('/', index);
app.use('/liveupload', liveupload);


app.listen(3000, function () {
  console.log('Example app listening on port 3000!')
})


// catch 404 and forward to error handler
app.use(function(req, res, next) {
  var err = new Error('Not Found SIR');
  err.status = 404;
  next(err);
});

// error handler
app.use(function(err, req, res, next) {
  // set locals, only providing error in development
  res.locals.message = err.message;
  res.locals.error = req.app.get('env') === 'development' ? err : {};

  // render the error page
  res.status(err.status || 500);
  res.render('error');
});

module.exports = app;
</code></pre>

<blockquote>
  <p>This is desired action : liveupload</p>
</blockquote>

<pre><code>var express = require('express');
var router = express.Router();

var Busboy = require('busboy');

router.post('/', process_upload);

function process_upload(req, res, next){



var busboy = new Busboy({ headers: req.headers });

// Listen for event when Busboy finds a file to stream.
busboy.on('file', function (fieldname, file, filename, encoding, mimetype) {
console.log(""In bus boy"");
        // We are streaming! Handle chunks
        file.on('data', function (data) {
                // Here we can act on the data chunks streamed.
                console.log(""Chunk mila"");
        });

        // Completed streaming the file.
        file.on('end', function () {
                console.log('Finished with ' + fieldname);
        });
});
busboy.on('field', function(fieldname, val, fieldnameTruncated, valTruncated, encoding, mimetype) {
      console.log('Field [' + fieldname + ']: value: ' + inspect(val));
    });

console.log(""out of busboy"");
res.sendStatus(200);

}


module.exports = router;
</code></pre>

<blockquote>
  <p>And here is the UI which uploads the file.
      </p>
</blockquote>

<pre><code>&lt;script language=""JavaScript"" type=""text/javascript"" src=""javascripts/jquery.min.js""&gt;&lt;/script&gt;
&lt;script&gt;
$(function(){
  Dropzone.options.himanshu = {
   paramName: ""file"",
         maxFilesize: 5,
    addRemoveLinks: true,
    dictResponseError: 'Server not Configured',
    acceptedFiles: ""*.*"",
    init:function(){
      var self = this;
      // config
      self.options.addRemoveLinks = true;
      self.options.dictRemoveFile = ""Delete"";
      //New file added
      self.on(""addedfile"", function (file) {
        console.log('new file added ', file);
      });
      // Send file starts
      self.on(""sending"", function (file) {
        console.log('upload started', file);
        $('.meter').show();
      });

      // File upload Progress
      self.on(""totaluploadprogress"", function (progress) {
        console.log(""progress "", progress);
        $('.roller').width(progress + '%');
      });

      self.on(""queuecomplete"", function (progress) {
        $('.meter').delay(999).slideUp(999);
      });

      // On removing file
      self.on(""removedfile"", function (file) {
        console.log(file);
      });
    }
  };
})  
&lt;/script&gt;




&lt;link href=""stylesheets/dropzone.css"" rel=""stylesheet""/&gt;
&lt;form action=""/liveupload"" method=""post"" class=""dropzone"" id=""himanshu"" enctype=""multipart/form-data"" &gt;
 &lt;div class=""fallback""&gt;
    &lt;input name=""file"" type=""file"" multiple /&gt;
  &lt;/div&gt;

&lt;/form&gt;
</code></pre>

<p>I have tried numerous ways, but still cant figure out why busboy is not working.</p>

<p>any help will be greatly appreciated </p>
",<node.js><express><npm><busboy>,0.0,0,0,1
12413,12413,43006152,1,43006311,7763639,1.0,0.0,0.0,0.0,2017-03-24T17:54:41.380,0.0,1699.0,What is the best way to display Flash messages in Express.js?,"<p>I have nodejs app in Ejs framework , I'am a newbie to java script, 
I need to know what is the correct way to set flash messages in Node.js</p>

<p><strong>My Code given below throws me an error ,like this :</strong> </p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>C:\Users\sad\Desktop\Node Application\routes\users.js:57
      req.flash('error_mesg', 'A User with this name already exisit !!')
         ^

TypeError: Cannot read property 'flash' of null
    at Request._callback (C:\Users\as\Desktop\Node Application\routes\users.js:57:10)
    at Request.self.callback (C:\Users\sa\Desktop\Node Application\node_modules\request\request.js:188:22)
    at emitTwo (events.js:106:13)
    at Request.emit (events.js:191:7)
    at Request.&lt;anonymous&gt; (C:\Users\sd\Desktop\Node Application\node_modules\request\request.js:1171:10)
    at emitOne (events.js:96:13)
    at Request.emit (events.js:188:7)
    at IncomingMessage.&lt;anonymous&gt; (C:\Users\sd\Desktop\Node Application\node_modules\request\request.js:1091:12)
    at IncomingMessage.g (events.js:291:16)
    at emitNone (events.js:91:20)
    at IncomingMessage.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickCallback (internal/process/next_tick.js:98:9)</code></pre>
</div>
</div>
</p>

<p><strong>Here goes my code where I initiate everything :</strong> </p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>var flash = require('connect-flash');

// Global VArs
app.use(function (req, res, next) {
  res.locals.success_msg = req.flash('success_msg');
  res.locals.error_msg = req.flash('error_msg');
  res.locals.error = req.flash('error');
  next();
});</code></pre>
</div>
</div>
</p>

<p><strong>And here goes my Code where I really apply it :</strong></p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>var errors = req.validationErrors();

if(errors){
  res.render('register' ,{
    errors:errors
  })
}else{

   var newUser = {first_name,last_name, role,email,password,company,role}
   request({
       url: ""http://127.0.0.1:8000/v1/dashboard/register/"",
       method: ""POST"",
       json: true,   // &lt;--Very important!!!
       body: newUser
   }, function (req, res, err, body){
      var status = res['statusCode']
       console.log(typeof(status));
       if (status = '400'){
       req.flash('error_mesg', 'A User with this name already exisit !!')


}

   });
 }</code></pre>
</div>
</div>
</p>

<p>There some related answers to this type of question but not specifically flash messages . </p>

<p>Here goes my html :<code>{{#if error_msg}}
        &lt;div class=""alert alert-danger""&gt;{{error_msg}}&lt;/div&gt;
        {{/if}}</code></p>
",<javascript><node.js><express><npm>,1.0,0,0,1
12415,12415,43008780,1,0,7302170,0.0,3.0,0.0,0.0,2017-03-24T20:40:56.110,0.0,117.0,node server crashing on uncaught exception,"<p>what is the best strategy to make node server not crash on uncaught exceptions?
I have a web application in node. Whenever some uncaught error happens , server fails completely.we have to go to production soon.So this cannot happen in production. </p>

<p>How can we handle this?</p>
",<node.js><express><npm>,0.0,0,0,1
12569,12569,43218049,1,43218893,3056021,1.0,2.0,0.0,0.0,2017-04-04T21:31:39.077,0.0,2996.0,Sending image file from http request in Node.js,"<p>I am trying to setup an API that will return an image from my google places API using google's photo reference ID as a parameter.  This is what I have so far:</p>

<pre><code>module.exports.getPhoto=function(req,res){
    var id=req.params.id;

    var url='https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&amp;photoreference='+id+'&amp;key='+process.env.GOOGLEAPI;

    request.get(url, function (err,response,body) {  
      if(err){
        res.status(400).json(err);
      }else{
         res.send(body);
      }    
    });
};
</code></pre>

<p>Right now the body is not sending in the correct format.  Is there a way to do this with out saving it as a file and then sending it? </p>
",<javascript><node.js><express><google-places-api><npm-request>,0.0,0,0,1
12649,12649,43302591,1,0,4950734,1.0,0.0,0.0,0.0,2017-04-09T03:00:21.927,0.0,134.0,AWS S3 Image Uploader with NodeJS and s3-uploader module,"<p>I am trying to use this module <code>https://www.npmjs.com/package/s3-uploader</code> but for me it's not clear how to implement it. How to do a <code>POST</code> to my router ?</p>

<pre><code>.post('/upload', ensureAuthenticated, (req, res, next) =&gt; {

let files = req.files;

let client = new Upload(process.env.AWS_BUCKET_NAME, {
  aws: {
    path: process.env.AWS_BUCKET_PATH,
    region: process.env.AWS_BUCKET_REGION,
    acl: 'public-read'
  },

  cleanup: {
    versions: true,
    original: false
  },

  original: {
    awsImageAcl: 'private'
  },

  versions: [{
    maxHeight: 1040,
    maxWidth: 1040,
    format: 'jpg',
    suffix: '-large',
    quality: 80,
    awsImageExpires: 31536000,
    awsImageMaxAge: 31536000
  },{
    maxWidth: 780,
    aspect: '3:2!h',
    suffix: '-medium'
  },{
    maxWidth: 320,
    aspect: '16:9!h',
    suffix: '-small'
  },{
    maxHeight: 100,
    aspect: '1:1',
    format: 'png',
    suffix: '-thumb1'
  },{
    maxHeight: 250,
    maxWidth: 250,
    aspect: '1:1',
    suffix: '-thumb2'
  }]
});

client.upload(files.file.path, {}, function(err, versions, meta) {
  if (err) { throw err; }

  versions.forEach(function(image) {
    console.log(image.width, image.height, image.url);
    // 1024 760 https://my-bucket.s3.amazonaws.com/path/110ec58a-a0f2-4ac4-8393-c866d813b8d1.jpg
  });
});
}
</code></pre>

<p>inside the <code>.post</code> I copied and paste the code they have in NPM website and changed the variables values to mine values.</p>

<p>I am getting this error:</p>

<pre><code>Error: Command failed: identify -format ""name=
size=%[size]
format=%m
colorspace=%[colorspace]
height=%[height]
width=%[width]
orientation=%[orientation]
"" /images/logo.png
/bin/sh: identify: command not found

    at ChildProcess.exithandler (child_process.js:206:12)
    at emitTwo (events.js:106:13)
    at ChildProcess.emit (events.js:191:7)
    at maybeClose (internal/child_process.js:877:16)
    at Socket.&lt;anonymous&gt; (internal/child_process.js:334:11)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at Pipe._handle.close [as _onclose] (net.js:498:12)
</code></pre>

<p>I found a related but not fully helpful topic in this thread:
<a href=""https://stackoverflow.com/questions/39927761/node-js-s3-uploader-issue"">Node.js S3-uploader issue</a></p>
",<node.js><express><amazon-s3><npm>,0.0,0,0,1
12662,12662,43314039,1,0,3907211,5.0,0.0,0.0,0.0,2017-04-10T02:09:12.047,28.0,62447.0,How to close electron app via javascript?,"<p>I am running an express app via electron.</p>

<p>Below is the main.js</p>

<pre><code>   const electron = require(""electron""),
          app = electron.app,
          BrowserWindow = electron.BrowserWindow;

    let mainWindow;

    function createWindow () {
      mainWindow = new BrowserWindow({
          width: 1200,
        height: 800,
        frame: false,
        kiosk: true
      });
      mainWindow.loadURL(`file://${__dirname}/index.html`)
     mainWindow.webContents.openDevTools();

      mainWindow.on(""closed"", function () {
        mainWindow = null;
      })
    }

    app.on(""ready"", createWindow);
    app.on(""browser-window-created"",function(e,window) {
      window.setMenu(null);
    });

    app.on(""window-all-closed"", function () {
      if (process.platform !== ""darwin"") {
        app.quit();
      }
    });



    app.on(""activate"", function () {
      if (mainWindow === null) {
        createWindow();
      }
    });
</code></pre>

<p>and below is a button in the view that upon click i would like it to close the app </p>

<pre><code>&lt;button id=""close-btn""&gt;&lt;i class=""fa fa-cube"" aria-hidden=""true""&gt;&lt;/i&gt;&amp;nbsp; Close application&lt;/button&gt;
</code></pre>

<p>Essentially I want to activate this part of the code once the button has been clicked</p>

<pre><code>  app.on(""window-all-closed"", function () {
          if (process.platform !== ""darwin"") {
            app.quit();
          }
        });
</code></pre>
",<javascript><node.js><express><npm><electron>,0.0,0,0,1
12682,12682,43344673,1,43345027,3906773,2.0,2.0,0.0,0.0,2017-04-11T11:30:37.370,0.0,328.0,Express.js - Use nested request to get JSON from backup URL,"<p>I have two URLs that have a <code>.json.gz</code> file -</p>

<pre><code>var url = ""http://post.s3post.cf/s3posts.json.gz"";
var backupURL = ""https://s3-us-west-2.amazonaws.com/s3post.cf/s3posts.json.gz"";
</code></pre>

<p>I'm able to successfully use the <em>request module</em> to get <code>json</code> from the file -</p>

<pre><code>app.all('*', function(req, res, next) {
    request({
        method: 'GET',
        uri: url,
        gzip: true
    }, function(error, response, body) {
        res.locals.posts = JSON.parse(body);
        next();
    });
});
</code></pre>

<p>What I want to do is, if the request with <code>url</code> fails, I want to use the <code>backupURL</code> to get the <code>json</code> from. So logically, I thought if I received an error, I would use a nested request to do this -</p>

<pre><code>app.all('*', function(req, res, next) {
    request({
        method: 'GET',
        uri: url,
        gzip: true
    }, function(error, response, body) {
        if(error) {
            request({
                method: 'GET',
                uri: backupURL,
                gzip: true
            }, function(error, response, body) {
                res.locals.posts = JSON.parse(body);
                next();
            });
        } else {
            res.locals.posts = JSON.parse(body);
            next();
        }
    });
});
</code></pre>

<p>This is not working. Individually, both the URLs work with one request. What can I do to use <code>backupURL</code> when the request with <code>url</code> fails?</p>

<p><strong>EDIT 1 -</strong></p>

<p>The program compiles and starts listening to my app. It is when I request a page that it crashes with this error -</p>

<pre><code>undefined:1
&lt;?xml version=""1.0"" encoding=""UTF-8""?&gt;
^

SyntaxError: Unexpected token &lt; in JSON at position 0
    at JSON.parse (&lt;anonymous&gt;)
    at Request._callback (/Users/Anish/Workspace/NodeJS/unzipper/app.js:65:28)
    at Request.self.callback (/Users/Anish/Workspace/NodeJS/unzipper/node_modules/request/request.js:188:22)
    at emitTwo (events.js:106:13)
    at Request.emit (events.js:194:7)
    at Request.&lt;anonymous&gt; (/Users/Anish/Workspace/NodeJS/unzipper/node_modules/request/request.js:1171:10)
    at emitOne (events.js:96:13)
    at Request.emit (events.js:191:7)
    at IncomingMessage.&lt;anonymous&gt; (/Users/Anish/Workspace/NodeJS/unzipper/node_modules/request/request.js:1091:12)
    at Object.onceWrapper (events.js:293:19)
</code></pre>
",<javascript><json><node.js><express><npm-request>,1.0,0,0,1
12693,12693,43360946,1,0,2560858,1.0,0.0,0.0,0.0,2017-04-12T05:26:00.367,3.0,64.0,How to run docker to other server machine,"<p>I have code </p>

<p>server.js</p>

<pre><code>  'use strict';

   const express = require('express');

   // Constants
   const PORT = 8080;

   // App
   const app = express();
   app.get('/', function (req, res) {
      res.send('Hello world\n');
   });

  app.listen(PORT);
  console.log('Running on http://localhost:' + PORT);
</code></pre>

<p>dockerfile</p>

<pre><code> FROM node:6.5.0
 WORKDIR /app
 RUN npm install nodemon -g
 COPY package.json /app/package.json
 RUN npm install
 COPY server.js /app
 EXPOSE 8080
</code></pre>

<p>package.json</p>

<pre><code> {
  ""name"": ""docker_web_app"",
  ""version"": ""1.0.0"",
  ""description"": ""Node.js on Docker"",
  ""author"": ""First Last &lt;first.last@example.com&gt;"",
  ""main"": ""server.js"",
  ""scripts"": {
      ""start"": ""node server.js""
   },
  ""dependencies"": {
      ""express"": ""^4.13.3""
  }
}
</code></pre>

<p>I have Implemented dockerfile and docker image on local machine and then pushed on docker hub.</p>

<p>On other machine I pull docker image from docker hub and run docar command, It runs successfully and return console.log().</p>

<p>I want to see node module and project directory, but have not seen anywhere.</p>

<p>Please help me. How can show project directory on other machine.</p>
",<node.js><express><docker><npm>,0.0,0,0,1
12757,12757,43446606,1,0,2605737,2.0,0.0,0.0,0.0,2017-04-17T06:49:33.673,1.0,1246.0,"Connect-flash message is not working for res.render(""SomeView"")","<p>I am not able to use connect-flash package for res.render.
My main aim is to display a flash message on rendering of a view.</p>

<p>I am able to make it work with a res.redirect(""route"") but not with the res.render(""view"") code. Is it by design ?</p>

<p>My code is shown as below</p>

<pre><code>if(err){
      // Apparently res.render(""register"") didn't work with flash. But res.redirect(""/register"") worked.
        req.flash(""error"", err.message);   // Error occurs when the user is taken, password is empty etc.
        return res.redirect(""/register"");  // Short circut everything. Else the code below this would run as well and that would throw an error
    }
</code></pre>
",<node.js><express><npm><connect-flash>,0.0,0,0,1
12766,12766,43457477,1,0,7880137,1.0,0.0,0.0,0.0,2017-04-17T18:42:28.663,2.0,1910.0,SCSS and Express JS,"<p>How can I set up Express to use style.scss file instead of style.sass ? </p>

<p>It only recognizes style.sass with the following configuration.</p>

<p>app.js </p>

<pre><code>// Sass setup
app.use(require('node-sass-middleware')({
  src: path.join(__dirname, 'public/sass'),
  dest: path.join(__dirname, 'public/css'),
  indentedSyntax: true,
  sourceMap: true,
  outputStyle: 'compressed'
})); 
</code></pre>

<p>Structure tree</p>

<pre><code>-public 

--stylesheets 

---style.css
---style.css.map
---style.sass
</code></pre>

<p>I would like to use style.scss instead of style.sass.</p>
",<express><npm><module><sass>,0.0,0,0,1
12923,12923,43672219,1,0,492976,1.0,0.0,0.0,0.0,2017-04-28T04:54:31.007,0.0,263.0,Using webpack watch and npm-watch together,"<p>My app uses Webpack and an Express server. Will I create problems if I run <code>webpack --watch</code> in one terminal tab, and <code>npm run watch</code> in another?</p>

<p>Is there a better way to auto-build after files change, and also refresh the server?</p>
",<express><npm><webpack>,0.0,1,0,1
13109,13109,43909850,1,0,7142331,0.0,6.0,0.0,0.0,2017-05-11T08:08:23.173,0.0,329.0,nodejs app shuts down on an error,"<p>I am running a nodejs app on local machine and I got these 
errors in error log:</p>

<pre><code>0 info it worked if it ends with ok
1 verbose cli [ '/usr/bin/nodejs', '/usr/bin/npm', 'start' ]
2 info using npm@3.5.2
3 info using node@v4.2.6
4 verbose run-script [ 'prestart', 'start', 'poststart' ]
5 info lifecycle visualapp@1.0.0~prestart: visualapp@1.0.0
6 silly lifecycle visualapp@1.0.0~prestart: no script for prestart, continuing
7 info lifecycle visualapp@1.0.0~start: visualapp@1.0.0
8 verbose lifecycle visualapp@1.0.0~start: unsafe-perm in lifecycle true
9 verbose lifecycle visualapp@1.0.0~start: PATH: /usr/share/npm/bin/node-gyp-bin:/home/martiner/www/visualizationApp/NODEJS/node_modules/.bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/lib/jvm/java-8-oracle/bin:/usr/lib/jvm/java-8-oracle/db/bin:/usr/lib/jvm/java-8-oracle/jre/bin:/snap/bin:/usr/lib/jvm/java-8-oracle/bin:/usr/lib/jvm/java-8-oracle/db/bin:/usr/lib/jvm/java-8-oracle/jre/bin:/home/martiner/.local/bin:/home/martiner/.local/bin
10 verbose lifecycle visualapp@1.0.0~start: CWD: /home/martiner/www/visualizationApp/NODEJS
11 silly lifecycle visualapp@1.0.0~start: Args: [ '-c', 'nodejs hello.js' ]
12 silly lifecycle visualapp@1.0.0~start: Returned: code: 1  signal: null
13 info lifecycle visualapp@1.0.0~start: Failed to exec start script
14 verbose stack Error: visualapp@1.0.0 start: `nodejs hello.js`
14 verbose stack Exit status 1
14 verbose stack     at EventEmitter.&lt;anonymous&gt; (/usr/share/npm/lib/utils/lifecycle.js:232:16)
14 verbose stack     at emitTwo (events.js:87:13)
14 verbose stack     at EventEmitter.emit (events.js:172:7)
14 verbose stack     at ChildProcess.&lt;anonymous&gt; (/usr/share/npm/lib/utils/spawn.js:24:14)
14 verbose stack     at emitTwo (events.js:87:13)
14 verbose stack     at ChildProcess.emit (events.js:172:7)
14 verbose stack     at maybeClose (internal/child_process.js:821:16)
14 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:211:5)
15 verbose pkgid visualapp@1.0.0
16 verbose cwd /home/martiner/www/visualizationApp/NODEJS
17 error Linux 4.4.0-75-generic
18 error argv ""/usr/bin/nodejs"" ""/usr/bin/npm"" ""start""
19 error node v4.2.6
20 error npm  v3.5.2
21 error code ELIFECYCLE
22 error visualapp@1.0.0 start: `nodejs hello.js`
22 error Exit status 1
23 error Failed at the visualapp@1.0.0 start script 'nodejs hello.js'.
23 error Make sure you have the latest version of node.js and npm installed.
23 error If you do, this is most likely a problem with the visualapp package,
23 error not with npm itself.
23 error Tell the author that this fails on your system:
23 error     nodejs hello.js
23 error You can get information on how to open an issue for this project with:
23 error     npm bugs visualapp
23 error Or if that isn't available, you can get their info via:
23 error     npm owner ls visualapp
23 error There is likely additional logging output above.
24 verbose exit [ 1, true ]
</code></pre>

<p>and I got the following error in the console:</p>

<pre><code>events.js:141
      throw er; // Unhandled 'error' event
      ^

Error: read ECONNRESET
    at exports._errnoException (util.js:870:11)
    at TLSWrap.onread (net.js:544:26)
</code></pre>

<p>I have gone through the code several times and can't figure out where the problem is coming from. 
Could somebody help me to solve this?</p>

<h2>update:</h2>

<p>I have a couple of <code>fs.readFile</code> and twice using nodemailer. Here is a snippet of it:</p>

<pre><code>function sendingMail(p1, user_email, p2, p3, err){

    var first_line_here, number_lines_count;
    fs.readFile(__dirname +'/' + '/textfile.txt', 'utf8', function (err, data) {
        if (err) {
            throw err;
        }

        first_line_here = data.split('\n').shift();
        var number_lines_count = first_line_here.substr(first_line_here.indexOf("":"") + 1);

        var smtpTransport = nodemailer.createTransport(""SMTP"", {
            host: config.smtp,
            secureConnection: false,
            port: config.smtpPort,
            auth: {
              user: config.smtpU,
              pass: config.smtpP
            }
        });
        var mailMessage = '&lt;p&gt;content'&lt;/p&gt;';
        var mailOptions = {
            from: config.from,
            to: user_email,
            subject: ""Subject Line"",
            html: mailMessage
        }
        if (err){
        }

        smtpTransport.sendMail(mailOptions, function(error, response){
          if(error){
              console.log(error);
          }else{
              console.log(""Message sent: "" + response.message);
          }
        });
    });
}
</code></pre>
",<node.js><express><npm>,1.0,0,0,1
13165,13165,43984134,1,43984281,0,1.0,0.0,0.0,0.0,2017-05-15T16:05:58.003,0.0,2181.0,CANNOT GET / in Node app,"<p>I've checked the other related questions and can't pinpoint what's causing the issue (don't have a lot of experience here). I'm trying to launch <a href=""https://github.com/mvaragnat/twilio-SMS-backend"" rel=""nofollow noreferrer"">this app locally</a> basically with its default settings (other than some Twilio keys), have the dependencies installed, mongo is running, but localhost:5000 returns CANNOT GET /.</p>

<pre><code>&gt; node server.js
  listening on port 5000
</code></pre>

<p>server.js:</p>

<pre><code>// modules =================================================
var express        = require('express');
var app            = express();
var bodyParser     = require('body-parser');
var http = require('http').Server(app);
var io = require('socket.io')(http);         //real-time chat
var passport = require('passport');
var LocalStrategy = require('passport-local').Strategy;
var cookieParser = require('cookie-parser');

// configuration ===========================================

// public folder for images, css,...
app.use(express.static(__dirname + '/public'))

// config files
// database
var db = require('./config/db');
//  models
var User = require('./app/models/users');
var Message = require('./app/models/messages');

//parsing
app.use(bodyParser.json()); // for parsing application/json
app.use(bodyParser.urlencoded({ extended: true })); //for parsing url encoded

//AUTH========================================================
app.use(cookieParser());
app.use(require('express-session')({
    secret: 'white rabbit',
    resave: false,
    saveUninitialized: false
}));
app.use(passport.initialize());
app.use(passport.session());

// passport config
var Member = require('./app/models/members');
passport.use(new LocalStrategy(Member.authenticate()));
passport.serializeUser(Member.serializeUser());
passport.deserializeUser(Member.deserializeUser());

// view engine ejs
app.set('view engine', 'ejs');

//chat namespace
var chatSocket = io.of('/chat')

//routes
require('./app/routes/routes')(app, chatSocket);

//Heroku port
app.set('port', (process.env.PORT || 5000));

//ADMIN====================================================
//create an admin account if none exists
var admin = Member.find({admin: true}, function(err, admins) {
  if (err) throw err

  else if(admins.length == 0){
    //no admin. create default account
    Member.register(new Member({username: ""admin"", admin: true}), ""mypassword"", function(err, admin){
      if(err) throw err;
      console.log('Defaut account created successfully!');
    })
  }

  else{
    //at least one admin exists
    console.log('Admin account already exists : ');
    console.log(admins)
  }
});

//START ===================================================
http.listen(app.get('port'), function(){
  console.log('listening on port ' + app.get('port'));
});

//SOCKET ==================================================
require('./app/controllers/socket')(chatSocket, User, Message);
</code></pre>
",<node.js><mongodb><express><npm>,0.0,0,0,1
13174,13174,43996568,1,0,8018498,1.0,0.0,0.0,0.0,2017-05-16T08:47:32.667,1.0,2828.0,webpack fail to bundle sequelize,"<p>I just currently working on Express js+typescript with Sequelize ORM and want to bundle using Webpack. The problem is I got warning and fail each time trying to bundle.</p>

<p>Here is my warning/error message:</p>

<pre><code>WARNING in ./~/sequelize/lib/dialects/mysql/connection-manager.js
Module not found: Error: Can't resolve 'mysql' in 'D:\Project\MyMe\node_modules\sequelize\lib\dialects\mysql'
 @ ./~/sequelize/lib/dialects/mysql/connection-manager.js 20:17-33
 @ ./~/sequelize/lib/dialects/mysql/index.js
 @ ./~/sequelize/lib/sequelize.js
 @ ./~/sequelize/index.js
 @ ./src/server/models/index.js
 @ ./src/server/controllers/TopUp.ts
 @ ./src/server/controllers/index.ts
 @ ./src/router/router.ts
 @ ./src/App.ts
 @ ./src/index.ts

WARNING in ./~/express/lib/view.js
80:29-41 Critical dependency: the request of a dependency is an expression

WARNING in ./~/sequelize/lib/sequelize.js
686:60-73 Critical dependency: the request of a dependency is an expression

WARNING in ./~/sequelize/lib/dialects/mysql/connection-manager.js
18:17-60 Critical dependency: the request of a dependency is an expression

WARNING in ./~/sequelize/lib/dialects/mssql/connection-manager.js
18:15-71 Critical dependency: the request of a dependency is an expression

WARNING in ./~/sequelize/lib/dialects/postgres/connection-manager.js
20:14-57 Critical dependency: the request of a dependency is an expression

WARNING in ./~/sequelize/lib/dialects/sqlite/connection-manager.js
22:15-71 Critical dependency: the request of a dependency is an expression

ERROR in ./~/pg/lib/native/index.js
Module not found: Error: Can't resolve 'pg-native' in 'D:\Project\MyMe\node_modules\pg\lib\native'
 @ ./~/pg/lib/native/index.js 9:13-33
 @ ./~/pg/lib/index.js
 @ ./~/sequelize/lib/dialects/postgres/connection-manager.js
 @ ./~/sequelize/lib/dialects/postgres/index.js
 @ ./~/sequelize/lib/sequelize.js
 @ ./~/sequelize/index.js
 @ ./src/server/models/index.js
 @ ./src/server/controllers/TopUp.ts
 @ ./src/server/controllers/index.ts
 @ ./src/router/router.ts
 @ ./src/App.ts
 @ ./src/index.ts
</code></pre>

<p>Here is my package.json:</p>

<pre><code>""devDependencies"": {
    ""@types/body-parser"": ""^1.16.3"",
    ""@types/chai"": ""^3.5.2"",
    ""@types/chai-http"": ""0.0.30"",
    ""@types/debug"": ""0.0.29"",
    ""@types/express"": ""^4.0.35"",
    ""@types/mocha"": ""^2.2.41"",
    ""@types/morgan"": ""^1.7.32"",
    ""@types/node"": ""^7.0.18"",
    ""chai"": ""^3.5.0"",
    ""chai-http"": ""^3.0.0"",
    ""mocha"": ""^3.3.0"",
    ""ts-loader"": ""^2.0.3"",
    ""ts-node"": ""^3.0.4"",
    ""typescript"": ""^2.3.2"",
    ""webpack"": ""^2.5.1"",
    ""webpack-dev-server"": ""^2.4.5""
  },
  ""dependencies"": {
    ""body-parser"": ""^1.17.1"",
    ""debug"": ""^2.6.6"",
    ""express"": ""^4.15.2"",
    ""morgan"": ""^1.8.1"",
    ""pg"": ""^6.1.5"",
    ""pg-hstore"": ""^2.3.2"",
    ""sequelize"": ""^3.30.4""
  }
</code></pre>

<p>Below is my webpack.config.js</p>

<pre><code>var path = require('path');
var webpack = require('webpack')
var fs = require('fs')

var nodeModules = {};
fs.readdirSync('node_modules')
  .filter(function(x) {
    return ['.bin'].indexOf(x) === -1;
  })
  .forEach(function(mod) {
    nodeModules[mod] = 'commonjs ' + mod;
  });

module.exports = {
    entry: './src/index.ts',
    output: {
        filename: 'bundle.js',
        path: path.resolve(__dirname, 'dist')
    },
    module: {
        loaders: [
            {
                test: /\.ts?$/,
                loader: 'ts-loader',
                exclude: /node_modules/,
            }
        ]
    },
    resolve: {
        extensions: ["".tsx"", "".ts"", "".js""]
    },
    devServer: {
        port: 3000
    },
    target: 'node'
}

if (process.env.NODE_ENV === 'production') {
  module.exports.devtool = '#source-map'
  module.exports.plugins = (module.exports.plugins || []).concat([
    new webpack.DefinePlugin({
      'process.env': {
        NODE_ENV: '""production""'
      }
    }),
    new webpack.optimize.UglifyJsPlugin({
      sourceMap: true,
      minimize: true,
      compress: {
        warnings: false
      }
    }),
    new webpack.LoaderOptionsPlugin({
      minimize: true
    })
  ])
}
</code></pre>

<p>Fyi, before I'm adding Sequelize to my project its bundle fine with Express+typescript only. I know there is something I'm missing because I'm still new to webpack env. Thanks.</p>
",<express><typescript><npm><webpack>,0.0,1,0,1
13186,13186,44002455,1,0,3857342,1.0,2.0,0.0,0.0,2017-05-16T13:10:34.450,0.0,809.0,Getting error while installing Express from windows command prompt,"<p>I have successfully installed nodejs in C:\Program File. Nodejs and npm are also working fine by checking version of both.</p>

<p>Description and version info of softwares/hardwares I'm using as below</p>

<p><strong>OS:-</strong> Windows 7 Enterprise SP1, 64-bit</p>

<p><strong>RAM:-</strong> 4GB</p>

<p><strong>Nodejs:-</strong> version 7.4.0</p>

<p><strong>npm:-</strong> version 4.0.5</p>

<p><strong>java:-</strong> version 1.8.0_121</p>

<p>Now while I'm trying to install express from cmd using <strong><code>npm install --save express</code></strong> command,following error is coming.</p>

<pre><code>0 info it worked if it ends with ok
1 verbose cli [ 'C:\\Program Files\\nodejs\\node.exe',
1 verbose cli   'C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js',
1 verbose cli   'install',
1 verbose cli   '--save',
1 verbose cli   'express' ]
2 info using npm@4.0.5
3 info using node@v7.4.0
4 silly loadCurrentTree Starting
5 silly install loadCurrentTree
6 silly install readLocalPackageData
7 silly fetchPackageMetaData express
8 silly fetchNamedPackageData express
9 silly mapToRegistry name express
10 silly mapToRegistry using default registry
11 silly mapToRegistry registry https://registry.npmjs.org/
12 silly mapToRegistry data Result {
12 silly mapToRegistry   raw: 'express',
12 silly mapToRegistry   scope: null,
12 silly mapToRegistry   escapedName: 'express',
12 silly mapToRegistry   name: 'express',
12 silly mapToRegistry   rawSpec: '',
12 silly mapToRegistry   spec: 'latest',
12 silly mapToRegistry   type: 'tag' }
13 silly mapToRegistry uri https://registry.npmjs.org/express
14 verbose request uri https://registry.npmjs.org/express
15 verbose request no auth needed
16 info attempt registry request try #1 at 7:15:42 PM
17 verbose request id 90eb0dc94f842d2f
18 http request GET https://registry.npmjs.org/express
19 info retry will retry, error on last attempt: Error: getaddrinfo EAI_AGAIN registry.npmjs.org:443
20 info attempt registry request try #2 at 7:15:52 PM
21 http request GET https://registry.npmjs.org/express
22 info retry will retry, error on last attempt: Error: getaddrinfo EAI_AGAIN registry.npmjs.org:443
23 info attempt registry request try #3 at 7:16:52 PM
24 http request GET https://registry.npmjs.org/express
25 silly fetchPackageMetaData Error: getaddrinfo EAI_AGAIN registry.npmjs.org:443
25 silly fetchPackageMetaData     at Object.exports._errnoException (util.js:1022:11)
25 silly fetchPackageMetaData     at errnoException (dns.js:33:15)
25 silly fetchPackageMetaData     at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:76:26)
25 silly fetchPackageMetaData  error for express { Error: getaddrinfo EAI_AGAIN registry.npmjs.org:443
25 silly fetchPackageMetaData     at Object.exports._errnoException (util.js:1022:11)
25 silly fetchPackageMetaData     at errnoException (dns.js:33:15)
25 silly fetchPackageMetaData     at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:76:26)
25 silly fetchPackageMetaData   code: 'EAI_AGAIN',
25 silly fetchPackageMetaData   errno: 'EAI_AGAIN',
25 silly fetchPackageMetaData   syscall: 'getaddrinfo',
25 silly fetchPackageMetaData   hostname: 'registry.npmjs.org',
25 silly fetchPackageMetaData   host: 'registry.npmjs.org',
25 silly fetchPackageMetaData   port: 443 }
26 silly rollbackFailedOptional Starting
27 silly rollbackFailedOptional Finishing
28 silly runTopLevelLifecycles Finishing
29 silly install printInstalled
30 verbose stack Error: getaddrinfo EAI_AGAIN registry.npmjs.org:443
30 verbose stack     at Object.exports._errnoException (util.js:1022:11)
30 verbose stack     at errnoException (dns.js:33:15)
30 verbose stack     at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:76:26)
31 verbose cwd D:\ExpressJS Apps\ExpressDemo
32 error Windows_NT 6.1.7601
33 error argv ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""install"" ""--save"" ""express""
34 error node v7.4.0
35 error npm  v4.0.5
36 error code EAI_AGAIN
37 error errno EAI_AGAIN
38 error syscall getaddrinfo
39 error getaddrinfo EAI_AGAIN registry.npmjs.org:443
40 error If you need help, you may report this error at:
40 error     &lt;https://github.com/npm/npm/issues&gt;
41 verbose exit [ 1, true ]
</code></pre>

<p>I already searched it in stack overflow and also get a solution of it but for the <strong>linux operating system</strong>. So please don't mark this question duplicate as there is no solution for <strong>windows OS</strong> for this issue</p>

<p><strong>EDIT:-</strong></p>

<p>When I'm trying to run <code>npm install</code> command following error coming</p>

<pre><code>D:\ExpressJS Apps\ExpressDemo&gt;npm install
npm WARN express-demo@1.0.0 No repository field.
</code></pre>
",<node.js><express><npm><npm-install>,0.0,0,0,1
13235,13235,44070629,1,0,0,2.0,0.0,0.0,0.0,2017-05-19T12:50:46.170,2.0,1721.0,What should I do for deprecated npm modules for express generator?,"<pre><code>express website

npm WARN deprecated jade@1.11.0: Jade has been renamed to pug, please install the latest version of pug instead of jade
npm WARN deprecated transformers@2.1.0: Deprecated, use jstransformer
</code></pre>

<p>(I am just following a tutorial.)
Will installing <code>jstransformer</code> and <code>pug</code> be not enough? Am I supposed to edit code of <code>express</code>?
Can I use something like this for production?</p>

<p>I don't understand how deprecation work and what I can do about it.</p>
",<node.js><express><npm><express-generator>,0.0,0,0,1
13310,13310,44167484,1,44168816,7381252,1.0,11.0,0.0,0.0,2017-05-24T20:01:06.853,0.0,7379.0,Error: connect ETIMEDOUT when scraping,"<p>I have a function that:<br>
1. gets an array of 3000 'id' properties from mongoDB documents from collection <code>foo</code>.<br>
2. Creates a GET request for each ID to get 'resp' obj for id, and stores it in another database.  </p>

<pre><code>router.get('/', (req, res) =&gt; {

    var collection = db.get().collection('foo');
    var collection2 = db.get().collection('test');
    collection.distinct('id',  (err, idArr) =&gt; { // count: 3000+
    idArr.forEach(id =&gt; {
    let url = 'https://externalapi.io/id=' + id
    request(url, (error, response, body) =&gt; {
           if (error) { 
             console.log(error) 
           } else {
             resp = JSON.parse(resp);
             collection2.insert(resp);
           }
    });
});
</code></pre>

<p>Node Error Log:</p>

<pre><code>[0] events.js:163
[0]       throw er; // Unhandled 'error' event
[0]       ^
[0]
[0] Error: connect ETIMEDOUT [EXT URL REDACTED]
[0]     at Object.exports._errnoException (util.js:1050:11)
[0]     at exports._exceptionWithHostPort (util.js:1073:20)
[0]     at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1093:14)
</code></pre>

<p>I am using simple-rate-limiter not to cause rate limits (25cps):</p>

<pre><code>const limit = require(""simple-rate-limiter"");
const request = limit(require(""request"")).to(20).per(1000);
</code></pre>

<p>But anywhere between 300-1700 requests I receive this error which crashes node on the command line.
How can I handle this error to prevent my app from crashing?</p>

<p>I have tried a lot of error handling, but none of them were able to handle <code>connect ETIMEDOUT</code></p>
",<node.js><mongodb><express><rate-limiting><npm-request>,0.0,0,0,1
13386,13386,44255913,1,44323873,2897895,3.0,2.0,0.0,0.0,2017-05-30T07:18:58.427,0.0,3127.0,"How to extract domain name of a request coming from a url, using request module -Node js","<p>there I want to extract the domain name of incoming request using request module. I tried by looking at </p>

<pre><code>request.headers,
request.headers.hostname
</code></pre>

<p>with no luck. Any help please?</p>
",<node.js><express><npm><request>,0.0,0,0,1
13453,13453,44318353,1,0,7611888,1.0,0.0,0.0,0.0,2017-06-01T23:00:37.833,0.0,53.0,Isomorphic/Universal React app dependencies,"<p>I'm developing my first big react app, which will be served dynamically by Express, so it came to my mind, that dependencies (not devDependencies) are just Express and maybe some deployment keep-running-eternally package, but not react, redux, react-router etc, which are conventionally mentioned in package.json deps. All my app is bundled and cooked before deployment, so how correct is it to mention react related deps as dependencies in config.json?</p>
",<reactjs><express><npm><webpack>,0.0,1,0,1
13489,13489,44355396,1,0,4076806,1.0,0.0,0.0,0.0,2017-06-04T14:54:51.247,2.0,828.0,Installing npm packages in Webstorm 2017.1.3 / Ubuntu 16.04 LTS,"<p>When trying to create a new ""Node.js Express App"" in WebStorm 2017.1.3. / on Ubuntu 16.04 LTS. I get the following error: <strong>Please specify npm or yarn package</strong>.
<a href=""https://i.stack.imgur.com/yxYOt.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/yxYOt.png"" alt=""enter image description here""></a></p>

<p>So I installed the package globally using</p>

<pre><code>$ sudo npm install -g express
</code></pre>

<p>and restarted WebStorm but still no luck.</p>

<p>I then tried the suggestions made in this thread: <a href=""https://stackoverflow.com/questions/36223947/webstorm-error-please-specify-npm-package"">WebStorm - error: Please specify npm package</a>. Again no luck.</p>

<p>I went on and tried to install the package using WebStorm, but still get the same error message:
<a href=""https://i.stack.imgur.com/VhMED.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/VhMED.png"" alt=""enter image description here""></a></p>

<p>Any ideas how I can get this running?</p>
",<node.js><ubuntu><express><npm><webstorm>,0.0,0,0,1
13547,13547,44411835,1,0,4737546,0.0,5.0,0.0,0.0,2017-06-07T11:49:40.177,2.0,1446.0,Node.js request module returns unicode characters,"<p>I'm using the <code>request</code> module and I'm getting a status code of <code>200</code> but the body looks like this: <code>��N�0��w9׃t�""���M�� c� ��@\�=���c���}�_YR���c�cߦZ�#�&amp;�Z�~��m�F���+e�{s���gR/����Z�����f7)����Hq�3h��</code> ... how can I fix it to return a <code>json</code> response?</p>

<p>This is my code:</p>

<pre><code>module.exports.userCreate = function(req, res, next) {
  var user = new User();
  var username = req.body.username;
  var password = req.body.password;

  user.username = username;
  user.password = password;

  var payload = {    
    ""username"": username,
    ""password"": password
  }
  var options = {
    'method': 'post',
    'body': payload,
    'content-type': 'application/json',
    'json': true,
    'url': ""https://example.com/api/login""
  }
  request(options, function (error, response, body) {
    console.log(response.statusCode);
    if (!error &amp;&amp; response.statusCode == 200) {
      console.log(body);
    }
    else if(error) {
      return done(err);
    }
    else if(response.statusCode == 401) {
      return done(null, false, req.flash('loginMessage', 'No user Found'));
    }
  });
}
</code></pre>
",<node.js><express><npm-request>,0.0,0,0,1
13646,13646,44498186,1,0,5980376,1.0,5.0,0.0,0.0,2017-06-12T11:20:49.903,3.0,1632.0,Node Express JS - Handling simultaneous POST requests to the server,"<p>I have a node project implementing express to handle incoming GET/POST requests, I have created routes to handle different kinds of requests. I have a route as <code>/api/twitter/search</code> which basically calls a function that uses promises to fetch twitter feeds and sends the data in response using <code>response.write</code></p>

<p>Now the situation here is, when I make two simultaneous requests to the same route with the same input data, then somehow the running code of both the requests coincide giving inconsistent response. I  want any number of requests to the server to be handled separately, even if the action to the request has a number of async calls/promises in place.</p>

<p>Can anyone please help me here. I am totally new to js development, so any help will be appreciated</p>

<p>Following is the code: </p>

<p>The route that I have created goes as follows:</p>

<pre><code>app.post('/api/twitter/fetch',function(req,res){
        var hashTag = req.body.hashtag;
        var userVals = {
            userEmail: req.body.uemail,
            tokenVal: req.body.utoken
        }
        tokenController.validateToken(userVals,function(error,data){
            returnObject = {status:true, data:'', error:''};
            if(error!=''){
                returnObject.status = false;
                returnObject.data = data;
                returnObject.error = error;
                res.send(returnObject);       
            }else{
                var twitterController = require('../controllers/testTwitterController');
                twitterController.fetchTweets(res,hashTag);
            }
        });
    });
</code></pre>

<p>Following is the code for the fetchTweets function:</p>

<pre><code>var Twitter = require('twitter');
var params = require('../config/params.js');
var moment = require('moment');
//var promise = require('promise');
var globalHashTag = ''; var tweetArr = []; var  responseHandle = [];
client = new Twitter({
    consumer_key: params.consumer_key,
    consumer_secret: params.consumer_secret,
    access_token_key: params.access_token_key,
    access_token_secret: params.access_token_secret

});
function fetchTweetsAsync(hashTag,max_id){
    var days = 7; //Days you want to subtract from today
    var tillDate = (new Date()).toISOString().split('T')[0];
    var sinceDate = (new Date((new Date).getTime() - ((days) * 24 * 60 * 60 * 1000))).toISOString().split('T')[0];
    var param = {q:'#'+hashTag+' since:'+sinceDate+' until:'+tillDate,include_entities:true,result_type:'recent',count:100};
    if(max_id !== '' || typeof max_id != undefined)
        param.max_id = max_id;
    return new Promise(function(resolve,reject){
        // do a thing, possibly async, then..
        client.get('search/tweets',param,function(error,tweets,response){
            if(error){
                console.log(error);
                process.exit(1);
            }
            if(tweets.statuses.length){//If we get tweets, send them via promise
                //console.log(""\n\n\n\n--------------------------------------------------------- Tweets fetched for #""+hashTag+ ""-------------------------------------------------------------\n\n\n"");
                resolve(tweets.statuses,hashTag);
            }
        });
    });
};


function getMaxHistory(tweets,hash){
    //console.log(""\n\n~~~~~~~~~~~~~~~~Total: ""+ tweets.length + "" results found!~~~~~~~~~~~~~~~~\n\n"");
    tweets.map((tweet)=&gt;{
        process.stdout.write('.');
        created_at = moment(tweet.created_at).format(""YYYY-MM-DD"");
        tweetArr.push(created_at);
    });
    max_id = tweets[tweets.length - 1].id - 1;
    if(tweets.length == 100){
        process.stdout.write('*');
        return fetchTweetsAsync(hash,max_id).then(getMaxHistory);
    }
    else{
        var total = tweetArr.length;
        var finalArr = []; 
        finalArr = getDateWiseCount(tweetArr);
        tweetArr = [];
        console.log(""Count array generated!"");
        console.log(""Total: ""+total);
        finalArr = JSON.stringify({status:true,total:total,counts:finalArr});
        return finalArr;
        // console.log(finalArr);
        //responseHandle.send([{status:true,total:total,counts:finalArr}]);
    }
}

function getDateWiseCount(tweetArr){
    tweetArr = tweetArr.sort(); //We have a sorted array, need to get the counts now


    var current = null;
    var count = 0; returnarr = [];

    for(var i = 0; i &lt; tweetArr.length; i++)
    {
        if(tweetArr[i] != current)
      {
        if(count &gt; 0)
        {
            var date = new Date(current).toISOString();
            var val = count;
            returnarr.push({date:date,value:val});
            //console.log(returnarr);
            //console.log(current + "" "" + count + ""&lt;br/&gt;"");

        }
        current = tweetArr[i];
        count = 1;
      }
      else
      {
        count++;
      }
    }

    if(count &gt; 0){
        var date = new Date(current).toISOString();
        var val = count;
        returnarr.push({date:date,value:val});
    }
    return returnarr;
}

module.exports = {
    fetchTweets: function(res,hashTag){
        responseHandle = res;
        fetchTweetsAsync(hashTag).then(getMaxHistory).then(function(finalArr){
            res.write(finalArr);
            res.end();
        });
    }
};
</code></pre>
",<javascript><node.js><express><npm>,0.0,0,0,1
13798,13798,44652198,1,0,6586362,1.0,0.0,0.0,0.0,2017-06-20T11:46:11.577,0.0,96.0,Express generator creates pug files in view,"<p>When creating a web application with node.js, express and the express generator, the template files in view are ending with pug. Should it not be .ajs files? Is there a way to change it?.
I am new to web development </p>
",<node.js><express><npm><ejs>,0.0,0,0,1
13824,13824,44673581,1,0,1966102,0.0,3.0,0.0,0.0,2017-06-21T10:29:31.067,0.0,291.0,Using phantom.js with node.js,"<p>At the moment I am trying to use phantom.js with node.js. I installed the phantomjs in my project directory using the npm package ""phantomjs"" with ""nmp install --save phantomjs"". After that wrote the following code in my app.js:</p>

<pre><code>var express = require(""express"");
var phantomjs = require(""phantomjs"");
var path = require(""path"");
var childProcess = require(""child_process"");
var binPath = phantomjs.path;

var app = express();

//Set global variables
app.set(""view engine"", ""ejs"");
app.set(""views"", __dirname + ""/views/images"");

//Set middleware
app.use(""/public"", express.static(""public""));

var childArgs = [
  path.join(__dirname, 'phantomscript.js')
];

childProcess.execFile(binPath, childArgs, function(err, stdout, stderr) {
  console.log(err);
  console.log(stdout);
  console.log(stderr);
});


app.listen(8080);
</code></pre>

<p>and in the phantomscript.js I wrote a console.log() to test the execution of the file.</p>

<p>When I run the app.js using node nothing happens. I think node.js did not execute the phantomscript.js. Maybe someone knows where my mistake is. Thanks.</p>

<p>ps: Sorry for my bad english</p>
",<node.js><express><npm><phantomjs>,0.0,0,0,1
13839,13839,44692048,1,44693016,7973210,6.0,1.0,0.0,0.0,2017-06-22T06:45:42.993,85.0,92521.0,What is the difference between res.send and res.write in express?,"<p>I am a beginner to <code>express.js</code> and I am trying to understand the difference between <code>res.send</code> and <code>res.write</code> ? </p>
",<node.js><express><npm>,0.0,0,0,1
13883,13883,44746534,1,44750915,702977,1.0,3.0,0.0,0.0,2017-06-25T12:50:55.890,0.0,3197.0,Send messages from server (Expressjs routing) to client,"<p>I want to send messages from the server to the client and <strong>implement this in <code>routes/index.js</code></strong> of my mean stack project. Does anyone know how to use <code>socket.io</code> here?:</p>

<pre><code>router.post('/message/sendMessage', function (req, res, next) {
    console.log(""router.post /message/sendMessage "" + req.body)
    // send req.body to client
});
</code></pre>

<p><strong>PS:</strong> Previously, I have used <code>socket.io</code> one time in the project: the client opens a socket, and then the server emits a message named <code>id</code>, the client receives it. In the client:</p>

<pre><code>socket = io.connect();
socket.on('id', function (id) { ... })
</code></pre>

<p>In <code>www</code> (server):</p>

<pre><code>io.sockets.on('connection', function (socket) {
  console.log(""LOG: just connected: "" + socket.id);
  socket.emit('id', socket.id);
  socket.on('disconnect', function () {
    console.log(""LOG: just disconnected: "" + socket.id)
  })
})
</code></pre>

<p>But I cannot imagine how to write <code>socket.emit</code> inside Expressjs routing...</p>

<p><strong>Edit 1:</strong> I tried to do the following to send a message to all the clients but in the console, it only displayed until <code>before emit</code>, and in the client it showed <code>Failed to load resource: the server responded with a status of 500 (Internal Server Error)</code></p>

<pre><code>router.post('/message/sendMessage', function (req, res, next) {
    console.log(""router.post /message/sendMessage"");
    console.log(""before emit"");
    io.sockets.on('connection', function (socket) {
        console.log(""LOG: just connected: "" + socket.id);
        io.emit(""message"", ""this is a test"");
        socket.on('disconnect', function () {
            console.log(""LOG: just disconnected: "" + socket.id)
        })
    })
    console.log(""after emit"");
});
</code></pre>
",<javascript><express><npm><websocket><socket.io>,0.0,0,0,1
13915,13915,44783970,1,0,8149954,1.0,0.0,0.0,0.0,2017-06-27T15:15:43.747,1.0,1140.0,Angular 2 Server Express ERR_CONNECTION_REFUSED,"<p>I created a website using Angular2 for the frontend and Node/Express for the backend.  The frontend runs through port 4200 (npm run build in order to run it) and the backend through port 4201 (npm start).</p>

<p>I have a view to manage user connection (login/password) which works perfectly on localhost. Basically, I have a service which will be called on form submit to get the specified user. The problem is that when I try to the same thing on my own server, I get this error :</p>

<p>OPTIONS <a href=""http://[HostIP]:4201/auth/login"" rel=""nofollow noreferrer"">http://[HostIP]:4201/auth/login</a></p>

<blockquote>
  <p>net::ERR_CONNECTION_REFUSED</p>
</blockquote>

<p>My server is on 1&amp;1 cloud, on a debian7 environnement. Firewalls seems clear and the port seems opened.</p>

<p>Do you have any idea of what's happening ? Is the issue coming from my code or from the server ?</p>

<p>Server.js : </p>

<pre><code>const express = require('express');
const app= express();
const bodyParser= require('body-parser');

let data = require('./dataPics');

const fakeUser = {dataFakeUser};
const secret = 'mySecret';
const jwt = require('jsonwebtoken');

app.use(bodyParser.json());

app.use((req, res, next) =&gt; {
  res.header('Access-Control-Allow-Origin', '*');
  res.header('Access-Control-Allow-Headers', 'content-type');
  res.header('Access-Control-Allow-Credentials', true);
  res.header('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE,OPTIONS');
  next();
});

const auth = express.Router();

auth.post('/login', (req, res) =&gt; {
  if(req.body){
    const login = req.body.login.toLocaleLowerCase();
    const password = req.body.password.toLocaleLowerCase();
    if(login === fakeUser.login &amp;&amp; password === fakeUser.password){
      delete req.body.password;
      //res.json({ success: true, data: req.body});
      const token = jwt.sign({iss: 'http://localhost:4201', role: 'admin', user: req.body.login}, secret);
      res.json({ success: true, token: token});
    }
    else{
      res.json({ success: false, message: 'Identification Incorrecte'});
    }
  }
  else{
    res.json({ success: false, message: 'Merci de vous identifier'});
  }
});

app.use('/auth', auth);

const port = 4201;

app.listen(port, '[HostIP]', () =&gt; {
  console.log(`listening on port ${port}`);
});
</code></pre>

<p>Service.ts : </p>

<pre><code>import { Injectable } from '@angular/core';
import { Http } from '@angular/http';
import * as jwtDecode from 'jwt-decode';

@Injectable()
export class LoginService {
// BASE_URL = 'http://localhost:4201/auth';
  BASE_URL = 'http://[HostIP]:4201/auth';

  constructor(private _http: Http) { }

  login(formData){
    return this._http.post(`${this.BASE_URL}/login`, formData)
      .map(res =&gt; res.json());
  }

  userIsLoggedIn(){
    return localStorage.getItem('jjw-data');
  }

  logOut(){
    localStorage.removeItem('jjw-data');
  }

  decodeToken(token){
    return jwtDecode(token);
  }

}
</code></pre>

<p>Thanks :-)</p>
",<node.js><angular><express><npm><server>,0.0,0,0,1
13941,13941,44817081,1,44834038,4130242,1.0,4.0,0.0,0.0,2017-06-29T05:36:29.557,1.0,131.0,express-session: NPM dependency not listed in documentation?,"<p>Following <a href=""https://scotch.io/tutorials/easy-node-authentication-setup-and-local"" rel=""nofollow noreferrer"">this tutorial</a>, I have installed express-session using this code:</p>

<pre><code> npm install express-session --save --save-exact
</code></pre>

<p>But now when I try to run the code, node is telling me I need a package called ""buffer-crc32""</p>

<p>I see this listed as a require() in the drive where I install express-session, but I'm confused because the index.js file stored on my computer seems different from the one shown on github <a href=""https://github.com/expressjs/session/blob/master/index.js"" rel=""nofollow noreferrer"">here</a>.</p>

<p>What gives? Why isn't that dependency installing when I run ""npm install"" or ""npm update""? Thanks.</p>
",<node.js><express><npm><express-session>,0.0,0,0,1
13960,13960,44836938,1,0,2014843,3.0,0.0,0.0,0.0,2017-06-30T00:34:31.807,2.0,2240.0,req.checkBody is not a function,"<p>I'm following along with the Mozilla Express tutorial (<a href=""https://developer.mozilla.org/en-US/docs/Learn/Server-side/Express_Nodejs/forms"" rel=""nofollow noreferrer"">https://developer.mozilla.org/en-US/docs/Learn/Server-side/Express_Nodejs/forms</a>) and have reached the part using express-validator.   When I submit a form whose contents are validated using express-validator I keep getting the error ""req.checkBody is not a function"" (and if I remove the line that generates that, I get other errors, like ""req.sanitize is not a function"").  It seems that express-validator is not being recognized properly.  I am using node v6.3.1 for whatever it's worth.</p>

<p>express-validator is installed </p>

<pre><code>├── async@2.5.0
├── body-parser@1.17.2
├── cookie-parser@1.4.3
├── debug@2.6.8
├── express@4.15.3
├── express-validator@3.2.0
├── moment@2.18.1
├── mongoose@4.11.0
├── morgan@1.8.2
├── nodemon@1.11.0
├── pug@2.0.0-rc.2
└── serve-favicon@2.4.3
</code></pre>

<p>I load it in the main app file (app.js)</p>

<pre><code>var expressValidator = require('express-validator');
</code></pre>

<p>and apply it a few lines below that</p>

<pre><code>app.use(logger('dev'));
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({ extended: false }));
app.use(expressValidator()); // Add this after the bodyParser middlewares!

app.use(cookieParser());
app.use(express.static(path.join(__dirname, 'public')));
</code></pre>

<p>and try to make use of it in another module (genreController.js)</p>

<pre><code>exports.genre_create_post = function(req, res, next) {

    //Check that the name field is not empty
    req.checkBody('name', 'Genre name required').notEmpty(); 

    //Trim and escape the name field. 
    req.sanitize('name').escape();
    req.sanitize('name').trim();

    //Run the validators
    var errors = req.validationErrors();
</code></pre>

<p>Where am I going wrong?  I've installed it and de-installed it, I've removed the code from the modules and re-entered it, but to no avail.</p>

<pre><code>  req.checkBody is not a function
    TypeError: req.checkBody is not a function
        at exports.genre_create_post (/Users/cerulean/Documents/Projects/express-locallibrary-tutorial/controllers/genreController.js:48:9)
        at Layer.handle [as handle_request] (/Users/cerulean/Documents/Projects/express-locallibrary-tutorial/node_modules/express/lib/router/layer.js:95:5)
        at next (/Users/cerulean/Documents/Projects/express-locallibrary-tutorial/node_modules/express/lib/router/route.js:137:13)
        at Route.dispatch (/Users/cerulean/Documents/Projects/express-locallibrary-tutorial/node_modules/express/lib/router/route.js:112:3)
        at Layer.handle [as handle_request] (/Users/cerulean/Documents/Projects/express-locallibrary-tutorial/node_modules/express/lib/router/layer.js:95:5)
        at /Users/cerulean/Documents/Projects/express-locallibrary-tutorial/node_modules/express/lib/router/index.js:281:22
        at Function.process_params (/Users/cerulean/Documents/Projects/express-locallibrary-tutorial/node_modules/express/lib/router/index.js:335:12)
        at next (/Users/cerulean/Documents/Projects/express-locallibrary-tutorial/node_modules/express/lib/router/index.js:275:10)
        at Function.handle (/Users/cerulean/Documents/Projects/express-locallibrary-tutorial/node_modules/express/lib/router/index.js:174:3)
        at router (/Users/cerulean/Documents/Projects/express-locallibrary-tutorial/node_modules/express/lib/router/index.js:47:12)
        at Layer.handle [as handle_request] (/Users/cerulean/Documents/Projects/express-locallibrary-tutorial/node_modules/express/lib/router/layer.js:95:5)
        at trim_prefix (/Users/cerulean/Documents/Projects/express-locallibrary-tutorial/node_modules/express/lib/router/index.js:317:13)
        at /Users/cerulean/Documents/Projects/express-locallibrary-tutorial/node_modules/express/lib/router/index.js:284:7
        at Function.process_params (/Users/cerulean/Documents/Projects/express-locallibrary-tutorial/node_modules/express/lib/router/index.js:335:12)
        at next (/Users/cerulean/Documents/Projects/express-locallibrary-tutorial/node_modules/express/lib/router/index.js:275:10)
        at /Users/cerulean/Documents/Projects/express-locallibrary-tutorial/node_modules/express/lib/router/index.js:635:15
        at next (/Users/cerulean/Documents/Projects/express-locallibrary-tutorial/node_modules/express/lib/router/index.js:260:14)
        at Function.handle (/Users/cerulean/Documents/Projects/express-locallibrary-tutorial/node_modules/express/lib/router/index.js:174:3)
        at router (/Users/cerulean/Documents/Projects/express-locallibrary-tutorial/node_modules/express/lib/router/index.js:47:12)
        at Layer.handle [as handle_request] (/Users/cerulean/Documents/Projects/express-locallibrary-tutorial/node_modules/express/lib/router/layer.js:95:5)
        at trim_prefix (/Users/cerulean/Documents/Projects/express-locallibrary-tutorial/node_modules/express/lib/router/index.js:317:13)
        at /Users/cerulean/Documents/Projects/express-locallibrary-tutorial/node_modules/express/lib/router/index.js:284:7
</code></pre>
",<javascript><node.js><express><npm>,1.0,0,0,1
14003,14003,44874955,1,44874980,8245353,2.0,0.0,0.0,0.0,2017-07-02T20:31:03.210,-1.0,1679.0,Error: Most middleware (like bodyParser) is no longer bundled with ExpressJs,"<p>I keep getting the above error when trying to run my app, can't figure out what package I haven't added..</p>

<p>The server was working perfectly fine before adding this document, so im hoping its an issue with this document and not something else.</p>

<p>Its a npm called node-scheduler</p>

<pre><code>var express = require('express');
var router = express.Router()
var path = require('path');
var bodyParser = require('body-parser');

var db = require('mongoskin').db(""localhost/awl-loan-system"", { w: 0});
db.bind('event');


var app = express();
app.use(express.static(path.join(__dirname, 'public')));
app.use(express.bodyParser());


app.get('/init', function(req, res){
db.event.insert({ 
    text:""My test event A"", 
    start_date: new Date(2013,8,1),
    end_date:   new Date(2013,8,5)
});
db.event.insert({ 
    text:""My test event B"", 
    start_date: new Date(2013,8,19),
    end_date:   new Date(2013,8,24)
});
db.event.insert({ 
    text:""Morning event"", 
    start_date: new Date(2013,8,4,4,0),
    end_date:   new Date(2013,8,4,14,0)
});
db.event.insert({ 
    text:""One more test event"", 
    start_date: new Date(2013,8,3),
    end_date:   new Date(2013,8,8),
    color: ""#DD8616""
});

res.send(""Test events were added to the database"")
});


app.get('/data', function(req, res){
db.event.find().toArray(function(err, data){
    //set id property for all records
    for (var i = 0; i &lt; data.length; i++)
        data[i].id = data[i]._id;

    //output response
    res.send(data);
});
});


app.post('/data', function(req, res){
var data = req.body;
var mode = data[""!nativeeditor_status""];
var sid = data.id;
var tid = sid;

delete data.id;
delete data.gr_id;
delete data[""!nativeeditor_status""];


function update_response(err, result){
    if (err)
        mode = ""error"";
    else if (mode == ""inserted"")
        tid = data._id;

    res.setHeader(""Content-Type"",""text/xml"");
    res.send(""&lt;data&gt;&lt;action type='""+mode+""' sid='""+sid+""' tid='""+tid+""'/&gt;
&lt;/data&gt;"");
}

if (mode == ""updated"")
    db.event.updateById( sid, data, update_response);
else if (mode == ""inserted"")
    db.event.insert(data, update_response);
else if (mode == `enter code here`""deleted"")
    db.event.removeById( sid, update_response);
else
    res.send(""Not supported operation"");
});
</code></pre>

<p>returning this error</p>

<pre><code>D:\One31\Clients\A W Lymn\node_modules\express\lib\express.js:107
  throw new Error('Most middleware (like ' + name + ') is no longer bundled 
with Express and must be installed separately. Please see 
https://github.com/senchalabs/connect#middleware.');
       ^

Error: Most middleware (like bodyParser) is no longer bundled with Express 
and must be installed separately. Please see 
https://github.com/senchalabs/connect#middleware.
 at Function.get (D:\One31\Clients\A W 
Lymn\node_modules\express\lib\express.js:107:13)
 at Object.&lt;anonymous&gt; (D:\One31\Clients\A W Lymn\routes\calendar.js:12:16)
 at Module._compile (module.js:570:32)
 at Object.Module._extensions..js (module.js:579:10)
 at Module.load (module.js:487:32)
 at tryModuleLoad (module.js:446:12)
 at Function.Module._load (module.js:438:3)
 at Module.require (module.js:497:17)
 at require (internal/module.js:20:19)
 at Object.&lt;anonymous&gt; (D:\One31\Clients\A W Lymn\routes\index.js:6:16)
 at Module._compile (module.js:570:32)
 at Object.Module._extensions..js (module.js:579:10)
 at Module.load (module.js:487:32)
 at tryModuleLoad (module.js:446:12)
 at Function.Module._load (module.js:438:3)
 at Module.require (module.js:497:17)
</code></pre>

<p>Any help?</p>
",<node.js><express><npm><keystone>,0.0,0,0,1
14025,14025,44894789,1,0,6872245,2.0,6.0,0.0,0.0,2017-07-03T23:00:12.560,7.0,10830.0,Node js express-session creating new session id every time I refresh or access the page,"<p>I am facing the issue : on every request new sessionID is getting created. Can someone throw light at this ?</p>

<p>Versions I am using:</p>

<p>NODE VERSION:   v6.10.3
NPM VERSION:    3.10.10
express@4.15.3 
express-session@1.15.3</p>

<p>Also what is the default value for maxAge if I am not setting the cookie specifically ? Not sure if its required.</p>

<p>Do you see any issue with the code below ? Please assist as I am stuck.</p>

<pre><code>      var app = express();
        app.use(express.static(path.join(__dirname, 'landing')));
        app.use(bodyparser.json());
        app.set('trust proxy', 1) // trust first proxy
        app.use(session({
        secret: 'keyboard cat',
        resave: false,
        saveUninitialized: true,
        cookie: {secure: true}
    }))

    app.get('/', function (req, res) {
        res.sendFile(path.join(__dirname, 'landing', 'index.html'));
    });


    var contextPath = '/myportal';

    //UI url
    app.get(contextPath, function (req, res) {
        var reqValues;
              logger.info(""req sessionID is :::"" + req.sessionID);
           // do something
                } 
        app.use(express.static(path.join(__dirname, 'build'))); //react UI path
        res.sendFile(path.join(__dirname, 'build', 'index.html'));
  }    

    //health check url
    app.get(contextPath + '/health', function (req, res) {
        logger.info(""env is "" + env);
        logger.info(""myportal health is ok"");
        res.send('Health Ok!\n');
    });
</code></pre>
",<node.js><npm><sessionid><express-session>,0.0,0,0,1
14098,14098,44972148,1,44972195,3861965,1.0,1.0,0.0,0.0,2017-07-07T13:34:23.053,3.0,6225.0,Exposing a port other than 3000 with Express and Docker,"<p>I'm using Docker to run an Express app and everything is fine if I run it on port 3000. The Dockerfile I'm using for that is </p>

<pre><code>FROM node:boron

# Create app directory
RUN mkdir -p /usr/src/app
WORKDIR /usr/src/app

# Install app dependencies
COPY package.json /usr/src/app/
RUN npm install

# Bundle app source
COPY . /usr/src/app

EXPOSE 3000
CMD [""npm"", ""start"" ]
</code></pre>

<p>I now wanted to run it on port 3500. I adjusted the Dockerfile to</p>

<pre><code>FROM node:boron

# Create app directory
RUN mkdir -p /usr/src/app
WORKDIR /usr/src/app

# Install app dependencies
COPY package.json /usr/src/app/
RUN npm install

# Bundle app source
COPY . /usr/src/app

EXPOSE 3500
CMD [""PORT=3500"", ""npm"", ""start"" ]
</code></pre>

<p>and the docker run command to </p>

<p><code>docker run -p 3500:3500 me/myapp</code></p>

<p>It throws the following error </p>

<p><code>container_linux.go:262: starting container process caused ""exec: \""PORT=3500\"": executable file not found in $PATH""</code></p>

<p>I'm sure this is something basic but I'm new to this and couldn't find the solution by googling it. A pointer in the right direction would be very much appreciated.</p>
",<express><docker><npm><port>,0.0,0,0,1
14150,14150,45029826,1,0,8247431,2.0,1.0,0.0,0.0,2017-07-11T08:56:05.353,12.0,40050.0,Unexpected end of json input in Node.js,"<p>I have Json data which I receive it as post data in my node.js server.</p>

<p>But the problem is, its not able to parse the string I sent.Here is my node.js server code. </p>

<pre><code>res.header(""Access-Control-Allow-Origin"", ""*"");
  req.on('data',function(data)
  {
    var done=false;
    console.log(data);
    var schema;

    schema=JSON.parse(data);
   }
</code></pre>

<p>Here I get the error when I parse the json data(data).</p>

<pre><code>undefined:776



SyntaxError: Unexpected end of JSON input
    at JSON.parse (&lt;anonymous&gt;)
    at IncomingMessage.&lt;anonymous&gt; (/Users/as6/Documents/test/server.js:206:17)
    at emitOne (events.js:115:13)
    at IncomingMessage.emit (events.js:210:7)
    at IncomingMessage.Readable.read (_stream_readable.js:462:10)
    at flow (_stream_readable.js:833:34)
    at resume_ (_stream_readable.js:815:3)
    at _combinedTickCallback (internal/process/next_tick.js:102:11)
    at process._tickCallback (internal/process/next_tick.js:161:9)
</code></pre>

<p>I verified JSON data using JSONLint for syntax errors.But it was absolutely fine. I dont know what's wrong and how to correct it.</p>
",<json><node.js><express><npm>,1.0,0,0,1
14183,14183,45054849,1,0,7196144,0.0,3.0,0.0,0.0,2017-07-12T10:15:35.300,1.0,2074.0,How to use bulma css that was installed from npm?,"<p>I installed express from express-generator by <code>express --view=pug --css=sass --git</code>. After this i maked <code>npm init</code> and <code>npm install bulma</code>. I followed guide. When I tryed to import styles with <code>@import ""../../node_modules/bulma/sass/utilities/variables""</code> - no errors, and all looks fine. But, when i tryed to import bulma with <code>@import ""../../node_modules/bulma/bulma""</code> my css dont want to compile. In the first i thinked that i made wrong way when import, and thas why i installed WebStorm. But all looks done well.</p>

<p>Code of my error in CLI</p>

<pre><code>GET / 304 309.700 ms - -
GET /stylesheets/style.css 500 34.217 ms - 939
RangeError: Invalid status code: 1
    at ServerResponse.writeHead (_http_server.js:195:11)
    at ServerResponse.writeHead (D:\websites\chat\node_modules\on-headers\index.js:55:19)
    at ServerResponse._implicitHeader (_http_server.js:159:8)
    at ServerResponse.end (_http_outgoing.js:621:10)
    at ServerResponse.send (D:\websites\chat\node_modules\express\lib\response.js:205:10)
    at done (D:\websites\chat\node_modules\express\lib\response.js:956:10)
    at Object.exports.renderFile (D:\websites\chat\node_modules\pug\lib\index.js:422:12)
    at View.exports.__express [as engine] (D:\websites\chat\node_modules\pug\lib\index.js:465:11)
    at View.render (D:\websites\chat\node_modules\express\lib\view.js:126:8)
    at tryRender (D:\websites\chat\node_modules\express\lib\application.js:639:10)
</code></pre>
",<node.js><express><npm><bulma>,1.0,0,0,1
14259,14259,45135294,1,0,6316804,0.0,2.0,0.0,0.0,2017-07-17T02:51:35.963,0.0,177.0,Error in express even after installing nodemon and express through npm,"<p>i have provided package.json and then express as dependency and then install both nodemon and express through npm but when i run it through nodemon as</p>

<pre><code>PS E:\Web Work\nodejs&gt; nodemon routing.js
</code></pre>

<p>THE Error its Show is that</p>

<pre><code>[nodemon] 1.11.0
[nodemon] to restart at any time, enter `rs`
[nodemon] watching: *.*
[nodemon] starting `node routing.js`
events.js:160
throw er; // Unhandled 'error' event
 ^
Error: spawn cmd ENOENT
at exports._errnoException (util.js:1018:11)
at Process.ChildProcess._handle.onexit (internal/child_process.js:193:32)
at _combinedTickCallback (internal/process/next_tick.js:80:11)
at process._tickCallback (internal/process/next_tick.js:104:9)
at onErrorNT (internal/child_process.js:367:16)
</code></pre>
",<node.js><express><npm><routes><nodemon>,1.0,0,0,1
14298,14298,45172318,1,0,4790452,1.0,0.0,0.0,0.0,2017-07-18T16:21:55.643,1.0,2356.0,xdg-open: no method available for opening 'http://localhost:9000' on Server,"<p>I am using cloud digital server with IP  <a href=""http://192.241.160.194"" rel=""nofollow noreferrer"">http://192.241.160.194</a> with Dokku &amp; OS Ubuntu 16.04.</p>

<p>I have to deploy a mean stack project on this server. On my local machine I am using grunt server to run this project. On my local system i am using Ubuntu 16.04.</p>

<p>On server I have Installed npm, bower, nodejs, grunt server and mongodb successfully. But When I want to run grunt server. It gives me below error.</p>

<pre><code>Running ""open:server"" (open) task

Running ""watch"" task
Waiting...
Warning: Command failed: /bin/sh -c /root/Test/node_modules/open/vendor/xdg-open ""http://localhost:9000""
Error: GDK_BACKEND does not match available displays
xdg-open: no method available for opening 'http://localhost:9000'
</code></pre>

<p>I have tried both of these commands:</p>

<ol>
<li><code>grunt serve</code></li>
<li><code>grunt serve --force</code></li>
</ol>

<p>I have also installed browser on server. Also try to reinstall grunt-cli but found same error. How can I fix this?</p>
",<express><npm><server><gruntjs><mean-stack>,0.0,0,0,1
14564,14564,45438000,1,0,3950984,0.0,0.0,0.0,0.0,2017-08-01T12:36:08.587,2.0,525.0,Swagger-ui 3.x not creating index.html after building dist,"<p>I'm trying to using <a href=""https://github.com/swagger-api/swagger-ui"" rel=""nofollow noreferrer"">swagger-ui</a> to document my node.js API. I have cloned the latest repository (3.x) into my repository. When i run <code>sudo npm run build</code> to create the dist folder, it generates several files but it doesn't create index.html . The files it is generating are:</p>
<p><em>swagger-ui.css,swagger-ui.css.map, swagger-ui.js, swagger-ui.js.map, swagger-ui-bundle.js, swagger-ui-bundle.js.map, swagger-ui-standalone-preset.js, swagger-ui-standalone-preset.js.map</em></p>
<p><code>sudo npm run dev </code> runs the development server correctly.</p>
",<node.js><npm><swagger-ui><swagger-node-express>,0.0,0,0,1
14602,14602,45479473,1,45480052,5967972,3.0,0.0,0.0,0.0,2017-08-03T08:58:05.370,5.0,7920.0,Log4js javascript create daily log file,"<p>I have a project nodejs and use log4js to write log.
I want create new file log when start new date. <br/>
<b>Example: <br/> 
daily.2017_07_31.log <br/>
daily.2017_08_01.log <br/>
daily.2017_08_02.log <br/>
daily.2017_08_03.log <br/>
</b>
<br/>
In java, I know config log4j but in nodejs with log4js I don't know.
Thank every body for your help :)</p>
",<node.js><express><npm><log4js-node>,0.0,0,0,1
14648,14648,45526010,1,45526108,8422583,2.0,4.0,0.0,0.0,2017-08-05T20:13:21.780,0.0,2034.0,Unable to run 'npm start' in Mac,"<p>I am trying to run the following command ""npm start"" however it throws the following error:</p>

<pre><code>internal/net.js:17
    throw new RangeError('""port"" argument must be &gt;= 0 and &lt; 65536');
    ^

RangeError: ""port"" argument must be &gt;= 0 and &lt; 65536
    at assertPort (internal/net.js:17:11)
    at Server.listen (net.js:1389:5)
    at EventEmitter.listen (/Users/keyurshah/fulljs/node_modules/express/lib/application.js:617:24)
    at Object.&lt;anonymous&gt; (/Users/keyurshah/fulljs/server.js:10:8)
    at Module._compile (module.js:570:32)
    at loader (/Users/keyurshah/fulljs/node_modules/babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/Users/keyurshah/fulljs/node_modules/babel-register/lib/node.js:154:7)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
[nodemon] app crashed - waiting for file changes before starting...
</code></pre>
",<node.js><express><npm><npm-start>,1.0,0,0,1
14661,14661,45544726,1,0,5438060,7.0,0.0,0.0,0.0,2017-08-07T10:27:07.670,10.0,21858.0,How to use nodemon with express js while npm start?,"<p>I want to use <strong>nodemon</strong> to automatically detect changes in my scripts in node.js project and restart when change detected. I have my project setup using <strong>express.js</strong>. How to use nodemon with express.js, so that when i type <code>npm start</code>, nodemon initiates itself.</p>
",<node.js><express><npm><nodemon>,0.0,0,0,1
14687,14687,45578402,1,45578613,5800637,1.0,2.0,0.0,0.0,2017-08-08T21:36:29.000,0.0,738.0,render another view after rendering a previous view in node.js with express,"<p>I am working on a node.js and express.js app.</p>

<p>I have router configured as:</p>

<pre><code>var express = require('express');
var router = express.Router();

router.get('/', function(req, res, next) {

   // on load

   res.render('mail', { title: ""this is the title."" });

   // after some more funcitonality redirect/render a new view

 If(condition == 'success'){

   res.render('sent', { title: ""this is the   title."" });

   // or

   res.redirect('/sent');

  }


});
</code></pre>

<p>Now the problem is when I render a new view based on the condition after rendering the first view or if I redirect to a new route after rendering the first view, I get</p>

<pre><code>Headers cannot be set after they have been sent error
</code></pre>

<p>The execution though continues but the view is not loaded and the page is not redirected.</p>

<p>Any help to overcome this issue will be much appreciated.</p>
",<node.js><express><npm>,0.0,0,0,1
14914,14914,45801411,1,0,4775465,0.0,3.0,0.0,0.0,2017-08-21T16:00:04.960,2.0,664.0,NPM Global Package CLI not found in OSX terminal,"<p>I'm having an issue when installing express and express-generator and trying to use the express cli to generate stuff. </p>

<p>Everything goes great when I use <code>npm install -g express</code> and <code>npm install -g express-generator</code>, but after restarting terminal, but I can't use <code>express</code> <a href=""http://expressjs.com/en/starter/generator.html"" rel=""nofollow noreferrer"">as per the express docs</a></p>

<p>After a bit of investigation, I've found that <code>express</code> and <code>express-generator</code> are bing installed to:</p>

<p><code>/usr/local/lib/node_modules/node/lib/node_modules</code></p>

<p>However, the only packages that work on my machine (like Yeoman, Grunt, stuff I regularly use without issue) is installed here:</p>

<p><code>/usr/local/lib/node_modules/</code></p>

<p>So what's the deal here? Why are my <code>install -g</code> packages going into a <code>node/lib/node_modules</code>?</p>

<p>I've tried using <code>export PATH=/usr/local/lib/node_modules/node/lib/node_modules:$PATH</code> in my <code>.bash_profile</code>, as well, but that doesn't seem to help me out here.</p>
",<node.js><macos><express><npm><command-line-interface>,0.0,0,0,1
14946,14946,45835919,1,0,2975042,0.0,6.0,0.0,0.0,2017-08-23T09:32:31.360,0.0,33.0,Transferring Node system to new server getting configure is not a function error,"<p>I am transferring my code from one server to a new server and I keep getting the same error. I am not sure why as these servers are the same and should be almost identical, the code works on Server A but on server B I get this error.</p>

<blockquote>
  <p><em>./router</em> is empty, Never needed</p>
</blockquote>

<p><strong>Error</strong> </p>

<pre><code>TypeError: configure is not a function
    at Object.&lt;anonymous&gt; (/var/www/html/mm3/controller.js:15:1)
    at Module._compile (module.js:410:26)
    at Object.Module._extensions..js (module.js:417:10)
    at Module.load (module.js:344:32)
    at Function.Module._load (module.js:301:12)
    at Function.Module.runMain (module.js:442:10)
    at startup (node.js:136:18)
    at node.js:966:3
</code></pre>

<p><strong>My node server file</strong> </p>

<pre><code>""use strict"";
var fs = require('fs');
var mkdirp = require('mkdirp');
var archiver = require('archiver');
var server = require('http').Server(app); // not sure what this is ?
var configure = require('./router');
var express = require('express');
var request = require('request');
var nodePardot = require('node-pardot');
var bodyParser = require('body-parser');
var rp = require('request-promise');
var app = express();
var port = process.env.PORT || 3331;
var router = express.Router();
configure(router);
var password = 'd.0s../d9';
var userkey = 'hgsydghdupi';
var emailAdmin = 'fs@fee.co.uk';

app.use(bodyParser.urlencoded({limit: '100mb',extended: true}));
app.use(bodyParser.json({limit: '100mb'}));
app.use(express.static('/public'));
app.use(express.static('/js'));
app.use(express.static('/tmp'));
app.use(express.static('/img'));
app.use(express.static('/css'));
app.get('/mm3', function(req, res){
    res.sendfile(__dirname +'/index.html')
});

app.listen(port);

console.log('Test server started! At http://localhost:' + port); // Confirms server start

app.post('/mm3/savePhotos', function (req, res) {
    var folder = Math.random().toString(36).substr(2, 20);
    var photos = req.body;
    var counts = 0;
    var callback = function(counts){
        if(counts &lt; photos.length){
            saveBase64(photos[counts],folder,counts,callback);
        }else{
            var response = {""folder"":folder, ""photos"": photos.length};
            res.send(response)
        }
    };
    saveBase64(photos[counts],folder,counts,callback);
});

app.post('/mm3/downloadZip', function(req, res){
    var photos = req.body;
    var out =  photos[0];
    var test = out.split('/');
    var loc  = test.pop();
    var end =  test.join('/');
    var outName = '/var/www/html' + end +'/MockUp.zip';
    var output = fs.createWriteStream(outName);
    var archive = archiver('zip', {store: true });
    var zip = function(photos, f){
        for(var t = 0; t &lt; photos.length; t++){
            var file = 'mockUp'+ t +'.jpg';
            var from = '/var/www/html' +  photos[t];
            archive.file( from, { name: file });
        }
        f();
    };

    output.on('close', function() {
        var photos = req.body;
        var out =  photos[0];
        var test = out.split('/');
        var loc  = test.pop();
        var end =  test.join('/');
        res.send(end + '/MockUp.zip');
    });
    archive.on('error', function(err) {
        throw err;
    });

    archive.pipe(output);
    zip(photos, f);
    function f(){
        archive.finalize();
    }
});
</code></pre>
",<node.js><express><npm><server>,1.0,0,0,1
14964,14964,45853059,1,0,2549787,0.0,3.0,0.0,0.0,2017-08-24T04:39:01.467,2.0,883.0,Most middleware (like session) is no longer bundled with Express and must be installed separately,"<p>I'm trying to execute <code>npm run dev</code> whenever I execute this, I get this error</p>

<pre><code>Most middleware (like session) is no longer bundled with Express and must be installed separately. Please see https://github.com/senchalabs/connect#middleware.
</code></pre>

<p>I was searching for similar question and found this post.
<a href=""https://stackoverflow.com/questions/27016981/node-js-error-most-middleware-like-session-is-no-longer-bundled-with-express"">Node js Error: Most middleware (like session) is no longer bundled with Express and must be installed separately</a></p>

<p>I did <code>npm install connect</code> and <code>npm install express-session</code>, but still I keep getting the same error.</p>

<p>Node Version: v6.10.3 <br/>
NPM Version: v5.4.0</p>
",<node.js><session><express><npm>,0.0,0,0,1
15065,15065,45970441,1,0,8540379,0.0,0.0,0.0,0.0,2017-08-30T22:11:11.353,1.0,161.0,node-gallery does not work anymore,"<p>I'm trying to use node-gallery module.</p>

<p>When I'm using code</p>

<pre><code>  app.use('/gallery', require('node-gallery')({
  staticFiles : 'resources/photos',
  urlRoot : 'gallery', 
  title : 'Example Gallery'
}));
</code></pre>

<p>It works fine, but when I'm trying to write my own function using</p>

<pre><code>  app.use('/gallery', require('node-gallery')({
  staticFiles : 'resources/photos',
  urlRoot : 'gallery', 
  title : 'Example Gallery',
  render : false
}), function(req, res, next){

  //my func, for example:
  console.log(""test"");
  //return res.send(req.html);
});
</code></pre>

<p>it does not work, function is just not executed...
Documentation:
<a href=""https://www.npmjs.com/package/node-gallery"" rel=""nofollow noreferrer"">https://www.npmjs.com/package/node-gallery</a>
Please help me.
Thank you.</p>
",<node.js><express><npm>,0.0,0,0,1
15114,15114,46008828,1,46014801,0,2.0,1.0,0.0,0.0,2017-09-01T22:46:39.883,1.0,1773.0,Trying to run a script with Express on localhost:3000,"<p>Stuck on my first attempt at a basic app. Scraper.js scrapes a URL and writes the returned array to the document obj when run alone in console, so that part works. Now all I want is an Express server to run the script whenever I open localhost:3000 but not sure how to do so.</p>

<pre><code>|node_modules
|package.json
|public
|-index.html  (boilerplate HTML. Not importing anything)
|src
|-scraper.js
|index.js
</code></pre>

<p>index.js:</p>

<pre><code>var scraperjs = require('scraperjs');
var express = require('express');
var app = express()

app.use(express.static(__dirname + '/public'));
app.listen(3000); 
</code></pre>

<p>--</p>

<p>scraper.js:</p>

<pre><code>scraperjs.StaticScraper.create('https://examplesite.com/')
    .scrape(function($) {
        return $("".entry-content p"").map(function() {
              var content =  $(this).html();
              return content
            }
       }).get();
    })
    .then(function(data) {
        ... // eventually will write the items returned from the data array to div's
        } 
 });
</code></pre>
",<javascript><node.js><express><npm>,0.0,0,0,1
15122,15122,46016587,1,0,0,1.0,0.0,0.0,0.0,2017-09-02T17:50:15.650,0.0,63.0,How to pass this module's data into index.ejs with Express?,"<p>Stuck on my first very basic app. The 'heavy lifting' works: the scrape.scrape(); function imports a module, which  returns an array of strings (by scraping an external site).</p>

<p>When I run 'node index.js', I see the array being returned in terminal, and when I  open localhost:3000 it just 'hello world'. But if I open devtools on this localhost index page, there's nothing being logged in console.</p>

<p>index.js</p>

<pre><code>var scrape = require('./src/scraper');
var express = require('express');
var app = express();

scrape.scrape();     
// returns ['headline one','headline two', etc...]. Trying to pass this data to index.ejs 


app.set('port', process.env.PORT || 3000);

app.get('/', function(req, res) {
    res.render('index.ejs');
});
</code></pre>

<p>/views/index.ejs</p>

<pre><code>&lt;body&gt;hello world&lt;/body&gt;
</code></pre>
",<express><npm><ejs>,0.0,0,0,1
15130,15130,46023100,1,0,6463165,1.0,0.0,0.0,0.0,2017-09-03T11:43:06.640,1.0,464.0,Node.js app crashes on deploying to Heroku,"<p>I have a Node.js app which runs well locally, but when I deploy it on Heroku, it doesn't run.</p>

<p>I have deployed it from my Github repository.</p>

<p>Can some one try deploying the app from my repo and tell me what the cause of the problem is?</p>

<p><a href=""https://github.com/vverma508/MyGallary.git"" rel=""nofollow noreferrer"">Git repository link-MyGallary</a></p>

<p>Logs:</p>

<pre><code>2017-09-03T12:22:17.683830+00:00 heroku[web.1]: State changed from crashed to starting
2017-09-03T12:22:18.878329+00:00 heroku[web.1]: Starting process with command `: node run start`
2017-09-03T12:22:20.670131+00:00 heroku[web.1]: Process exited with status 0
2017-09-03T12:22:20.682348+00:00 heroku[web.1]: State changed from starting to crashed
2017-09-03T12:24:19.679927+00:00 heroku[web.1]: State changed from crashed to starting
2017-09-03T12:24:20.918678+00:00 heroku[web.1]: Starting process with command `: node run start`
2017-09-03T12:24:23.583966+00:00 heroku[web.1]: Process exited with status 0
2017-09-03T12:24:23.595826+00:00 heroku[web.1]: State changed from starting to crashed
Disconnected from log stream. There may be events happening that you do not see here! Attempting to reconnect...
2017-09-03T12:24:19.679927+00:00 heroku[web.1]: State changed from crashed to starting
2017-09-03T12:24:20.918678+00:00 heroku[web.1]: Starting process with command `: node run start`
2017-09-03T12:24:23.583966+00:00 heroku[web.1]: Process exited with status 0
2017-09-03T12:24:23.595826+00:00 heroku[web.1]: State changed from starting to crashed
2017-09-03T12:33:34.507063+00:00 heroku[web.1]: Process exited with status 0
2017-09-03T12:39:41.420058+00:00 heroku[router]: at=error code=H10 desc=""App crashed"" method=GET path=""/"" host=mygallary.herokuapp.com request_id=10a1d1e0-5b5f-45f7-b65c-efdb8d6e9b3f fwd=""106.51.243.120"" dyno= connect= service= status=503 bytes= protocol=https
2017-09-03T12:39:42.764416+00:00 heroku[router]: at=error code=H10 desc=""App crashed"" method=GET path=""/favicon.ico"" host=mygallary.herokuapp.com request_id=5ff09ee3-26d7-44a6-8556-f4e5d19a0ce5 fwd=""106.51.243.120"" dyno= connect= service= status=503 bytes= protocol=https
</code></pre>

<p>Thanks in advance.</p>
",<node.js><express><heroku><npm><ejs>,0.0,0,0,1
15162,15162,46057684,1,46104333,1018874,1.0,2.0,0.0,0.0,2017-09-05T14:40:06.253,1.0,1553.0,node.js express dns lookup to use ipv4 always,"<p>Is there a way to have the express.js server always use do a dns look up for  IPV4 addresses instead of both IPv4 and IPV6 addresses? </p>

<p>Like we do this in a java JVM by setting the parameter java.net.preferIPv4Stack=true</p>

<p>I am looking to do this for outgoing requests, when my add is making outbound service calls. My app uses <a href=""https://www.npmjs.com/package/request"" rel=""nofollow noreferrer"">request npm package</a> and it uses <a href=""https://nodejs.org/api/net.html"" rel=""nofollow noreferrer"">net npm package</a> and it uses <a href=""https://nodejs.org/api/dns.html#dns_dns_lookup_hostname_options_callback"" rel=""nofollow noreferrer"">dns npm package</a>. The dns package has an option to set the IP family which can be 4 or 6. I think this will do what i want if i set it to 4. </p>

<p>Now the question is, how to pass this option from my app to be applied to this npm package at runtime.</p>
",<node.js><express><dns><npm-request>,0.0,0,0,1
15336,15336,46230745,1,46235580,8085808,2.0,0.0,0.0,0.0,2017-09-15T02:19:31.463,0.0,578.0,Sending IP in the request header NPM,"<p>I am trying to send the server's IP (in this case, my computers public IP) to another server in a HTTPS request to get access to their API. I have completed the server authentication and I have my bearer token. I am using an Express and NPM for server side programming. I am getting my IP address as follows:</p>

<pre><code>var ipAddress;
publicIp.v4().then(ip =&gt; {
  ipAddress = ip;
  console.log(ip);
});
</code></pre>

<p>I am making my request as follows.</p>

<pre><code>request({

  //Set the request Method:
  method: 'POST',
  //Set the headers:
  headers: {
    'Content-Type': 'application/json',
    'Authorization': ""bearer ""+ token,  //Bearer Token
    'X-Originating-Ip': ipAddress  //IP Address
  },
  //Set the URL:
  url: 'end point url here',
  //Set the request body:
  body: JSON.stringify( 'request body here'
  }),
}, function(error, response, body){

  //Alert the response body:
  console.log(body);
  console.log(response.statusCode);
 });
}
</code></pre>

<p>I am getting a 401 error. I have done research and I believe its something to do with sending the IP address. Am I sending it correctly in the header?</p>
",<node.js><api><express><npm><npm-request>,0.0,0,0,1
15364,15364,46257137,1,0,6414669,0.0,7.0,0.0,0.0,2017-09-16T18:27:05.753,0.0,610.0,'reference error:routes is not defined' in npm start,"<p>I am a beginner in node.js and express and I have been following <a href=""http://cwbuecheler.com/web/tutorials/2013/node-express-mongo/"" rel=""nofollow noreferrer"">http://cwbuecheler.com/web/tutorials/2013/node-express-mongo/</a> as a reference to get started.
I am building a small app to display data from my mongodb collection using jade.However,i get these errors in <strong>npm start</strong>.</p>

<pre><code>&gt; nodetest1@0.0.0 start C:\node\nodetest1
&gt; node ./bin/www

{ Error: Cannot find module '../build/Release/bson'
    at Function.Module._resolveFilename (module.js:469:15)
    at Function.Module._load (module.js:417:25)
    at Module.require (module.js:497:17)
    at require (internal/module.js:20:19)
    at Object.&lt;anonymous&gt; (C:\node\nodetest1\node_modules\bson\ext\index.js:15:10)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3) code: 'MODULE_NOT_FOUND' }
js-bson: Failed to load c++ bson extension, using pure JS version
C:\node\nodetest1\app.js:50
app.use('/', routes);
             ^


ReferenceError: routes is not defined
at Object.&lt;anonymous&gt; (C:\node\nodetest1\app.js:50:14)
at Module._compile (module.js:570:32)
at Object.Module._extensions..js (module.js:579:10)
at Module.load (module.js:487:32)
at tryModuleLoad (module.js:446:12)
at Function.Module._load (module.js:438:3)
at Module.require (module.js:497:17)
at require (internal/module.js:20:19)
at Object.&lt;anonymous&gt; (C:\node\nodetest1\bin\www:7:11)
at Module._compile (module.js:570:32)

npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! nodetest1@0.0.0 start: `node ./bin/www
enter code here`npm ERR! Exit status 1
enter code here`npm ERR!
enter code here`npm ERR! Failed at the nodetest1@0.0.0 start script.
enter code here`npm ERR! This is probably not a problem with npm. There is likely additional code logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\Admin\AppData\Roaming\npm-cache\_logs\2017-09-16T17_48_47_843Z-debug.log
PS C:\node\nodetest1&gt;
</code></pre>

<p>I tried searching for the error in npm Official Docs but and even updated my npm to the latest version.But this is the latest set of errors I am getting.No Clues.
Any help or hint would be highly helpful.</p>
",<node.js><express><npm><npm-start>,1.0,0,0,1
15416,15416,46315318,1,46317641,405383,1.0,0.0,0.0,0.0,2017-09-20T07:02:49.730,0.0,144.0,UNMET PEER Dependency of sinon while installing express.js,"<p>Getting dependency warning at the time of installing following modules</p>

<pre><code> express.js 
 ejs 
 body-parse
</code></pre>

<p>and the warning is shown in below image :</p>

<p><a href=""https://i.stack.imgur.com/n3QNT.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/n3QNT.png"" alt=""warning while installing ejs ""></a></p>

<p>I tried to hunt for the solution but could not get the appropriate solution. However I tried to install <code>npm install - sinon</code> but still no luck. </p>

<p>Following are the installed module :</p>

<p><a href=""https://i.stack.imgur.com/RWCFf.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/RWCFf.png"" alt=""enter image description here""></a></p>
",<node.js><express><npm-install><sinon>,0.0,0,0,1
15503,15503,46406192,1,0,7597368,1.0,5.0,0.0,0.0,2017-09-25T13:14:54.560,-2.0,1242.0,Trying to start my node js application using Mlab mongodb,"<p>So I followed a tutorial on youtube and created a project using node js, express in VS Code and a local mongodb. Went fine. Next step: Use a db in Mlab(Cloud mongodb) instead of your local db. Done and done, I can see products from my seeder in Mlab. 
Thing is, now I would like to actually go in to the site (which was a localhost:5000) and add some users etc, to see what happens. So I go about it like I usually do ""npm start"" ""localhost"" in chrome, and it gives me the localhost I have been using, but it just keeps loading before finally timing out. How do I visit my site?</p>

<p>I get this error from my browser ""ERR_CONNECTION_REFUSED"" OR ""ERR_EMPTY_RESPONSE"" when I connect to localhost. No console errors.</p>

<p><strong>Here is my github repo if you want to see everything (username/pass is not active anymore): <a href=""https://github.com/KarbelIlias/Node.js-Express-MongoD-app"" rel=""nofollow noreferrer"">https://github.com/KarbelIlias/Node.js-Express-MongoD-app</a></strong></p>

<p>this is my app.js connecting to mlab db</p>

<pre><code>var express = require('express');
var path = require('path');
var favicon = require('serve-favicon');
var logger = require('morgan');
var cookieParser = require('cookie-parser');
var bodyParser = require('body-parser');
var expressHbs = require('express-handlebars');
var mongoose = require('mongoose');
var session = require('express-session');
var passport = require('passport');
var flash = require('connect-flash');
var validator = require('express-validator');
var MongoStore = require('connect-mongo')(session);

var url = 'mongodb://Chabbe:XXXX@ds143754.mlab.com:43754/gamestore';

var options = { server: { socketOptions: { keepAlive: 300000, connectTimeoutMS: 30000 } }, 
                replset: { socketOptions: { keepAlive: 300000, connectTimeoutMS : 30000 } } };
// mongoose.connect(url,options);
mongoose.createConnection(url, options);
var conn = mongoose.connection;
conn.on('error', console.error.bind(console, 'connection error:')); 
conn.once('open', function() {
  // Wait for the database connection to establish, then start the app.                         
console.log('db connection established');
});

var index = require('./routes/index');
var userRoutes = require('./routes/user');

var app = express();  

require('./config/passport');
require('./models/product-seeder');

// view engine setup
app.engine('.hbs', expressHbs({defaultLayout: 'layout', extname: '.hbs'}));
app.set('view engine', '.hbs');

// uncomment after placing your favicon in /public
//app.use(favicon(path.join(__dirname, 'public', 'favicon.ico')));
app.use(logger('dev'));
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({ extended: false }));
app.use(validator());
app.use(cookieParser());

app.use(session({
  secret: 'myCurrentSession', 
  resave: false, 
  saveUninitialized: false,
  store: new MongoStore({ mongooseConnection: conn }),
  cookie: { maxAge: 10 * 60 * 1000 }
}));
app.use(flash());
app.use(passport.initialize());
app.use(passport.session());
app.use(express.static(path.join(__dirname, 'public')));

app.use(function(req, res, next) {
  res.locals.login = req.isAuthenticated();
  res.locals.session = req.session;
  next();
});

app.use('/user', userRoutes);
app.use('/', index);
console.log(""use-routers"");
// catch 404 and forward to error handler
app.use(function(req, res, next) {
  var err = new Error('Not Found');
  err.status = 404;
  next(err);  
});

// error handler
app.use(function(err, req, res, next) {
  // set locals, only providing error in development
  res.locals.message = err.message;
  res.locals.error = req.app.get('env') === 'development' ? err : {};

  // render the error page
  res.status(err.status || 500);
  res.render('error');  
});

module.exports = app;
console.log(""app-export"");
</code></pre>

<p>this is my product seeder (These products show upp on Mlab website)</p>

<pre><code>var mongoose = require('mongoose');
var Product = mongoose.model('Product');

var url = 'mongodb://Chabbe:XXXX@ds143754.mlab.com:43754/gamestore';
console.log(""under url-seeder"");
var options = { server: { socketOptions: { keepAlive: 300000, connectTimeoutMS: 30000 } }, 
                replset: { socketOptions: { keepAlive: 300000, connectTimeoutMS : 30000 } } };
mongoose.createConnection(url, options);
var conn = mongoose.connection;
conn.on('error', console.error.bind(console, 'connection error:'));
console.log(""inside product seeder"");
conn.once('open', function() {
    var products = [
        new Product({
        imagePath: 'https://paarpsskoltidning.files.wordpress.com/2015/10/csgo4.jpg',
        title: 'CS:GO',
        description: 'Awesome fucking game!',
        price: 15
        }),
        new Product({
        imagePath: 'https://dvsgaming.org/wp-content/uploads/2015/06/World-Of-Warcraft-Logo2.jpg',
        title: 'World of Warcraft',
        description: 'Insane game!!',
        price: 20
        }),
        new Product({
        imagePath: 'http://mp1st.com/wp-content/uploads/2017/04/Call-of-Duty-WWII.jpg',
        title: 'Call of Duty',
        description: 'Crazy FPS!',
        price: 10
        }),
        new Product({
        imagePath: 'https://vice-images.vice.com/images/content-images-crops/2016/05/11/discussing-the-importance-of-doom-with-game-designer-dan-pinchbeck-doom-week-body-image-1462983105-size_1000.jpg?output-quality=75',
        title: 'DOOM',
        description: 'Classic cult fps-game!',
        price: 8
        }),
        new Product({
        imagePath: 'https://farm6.staticflickr.com/5624/23815901722_4d1edf4ed1_b.jpg',
        title: 'Uncharted 4',
        description: 'Adventoures third-person game!',
        price: 27
        }),
        new Product({
        imagePath: 'https://compass-ssl.xbox.com/assets/aa/07/aa07eaf5-f2e6-46a4-be25-5ec427842ed1.jpg?n=Xbox-One-S-GOW-4_Blade_1600x700.jpg',
        title: 'Gears of War 5',
        description: 'Crazy third-person shooter!',
        price: 20
        })
    ];

    Product.insertMany(products, function (err, docs) {
      if (err) throw err;
      mongoose.connection.db.close(function(err) {
        if (err) throw err;
      });
    });

});
</code></pre>

<p>this is one of my models:</p>

<pre><code>var mongoose = require('mongoose');
var Schema = mongoose.Schema;


var schema = new Schema({
    imagePath: {type: String, required: true},
    title: {type: String, required: true},
    description: {type: String, required: true},
    price: {type: Number, required: true}
});

module.exports = mongoose.model('Product', schema);
console.log(""done product schema"");
</code></pre>

<p>Edit: added <code>var schema = new Schema({..}, { bufferCommands: false });</code>
as anon requested and got this error message:</p>

<pre><code>events.js:160
      throw er; // Unhandled 'error' event
      ^

TypeError: Cannot read property 'length' of undefined
    at C:\Users\Charbel Ilias\Shop\routes\index.js:17:32
    at C:\Users\Charbel Ilias\Shop\node_modules\mongoose\lib\model.js:3835:16
    at C:\Users\Charbel Ilias\Shop\node_modules\kareem\index.js:213:48
    at C:\Users\Charbel Ilias\Shop\node_modules\kareem\index.js:131:16
    at _combinedTickCallback (internal/process/next_tick.js:67:7)
    at process._tickCallback (internal/process/next_tick.js:98:9)
</code></pre>

<p>this is part of my index.js:</p>

<pre><code>//GET EXPRESS ROUTING
var express = require('express');
var router = express.Router();

//GET MODELS
var Cart = require('../models/cart');
var Product = require('../models/product');
var Order = require('../models/order');

/* GET home page. */
router.get('/', function(req, res, next) {
  var successMsg = req.flash('success')[0];
    // console.log(req);
    // console.log(res);
    // console.log(next);
    console.log(next);

  Product.find(function(err, docs) {
    console.log(docs);
        var productChunks = [];
        var chunkSize = 3;
        for(var i = 0; i &lt; docs.length; i += chunkSize) {
          productChunks.push(docs.slice(i, i + chunkSize));
        }
        res.render('shop/index', { title: 'ShopCart', products: productChunks, successMsg: successMsg, noMessages: !successMsg });
  });
});


// GET Add to cart
router.get('/add-to-cart/:id', function(req,res,next) {
    var productId = req.params.id;
    var cart = new Cart(req.session.cart ? req.session.cart : {});

    Product.findById(productId, function(err, product) {
        if (err) {
          return res.redirect('/');
        }
        cart.add(product, product.id);
        req.session.cart = cart;
        console.log(req.session.cart);
        res.redirect('/');
    });
});

// GET Reduce shopping cart items
router.get('/reduce/:id', function(req, res, next) {
  var productId = req.params.id;
  var cart = new Cart(req.session.cart ? req.session.cart : {});

  cart.reduceByOne(productId);
  req.session.cart = cart;
  res.redirect('/shopping-cart');
});

// GET Remove shopping cart items
router.get('/remove/:id', function(req, res, next) {
  var productId = req.params.id;
  var cart = new Cart(req.session.cart ? req.session.cart : {});

  cart.removeItem(productId);
  req.session.cart = cart;
  res.redirect('/shopping-cart');
});

// GET Shopping cart
router.get('/shopping-cart', function(req, res, next) {

    if (!req.session.cart) {
      return res.render('shop/shopping-cart', {products: null});
    }
    var cart = new Cart(req.session.cart);
    res.render('shop/shopping-cart', {products: cart.generateArray(), totalPrice: cart.totalPrice});
});
</code></pre>
",<node.js><mongodb><express><npm><visual-studio-code>,1.0,0,0,1
15612,15612,46508742,1,0,4731136,0.0,3.0,0.0,0.0,2017-10-01T02:40:25.287,0.0,278.0,Promises Promise.all Map and array of asynchronous data,"<p>I am attempting to scrape product urls from a page then use those urls to visit each products page and scrape information for the products. I am trying to create a Promise chain but I'm a beginner with Promises. The hang up is trying to return the product prices as an array after visiting each product url. I'm stuck in a promise chain pyramid of doom. How can I run some kind of loop to clean up this promise chain at the bottom?</p>

<pre><code>const request = require('request');
const cheerio = require('cheerio');
const fs = require('fs');
const rp = require('request-promise');

// Thanks to chovy @ stack overflow 
//https://stackoverflow.com/questions/21194934/node-how-to-create-a-directory-if-doesnt-exist
if (!fs.existsSync(""./data"")) {
    fs.mkdirSync(""./data""); // create the data folder it doesn't exist
}

let mikeshirturl = 'http://www.shirts4mike.com/shirts.php'; //shirt site entry point

let shirturlscrape = new Promise((resolve) =&gt; { // make a promise to find all of the shirturls
    request(mikeshirturl, (error, response, html) =&gt; { // request the shirt site
        if (!error) {
            const $ = cheerio.load(html); // use cheerio to scrape the page
            let shirtlinks = []; //make an array to hold the links to each shirt
            $('.products').filter(function() {
                let data = $(this);
                data.find('li a').each(function(i) { // scrape the hrefs from the shirt links
                    shirtlinks.push($(this).attr('href'));
                });
                let shirturls = shirtlinks.map((i) =&gt; {
                    return mikeshirturl.slice(0,27) + i; // make a new array of the completed shirturls
                }); // end shirtlink map
                resolve(shirturls); // send the urls back to the promise
            }); // end products filter
        } // end error check
    }); // end request url
}); // end the promise

let shirtPrices = []; // array to hold prices
let shirtTitles = []; // array to hold titles
let shirtImageUrls = []; // array to hold shirtimages
let dates = []; // array to hold dates
let shirtDataHeaders = { // the headers for the csv
    title: ""Title"",
    price: ""Price"",
    imageUrl: ""ImageUrl"",
    Url: ""Url"",
    Time: ""Time""
};
let shirtData = []; // the complete array of shirt data
let d = new Date(); // get the date
let month = d.getMonth() + 1; // set the month
let day = d.getDate(); // set the day
let year = d.getFullYear(); // set the year
let currentDate = """" + year + ""-"" + month + ""-"" + day; // concatenate date to correct order
let getShirtData = (html) =&gt; { // function to scrape shirt data from shirt urls
    const $ = cheerio.load(html);
    $('.shirt-details').filter(function() {
        let data = $(this);
        shirtPrices.push(data.find('.price').text()); //get shirt prices from price class element
        let shirtTitle = String(data.children().first().clone().children().remove().end().text()); //get shirt titles from h1 element
        shirtTitle = shirtTitle.replace(/,/g , "" -""); // replace commas in titles with dashes to not confuse csv file
        shirtTitles.push(shirtTitle); //push shirt titles to array

    });
    $('.shirt-picture').filter(function() {
        let data = $(this);
        shirtImageUrls.push('' + mikeshirturl.slice(0,27) + data.find('img').attr('src')); // push shirt image urls to array
    });
    dates.push(currentDate); // push the date of scrape to array
};

let commaseparate = (callback) =&gt; { // functino to put data in csv format
    let keys = Object.keys(shirtDataHeaders);
    let values = Object.values(shirtDataHeaders);
    let result = values.join("","") + ""\n"";
    // Add the rows
    callback.forEach((obj)=&gt;{
        keys.forEach((k, ix)=&gt;{
            if (ix) result += "","";
            result += obj[k];
        });
        result += ""\n"";
    });
    shirtData = result;
    return shirtData;
}

shirturlscrape // really wild attempt to follow the promise chain down from scraping each shirt url.
    .then((result) =&gt; {
        rp(result[0])
            .then(getShirtData)
            .then(() =&gt; {
                rp(result[1])
                    .then(getShirtData)
                    .then(() =&gt; {
                        rp(result[2])
                            .then(getShirtData)
                            .then(() =&gt; {
                                rp(result[3])
                                    .then(getShirtData)
                                    .then(() =&gt; {
                                        rp(result[4])
                                            .then(getShirtData)
                                            .then(() =&gt; {
                                                rp(result[5])
                                                    .then(getShirtData)
                                                    .then(() =&gt; {
                                                        rp(result[6])
                                                            .then(getShirtData)
                                                            .then(() =&gt; {
                                                                rp(result[7])
                                                                    .then(getShirtData)
                                                                    .then(() =&gt; {
                                                                        for (let i=0; i&lt;result.length; i++) { //push each shirt data object to the final shirtdata array
                                                                            shirtData.push({title: shirtTitles[i], price: shirtPrices[i], imageUrl: shirtImageUrls[i], Url: result[i], Time: dates[i]})
                                                                        }
                                                                        commaseparate(shirtData); // turn the data into csv formatting
                                                                        fs.writeFile(""./data/"" + currentDate + '.csv' , shirtData); // write the new csv file to the data folder
                                                                    });
                                                            });
                                                    });
                                            });
                                    });
                            });
                    });
            });
    })
    .catch(()=&gt;{ //check if there is an error on the initial mikeshirt site http request
        console.error(`There’s been a 404 error. Cannot connect to http://shirts4mike.com.`);
    });
</code></pre>
",<javascript><http><express><npm>,0.0,0,0,1
15626,15626,46528231,1,0,7442271,1.0,0.0,0.0,0.0,2017-10-02T15:02:03.820,0.0,48.0,How to use frontend npms on your project,"<p>I'm new to Node.js web development. Just created a project using ExpressGenerator (project structure generator for ExpressJS framework). </p>

<p>The question is: if I want to use FineUploader front-end JS library for my application, which is provided through NPM package, how should I embed it into my project properly? package.json manages server-side dependencies. When authors of front-end module publish it as npm, what approach to further usage they imply? Another package manager like Bower?</p>
",<node.js><express><npm><frontend><fine-uploader>,0.0,0,0,1
15654,15654,46557648,1,0,8717963,1.0,0.0,0.0,0.0,2017-10-04T05:33:01.830,-1.0,182.0,how can i include JavaScript file in node.js for my ejs file?,"<p>I am currently building a small website for my school project, I have searched through stackoverflow on how to include CSS files in node.js before and I have found the solution for it. However I have come across another problem and that is to include a javascript file in node.js.</p>

<p>This is my image slider.</p>

<p><img src=""https://i.stack.imgur.com/F9F1r.png"" alt=""this is my image slider""></p>
",<javascript><node.js><express><npm>,0.0,0,0,1
15682,15682,46583769,1,46583899,303155,1.0,1.0,0.0,0.0,2017-10-05T10:46:00.500,0.0,1016.0,Parsing cache-control header value from response,"<p>I need to parse the cache-control header response to use it from caching the API response. </p>

<p>Sample response headers:</p>

<pre><code>{""x-backside-transport"":""OK OK"",""connection"":""close"",""transfer-encoding"":""chunked"",""access-control-allow-origin"":""*"",""cache-control"":""public, max-age=60"",""content-type"":""application/json"",""date"":""Thu, 05 Oct 2017 10:33:59 GMT"",""etag"":""\""-161458570\"""",""x-powered-by"":""Express"",""x-global-transaction-id"":""429271565""}
</code></pre>

<p>I am using <code>console.log(""------ CACHE VALUE----""+JSON.stringify(response.headers.cache-control));</code> but this seems to fail everytime.</p>

<p>Giving me the error: <code>ReferenceError: control is not defined</code></p>

<p>But when it try the same with</p>

<pre><code>console.log(""------ CACHE VALUE----""+JSON.stringify(response.headers.connection));
</code></pre>

<p>I am able to print out log value successfully. Am i missing something? </p>
",<javascript><node.js><express><npm><cache-control>,0.0,0,0,1
15723,15723,46619238,1,46619367,5330438,2.0,1.0,0.0,0.0,2017-10-07T10:37:17.050,3.0,965.0,Navigate a React App link to Express server dynamically,"<p>I am trying to navigate a front end link on React JS app to an Express server. </p>

<p><strong>Example</strong></p>

<pre><code>&lt;a href=""/pages""&gt;Pages&lt;/a&gt;
</code></pre>

<p>In the Express server, I wrote this piece of code</p>

<pre><code>app.get('/pages', (req, res) =&gt; {
    res.send('Pages');
});
</code></pre>

<p>I have also updated my front end package.json file like so:</p>

<pre><code>""proxy"": {
   ""/pages"" : {
      ""target"" : ""http://localhost:5000""
   }
}
</code></pre>

<p>My React App is running on port 3000 and Express server is running on port 5000. However, when I click on the link <strong>Pages</strong> nothing happens. I have to explicitly change the front end link like so to make it work:</p>

<pre><code>&lt;a href=""http://localhost:5000/pages""&gt;Pages&lt;/a&gt;
</code></pre>

<p>Is there any way how I could dynamically connect my React App with my Express server without having to specify <code>http://localhost:5000</code> in all the links everytime?</p>
",<javascript><reactjs><express><npm><mern>,0.0,0,0,1
15724,15724,46619628,1,0,2756466,3.0,4.0,0.0,0.0,2017-10-07T11:28:25.610,0.0,3013.0,Base64 image resizer nodejs,"<p>I am working on a node+express backend.</p>

<p>I am receiving base64 images string from API and I am storing it into MongoDB. Before storing I want to reduce the image size (scaling). I tried JIMP but it is not reading base64 input.</p>

<p>Can anyone please suggest any good node module which accepts base64 image, scale it and return a new base64 string.</p>

<p>Thanks</p>
",<node.js><express><npm>,0.0,0,0,1
15745,15745,46647552,1,46648176,2208466,2.0,0.0,0.0,0.0,2017-10-09T13:22:54.387,0.0,388.0,Forced NPM version in Nodejs application,"<p>We have a Nodejs + Express application and would like to force the application to successfully run <code>npm install</code> only if <code>npm -v</code> is equal to <code>process.env.npm_package_engines_npm</code>, which is the version of npm defined in package.json</p>

<p>Is this possible somehow?</p>

<p>The reason for this requirement is to be 100% sure all dependencies will be installed the same way in all development instances since recently we ran into some issues that some developers had version 5.2.0 and other 5.3.0 and because of this, the results were not the same.</p>
",<node.js><express><npm><versioning>,0.0,0,0,1
15805,15805,46727643,1,46728314,8505711,1.0,0.0,0.0,0.0,2017-10-13T10:19:05.523,1.0,5283.0,Upgrade to latest version of Express,"<p>What is the command to get the latest version of Express which is already installed? What is the command to upgrade to latest version?</p>
",<express><npm>,0.0,0,0,1
15915,15915,46832673,1,0,4001750,1.0,0.0,0.0,0.0,2017-10-19T14:46:12.260,0.0,2178.0,How to run two servers simultaneously using nodemon,"<p>I need to run two servers (www.js and apiServer.js) simultaneously using nodemon. I have specified that value for the ""start"" key in package.json as</p>

<p><a href=""https://i.stack.imgur.com/r8M7p.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/r8M7p.jpg"" alt=""enter image description here""></a></p>

<p>When I run: <code>nodemon</code> in the command prompt with current working directory in which package.json is placed, only ""apiServer.js"" is running. The other ""www.js"" is not running.</p>

<p>I would appreciate if somebody could help with this problem. Thanks in advance.</p>
",<javascript><node.js><express><npm><nodemon>,0.0,0,0,1
15926,15926,46836552,1,46838553,3299463,2.0,0.0,0.0,0.0,2017-10-19T18:27:39.177,3.0,668.0,How to transform link in markdown() to link with favicon using Google S2 Converter?,"<p>I'd like markdown links to have a favicon within the transformed link.</p>

<p><a href=""https://www.google.com/s2/favicons?domain=http://cnn.com"" rel=""nofollow noreferrer"">https://www.google.com/s2/favicons?domain=http://cnn.com</a>
- will return the favicon from any domain.</p>

<p>Marked (<a href=""https://github.com/chjj/marked"" rel=""nofollow noreferrer"">https://github.com/chjj/marked</a>)
- will turn all links in my code to a href's</p>

<ul>
<li><a href=""http://cnn.com"" rel=""nofollow noreferrer"">http://cnn.com</a>
becomes
<code>
&lt;a href=""http://cnn.com""&gt;http://cnn.com&lt;/a&gt;
</code></li>
</ul>

<p>So, How would I modify marked.js so that
- <a href=""http://cnn.com"" rel=""nofollow noreferrer"">http://cnn.com</a></p>

<p>will become
<code>
&lt;a href=""http://cnn.com""&gt;&lt;img src=""https://www.google.com/s2/favicons?domain=http://cnn.com""&gt;http://cnn.com&lt;/a&gt;
</code></p>

<p>I do see this line 452 marked.js
<code>
  autolink: /^&lt;([^ &gt;]+(@|:\/)[^ &gt;]+)&gt;/,
</code>
<strong>Ref:</strong> <a href=""https://github.com/chjj/marked/blob/master/lib/marked.js"" rel=""nofollow noreferrer"">https://github.com/chjj/marked/blob/master/lib/marked.js</a></p>

<p>I'm using expressjs and NodeJS</p>

<p>Thanks
Rob</p>
",<regex><express><npm><markdown><javascript-marked>,0.0,0,0,1
15931,15931,46840843,1,0,8804028,1.0,4.0,0.0,0.0,2017-10-20T00:42:25.590,2.0,277.0,"Virtual Ubuntu VM on Google Cloud can't connect via nodejs, external ip","<pre><code>var express = require('express');
var bodyParser = require('body-parser');
var path = require('path');

var app = express();

app.listen(3000, function(){
        console.log('Server up on Port 3000');
});
</code></pre>

<p><em>I did search and try other solutions here but I still can't figure it out</em></p>

<p>I have ubuntu on a google cloud compute engine (VM) and i'm trying to access it from the internet on my laptop. I'm using nodejs/ npm/ express.</p>

<p>The above is my index.js file (very basic) and when I start that using the following on the VM</p>

<pre><code>nodejs index.js
</code></pre>

<p><em>35.188.226.109 is the external ip for the VM</em></p>

<p>When navigating in chrome to <a href=""http://35.188.226.109:3000/"" rel=""nofollow noreferrer"">http://35.188.226.109:3000/</a> it says the site can't be reached.</p>

<p>What am I missing?</p>
",<javascript><node.js><express><npm><google-cloud-platform>,0.0,0,0,1
16048,16048,46936656,1,46963313,8602093,1.0,2.0,0.0,0.0,2017-10-25T15:40:24.087,1.0,1169.0,Express.js Cannot find module 'opencv' inside of a docker container,"<p>I am trying to install the OpenCV bindings for NODE so that I can use AI with my express server. I am using the Peter Braden Library - <a href=""https://github.com/peterbraden/node-opencv"" rel=""nofollow noreferrer"">https://github.com/peterbraden/node-opencv</a>.</p>

<p>However, I keep getting a repeated issue when spinning up the docker container which states:</p>

<pre><code>express_1  | Error: Cannot find module 'opencv'
express_1  |     at Function.Module._resolveFilename (module.js:485:15)
express_1  |     at Function.Module._load (module.js:437:25)
express_1  |     at Module.require (module.js:513:17)
express_1  |     at require (internal/module.js:11:18)
express_1  |     at Object.&lt;anonymous&gt; (/myapp/routes/OpenCV.js:3:10)
express_1  |     at Module._compile (module.js:569:30)
express_1  |     at Object.Module._extensions..js (module.js:580:10)
express_1  |     at Module.load (module.js:503:32)
express_1  |     at tryModuleLoad (module.js:466:12)
express_1  |     at Function.Module._load (module.js:458:3)
express_1  |     at Module.require (module.js:513:17)
express_1  |     at require (internal/module.js:11:18)
express_1  |     at Object.&lt;anonymous&gt; (/myapp/app.js:69:16)
express_1  |     at Module._compile (module.js:569:30)
express_1  |     at Object.Module._extensions..js (module.js:580:10)
express_1  |     at Module.load (module.js:503:32)
express_1  | npm info lifecycle backend@0.0.0~start: Failed to exec     start script
express_1  | npm ERR! code ELIFECYCLE
express_1  | npm ERR! errno 1
express_1  | npm ERR! backend@0.0.0 start: `node ./bin/www`
express_1  | npm ERR! Exit status 1
express_1  | npm ERR! 
express_1  | npm ERR! Failed at the backend@0.0.0 start script.
express_1  | npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
express_1  | 
express_1  | npm ERR! A complete log of this run can be found in:
express_1  | npm ERR!     /root/.npm/_logs/2017-10-25T15_32_12_258Z-debug.log
maya_express_1 exited with code 1
</code></pre>

<p>I have tried accessing the container and using bash within to install open cv but this does not work either.</p>

<p>I am running on Sierra 10.12.6</p>

<p>If I delete node_modules and then run -</p>

<pre><code>docker run -v $(pwd):/myapp express-dev:1.0.0 npm install
</code></pre>

<p>it throws me a completely different error</p>

<pre><code> gyp info spawn args   '-Goutput_dir=.' ]
 /myapp/node_modules/opencv/utils/find-opencv.js:21
                 throw new Error(""ERROR: failed to run: pkg-config"", opencv, flag);
            ^

 Error: ERROR: failed to run: pkg-config
     at /myapp/node_modules/opencv/utils/find-opencv.js:21:23
     at ChildProcess.exithandler (child_process.js:277:5)
     at emitTwo (events.js:125:13)
     at ChildProcess.emit (events.js:213:7)
     at maybeClose (internal/child_process.js:921:16)
     at Socket.stream.socket.on (internal/child_process.js:348:11)
     at emitOne (events.js:115:13)
     at Socket.emit (events.js:210:7)
     at Pipe._handle.close [as _onclose] (net.js:549:12)
 gyp: Call to 'node utils/find-opencv.js --cflags' returned exit status 1 while in binding.gyp. while trying to load binding.gyp
</code></pre>

<p>I have tried relinking opencv and using opencv@2 as well with no luck.</p>

<p>My Dockerfile:</p>

<pre><code># Based off: https://hub.docker.com/r/danlynn/ember-cli/
# See ./provisioning/containers for more.

FROM node:8.2.1
MAINTAINER thestartupfactory.tech &lt;hello@thestartupfactory.tech&gt;
ENV WORKDIR=/opt NODE_ENV=production

# express server on 3000
# ember will be compiled and served via express
EXPOSE 3000
# Use /opt for building container
WORKDIR $WORKDIR

# See WORKDIR command at end of file
CMD [""npm"", ""start""]

# Update the image
# Install ember dev dependencies
# Install ember-cli and express-generator
RUN \
    apt-get update -y &amp;&amp; \
    npm install -g bower@1.8.0 &amp;&amp;\
    npm install -g ember-cli@2.14.2 &amp;&amp;\
    npm install -g express-generator@4.15.0

# Import the code
RUN \
    mkdir -p /opt/ember &amp;&amp; \
    mkdir -p /opt/express

COPY ./frontend/ /opt/ember/
COPY ./backend/ /opt/express/

# Run npm install
# Compile ember, insert to express &amp;&amp; delete ember source
# Cleanup caches
RUN \
    cd /opt/ember &amp;&amp; npm install &amp;&amp;\
    ember build --environment production &amp;&amp; mv dist/ ../express/ &amp;&amp;\
    cd .. &amp;&amp; rm -rf ember &amp;&amp;\
    cd /opt/express &amp;&amp; npm install &amp;&amp; cd .. &amp;&amp;\
    apt-get clean &amp;&amp;\
    apt-get autoremove --purge

# Move the WORKDIR ready for entrypoint
WORKDIR $WORKDIR/express
</code></pre>

<p>Any help would be greatly appreciated!
Thanks in advance</p>
",<javascript><node.js><opencv><express><npm>,1.0,0,0,1
16070,16070,46966377,1,46970445,973397,2.0,0.0,0.0,0.0,2017-10-27T01:56:52.670,0.0,417.0,strange error 'npm WARN express-validation@1.0.2 requires a peer of joi@* but none is installed...?,"<p>What does '<code>npm WARN express-validation@1.0.2 requires a peer of joi@* but none is installed. You must install peer dependencies yourself.</code>' mean? And how can I solve it?</p>

<hr>

<p>when i run:</p>

<pre><code>npm install express-validation --save 
</code></pre>

<p>I get:</p>

<pre><code>npm WARN express-validation@1.0.2 requires a peer of joi@* but none is installed. You must install peer dependencies yourself.
</code></pre>

<p>so then i run:</p>

<pre><code>npm install -g npm-install-peers
</code></pre>

<p>then:</p>

<pre><code>npm-install-peers
</code></pre>

<p>then I get:</p>

<pre><code>This package doesn't seem to have any peerDependencies
</code></pre>

<p>so then i run:</p>

<pre><code>npm install express-validation --save 
</code></pre>

<p>I get:</p>

<pre><code>npm WARN express-validation@1.0.2 requires a peer of joi@* but none is installed. You must install peer dependencies yourself.
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
16166,16166,47080727,1,0,7666092,6.0,0.0,0.0,0.0,2017-11-02T16:56:29.107,5.0,6691.0,Error on sequelize.import: defineCall is not a function,"<p>The error I'm getting is this: </p>

<pre><code>C:\Users\brend\project\server\node_modules\sequelize\lib\sequelize.js:392
      this.importCache[path] = defineCall(this, DataTypes);
                               ^
TypeError: defineCall is not a function
    at Sequelize.import (C:\Users\brend\project\server\node_modules\sequelize\lib\sequelize.js:392:32)
    at fs.readdirSync.filter.forEach (C:\Users\brend\project\server\src\models\index.js:20:35)
</code></pre>

<p>I'm learning as I go with node, vue and a bunch of libraries, and I haven't been able to figure this out.</p>

<p>index.js is as following:</p>

<pre><code>const fs = require('fs')
const path = require('path')
const Sequelize = require('sequelize')
const config = require('../config/config')
const db = {}

const sequelize = new Sequelize(
  config.db.database,
  config.db.user,
  config.db.password,
  config.db.options
)

fs
  .readdirSync(__dirname)
  .filter((file) =&gt;
    file !== 'index.js'
  )
  .forEach((file) =&gt; {
    const model = sequelize.import(path.join(__dirname), file)
    db[model.name] = model
  })

db.sequelize = sequelize
db.Sequelize = Sequelize

module.exports = db
</code></pre>

<p>And here is my User.js, which is the only model I have currently:</p>

<pre><code>module.exports = (sequelize, DataTypes) =&gt;
  sequelize.define('User', {
    email: {
      type: DataTypes.STRING,
      unique: true
    },
    password: DataTypes.STRING
  })
</code></pre>

<p>And if necessary, my folder structure:</p>

<pre><code>-src
--app.js
--routes.js

--config
----config.js

--controllers
----AuthenticationController.js

--models
----index.js
----User.js
</code></pre>

<p>There's also the thing that in my app.js <code>sequelize.sync()</code> is not defined, at least that's what my IDE indicates.</p>
",<node.js><express><npm><sequelize.js>,1.0,0,0,1
16178,16178,47086744,1,0,505152,1.0,0.0,0.0,0.0,2017-11-03T00:38:02.980,0.0,189.0,Npm mysql - can't I query WHERE conditions using a single object?,"<p>I am using express and npm mysql (<a href=""https://www.npmjs.com/package/mysql"" rel=""nofollow noreferrer"">Link</a>)</p>

<p>I want to do a call using  </p>

<pre><code>query('SELECT * FROM TABLE WHERE ?', where, cb)
</code></pre>

<p>where is a javascript object f.e. : {col1: 'one', col2: 'two'}</p>

<p>But it seems that this doesn't work. It works for SET though to update multiple columns at once.</p>

<p>I want a general method where I can send a different combination of columns to search. I was wondering if there is a built in method to do this.</p>
",<mysql><node.js><express><npm><where-clause>,0.0,0,0,1
16188,16188,47093943,1,0,3118363,1.0,1.0,0.0,0.0,2017-11-03T10:48:01.010,1.0,667.0,Android error: Trying to install express on termux,"<p>It gives me this error when i run the command </p>

<pre><code>npm install --save express
</code></pre>

<blockquote>
  <p>Unhandled rejection Error: EACCES: permission denied, link
  '/data/data/com.termux/files/home/.npm/_cacache/tmp/e2710f83' ->
  '/data/data/com.termux/files/home/.npm/_cacache/content-v2/sha512/59/ca/2e0f5017aa211536370255b2fbb493016a53ca7d335d077820223a58a86aa8771e6607b085e66f0dc28c2d783e58375a461ac72baa9eb974d71b24e41c03'</p>
</blockquote>
",<android><express><npm><emulation><termux>,0.0,0,0,1
16198,16198,47109963,1,0,4481958,3.0,1.0,0.0,0.0,2017-11-04T10:56:49.470,2.0,7319.0,npm doesn't work after 'npm install',"<p><br/>
I installed node.js + npm from <a href=""https://nodejs.org/en/"" rel=""nofollow noreferrer"">https://nodejs.org/en/</a><br/> and created a folder for project and cd into it (OS: Windows 10). When i try</p>

<pre><code>C:\nodejs\demo&gt;npm install express@3.5.0
</code></pre>

<p>npm starts to delete the all standart packages and after the process of installation I see that it deleted 460 packages and installed 1-express (express is just an example, the same thing happens with any package I tried to install).</p>

<pre><code>npm WARN saveError ENOENT: no such file or directory, open 'C:\nodejs\package.json'
npm WARN enoent ENOENT: no such file or directory, open 'C:\nodejs\package.json'
npm WARN nodejs No description
npm WARN nodejs No repository field.
npm WARN nodejs No README data
npm WARN nodejs No license field.

+ express@3.5.0
removed 460 packages and updated 1 package in 8.63s
</code></pre>

<p>And there npm stops working, if I try <code>npm -v</code> I see the following: </p>

<pre><code>module.js:538
    throw err;
    ^

Error: Cannot find module 'C:\nodejs\node_modules\npm\bin\npm-cli.js'
    at Function.Module._resolveFilename (module.js:536:15)
    at Function.Module._load (module.js:466:25)
    at Function.Module.runMain (module.js:676:10)
    at startup (bootstrap_node.js:187:16)
    at bootstrap_node.js:608:3
module.js:538
    throw err;
    ^

Error: Cannot find module 'C:\nodejs\node_modules\npm\bin\npm-cli.js'
    at Function.Module._resolveFilename (module.js:536:15)
    at Function.Module._load (module.js:466:25)
    at Function.Module.runMain (module.js:676:10)
    at startup (bootstrap_node.js:187:16)
    at bootstrap_node.js:608:3
</code></pre>

<p>I don't know if it's important, but after the installation of node.js I had to add it into PATH variable by myself. </p>

<p>Could someone explain me what I did wrong or how I can fix this, please?</p>
",<node.js><windows><express><npm><npm-install>,1.0,0,0,1
16237,16237,47156408,1,47159249,8719026,1.0,0.0,0.0,0.0,2017-11-07T11:09:02.733,1.0,687.0,How to define multiple operations on the same route using Express Swagger Generator,"<p>I'm using npm package <a href=""https://www.npmjs.com/package/express-swagger-generator"" rel=""nofollow noreferrer"">express-swagger-generator</a> and when i define 2 routes like this: </p>

<pre><code>/**
 * @group Users - operations about user
 * @route GET /users
 * @route POST /users
 */
</code></pre>

<p>It only shows the POST route but not the GET route like <a href=""https://i.stack.imgur.com/Or733.png"" rel=""nofollow noreferrer"">this</a></p>

<p>If i switch them it only shows the GET route and the same goes for defining them in seperate places using the @group tag twice.</p>

<p>How do I make both the POST and GET route on /users show up in my api docs?</p>
",<node.js><express><npm><documentation><swagger>,0.0,0,0,1
16402,16402,47329958,1,0,5493288,1.0,2.0,0.0,0.0,2017-11-16T12:43:14.407,1.0,376.0,Is it possible to use express-handlebars tags inside an HTML script tag on the client side?,"<p>I have been struggling with this issue for quite some time now. I'm creating an application using express-handlebars and the biggest part of the application works well. Most of the data I want to display on the webpages I'm making is displayed well and I am taking good use of the Helper functions of the express-handlebars module to do so.</p>

<p>Now, the part where I'm stuck is the following. In one of the HTML templates I use in my application, I am using a  tag to display a map with several locations on it using the Google Maps JS API. These locations are coming out of a MongoDB database, just like all of the other template-data I am showing on this page. 
The data is coming to the client side here as an array of objects over which I want to iterate, filter out the addresses, geocode them to the correct format and display them in the Map. The problem here is that I can get this array into the page just fine, but I can't get inside of the  as an object through which I can iterate.</p>

<p>Is there any way I can get this array of locations inside the script tags, so I can iterate over them to display them inside of the Map view?</p>
",<javascript><node.js><express><npm><express-handlebars>,0.0,0,0,1
16403,16403,47330490,1,0,3113917,0.0,1.0,0.0,0.0,2017-11-16T13:07:45.567,2.0,427.0,How to upload third party libraries in Nexus NPM Repository?,"<p>I have created node application and in my application I am using some third party libraries say for example Express. It all works well without any issues if I install it from <a href=""https://registry.npmjs.org"" rel=""nofollow noreferrer"">https://registry.npmjs.org</a>.</p>

<p>But because of some security reason I don't want to download it from npm registery, Instead I want that it should be downloaded from my private repository ( We are using Nexus OSS as private repository ).</p>

<p>The problem is I am not able to find way to upload Express module in Nexus Registery. I found one way using Npm proxy but for security reasons we can not use it.</p>

<p>Do any one know how to upload third party libraries to Nexus npm Registry?</p>
",<node.js><express><npm><nexus>,0.0,0,0,1
16462,16462,47399206,1,0,6207249,3.0,5.0,0.0,0.0,2017-11-20T18:59:04.997,3.0,7823.0,node events.js:136 throw er; Unhandled 'error' event,"<p>I am getting events.js:136 throw er; Unhandled 'error' event don't know how and why?
i have reinstalled the nodejs and mongodb as well but throwing same error.</p>

<p><strong>package.json</strong></p>

<pre><code>{
""name"": ""bookstore"",
""version"": ""1.0.0"",
""description"": ""simple bookstore app"",
""main"": ""app.js"",
""devDependencies"": {},
""scripts"": {
    ""test"": ""echo \""Error: no test specified\"" &amp;&amp; exit 1""
},
""dependencies"": {
    ""express"": ""*"",
    ""body-parser"": ""*"",
    ""mongoose"": ""*""
},
""author"": ""AveesP"",
""license"": ""ISC""
</code></pre>

<p>}</p>

<p><strong>App.js code</strong></p>

<pre><code>var express = require('express');
var app = express();
var bodyParser = require('body-parser');
var mongoose = require('mongoose');
//connect to mongoose
mongoose.connect('mongodb://localhost/bookstore');
var db = mongoose.connection;
app.get('/', function(req, res) {
   res.send('Hello world!');
});
app.listen(3000);
console.log('Running on port 3000...');
</code></pre>

<p><a href=""https://i.stack.imgur.com/qCk4q.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/qCk4q.jpg"" alt=""enter image description here""></a></p>
",<node.js><mongodb><express><npm>,0.0,0,0,1
16512,16512,47439546,1,47439929,7747492,1.0,1.0,0.0,0.0,2017-11-22T16:25:35.773,0.0,175.0,"Express cannot find module ""rmp-api""","<p>I am trying to use an api from github that takes rate my professor ratings and the instructions were fairly clear. <a href=""https://github.com/shafi-dayatar/rmp-api"" rel=""nofollow noreferrer"">https://github.com/shafi-dayatar/rmp-api</a></p>

<pre><code>npm install rmp-api --save
</code></pre>

<p>which worked but once I require it</p>

<pre><code>var rmp = require('rmp-api');
</code></pre>

<p>It gives me the error</p>

<pre><code>Error: Cannot find module 'rmp-api'
</code></pre>

<p>I've tried rebuilding the app, reinstalling all the dependencies and still nothing. Is there something I might be missing from the installation?</p>
",<node.js><express><npm>,0.0,0,0,1
16567,16567,47495336,1,47495565,5464644,1.0,4.0,0.0,0.0,2017-11-26T10:54:48.203,0.0,90.0,Custom theme as feature,"<p>so i'm creating an app that needs a dashboard where the user can adjust a ""custom"" css layout, i cant think on a solution for this problem. You have something in mind that could help me accomplish a solution for this?
Thanks.</p>

<p>Im currently using expressjs and mongoose if you need to know.</p>
",<node.js><mongodb><express><mongoose><npm>,0.0,0,0,1
16590,16590,47525368,1,0,6873495,1.0,2.0,0.0,0.0,2017-11-28T06:37:32.713,1.0,3552.0,npm install express --save command gives 403 forbidden error even after setting proxy,"<p>I have done the following steps before installing the module <code>express</code>.</p>

<p>However I am getting a <code>403 error</code>.</p>

<pre><code>npm config set strict-ssl false
npm config set registry ""http://registry.npmjs.org/""
npm config set proxy  http://user:password@host:port
npm config set https-proxy http://user:password@host:port
</code></pre>

<blockquote>
  <p>ERROR<br/>
  npm ERR! code E403<br/>
  npm ERR! 403 Forbidden: express@latest</p>
</blockquote>
",<node.js><express><npm>,0.0,0,0,1
16624,16624,47555430,1,0,7419528,0.0,7.0,0.0,0.0,2017-11-29T14:43:58.773,1.0,343.0,npm install mysql deletes other 50 node_modules packages?,"<p>When i run (npm install mysql) command on Fedora 27,  this command deleting other 50 node_modules packages required in program.And adding 3 mysql packages? Why is that?</p>

<pre><code>[jatinverma95@jatinverma95 DP]$ npm install mysql
npm notice created a lockfile as package-lock.json. You should commit this file.
npm WARN questionnaire@1.0.0 No description
npm WARN questionnaire@1.0.0 No repository field.

+ mysql@2.15.0
added 3 packages and removed 50 packages in 2.498s
[jatinverma95@jatinverma95 DP]$ git status
On branch sql_implemntation
Changes not staged for commit:
  (use ""git add/rm &lt;file&gt;..."" to update what will be committed)
  (use ""git checkout -- &lt;file&gt;..."" to discard changes in working directory)

    deleted:    node_modules/.bin/sshpk-conv
    deleted:    node_modules/.bin/sshpk-sign
    deleted:    node_modules/.bin/sshpk-verify
    deleted:    node_modules/.bin/uuid
    deleted:    node_modules/ajv/.tonic_example.js
    deleted:    node_modules/ajv/LICENSE
    deleted:    node_modules/ajv/README.md
    deleted:    node_modules/ajv/dist/ajv.bundle.js
    deleted:    node_modules/ajv/dist/ajv.min.js
    deleted:    node_modules/ajv/dist/ajv.min.js.map
    deleted:    node_modules/ajv/dist/nodent.min.js
    deleted:    node_modules/ajv/dist/regenerator.min.js
    deleted:    node_modules/ajv/lib/$data.js
    deleted:    node_modules/ajv/lib/ajv.d.ts
    deleted:    node_modules/ajv/lib/ajv.js
    deleted:    node_modules/ajv/lib/cache.js
    deleted:    node_modules/ajv/lib/compile/_rules.js
    deleted:    node_modules/ajv/lib/compile/async.js
    deleted:    node_modules/ajv/lib/compile/equal.js
    deleted:    node_modules/ajv/lib/compile/error_classes.js
    deleted:    node_modules/ajv/lib/compile/formats.js
    deleted:    node_modules/ajv/lib/compile/index.js
    deleted:    node_modules/ajv/lib/compile/resolve.js
    deleted:    node_modules/ajv/lib/compile/rules.js
    deleted:    node_modules/ajv/lib/compile/schema_obj.js
    deleted:    node_modules/ajv/lib/compile/ucs2length.js
    deleted:    node_modules/ajv/lib/compile/util.js
    deleted:    node_modules/ajv/lib/dot/_limit.jst
    deleted:    node_modules/ajv/lib/dot/_limitItems.jst
    deleted:    node_modules/ajv/lib/dot/_limitLength.jst
    deleted:    node_modules/ajv/lib/dot/_limitProperties.jst
    deleted:    node_modules/ajv/lib/dot/allOf.jst
    deleted:    node_modules/ajv/lib/dot/anyOf.jst
    deleted:    node_modules/ajv/lib/dot/coerce.def
    deleted:    node_modules/ajv/lib/dot/const.jst
    deleted:    node_modules/ajv/lib/dot/contains.jst
    deleted:    node_modules/ajv/lib/dot/custom.jst
    deleted:    node_modules/ajv/lib/dot/defaults.def
    deleted:    node_modules/ajv/lib/dot/definitions.def
    deleted:    node_modules/ajv/lib/dot/dependencies.jst
    deleted:    node_modules/ajv/lib/dot/enum.jst
    deleted:    node_modules/ajv/lib/dot/errors.def
    deleted:    node_modules/ajv/lib/dot/format.jst
    deleted:    node_modules/ajv/lib/dot/items.jst
    deleted:    node_modules/ajv/lib/dot/missing.def
    deleted:    node_modules/ajv/lib/dot/multipleOf.jst
    deleted:    node_modules/ajv/lib/dot/not.jst
    deleted:    node_modules/ajv/lib/dot/oneOf.jst
    deleted:    node_modules/assert-plus/README.md
    deleted:    node_modules/assert-plus/assert.js
    deleted:    node_modules/assert-plus/package.json
    deleted:    node_modules/asynckit/LICENSE
    deleted:    node_modules/asynckit/README.md
    deleted:    node_modules/asynckit/bench.js
    deleted:    node_modules/asynckit/index.js
    deleted:    node_modules/asynckit/lib/abort.js
    deleted:    node_modules/asynckit/lib/async.js
    deleted:    node_modules/asynckit/lib/defer.js
    deleted:    node_modules/asynckit/lib/iterate.js
    deleted:    node_modules/asynckit/lib/readable_asynckit.js
    deleted:    node_modules/asynckit/lib/readable_parallel.js
    deleted:    node_modules/asynckit/lib/readable_serial.js
    deleted:    node_modules/asynckit/lib/readable_serial_ordered.js
    deleted:    node_modules/asynckit/lib/state.js
    deleted:    node_modules/asynckit/lib/streamify.js
    deleted:    node_modules/asynckit/lib/terminator.js
    deleted:    node_modules/asynckit/package.json
    deleted:    node_modules/asynckit/parallel.js
    deleted:    node_modules/asynckit/serial.js
    deleted:    node_modules/asynckit/serialOrdered.js
    deleted:    node_modules/asynckit/stream.js
    deleted:    node_modules/aws-sign2/LICENSE
    deleted:    node_modules/aws-sign2/README.md
    deleted:    node_modules/aws-sign2/index.js
    deleted:    node_modules/aws-sign2/package.json
    deleted:    node_modules/aws4/.npmignore
    deleted:    node_modules/aws4/.tern-port
    deleted:    node_modules/aws4/.travis.yml
    deleted:    node_modules/aws4/LICENSE
    deleted:    node_modules/aws4/README.md
    deleted:    node_modules/aws4/aws4.js
    deleted:    node_modules/aws4/lru.js
    deleted:    node_modules/aws4/package.json
    deleted:    node_modules/bcrypt-pbkdf/README.md
    deleted:    node_modules/bcrypt-pbkdf/index.js
    deleted:    node_modules/bcrypt-pbkdf/package.json
    deleted:    node_modules/boom/LICENSE
    deleted:    node_modules/boom/README.md
    deleted:    node_modules/boom/lib/index.js
    deleted:    node_modules/boom/package.json
    deleted:    node_modules/caseless/LICENSE
    deleted:    node_modules/caseless/README.md
    deleted:    node_modules/caseless/index.js
    deleted:    node_modules/caseless/package.json
    deleted:    node_modules/caseless/test.js
    deleted:    node_modules/co/History.md
    deleted:    node_modules/co/LICENSE
    deleted:    node_modules/co/Readme.md
    deleted:    node_modules/co/index.js
    deleted:    node_modules/co/package.json
    deleted:    node_modules/combined-stream/License
    deleted:    node_modules/combined-stream/Readme.md
    deleted:    node_modules/combined-stream/lib/combined_stream.js
    deleted:    node_modules/combined-stream/package.json
    deleted:    node_modules/cryptiles/.npmignore
    deleted:    node_modules/cryptiles/LICENSE
    deleted:    node_modules/cryptiles/README.md
    deleted:    node_modules/cryptiles/lib/index.js
    deleted:    node_modules/cryptiles/node_modules/boom/LICENSE
    deleted:    node_modules/cryptiles/node_modules/boom/README.md
    deleted:    node_modules/cryptiles/node_modules/boom/lib/index.js
    deleted:    node_modules/cryptiles/node_modules/boom/package.json
    deleted:    node_modules/cryptiles/package.json
    deleted:    node_modules/dashdash/CHANGES.md
    deleted:    node_modules/dashdash/LICENSE.txt
    deleted:    node_modules/dashdash/README.md
    deleted:    node_modules/dashdash/etc/dashdash.bash_completion.in
    deleted:    node_modules/dashdash/lib/dashdash.js
    deleted:    node_modules/dashdash/package.json
    deleted:    node_modules/delayed-stream/.npmignore
    deleted:    node_modules/delayed-stream/License
    deleted:    node_modules/delayed-stream/Makefile
    deleted:    node_modules/delayed-stream/Readme.md
    deleted:    node_modules/delayed-stream/lib/delayed_stream.js
    deleted:    node_modules/delayed-stream/package.json
    deleted:    node_modules/ecc-jsbn/.npmignore
    deleted:    node_modules/ecc-jsbn/LICENSE
    deleted:    node_modules/ecc-jsbn/README.md
    deleted:    node_modules/ecc-jsbn/index.js
    deleted:    node_modules/ecc-jsbn/lib/LICENSE-jsbn
    deleted:    node_modules/ecc-jsbn/lib/ec.js
    deleted:    node_modules/ecc-jsbn/lib/sec.js
    deleted:    node_modules/ecc-jsbn/package.json
    deleted:    node_modules/ecc-jsbn/test.js
    deleted:    node_modules/extend/.eslintrc
    deleted:    node_modules/extend/.jscs.json
    deleted:    node_modules/extend/.npmignore
    deleted:    node_modules/extend/.travis.yml
    deleted:    node_modules/extend/CHANGELOG.md
    deleted:    node_modules/extend/LICENSE
    deleted:    node_modules/extend/README.md
    deleted:    node_modules/extend/component.json
    deleted:    node_modules/extend/index.js
    deleted:    node_modules/extend/package.json
    deleted:    node_modules/extsprintf/.gitmodules
    deleted:    node_modules/extsprintf/.npmignore
    deleted:    node_modules/extsprintf/LICENSE
    deleted:    node_modules/extsprintf/Makefile
    deleted:    node_modules/extsprintf/Makefile.targ
    deleted:    node_modules/extsprintf/README.md
    deleted:    node_modules/extsprintf/jsl.node.conf
    deleted:    node_modules/extsprintf/lib/extsprintf.js
    deleted:    node_modules/extsprintf/package.json
    deleted:    node_modules/fast-deep-equal/.eslintrc.yml
    deleted:    node_modules/fast-deep-equal/.npmignore
    deleted:    node_modules/fast-deep-equal/.travis.yml
    deleted:    node_modules/fast-deep-equal/LICENSE
    deleted:    node_modules/fast-deep-equal/README.md
    deleted:    node_modules/fast-deep-equal/benchmark/.eslintrc.yml
    deleted:    node_modules/fast-deep-equal/benchmark/index.js
    deleted:    node_modules/fast-deep-equal/index.js
    deleted:    node_modules/fast-deep-equal/package.json
    deleted:    node_modules/fast-deep-equal/spec/.eslintrc.yml
    deleted:    node_modules/fast-deep-equal/spec/index.spec.js
    deleted:    node_modules/fast-deep-equal/spec/tests.js
    deleted:    node_modules/fast-json-stable-stringify/.eslintrc.yml
    deleted:    node_modules/fast-json-stable-stringify/.npmignore
    deleted:    node_modules/fast-json-stable-stringify/.travis.yml
    deleted:    node_modules/fast-json-stable-stringify/LICENSE
    deleted:    node_modules/fast-json-stable-stringify/README.md
    deleted:    node_modules/fast-json-stable-stringify/benchmark/index.js
    deleted:    node_modules/fast-json-stable-stringify/benchmark/test.json
    deleted:    node_modules/fast-json-stable-stringify/example/key_cmp.js
    deleted:    node_modules/fast-json-stable-stringify/example/nested.js
    deleted:    node_modules/fast-json-stable-stringify/example/str.js
    deleted:    node_modules/fast-json-stable-stringify/example/value_cmp.js
    deleted:    node_modules/fast-json-stable-stringify/index.js
    deleted:    node_modules/fast-json-stable-stringify/package.json
    deleted:    node_modules/fast-json-stable-stringify/test/cmp.js
    deleted:    node_modules/fast-json-stable-stringify/test/nested.js
    deleted:    node_modules/fast-json-stable-stringify/test/str.js
    deleted:    node_modules/fast-json-stable-stringify/test/to-json.js
    deleted:    node_modules/forever-agent/LICENSE
    deleted:    node_modules/forever-agent/README.md
    deleted:    node_modules/forever-agent/index.js
    deleted:    node_modules/forever-agent/package.json
    deleted:    node_modules/form-data/License
    deleted:    node_modules/form-data/README.md
    deleted:    node_modules/form-data/README.md.bak
    deleted:    node_modules/form-data/lib/browser.js
    deleted:    node_modules/form-data/lib/form_data.js
    deleted:    node_modules/form-data/lib/populate.js
    deleted:    node_modules/form-data/package.json
    deleted:    node_modules/getpass/.npmignore
    deleted:    node_modules/getpass/.travis.yml
    deleted:    node_modules/getpass/LICENSE
    deleted:    node_modules/getpass/README.md
    deleted:    node_modules/getpass/lib/index.js
    deleted:    node_modules/getpass/package.json
    deleted:    node_modules/har-schema/LICENSE
    deleted:    node_modules/har-schema/README.md
    deleted:    node_modules/har-schema/lib/afterRequest.json
    deleted:    node_modules/har-schema/lib/beforeRequest.json
    deleted:    node_modules/har-schema/lib/browser.json
    deleted:    node_modules/har-schema/lib/cache.json
    deleted:    node_modules/har-schema/lib/content.json
    deleted:    node_modules/har-schema/lib/cookie.json
    deleted:    node_modules/har-schema/lib/creator.json
    deleted:    node_modules/har-schema/lib/entry.json
    deleted:    node_modules/har-schema/lib/har.json
    deleted:    node_modules/har-schema/lib/header.json
    deleted:    node_modules/har-schema/lib/index.js
    deleted:    node_modules/har-schema/lib/log.json
    deleted:    node_modules/har-schema/lib/page.json
    deleted:    node_modules/har-schema/lib/pageTimings.json
    deleted:    node_modules/har-schema/lib/postData.json
    deleted:    node_modules/har-schema/lib/query.json
    deleted:    node_modules/har-schema/lib/request.json
    deleted:    node_modules/har-schema/lib/response.json
    deleted:    node_modules/har-schema/lib/timings.json
    deleted:    node_modules/har-schema/package.json
    deleted:    node_modules/har-validator/LICENSE
    deleted:    node_modules/har-validator/README.md
    deleted:    node_modules/har-validator/lib/async.js
    deleted:    node_modules/har-validator/lib/error.js
    deleted:    node_modules/har-validator/lib/promise.js
    deleted:    node_modules/har-validator/package.json
    deleted:    node_modules/hawk/.npmignore
    deleted:    node_modules/hawk/LICENSE
    deleted:    node_modules/hawk/README.md
    deleted:    node_modules/hawk/client.js
    deleted:    node_modules/hawk/dist/browser.js
    deleted:    node_modules/hawk/lib/browser.js
    deleted:    node_modules/hawk/lib/client.js
    deleted:    node_modules/hawk/lib/crypto.js
    deleted:    node_modules/hawk/lib/index.js
    deleted:    node_modules/hawk/lib/server.js
    deleted:    node_modules/hawk/lib/utils.js
    deleted:    node_modules/hawk/package.json
    deleted:    node_modules/hoek/.npmignore
    deleted:    node_modules/hoek/LICENSE
    deleted:    node_modules/hoek/README.md
    deleted:    node_modules/hoek/lib/escape.js
    deleted:    node_modules/hoek/lib/index.js
    deleted:    node_modules/hoek/package.json
    deleted:    node_modules/http-signature/.dir-locals.el
    deleted:    node_modules/http-signature/.npmignore
    deleted:    node_modules/http-signature/CHANGES.md
    deleted:    node_modules/http-signature/LICENSE
    deleted:    node_modules/http-signature/README.md
    deleted:    node_modules/http-signature/http_signing.md
    deleted:    node_modules/http-signature/lib/index.js
    deleted:    node_modules/http-signature/lib/parser.js
    deleted:    node_modules/http-signature/lib/signer.js
    deleted:    node_modules/http-signature/lib/utils.js
    deleted:    node_modules/http-signature/lib/verify.js
    deleted:    node_modules/http-signature/package.json
    deleted:    node_modules/is-typedarray/LICENSE.md
    deleted:    node_modules/is-typedarray/README.md
    deleted:    node_modules/is-typedarray/index.js
    deleted:    node_modules/is-typedarray/package.json
    deleted:    node_modules/is-typedarray/test.js
    deleted:    node_modules/isstream/.jshintrc
    deleted:    node_modules/isstream/.npmignore
    deleted:    node_modules/isstream/.travis.yml
    deleted:    node_modules/isstream/LICENSE.md
    deleted:    node_modules/isstream/README.md
    deleted:    node_modules/isstream/isstream.js
    deleted:    node_modules/isstream/package.json
    deleted:    node_modules/isstream/test.js
    deleted:    node_modules/jsbn/.npmignore
    deleted:    node_modules/jsbn/LICENSE
    deleted:    node_modules/jsbn/README.md
    deleted:    node_modules/jsbn/example.html
    deleted:    node_modules/jsbn/example.js
    deleted:    node_modules/jsbn/index.js
    deleted:    node_modules/jsbn/package.json
    deleted:    node_modules/json-schema-traverse/.eslintrc.yml
    deleted:    node_modules/json-schema-traverse/.npmignore
    deleted:    node_modules/json-schema-traverse/.travis.yml
    deleted:    node_modules/json-schema-traverse/LICENSE
    deleted:    node_modules/json-schema-traverse/README.md
    deleted:    node_modules/json-schema-traverse/index.js
    deleted:    node_modules/json-schema-traverse/package.json
    deleted:    node_modules/json-schema-traverse/spec/.eslintrc.yml
    deleted:    node_modules/json-schema-traverse/spec/fixtures/schema.js
    deleted:    node_modules/json-schema-traverse/spec/index.spec.js
    deleted:    node_modules/json-schema/README.md
    deleted:    node_modules/json-schema/draft-00/hyper-schema
    deleted:    node_modules/json-schema/draft-00/json-ref
    deleted:    node_modules/json-schema/draft-00/links
    deleted:    node_modules/json-schema/draft-00/schema
    deleted:    node_modules/json-schema/draft-01/hyper-schema
    deleted:    node_modules/json-schema/draft-01/json-ref
    deleted:    node_modules/json-schema/draft-01/links
    deleted:    node_modules/json-schema/draft-01/schema
    deleted:    node_modules/json-schema/draft-02/hyper-schema
    deleted:    node_modules/json-schema/draft-02/json-ref
    deleted:    node_modules/json-schema/draft-02/links
    deleted:    node_modules/json-schema/draft-02/schema
    deleted:    node_modules/json-schema/draft-03/examples/address
    deleted:    node_modules/json-schema/draft-03/examples/calendar
    deleted:    node_modules/json-schema/draft-03/examples/card
    deleted:    node_modules/json-schema/draft-03/examples/geo
    deleted:    node_modules/json-schema/draft-03/examples/interfaces
    deleted:    node_modules/json-schema/draft-03/hyper-schema
    deleted:    node_modules/json-schema/draft-03/json-ref
    deleted:    node_modules/json-schema/draft-03/links
    deleted:    node_modules/json-schema/draft-03/schema
    deleted:    node_modules/json-schema/draft-04/hyper-schema
    deleted:    node_modules/json-schema/draft-04/links
    deleted:    node_modules/json-schema/draft-04/schema
    deleted:    node_modules/json-schema/draft-zyp-json-schema-03.xml
    deleted:    node_modules/json-schema/draft-zyp-json-schema-04.xml
    deleted:    node_modules/json-schema/lib/links.js
    deleted:    node_modules/json-schema/lib/validate.js
    deleted:    node_modules/json-schema/package.json
    deleted:    node_modules/json-schema/test/tests.js
    deleted:    node_modules/json-stringify-safe/.npmignore
    deleted:    node_modules/json-stringify-safe/CHANGELOG.md
    deleted:    node_modules/json-stringify-safe/LICENSE
    deleted:    node_modules/json-stringify-safe/Makefile
    deleted:    node_modules/json-stringify-safe/README.md
    deleted:    node_modules/json-stringify-safe/package.json
    deleted:    node_modules/json-stringify-safe/stringify.js
    deleted:    node_modules/json-stringify-safe/test/mocha.opts
    deleted:    node_modules/json-stringify-safe/test/stringify_test.js
    deleted:    node_modules/jsprim/CHANGES.md
    deleted:    node_modules/jsprim/CONTRIBUTING.md
    deleted:    node_modules/jsprim/LICENSE
    deleted:    node_modules/jsprim/README.md
    deleted:    node_modules/jsprim/lib/jsprim.js
    deleted:    node_modules/jsprim/package.json
    deleted:    node_modules/oauth-sign/LICENSE
    deleted:    node_modules/oauth-sign/README.md
    deleted:    node_modules/oauth-sign/index.js
    deleted:    node_modules/oauth-sign/package.json
    deleted:    node_modules/performance-now/.npmignore
    deleted:    node_modules/performance-now/.tm_properties
    deleted:    node_modules/performance-now/.travis.yml
    deleted:    node_modules/performance-now/README.md
    deleted:    node_modules/performance-now/lib/performance-now.js
    deleted:    node_modules/performance-now/src/index.d.ts
    deleted:    node_modules/performance-now/test/scripts.coffee
    deleted:    node_modules/performance-now/test/scripts/delayed-require.coffee
    deleted:    node_modules/performance-now/test/scripts/difference.coffee
    deleted:    node_modules/performance-now/test/scripts/initial-value.coffee
    deleted:    node_modules/punycode/LICENSE-MIT.txt
    deleted:    node_modules/punycode/README.md
    deleted:    node_modules/punycode/package.json
    deleted:    node_modules/punycode/punycode.js
    deleted:    node_modules/querystring/.History.md.un~
    deleted:    node_modules/querystring/.Readme.md.un~
    deleted:    node_modules/querystring/.package.json.un~
    deleted:    node_modules/querystring/.travis.yml
    deleted:    node_modules/querystring/History.md
    deleted:    node_modules/querystring/License.md
    deleted:    node_modules/querystring/Readme.md
    deleted:    node_modules/querystring/decode.js
    deleted:    node_modules/querystring/encode.js
    deleted:    node_modules/querystring/index.js
    deleted:    node_modules/querystring/package.json
    deleted:    node_modules/querystring/test/.index.js.un~
    deleted:    node_modules/querystring/test/common-index.js
    deleted:    node_modules/querystring/test/index.js
    deleted:    node_modules/querystring/test/tap-index.js
    deleted:    node_modules/request/CHANGELOG.md
    deleted:    node_modules/request/LICENSE
    deleted:    node_modules/request/README.md
    deleted:    node_modules/request/index.js
    deleted:    node_modules/request/lib/auth.js
    deleted:    node_modules/request/lib/cookies.js
    deleted:    node_modules/request/lib/getProxyFromURI.js
    deleted:    node_modules/request/lib/har.js
    deleted:    node_modules/request/lib/helpers.js
    deleted:    node_modules/request/lib/multipart.js
    deleted:    node_modules/request/lib/oauth.js
    deleted:    node_modules/request/lib/querystring.js
    deleted:    node_modules/request/lib/redirect.js
    deleted:    node_modules/request/lib/tunnel.js
    deleted:    node_modules/request/package.json
    deleted:    node_modules/request/request.js
    deleted:    node_modules/sntp/.npmignore
    deleted:    node_modules/sntp/LICENSE
    deleted:    node_modules/sntp/README.md
    deleted:    node_modules/sntp/lib/index.js
    deleted:    node_modules/sntp/package.json
    deleted:    node_modules/sshpk/.npmignore
    deleted:    node_modules/sshpk/.travis.yml
    deleted:    node_modules/sshpk/LICENSE
    deleted:    node_modules/sshpk/README.md
    deleted:    node_modules/sshpk/bin/sshpk-conv
    deleted:    node_modules/sshpk/bin/sshpk-sign
    deleted:    node_modules/sshpk/bin/sshpk-verify
    deleted:    node_modules/sshpk/lib/algs.js
    deleted:    node_modules/sshpk/lib/certificate.js
    deleted:    node_modules/sshpk/lib/dhe.js
    deleted:    node_modules/sshpk/lib/ed-compat.js
    deleted:    node_modules/sshpk/lib/errors.js
    deleted:    node_modules/sshpk/lib/fingerprint.js
    deleted:    node_modules/sshpk/lib/formats/auto.js
    deleted:    node_modules/sshpk/lib/formats/openssh-cert.js
    deleted:    node_modules/sshpk/lib/formats/pem.js
    deleted:    node_modules/sshpk/lib/formats/pkcs1.js
    deleted:    node_modules/sshpk/lib/formats/pkcs8.js
    deleted:    node_modules/sshpk/lib/formats/rfc4253.js
    deleted:    node_modules/sshpk/lib/formats/ssh-private.js
    deleted:    node_modules/sshpk/lib/formats/ssh.js
    deleted:    node_modules/sshpk/lib/formats/x509-pem.js
    deleted:    node_modules/sshpk/lib/formats/x509.js
    deleted:    node_modules/sshpk/lib/identity.js
    deleted:    node_modules/sshpk/lib/index.js
    deleted:    node_modules/sshpk/lib/key.js
    deleted:    node_modules/sshpk/lib/private-key.js
    deleted:    node_modules/sshpk/lib/signature.js
    deleted:    node_modules/sshpk/lib/ssh-buffer.js
    deleted:    node_modules/sshpk/lib/utils.js
    deleted:    node_modules/sshpk/man/man1/sshpk-conv.1
    deleted:    node_modules/sshpk/man/man1/sshpk-sign.1
    deleted:    node_modules/sshpk/man/man1/sshpk-verify.1
    deleted:    node_modules/sshpk/package.json
    deleted:    node_modules/stringstream/.npmignore
    deleted:    node_modules/stringstream/.travis.yml
    deleted:    node_modules/stringstream/LICENSE.txt
    deleted:    node_modules/stringstream/README.md
    deleted:    node_modules/stringstream/example.js
    deleted:    node_modules/stringstream/package.json
    deleted:    node_modules/stringstream/stringstream.js
    deleted:    node_modules/tough-cookie/LICENSE
    deleted:    node_modules/tough-cookie/README.md
    deleted:    node_modules/tough-cookie/lib/cookie.js
    deleted:    node_modules/tough-cookie/lib/memstore.js
    deleted:    node_modules/tough-cookie/lib/pathMatch.js
    deleted:    node_modules/tough-cookie/lib/permuteDomain.js
    deleted:    node_modules/tough-cookie/lib/pubsuffix.js
    deleted:    node_modules/tough-cookie/lib/store.js
    deleted:    node_modules/tough-cookie/package.json
    deleted:    node_modules/tunnel-agent/LICENSE
    deleted:    node_modules/tunnel-agent/README.md
    deleted:    node_modules/tunnel-agent/index.js
    deleted:    node_modules/tunnel-agent/package.json
    deleted:    node_modules/tweetnacl/.npmignore
    deleted:    node_modules/tweetnacl/AUTHORS.md
    deleted:    node_modules/tweetnacl/CHANGELOG.md
    deleted:    node_modules/tweetnacl/LICENSE
    deleted:    node_modules/tweetnacl/PULL_REQUEST_TEMPLATE.md
    deleted:    node_modules/tweetnacl/README.md
    deleted:    node_modules/tweetnacl/nacl-fast.js
    deleted:    node_modules/tweetnacl/nacl-fast.min.js
    deleted:    node_modules/tweetnacl/nacl.d.ts
    deleted:    node_modules/tweetnacl/nacl.js
    deleted:    node_modules/tweetnacl/nacl.min.js
    deleted:    node_modules/tweetnacl/package.json
    deleted:    node_modules/url/.npmignore
    deleted:    node_modules/url/.travis.yml
    deleted:    node_modules/url/.zuul.yml
    deleted:    node_modules/url/LICENSE
    deleted:    node_modules/url/README.md
    deleted:    node_modules/url/node_modules/punycode/LICENSE-MIT.txt
    deleted:    node_modules/url/node_modules/punycode/README.md
    deleted:    node_modules/url/node_modules/punycode/package.json
    deleted:    node_modules/url/node_modules/punycode/punycode.js
    deleted:    node_modules/url/package.json
    deleted:    node_modules/url/test.js
    deleted:    node_modules/url/url.js
    deleted:    node_modules/url/util.js
    deleted:    node_modules/uuid/.eslintrc.json
    deleted:    node_modules/uuid/AUTHORS
    deleted:    node_modules/uuid/HISTORY.md
    deleted:    node_modules/uuid/LICENSE.md
    deleted:    node_modules/uuid/README.md
    deleted:    node_modules/uuid/bin/uuid
    deleted:    node_modules/uuid/index.js
    deleted:    node_modules/uuid/lib/bytesToUuid.js
    deleted:    node_modules/uuid/lib/rng-browser.js
    deleted:    node_modules/uuid/lib/rng.js
    deleted:    node_modules/uuid/lib/sha1-browser.js
    deleted:    node_modules/uuid/lib/sha1.js
    deleted:    node_modules/uuid/package.json
    deleted:    node_modules/uuid/v1.js
    deleted:    node_modules/uuid/v4.js
    deleted:    node_modules/uuid/v5.js
    deleted:    node_modules/verror/.npmignore
    deleted:    node_modules/verror/CHANGES.md
    deleted:    node_modules/verror/CONTRIBUTING.md
    deleted:    node_modules/verror/LICENSE
    deleted:    node_modules/verror/README.md
    deleted:    node_modules/verror/lib/verror.js
    deleted:    node_modules/verror/package.json
    modified:   package.json

Untracked files:
  (use ""git add &lt;file&gt;..."" to include in what will be committed)

    node_modules/bignumber.js/
    node_modules/mysql/
    node_modules/sqlstring/
    package-lock.json

no changes added to commit (use ""git add"" and/or ""git commit -a"")
</code></pre>

<p><a href=""https://i.stack.imgur.com/JMBzq.png"" rel=""nofollow noreferrer"">npm install mysql</a></p>

<p><a href=""https://i.stack.imgur.com/5XT7a.png"" rel=""nofollow noreferrer"">deleted packages-1</a></p>

<p><a href=""https://i.stack.imgur.com/TOBld.png"" rel=""nofollow noreferrer"">deleted packages-2</a></p>

<p><a href=""https://i.stack.imgur.com/9qEHk.png"" rel=""nofollow noreferrer"">deleted packages-3</a></p>

<p><a href=""https://i.stack.imgur.com/MdZnB.png"" rel=""nofollow noreferrer"">deleted packages-4</a></p>

<p><a href=""https://i.stack.imgur.com/EnXYH.png"" rel=""nofollow noreferrer"">deleted packages-5</a></p>

<p><a href=""https://i.stack.imgur.com/26C3B.png"" rel=""nofollow noreferrer"">Result of running app.js</a></p>

<p>[jatinverma</p>

<pre><code>95@jatinverma95 DP]$ node app.js
module.js:538
    throw err;
    ^

Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:536:15)
    at Function.Module._load (module.js:466:25)
    at Module.require (module.js:579:17)
    at require (internal/module.js:11:18)
    at /home/jatinverma95/Jatin/DP/routes/datasets.js:10:15
    at Object.&lt;anonymous&gt; (/home/jatinverma95/Jatin/DP/routes/datasets.js:244:3)
    at Module._compile (module.js:635:30)
    at Object.Module._extensions..js (module.js:646:10)
    at Module.load (module.js:554:32)
    at tryModuleLoad (module.js:497:12)
</code></pre>

<p>EDIT 1: package.json(<a href=""https://i.stack.imgur.com/g4lA6.png"" rel=""nofollow noreferrer"">package.json Image</a>)</p>

<pre><code>{
  ""name"": ""questionnaire"",
  ""version"": ""1.0.0"",
  ""description"": """",
  ""main"": ""app.js"",
  ""scripts"": {
    ""test"": ""echo \""Error: no test specified\"" &amp;&amp; exit 1""
  },
  ""author"": """",
  ""license"": ""ISC"",
  ""dependencies"": {
    ""body-parser"": ""^1.15.2"",
    ""cookie-parser"": ""^1.4.3"",
    ""express"": ""^4.14.0"",
    ""handlebars"": ""^4.0.5"",
    ""mssql"": ""^3.3.0""
  }
}
</code></pre>
",<javascript><mysql><node.js><express><npm>,1.0,0,0,1
16637,16637,47562189,1,0,3727758,1.0,4.0,0.0,0.0,2017-11-29T21:33:21.537,0.0,330.0,Express.js do not open index.html file,"<p>Issue came up, when I tried to run axpress.js solution, but it opens index.jade file from views folder and in browser I see result: ""Welcome to Express"" , but I would like to open my index.html file which is located in client directory -> index.html , when I run npm I am accessing to this location: <a href=""http://localhost:3000/client/index.html"" rel=""nofollow noreferrer"">http://localhost:3000/client/index.html</a> , but this path my solution do not find.</p>

<p>In app.js file I set and define routes:</p>

<pre><code>app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'jade');

app.use(logger('dev'));
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({ extended: false }));
app.use(cookieParser());
app.use(express.static(path.join(__dirname, 'public')));

app.use('/', routes);
app.use('/users', users);
</code></pre>

<p>routes folder: index.js file:</p>

<pre><code>var express = require('express');
var router = express.Router();

/* GET home page. */
router.get('/', function(req, res, next) {
  res.render('index', { title: 'Express' });
});

module.exports = router;
</code></pre>

<p>Where I have to setup my routing, because now I am getting 404 .</p>
",<javascript><html><node.js><express><npm>,0.0,0,0,1
16674,16674,47613427,1,48271306,1861779,2.0,2.0,0.0,0.0,2017-12-02T22:46:50.370,0.0,518.0,Clio API: bulk actions not returning 303 status code,"<p>I'm not seeing a 303 response for bulk actions using latest v4 api for the <code>activities</code> endpoint.</p>
<p>From <a href=""https://app.clio.com/api/v4/documentation#tag/Bulk-Actions"" rel=""nofollow noreferrer"">The API Documentation:</a></p>
<blockquote>
<ol>
<li><p>Make a request to the action with an X-BULK header with the value true. The response will always be a 202 Accepted.</p>
</li>
<li><p>Poll the URL provided in the Location header of the response. This URL is for the Bulk Actions endpoint.</p>
</li>
<li><p>Once the action is complete, polling the URL will return a 303 See Other response.</p>
</li>
<li><p>Download the response from URL in the Location header of the 303 See other response.</p>
</li>
</ol>
</blockquote>
<p>Here's what I'm doing:</p>
<p>I issue the initial request to the activities endpoint with the <code>X-BULK</code> header set to <code>'true'</code>.</p>
<ul>
<li>I receive a <code>202 Accepted</code>response with a <code>Location</code> header set to the polling url.</li>
</ul>
<p>I begin polling the provided url from the <code>Location</code> header.</p>
<ul>
<li>I receive a few <code>200</code> responses with the following data and headers:</li>
</ul>
<p>Data:</p>
<pre><code>{&quot;data&quot;:{&quot;id&quot;:26952539,&quot;etag&quot;:&quot;\\&quot;434fa52f83b8e0bb72677f60b8297866\\&quot;&quot;}}
</code></pre>
<p>Headers:</p>
<pre><code>{ 
  'content-type': 'application/json; charset=utf-8',
  'transfer-encoding': 'chunked',
  connection: 'close',
  vary: 'Accept-Encoding',
  status: '200 OK',
  'last-modified': 'Sat, 02 Dec 2017 22:17:13 GMT',
  'x-ratelimit-limit': '50',
  'x-ratelimit-reset': '1512253080',
  'x-ratelimit-remaining': '45',
  'x-request-id': '4674a764-c417-448c-af09-c6dae1cabe15',
  etag: '&quot;434fa52f83b8e0bb72677f60b8297866&quot;',
  'x-frame-options': 'SAMEORIGIN',
  'cache-control': 'no-cache, private, no-store',
  'x-xss-protection': '1; mode=block',
  'x-api-version': '4.0.5',
  'x-content-type-options': 'nosniff',
  date: 'Sat, 02 Dec 2017 22:17:13 GMT',
  'set-cookie':
  [ 'XSRF-TOKEN=oQqTKV8XKRm9oiMuY1OFZ6qleZyRyvtcs9v52%2FWyeiVXxvVszHLiXsQkWelnUHs3ErSsH64ctIpehxErulAWHg%3D%3D; path=/; secure',
    '_session_id=7babc5f94bc48ecd5d18d4b40c17d6ca; path=/; secure; HttpOnly' ],
  server: 'nginx',
  'strict-transport-security': 'max-age=31536000; includeSubdomains' 
} 
</code></pre>
<p>However a <code>303</code> never comes. After a few of the above <code>200</code>s I get another <code>200</code> with the payload:</p>
<p>Data:</p>
<pre><code>{
  &quot;data&quot;: [
    {
      &quot;data&quot;: [ {id: 1...}, {id: 2...}, {id: 3...}, ... ],
      &quot;status&quot;: 200
    }
  ],
  &quot;status&quot;: &quot;completed&quot;,
  &quot;requested&quot;: 46,
  &quot;performed&quot;: 46
}
</code></pre>
<p>Headers:</p>
<pre><code>{ 
  'x-amz-id-2': '1uiNt20Vd/X74JxKZKrt/hah7aof8xfhZlt7fhlDt8b3G2nA47Y8ZDaohb2drSF8ErniirRK2Es=',
  'x-amz-request-id': '2B29557952779E29',
  date: 'Sat, 02 Dec 2017 22:17:15 GMT',
  'last-modified': 'Sat, 02 Dec 2017 22:17:14 GMT',
  'x-amz-expiration': 'expiry-date=&quot;Wed, 06 Dec 2017 00:00:00 GMT&quot;, rule-id=&quot;Expiration rule (auto-generated)&quot;',
  etag: '&quot;58e33e4eced83d145bf6dec9f72b97be-1&quot;',
  'x-amz-server-side-encryption': 'AES256',
  'content-encoding': 'utf-8',
  'x-amz-version-id': '2Ou7F__59Pz8WKOKZwFg_fOuhQjD5ro0',
  'content-disposition': 'attachment; filename=&quot;activities 20171202.json&quot;;',
  'accept-ranges': 'bytes',
  'content-type': 'application/json',
  'content-length': '9593',
  server: 'AmazonS3',
  connection: 'close' 
} 
</code></pre>
<p>It appears I can work around this sufficiently by testing for <code>status === 'completed'</code>, or even checking for the presence of the <code>content-disposition</code> header.</p>
<p>Am I doing something wrong that prohibits a <code>303</code> response, or are there semantics for the <code>activities</code> endpoint that I'm ignoring?</p>
<p>Is it sufficient to test for <code>status === 'completed'</code> to work around this issue?</p>
<p>Note: I am passing the <code>Authorization</code> header for every request, which includes the access token.</p>
<p>Thanks!</p>
",<node.js><express><npm-request><clio-api>,0.0,0,0,1
16730,16730,47685509,1,47685803,866082,1.0,0.0,0.0,0.0,2017-12-07T00:04:21.817,0.0,319.0,"A customized npm script to compile, watch and server","<p>I'm trying to set up a project which makes use of express and react. And I'm trying to make the best use of <a href=""https://github.com/coryhouse/react-slingshot"" rel=""nofollow noreferrer"">React-Slingshot</a> project to benefit from it as much as possible. But the thing is that my project needs to be served (on the server side) by a script which I wrote. That script will use express and possibly socket.io to server the client side.</p>

<p>I think this is a problem if I use projects like React-Slingshot since they come with their own server scripts which support hot reloading and stuff. I'm willing to give up the fancy functionality like hot reloading. But I need to keep the <code>--watch</code> functionality so each time some file is changed, the code is compiled without me restarting the whole server.</p>

<p>Right now, the script section of package.json looks like this:</p>

<pre><code>  ""scripts"": {
    ""preinstall"": ""node tools/nodeVersionCheck.js"",
    ""setup"": ""node tools/setup/setupMessage.js &amp;&amp; npm install &amp;&amp; node tools/setup/setup.js"",
    ""remove-demo"": ""babel-node tools/removeDemo.js"",
    ""start-message"": ""babel-node tools/startMessage.js"",
    ""prestart"": ""npm run start-message"",
    ""start"": ""concurrently -k -r -s first \""npm run test:watch\"" \""npm run open:src\"" \""npm run lint:watch\"""",
    ""open:src"": ""babel-node tools/srcServer.js"",
    ""open:dist"": ""babel-node tools/distServer.js"",
    ""lint"": ""esw webpack.config.* src tools --color"",
    ""lint:watch"": ""npm run lint -- --watch"",
    ""clean-dist"": ""npm run remove-dist &amp;&amp; mkdir dist"",
    ""remove-dist"": ""rimraf ./dist"",
    ""prebuild"": ""npm run clean-dist &amp;&amp; npm run lint &amp;&amp; npm run test"",
    ""build"": ""babel-node tools/build.js &amp;&amp; babel server -d dist --presets es2015,stage-2"",
    ""test"": ""jest"",
    ""test:CI"": ""babel-node tools/testCi.js"",
    ""test:cover"": ""npm run test -- --coverage "",
    ""test:cover:CI"": ""npm run test:CI -- --coverage &amp;&amp; cat ./coverage/lcov.info | node_modules/coveralls/bin/coveralls.js"",
    ""test:watch"": ""jest --watch"",
    ""open:cover"": ""npm run test:cover &amp;&amp; opn ./coverage/lcov-report/index.html"",
    ""analyze-bundle"": ""babel-node ./tools/analyzeBundle.js""
  },
</code></pre>

<p>This is a modified version of what you can find in React-Slingshot. I've made a change so when I run <code>npm run build</code>, it builds the server code as well and terminates. It used to be like this:</p>

<pre><code>   ""build"": ""babel-node tools/build.js &amp;&amp; npm run open:dist"",
</code></pre>

<p>Now, I'm trying to find a way to run my own server (i.e. <code>node temp/server.js</code>) while the rest of the code is compiled based on <code>--watch</code> as for my dev environment.</p>
",<express><npm><webpack>,0.0,1,0,1
16751,16751,47717115,1,47789379,1816184,2.0,0.0,0.0,0.0,2017-12-08T15:14:00.530,2.0,2035.0,Heroku app crashed because of eslint faulty import,"<p>I am developing an app which uses VueJS to display the views and ExpressJS acting as the server.</p>

<p>Works fine locally so far, but after successfully deploying it on Heroku it does not load the app and crashes the dyno.</p>

<p>My folder structure is as such:</p>

<ul>
<li>project root

<ul>
<li>client

<ul>
<li>package.json for client</li>
</ul></li>
<li>server

<ul>
<li>package.json for server</li>
</ul></li>
<li>package.json that tells Heroku to install dependences in both folders</li>
</ul></li>
</ul>

<p>This is the package.json that Heroku refers to to build the whole app:</p>

<pre><code>{
    ""name"": ""my-app"",
    ""version"": ""0.1.0"",
    ""scripts"": {
        ""postinstall"": ""npm install --prefix server &amp;&amp; npm install --prefix client""
    }
}
</code></pre>

<p>package.json for the server:</p>

<pre><code>{
  ""name"": ""server"",
  ""version"": ""1.0.0"",
  ""description"": """",
  ""main"": ""./src/app.js"",
  ""scripts"": {
      ""start"": ""./node_modules/nodemon/bin/nodemon.js src/app.js --exec 'npm run lint &amp;&amp; node'"",
  ""lint"": ""./node_modules/.bin/eslint **/*.js""
  },
  ""keywords"": [],
  ""author"": """",
  ""license"": ""ISC"",
  ""dependencies"": {
  ""body-parser"": ""^1.18.2"",
  ""cors"": ""^2.8.4"",
  ""eslint"": ""^4.12.1"",
  ""express"": ""^4.16.2"",
  ""morgan"": ""^1.9.0"",
  ""nodemon"": ""^1.12.5"",
  ""pg"": ""^7.4.0"",
  ""sequelize"": ""^4.27.0""
},
""devDependencies"": {
    ""eslint-config-standard"": ""^10.2.1"",
    ""eslint-plugin-import"": ""^2.8.0"",
    ""eslint-plugin-node"": ""^5.2.1"",
    ""eslint-plugin-promise"": ""^3.6.0"",
    ""eslint-plugin-standard"": ""^3.0.1""
}
}
</code></pre>

<p>I checked the logs and the issue stands in the eslint library, which Heroku cannot find in my project. Any idea on how to solve this issue?</p>

<pre><code>2017-12-08T14:55:35.408127+00:00 app[web.1]: Cannot find module 'eslint-config-standard'
2017-12-08T14:55:35.408145+00:00 app[web.1]: Referenced from: /app/server/.eslintrc.js
2017-12-08T14:55:35.408945+00:00 app[web.1]: Error: Cannot find module 'eslint-config-standard'
2017-12-08T14:55:35.408947+00:00 app[web.1]: Referenced from: /app/server/.eslintrc.js
2017-12-08T14:55:35.408948+00:00 app[web.1]:     at ModuleResolver.resolve (/app/server/node_modules/eslint/lib/util/module-resolver.js:74:19)
2017-12-08T14:55:35.408949+00:00 app[web.1]:     at resolve (/app/server/node_modules/eslint/lib/config/config-file.js:471:25)
2017-12-08T14:55:35.408950+00:00 app[web.1]:     at load (/app/server/node_modules/eslint/lib/config/config-file.js:542:26)
2017-12-08T14:55:35.408951+00:00 app[web.1]:     at configExtends.reduceRight (/app/server/node_modules/eslint/lib/config/config-file.js:421:36)
2017-12-08T14:55:35.408951+00:00 app[web.1]:     at Array.reduceRight (&lt;anonymous&gt;)
2017-12-08T14:55:35.408952+00:00 app[web.1]:     at applyExtends (/app/server/node_modules/eslint/lib/config/config-file.js:403:28)
2017-12-08T14:55:35.408953+00:00 app[web.1]:     at loadFromDisk (/app/server/node_modules/eslint/lib/config/config-file.js:514:22)
2017-12-08T14:55:35.408953+00:00 app[web.1]:     at Object.load (/app/server/node_modules/eslint/lib/config/config-file.js:550:20)
2017-12-08T14:55:35.408954+00:00 app[web.1]:     at Config.getLocalConfigHierarchy (/app/server/node_modules/eslint/lib/config.js:228:44)
2017-12-08T14:55:35.408955+00:00 app[web.1]:     at Config.getConfigHierarchy (/app/server/node_modules/eslint/lib/config.js:180:43)
2017-12-08T14:55:35.464317+00:00 app[web.1]: npm ERR! code ELIFECYCLE
2017-12-08T14:55:35.464681+00:00 app[web.1]: npm ERR! errno 1
2017-12-08T14:55:35.466080+00:00 app[web.1]: npm ERR! server@1.0.0 lint: `eslint **/*.js`
2017-12-08T14:55:35.466205+00:00 app[web.1]: npm ERR! Exit status 1
2017-12-08T14:55:35.466413+00:00 app[web.1]: npm ERR! 
2017-12-08T14:55:35.466555+00:00 app[web.1]: npm ERR! Failed at the server@1.0.0 lint script.
2017-12-08T14:55:35.466726+00:00 app[web.1]: npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
2017-12-08T14:55:35.491352+00:00 app[web.1]: 
2017-12-08T14:55:35.491535+00:00 app[web.1]: npm ERR! A complete log of this run can be found in:
2017-12-08T14:55:35.491648+00:00 app[web.1]: npm ERR!     /app/.npm/_logs/2017-12-08T14_55_35_468Z-debug.log
2017-12-08T14:55:35.506231+00:00 app[web.1]: [nodemon] app crashed - waiting for file changes before starting...
2017-12-08T14:56:08.700333+00:00 heroku[router]: at=error code=H20 desc=""App boot timeout"" method=GET path=""/status"" host=babbelbord.herokuapp.com request_id=f86a8552-14b5-477c-b79d-d575ad30bffa fwd=""84.81.81.130"" dyno= connect= service= status=503 bytes= protocol=https
</code></pre>
",<express><heroku><npm><eslint><package.json>,0.0,0,0,1
16758,16758,47726561,1,0,4183216,2.0,2.0,0.0,0.0,2017-12-09T07:58:21.137,0.0,1939.0,How do I run a copied project in Node.js,"<p><a href=""https://github.com/gleitz/mahjong"" rel=""nofollow noreferrer"">https://github.com/gleitz/mahjong</a></p>

<p>I want to run this app on my windows,
the directions say:
-Install dependencies with npm update
-Start the application with node app.js</p>

<p>it's sound easy so I try myself.</p>

<p>1.Fist of all , I install node.js on it's official website (<a href=""https://nodejs.org/en/"" rel=""nofollow noreferrer"">https://nodejs.org/en/</a>)
I　download the 8.9.3 version.</p>

<p>after installing node.js
2.open the command line and go to the project path.</p>

<p>3.then I input the command npm update.
it works,and the node_modules folder is created.But there are some warn message
<a href=""https://i.stack.imgur.com/M8Y7W.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/M8Y7W.jpg"" alt=""warn message""></a></p>

<p>4.finally input the command node app.js... it's not work with many error message</p>

<p>following is wrong message</p>

<p><a href=""https://i.stack.imgur.com/K4YQ6.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/K4YQ6.jpg"" alt=""error message 1""></a>
<a href=""https://i.stack.imgur.com/WC1E5.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/WC1E5.jpg"" alt=""error message 2""></a></p>

<p>I wonder know how should I do.Is any thing I didn't installed?</p>

<p>Please help me.I really want to research this mahjong project.</p>
",<javascript><node.js><express><npm><npm-install>,0.0,0,0,1
16831,16831,47790475,1,0,2945031,1.0,0.0,0.0,0.0,2017-12-13T10:15:59.510,0.0,2048.0,Nodejs express error with 'sharp' module,"<p>Hi I got an error in nodejs like below,Please reply if anyone have solution for this</p>

<pre><code>Technical error has occured.
Error: Cannot find module 'sharp'
at Function.Module._resolveFilename (module.js:536:15)
at Function.Module._load (module.js:466:25)
at Module.require (module.js:579:17)
at require (internal/module.js:11:18)
at Object.&lt;anonymous&gt; (C:\wamp64\www\MyProject\app\helpers\ima
geUploadHelper.js:8:13)
at Module._compile (module.js:635:30)
at Object.Module._extensions..js (module.js:646:10)
at Module.load (module.js:554:32)
at tryModuleLoad (module.js:497:12)
at Function.Module._load (module.js:489:3)
at Module.require (module.js:579:17)
at require (internal/module.js:11:18)
at updateprofileImage (C:\wamp64\www\MyProject\controllers
\userController.js:421:29)
at &lt;anonymous&gt;
at process._tickCallback (internal/process/next_tick.js:188:7)
</code></pre>

<p>I thought this error was because of the sharp module and hence I executed 'npm install sharp' to add sharp module to my project. But then I got error like below</p>

<pre><code>sharp@0.18.4 install C:\wamp64\www\MyProject\node_modules\sharp
node-gyp rebuild


C:\wamp64\www\MyProject\node_modules\sharp&gt;if not defined npm_conf
ig_node_gyp (node ""C:\Program Files\nodejs\node_modules\npm\bin\node-gyp-
bin\\..
\..\node_modules\node-gyp\bin\node-gyp.js"" rebuild )  else (node """" rebuild 
)
Building the projects in this solution one at a time. To enable parallel 
build,
please add the ""/m"" switch.
C:\wamp64\www\MyProject\node_modules\sharp\build\libvips-cpp.vcxp
roj(20,3): error MSB4019: The imported project 
""C:\Microsoft.Cpp.Default.props""
was not found. Confirm that the path in the &lt;Import&gt; declaration is correct, 
and that the file exists on disk.
gyp ERR! build error
gyp ERR! stack Error: 
`C:\Windows\Microsoft.NET\Framework\v4.0.30319\msbuild.exe
` failed with exit code: 1
gyp ERR! stack     at ChildProcess.onExit (C:\Program 
Files\nodejs\node_modules\
npm\node_modules\node-gyp\lib\build.js:258:23)
gyp ERR! stack     at emitTwo (events.js:126:13)
gyp ERR! stack     at ChildProcess.emit (events.js:214:7)
gyp ERR! stack     at Process.ChildProcess._handle.onexit 
(internal/child_process.js:198:12)
gyp ERR! System Windows_NT 6.3.9600
gyp ERR! command ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Program 
Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js"" 
""rebuild""
gyp ERR! cwd C:\wamp64\www\MyProject\node_modules\sharp
gyp ERR! node -v v8.9.1
gyp ERR! node-gyp -v v3.6.2
gyp ERR! not ok
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.1.3 
(node_modules\fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for 
fsevents@1.1.3: wanted {""os"":""darwin"",""arch"":""any""} (current: 
{""os"":""win32"",""arch"":""x64""})

npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! sharp@0.18.4 install: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the sharp@0.18.4 install script.
npm ERR! This is probably not a problem with npm. There is likely additional 
logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\roby.jacob\AppData\Roaming\npm-cache\_logs\2017-12-
13T09_59_04_884Z-debug.log
</code></pre>

<p>Please do reply if anyone have came across with the same situation and a have solution.</p>
",<node.js><express><npm>,1.0,0,0,1
16859,16859,47815353,1,0,5884060,1.0,2.0,0.0,0.0,2017-12-14T14:09:30.887,0.0,1434.0,unable to push to git repo | node package open error,"<p>I set up my project with the Express generator and everything was fine when creating the repository on GitHub and I was able to clone it to my desktop and generate the folder structure. When I did a lot of work on my app (Pug, node, express) I wanted to add all the files in my project with ""git add ."" and I get this error in my console: </p>

<pre><code> error: open(""node_modules/.bin/acorn""): Invaliid argument
 error: unable to index file node_modules/.bin/ac/acorn
 fatal: updating files failed
</code></pre>

<p>As I can't add the files I can't commit or push them either. </p>

<p>I'm running windows 10.</p>

<p>edit: If I try to move the files to a new file in windows explorer I get this error <a href=""https://snag.gy/T1dI3M.jpg"" rel=""nofollow noreferrer"">https://snag.gy/T1dI3M.jpg</a> so I guess it's something to do with the acorn package but I don't know if I can delete it.</p>
",<git><express><npm><express-generator>,0.0,0,0,1
17019,17019,47992072,1,48007338,1116341,1.0,1.0,0.0,0.0,2017-12-27T12:18:20.457,0.0,187.0,How to upload image using request npm module?,"<p>I am using request npm module.
I have a gateway which acts as the middle man, takes request from outside and forwards it to the concerned microservice.
For downloads, I have the following code.</p>

<pre><code>if (
    req.baseUrl.match('download') ||
    req.url.match('download')
) {
    request.get(url).pipe(res);
    return;
}
</code></pre>

<p>Now I have to <strong>upload image to a microservice</strong>, how do I do that, I am clueless.</p>
",<node.js><express><npm-request>,0.0,0,0,1
17040,17040,48013365,1,0,7942315,0.0,5.0,0.0,0.0,2017-12-28T19:37:23.587,0.0,209.0,How to use React Components without CDN and minified js on clients?,"<p>I am building an app with MERN(MongoDB, Express, React Nodejs) stacks and <a href=""https://github.com/axios/axios"" rel=""nofollow noreferrer"">axios</a>. On my client side, I use CDNs to load React and React-DOM, and I place a minified axios file in Express's public javascripts directory.</p>

<p>I want to use this <a href=""https://github.com/Hacker0x01/react-datepicker"" rel=""nofollow noreferrer"">datepicker</a> but it does not have a CDN or a minified file. I installed the datepicker by:</p>

<pre><code>npm install react-datepicker --save
</code></pre>

<p>but it loads it to my server right? How can I use it on my client side? I am confused.</p>
",<node.js><reactjs><express><npm>,0.0,0,0,1
17072,17072,48055789,1,48065244,9162329,2.0,9.0,0.0,0.0,2018-01-02T05:00:27.603,1.0,515.0,Error installing Express via nodejs,"<p>I'm trying to install express via nodeJS and the errors that I am getting tell me that I should rename my directories. I have already run npm init in my project folder so I assume the setup is correct. The exact command that I use is: <code>npm install express --save</code> and the npm-debug.log lists a bunch of statements prefaced with ""silly"" but the most significant ones (imo) are below:</p>

<pre><code>3242 verbose stack Error: EPERM: operation not permitted, rename 'C:\Users\Leungi5368\Documents\CS Education\Side Projects\TimeManagerElectron\TimeManagerElectron\node_modules\.staging\depd-c51a5acf' -&gt; 'C:\Users\Leungi5368\Documents\CS Education\Side Projects\TimeManagerElectron\TimeManagerElectron\node_modules\depd'
3242 verbose stack     at destStatted (C:\Program Files\nodejs\node_modules\npm\lib\install\action\finalize.js:25:7)
3242 verbose stack     at C:\Program Files\nodejs\node_modules\npm\node_modules\graceful-fs\polyfills.js:264:29
3242 verbose stack     at FSReqWrap.oncomplete (fs.js:123:15)
3242 verbose stack
3242 verbose stack Error: EPERM: operation not permitted, rename 'C:\Users\Leungi5368\Documents\CS Education\Side Projects\TimeManagerElectron\TimeManagerElectron\node_modules\.staging\depd-c51a5acf' -&gt; 'C:\Users\Leungi5368\Documents\CS Education\Side Projects\TimeManagerElectron\TimeManagerElectron\node_modules\depd'
3242 verbose stack     at Error (native)
3243 verbose cwd C:\Users\Leungi5368\Documents\CS Education\Side Projects\TimeManagerElectron\TimeManagerElectron
3244 error Windows_NT 10.0.16299
3245 error argv ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""install"" ""express"" ""--save""
3246 error node v6.11.2
3247 error npm  v3.10.10
3248 error path C:\Users\Leungi5368\Documents\CS Education\Side Projects\TimeManagerElectron\TimeManagerElectron\node_modules\.staging\depd-c51a5acf
3249 error code EPERM
3250 error errno -4048
3251 error syscall rename
3252 error Error: EPERM: operation not permitted, rename 'C:\Users\Leungi5368\Documents\CS Education\Side Projects\TimeManagerElectron\TimeManagerElectron\node_modules\.staging\depd-c51a5acf' -&gt; 'C:\Users\Leungi5368\Documents\CS Education\Side Projects\TimeManagerElectron\TimeManagerElectron\node_modules\depd'
3252 error     at destStatted (C:\Program Files\nodejs\node_modules\npm\lib\install\action\finalize.js:25:7)
3252 error     at C:\Program Files\nodejs\node_modules\npm\node_modules\graceful-fs\polyfills.js:264:29
3252 error     at FSReqWrap.oncomplete (fs.js:123:15)
3252 error
3252 error Error: EPERM: operation not permitted, rename 'C:\Users\Leungi5368\Documents\CS Education\Side Projects\TimeManagerElectron\TimeManagerElectron\node_modules\.staging\depd-c51a5acf' -&gt; 'C:\Users\Leungi5368\Documents\CS Education\Side Projects\TimeManagerElectron\TimeManagerElectron\node_modules\depd'
3252 error     at Error (native)
3252 error  { Error: EPERM: operation not permitted, rename 'C:\Users\Leungi5368\Documents\CS Education\Side Projects\TimeManagerElectron\TimeManagerElectron\node_modules\.staging\depd-c51a5acf' -&gt; 'C:\Users\Leungi5368\Documents\CS Education\Side Projects\TimeManagerElectron\TimeManagerElectron\node_modules\depd'
3252 error     at destStatted (C:\Program Files\nodejs\node_modules\npm\lib\install\action\finalize.js:25:7)
3252 error     at C:\Program Files\nodejs\node_modules\npm\node_modules\graceful-fs\polyfills.js:264:29
3252 error     at FSReqWrap.oncomplete (fs.js:123:15)
3252 error
3252 error Error: EPERM: operation not permitted, rename 'C:\Users\Leungi5368\Documents\CS Education\Side Projects\TimeManagerElectron\TimeManagerElectron\node_modules\.staging\depd-c51a5acf' -&gt; 'C:\Users\Leungi5368\Documents\CS Education\Side Projects\TimeManagerElectron\TimeManagerElectron\node_modules\depd'
3252 error     at Error (native) parent: 'microtrack' }
3253 error Please try running this command again as root/Administrator.
3254 verbose exit [ -4048, true ]`
</code></pre>

<p>CONTEXT: I've been following along with Brad Traversy's NodeJS and Express database app series on YT in an attempt to learn some backend stuff to use in my side project and the command he used (listed above) works flawlessly.</p>

<p>Thanks in advance for any help/suggestions.</p>
",<node.js><express><npm><npm-install><npm-cli>,0.0,0,0,1
17091,17091,48072815,1,0,5536174,1.0,1.0,0.0,0.0,2018-01-03T07:13:44.743,0.0,2744.0,Npm install not working in windows after node upgrade,"<p>Last night I have upgraded my Node.JS and after that my npm install stopped working. I have uninstall Node and reinstalled it again but that is of no use. I am using Windows 8.1, Node - 8.9.4 and NPM - 3.3.12. Below is the error I am getting while running npm install.</p>

<pre><code>npm ERR! Windows_NT 6.3.9600
npm ERR! argv ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Users\\Subrata\\AppData
\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js"" ""install""
npm ERR! node v8.9.4
npm ERR! npm  v3.3.12
npm ERR! code MODULE_NOT_FOUND

npm ERR! Cannot find module 'internal/util/types'
npm ERR!
npm ERR! If you need help, you may report this error at:
npm ERR!     &lt;https://github.com/npm/npm/issues&gt;

npm ERR! Please include the following file with any support request:
npm ERR!     D:\1-NodeJSTest\CoreNodeJSTest\SimpleSessionTest\npm-debug.log
</code></pre>
",<javascript><node.js><express><npm-install><node-modules>,0.0,0,0,1
17096,17096,48078624,1,0,8055819,0.0,2.0,0.0,0.0,2018-01-03T13:42:46.580,0.0,36.0,Readin newly appended data only in javascript,"<p>I have a text file that gets appended with new data every 5 minutes. Is there any possible way using javascript that I can fetch only the data which is appended. Since data is appended at the end of the file and reading it again from starting is time-consuming. Is there any npm module which can read the file from the last line towards starting of data?</p>
",<javascript><node.js><express><npm><web-scraping>,0.0,0,0,1
17174,17174,48148599,1,0,4105895,1.0,5.0,0.0,0.0,2018-01-08T10:41:04.440,4.0,3327.0,Non deterministic behavior on dependencies - nodejs,"<p>I would solve a warning: when I run <code>yarn install</code> all dependencies are installed but I receive this warning:</p>

<blockquote>
  <p>warning Pattern [""esprima-fb@~3001.0001.0000-dev-harmony-fb""] is
  trying to unpack in the same destination
  ""/Users/Me/Library/Caches/Yarn/v1/npm-esprima-fb-3001.1.0-dev-harmony-fb-b77d37abcd38ea0b77426bb8bc2922ce6b426411""
  as pattern [""esprima-fb@~3001.1.0-dev-harmony-fb""]. This could result
  in a non deterministic behavior, skipping.</p>
</blockquote>

<p>If I delete node_modules folder and I run <code>yarn install</code> I don't receive the warning, when I re-execute <code>yarn install</code> I receive it again.
I suppose the problem is in yarn-lock file.</p>

<p><strong>package.json</strong></p>

<pre><code>{
  ""name"": ""n1"",
  ""version"": ""1.0.0"",
  ""description"": ""none "",
  ""author"": ""none"",
  ""main"": ""src/index.js"",
  ""private"": false,
  ""engines"": {
    ""node"": ""&gt;=7.6"",
    ""yarn"": ""*""
  },
  ""scripts"": {
    ""precommit"": ""yarn lint"",
    ""prestart"": ""yarn docs"",
    ""start"": ""cross-env NODE_ENV=production pm2 start ./src/index.js"",
    ""dev"": ""nodemon ./src/index.js"",
    ""lint"": ""eslint **/*.js --ignore-path .gitignore --ignore-pattern internals/scripts"",
    ""lint:fix"": ""yarn lint -- --fix"",
    ""lint:watch"": ""yarn lint -- --watch"",
    ""test"": ""cross-env NODE_ENV=test nyc --reporter=html --reporter=text mocha --timeout 20000 --recursive src/api/tests"",
    ""test:unit"": ""cross-env NODE_ENV=test mocha src/api/tests/unit"",
    ""test:integration"": ""cross-env NODE_ENV=test mocha --timeout 20000 src/api/tests/integration"",
    ""test:watch"": ""cross-env NODE_ENV=test mocha --watch src/api/tests/unit"",
    ""coverage"": ""nyc report --reporter=text-lcov | coveralls"",
    ""postcoverage"": ""opn coverage/lcov-report/index.html"",
    ""validate"": ""yarn lint &amp;&amp; yarn test"",
    ""postpublish"": ""git push --tags"",
    ""docs"": ""apidoc -i src -o docs"",
    ""postdocs"": ""opn docs/index.html""
  },
  ""dependencies"": {
    ""bcryptjs"": ""^2.4.3"",
    ""blubird"": ""^0.0.1-security"",
    ""bluebird"": ""^3.5.1"",
    ""body-parser"": ""^1.18.2"",
    ""chalk"": ""^2.3.0"",
    ""color"": ""^2.0.1"",
    ""compression"": ""^1.7.1"",
    ""cookie-parser"": ""^1.4.3"",
    ""cors"": ""^2.8.4"",
    ""cross-env"": ""^5.1.3"",
    ""dotenv-safe"": ""^4.0.4"",
    ""espree"": ""^3.5.2"",
    ""esprima"": ""^4.0.0"",
    ""express"": ""^4.16.2"",
    ""express-validation"": ""^1.0.2"",
    ""express-winston"": ""^2.4.0"",
    ""helmet"": ""^3.9.0"",
    ""http-status"": ""^1.0.1"",
    ""joi"": ""^10.6.0"",
    ""jwt-simple"": ""^0.5.1"",
    ""lodash"": ""^4.17.4"",
    ""method-override"": ""^2.3.10"",
    ""moment"": ""^2.20.1"",
    ""moment-timezone"": ""^0.5.14"",
    ""mongoose"": ""^4.13.7"",
    ""morgan"": ""^1.9.0"",
    ""morgan-body"": ""^2.0.2"",
    ""mysql"": ""^2.15.0"",
    ""mysql2"": ""^1.5.1"",
    ""nedb"": ""^1.8.0"",
    ""node-geocoder"": ""^3.21.1"",
    ""only"": ""0.0.2"",
    ""passport"": ""^0.4.0"",
    ""passport-jwt"": ""^3.0.1"",
    ""pm2"": ""^2.9.1"",
    ""readline-sync"": ""^1.4.7"",
    ""request-promise"": ""^4.2.2"",
    ""sequelize"": ""^4.28.6"",
    ""serve-favicon"": ""^2.4.5"",
    ""winston"": ""^2.4.0"",
    ""yarn"": ""^1.3.2""
  },
  ""devDependencies"": {
    ""apidoc"": ""^0.17.5"",
    ""chai"": ""^4.1.2"",
    ""chai-as-promised"": ""^7.1.1"",
    ""coveralls"": ""^2.13.1"",
    ""eslint"": ""^4.13.1"",
    ""eslint-config-airbnb-base"": ""^12.1.0"",
    ""eslint-plugin-import"": ""^2.8.0"",
    ""husky"": ""^0.14.3"",
    ""mocha"": ""^3.5.3"",
    ""nodemon"": ""^1.14.1"",
    ""nyc"": ""^11.4.1"",
    ""opn-cli"": ""^3.1.0"",
    ""sinon"": ""^3.3.0"",
    ""sinon-chai"": ""^2.14.0"",
    ""supertest"": ""^3.0.0""
  },
  ""license"": ""MIT""
}
</code></pre>

<p><strong>yarn-lock</strong>
<a href=""https://pastebin.com/vTrLHWff"" rel=""nofollow noreferrer"">https://pastebin.com/vTrLHWff</a></p>
",<javascript><node.js><express><npm><yarnpkg>,0.0,0,0,1
17264,17264,48223149,1,0,7405525,1.0,1.0,0.0,0.0,2018-01-12T09:27:46.747,1.0,281.0,passport.use method not calling in node js using passport-local strategy,"<p>When calling login and submit form the <strong>use.authenticate()</strong> method is not executing and also not showing any error message.</p>

<p><strong>Server.js</strong> file:</p>

<pre><code>const passport=require('passport');
const Strategy=require('passport-local').Strategy;

passport.use(new Strategy(
    function (username,password,done) {
        User.findOne({username:username,password:password},(err,res)=&gt;{
            if(err)throw err;
            displayName=username;
            console.log(res);
            return done(null,res);
        })
    }
));

passport.serializeUser((user,done)=&gt;{
    done(null,user);
});

passport.deserializeUser((user,done)=&gt;{
    done(null,user);
});

app.post('/login',
    passport.authenticate('local',{
            failureRedirect:'/loginForm',
            successRedirect:'/'
        }
));
</code></pre>

<p><strong>login.hbs</strong> file:</p>

<pre><code>&lt;article class=""article""&gt;
    &lt;h1&gt;login&lt;/h1&gt;
    &lt;form action=""/login"" method=""post""&gt;
        Username&lt;input type=""text"" name=""username""&gt;&lt;br&gt;
        Password&lt;input type=""password"" name=""password""&gt;&lt;br&gt;
        &lt;input type=""submit"" value=""Login""&gt;
    &lt;/form&gt;
&lt;/article&gt;
</code></pre>
",<javascript><node.js><express><npm><passport.js>,0.0,0,0,1
17362,17362,48317590,1,0,8077065,1.0,0.0,0.0,0.0,2018-01-18T09:17:24.377,1.0,42.0,"npm package installation error (express, ember)","<p>I've been trying to install ember and express in my windows 8.1 for learning. I face the similar error in both packages ember and express while using the following command.</p>

<p><code>npm install -g express-generator</code></p>

<p>I have attached the cmd error page for better understanding of the error. I am new to express and ember, just now starting to learn please help me out.
thanks.<a href=""https://i.stack.imgur.com/XZeIv.jpg"" rel=""nofollow noreferrer"">image here</a></p>
",<express><npm-install>,0.0,0,0,1
17371,17371,48322397,1,0,2743774,2.0,6.0,0.0,0.0,2018-01-18T13:21:47.513,7.0,3508.0,root password using Nodejs mscdex/ssh2,"<p>I'm trying to login as root on a remote linux machine using <a href=""https://github.com/mscdex/ssh2"" rel=""noreferrer"">mscdex/ssh2</a>, the steps I'm trying to achieve are :</p>

<ol>
<li>connect via ssh to the remot machine</li>
<li>execute command as root user</li>
</ol>

<p>but I'm failing in the second part, I can't get to put the password right, here is my code.</p>

<pre><code>  conn.on('ready', function() {
    conn.exec('sudo -s ls /', { pty: true }, (err, stream) =&gt; {
      if (err) {
       res.send(err);
      }

      stream.on('exit', (code, signal) =&gt; {
       console.log(`Stream :: close :: code: ${code}, signal: ${signal}`);
      });

      stream.on('data', data =&gt; {

        // here it's where supposedly the password should be given
        stream.write('r00tpa$$word' + '\n');
        console.log(data);
      });

    });
  }).connect({
    host: '192.168.100.100',
    username: 'fakeAdmin',
    password: 'fakePassword'
  });
</code></pre>

<p>I already have the pty option set to true, but I'm only getting error messages on the promt.</p>

<p><strong>Update :</strong> </p>

<p>here is my new code snippet : </p>

<pre><code>const Client = require('ssh2').Client;
const conn = new Client();

const encode = 'utf8';

conn.on('ready', () =&gt; {
  conn.shell(false, { pty: true }, (err, stream) =&gt; {
    if (err) { console.log(err) }

    stream.on('data', (data) =&gt; {
      process.stdout.write(data.toString(encode));
    });

    stream.write('ls -a\n');
    stream.write('uptime\n');
    stream.write('su\n'); // here nothing seems to happen
    stream.write('rootPassword\n'); // here also
    stream.write('cd /tmp &amp;&amp; ls\n');
  });
})
.connect({
  host: ""192.168.100.100"",
  username: ""username"",
  password: ""usernamePassword""
});
</code></pre>

<p>I've managed to perform the several commands part in  a much cleaner way, I even raised an issue on the library github page <a href=""https://github.com/mscdex/ssh2/issues/661"" rel=""noreferrer"">.shell command ""su"" loses interaction</a> , but now what it's happening it's kinda weird, I can run as many commands as I what, but when I run a ""su"" command nothing seems to happen, does somebody step into this before?, or what I'm I doing wrong ?
Sorry if I couldn't explain myself right.</p>

<p>Regards.</p>
",<node.js><express><npm>,0.0,0,0,1
17411,17411,48362873,1,48362884,3285168,1.0,0.0,0.0,0.0,2018-01-21T01:37:57.123,0.0,951.0,Seeding mongodb using node error,"<p>nodejs, express, mongoose project
trying to seed the database
mongo acivated but I get the error when I run the following:</p>

<p>$ node product-seeder.js</p>

<p>(node:2810) UnhandledPromiseRejectionWarning: Error: Invalid schema, expected <code>mongodb</code> or <code>mongodb+srv</code></p>

<pre><code>at module.exports (/Users/MXD/Sites/adx/hosted/ShoppingCartwithNodeJSExpressAuthentic/shopping-cart/node_modules/mongodb/lib/url_parser.js:15:21)
at Promise (/Users/MXD/Sites/adx/hosted/ShoppingCartwithNodeJSExpressAuthentic/shopping-cart/node_modules/mongoose/lib/connection.js:330:5)
at new Promise (&lt;anonymous&gt;)
at NativeConnection.Connection.openUri (/Users/MXD/Sites/adx/hosted/ShoppingCartwithNodeJSExpressAuthentic/shopping-cart/node_modules/mongoose/lib/connection.js:329:17)
at Mongoose.connect (/Users/MXD/Sites/adx/hosted/ShoppingCartwithNodeJSExpressAuthentic/shopping-cart/node_modules/mongoose/lib/index.js:206:15)
at Object.&lt;anonymous&gt; (/Users/MXD/Sites/adx/hosted/ShoppingCartwithNodeJSExpressAuthentic/shopping-cart/seed/product-seeder.js:5:10)
at Module._compile (module.js:660:30)
at Object.Module._extensions..js (module.js:671:10)
at Module.load (module.js:573:32)
at tryModuleLoad (module.js:513:12)
at Function.Module._load (module.js:505:3)
at Function.Module.runMain (module.js:701:10)
at startup (bootstrap_node.js:193:16)
at bootstrap_node.js:617:3
</code></pre>

<p>product-seeder.js</p>

<pre><code>var Product = require('../models/product');

var mongoose = require('mongoose');

mongoose.connect('localhost:27017/shopping');

var products = [
    new Product({
      imagePath: 'images/black_tee_flagship_p_symbol_right_340x380.png',
      title: 'Black Tee White P',
      description: 'P on chest [white], symbols on sleeve',
      price: 28
    }),
    new Product({
      imagePath: 'images/white_tee_purple_eye_pocket_340x380.png',
      title: 'White Tee Purple Eye',
      description: 'Embroidered Purple Eye',
      price: 28
    }),
    new Product({
      imagePath: 'images/black_tee_gold_dual_p_center_340x380.png',
      title: 'Black Tee Gold 2Ps',
      description: 'Black Tee 2Ps on Chest [gold]',
      price: 28
    }),
    new Product({
      imagePath: 'images/white_tee_p_symbol_popular_text_340x380.png',
      title: 'White Tee Purple P',
      description: 'P Logo + POPULAR underneath',
      price: 28
    }),
    new Product({
      imagePath: 'images/black_tee_blue_dual_p_symbol_right_dual_p_left_340x380.png',
      title: 'Black Tee Blue 2Ps',
      description: '2Ps on chest, symbols + 2ps on sleeve',
      price: 28
    }),
    new Product({
      imagePath: 'images/white_tee_popular_blackboxed_center_340x380.png',
      title: 'White Tee POPULAR',
      description: 'POPULAR on chest [white on black]',
      price: 28
    })
];

var done = 0;

for (var i = 0; i &lt; products.length; i++) {
    products[i].save(function(err, result) {
        done++;
        if (done === products.length) {
            exit();
        }
    });
}

function exit() {
    mongoose.disconnect();
}
</code></pre>
",<node.js><mongodb><express><mongoose><npm>,0.0,0,0,1
17466,17466,48427077,1,48427092,9262900,1.0,1.0,0.0,0.0,2018-01-24T16:18:35.623,5.0,14176.0,Nodejs : ReferenceError: express is not defined,"<p>I begin to use Nodejs to create web servers, and for this, I use express module. Then, I intalled it with command : ""sudo npm install -g express"".
But after lanched the program, this error occured : </p>

<blockquote>
  <p>""ReferenceError: express is not defined
      at Object. (/home/louis/Documents/Programming/Web/Nodejs/Test/server.js:1:85)
      at Module._compile (module.js:643:30)
      at Object.Module._extensions..js (module.js:654:10)
      at Module.load (module.js:556:32)
      at tryModuleLoad (module.js:499:12)
      at Function.Module._load (module.js:491:3)
      at Function.Module.runMain (module.js:684:10)
      at startup (bootstrap_node.js:187:16)
      at bootstrap_node.js:608:3 ""</p>
</blockquote>

<p>I decided to install it localy but in vain...</p>

<p>Here is the code I use : </p>

<pre><code>let express = require(express);
let app = express();

console.log(""Hello world !"");

app.listen(80);
</code></pre>

<p>Thanks</p>
",<javascript><node.js><express><npm><server>,1.0,0,0,1
17530,17530,48474293,1,48474325,3876861,1.0,1.0,0.0,0.0,2018-01-27T09:11:55.240,0.0,208.0,"How to open port in ExpressJS, unable to run the port?","<p><strong>Here is my code.</strong> </p>

<pre><code>var express = require('express');
var bodyParser = require('body-parser');
var path = require('path');


var app = express();

app.listen(9000, function() {
    console.log('Hello World');
});
</code></pre>

<p>Dependencies are also added.</p>

<pre><code>""dependencies"": {
    ""express"": ""*"",
    ""body-parser"": ""*"",
  },
</code></pre>

<p>While running node app it should run the port, so I can open it witih browser, instead of showing the result in the command like, ref to Screen Shoot.
<a href=""https://i.stack.imgur.com/pAtrY.png"" rel=""nofollow noreferrer"">Terminal Screen Shoot</a></p>
",<node.js><express><npm>,0.0,0,0,1
17554,17554,48499669,1,0,5091533,2.0,0.0,0.0,0.0,2018-01-29T11:00:35.980,0.0,1725.0,"Local production and development works, but heroku only using express server calls","<p><strong>edit. heroku is only getting or using my server file, still trying to figure out how to have it use the client as well.'</strong></p>

<p>I am trying to get my first app that I built on my own up on heroku.  I am not done with it, but the basics of it work fine, and the version of it so far works fine when I run <code>npm run dev.</code>, and use production from my localhost.</p>

<p>When I try to push it to heroku however, I get <strong>Cannot GET /</strong> on the page, and when I check some other paths i've identified in express, I get the raw json data back.  The problem is looking like my client might be getting ignored, so I'm sure I'm messing up somewhere in my package.json.</p>

<p>I started this with create-react-app, and the client and server both have their own packages.  </p>

<p><em>file pathing in server.js (some code edited out for viewability.  Commenting out joining file path does nothing, so that is probably not the issue):</em></p>

<pre><code>const path = require('path');
// const publicPath = path.join(__dirname, './client/build'); //maybe this?
const express = require('express');
const app = express();

var mongoose = require('mongoose');
var {mongoose} = require('./server/db/mongoose');

const port = process.env.PORT || 8000;
//app.use('/', express.static(`${__dirname}/client/build`)); //or this?

app.listen(port, () =&gt; console.log(`Listening on port ${port}`));
</code></pre>

<p><em>server package.JSON (not sure if i need the start script here.):</em></p>

<pre><code>{
  ""name"": ""example-create-react-app-express"",
  ""version"": ""1.0.0"",
  ""scripts"": {
    ""start"": ""node server.js"",
    ""client"": ""cd client &amp;&amp; npm run start"",
    ""server"": ""nodemon server.js"",
    ""dev"": ""concurrently --kill-others-on-fail \""npm run server\"" \""npm run client\""""
  },
  ""engines"": {
    ""node"": ""9.3.0""
  },
  ""dependencies"": {
    ""body-parser"": ""^1.18.2"",
    ""express"": ""^4.16.2"",
    ""lodash"": ""^4.17.4"",
    ""mongoose"": ""^5.0.1""
  },
  ""devDependencies"": {
    ""concurrently"": ""^3.5.0""
  }
}
</code></pre>

<p><em>client package.JSON (I have already run npm run-script build):</em></p>

<pre><code>{
  ""name"": ""example-create-react-app-express"",
  ""version"": ""0.1.0"",
  ""private"": true,
  ""dependencies"": {
    ""history"": ""^4.7.2"",
    ""prop-types"": ""^15.6.0"",
    ""react"": ""^16.2.0"",
    ""react-dom"": ""^16.2.0"",
    ""react-router-dom"": ""^4.2.2"",
    ""react-scripts"": ""1.1.0""
  },
  ""scripts"": {
    ""start"": ""react-scripts start"",
    ""build"": ""react-scripts build"",
    ""test"": ""react-scripts test --env=jsdom"",
    ""eject"": ""react-scripts eject""
  },
  ""proxy"": ""http://localhost:8000/""
}
</code></pre>

<p><em>Heroku build log (which says success, but error in npm_config_loglevel):</em></p>

<pre><code>-----&gt; Node.js app detected
-----&gt; Creating runtime environment

       NPM_CONFIG_LOGLEVEL=error
       NPM_CONFIG_PRODUCTION=true
       NODE_VERBOSE=false
       NODE_ENV=production
       NODE_MODULES_CACHE=true
-----&gt; Installing binaries
       engines.node (package.json):  9.3.0
       engines.npm (package.json):   unspecified (use default)

       Resolving node version 9.3.0...
       Downloading and installing node 9.3.0...
       Using default npm version: 5.5.1
-----&gt; Restoring cache
       Loading 2 from cacheDirectories (default):
       - node_modules
       - bower_components (not cached - skipping)
-----&gt; Building dependencies
       Installing node modules (package.json + package-lock)
       up to date in 0.596s
-----&gt; Caching build
       Clearing previous node cache
       Saving 2 cacheDirectories (default):
       - node_modules
       - bower_components (nothing to cache)
-----&gt; Build succeeded!
-----&gt; Discovering process types
       Procfile declares types     -&gt; (none)
       Default types for buildpack -&gt; web
-----&gt; Compressing...
       Done: 19.1M
-----&gt; Launching...
       Released v11
       (site) deployed to Heroku
</code></pre>

<p><a href=""https://github.com/DORRITO/MCMTAC"" rel=""nofollow noreferrer"">Here</a> is the link to the github file if it's easier for you to see the packages there in relation to the file paths.</p>

<p>Again, this is unfinished but <strong>fully working when using <code>npm run dev and a local production server</code></strong>. Heroku is working, but not as it should.  I am using node v9.3, mongo v3.2.  I had a previous response saying it might be fixed by adding a heroku postbuild to the server package.json, but my heroku pushes were rejected when I tried that method.</p>

<p>This is a longer question, but I am truly stuck so I really appreciate the help, and hope to one day return the favor to other new folks in the future!</p>
",<node.js><reactjs><express><heroku><npm>,0.0,0,0,1
17583,17583,48528358,1,0,8661510,2.0,1.0,0.0,0.0,2018-01-30T18:38:22.173,2.0,17326.0,How do I use layouts from PUG-Bootstrap?,"<p>I am using pug for the first time and am trying to figure out how to use npm pug-bootstrap so I can use their layouts. </p>

<p>I npm installed jade-bootstrap and pug-bootstrap but cannot find in the documentation how to reference their cover bootstrap layout in my index.pug file. </p>

<p>I already have my server.js file and can render html onto my local port. I tried copying the cover.pug page into my index.pug page but that does not work. </p>

<p>I'm assuming I have to call it but I dont know how. How can I call my layouts from PUG-Bootstrap?</p>
",<node.js><express><npm><pug>,0.0,0,0,1
17660,17660,48608197,1,0,4920913,1.0,4.0,0.0,0.0,2018-02-04T12:44:09.273,2.0,2595.0,"Validate Image width & height before upload in Node, Express With Multer","<p>I am building a project in <code>Nodejs</code> with <code>express</code> framework &amp; <code>ejs</code> as view engine, I am stuck at a point where i need to upload images and i am using <code>Multer</code> but the issue is i want to set a criteria where image is not uploaded to server if the image height or width is less than or more than preset size, say <code>70px * 40Px</code>, earlier i used to do this seamlessly with codeignitor.</p>

<p>All the solutions i could search for use GM (Graphics Magick) but that comes into play after upload of the image via Multer. I am not looking for code help but any suggestion on any known plugin in npm which can do this for me.</p>

<p>Note : I dont trust on client side validation, even if i use one i still keep server side validation working so i am looking for server side solution for this too.</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
17675,17675,48622290,1,0,9283184,1.0,2.0,0.0,0.0,2018-02-05T12:10:16.977,0.0,320.0,How can i configure mongo morgan in my express project?,"<p>I'm trying to use <a href=""https://www.npmjs.com/package/mongo-morgan"" rel=""nofollow noreferrer"">mongo-morgan</a>. I use it like the original morgan package, but I don't get any response in terminal logs.</p>

<p>I have tried this (changing 'url' to my database url):</p>

<p><code>app.use(mongoMorgan('url', 'dev'));</code></p>

<p>and this (from the mongo-morgan repository):</p>

<pre><code>app.use(mongoMorgan('url', 'combined', { collection: 'logs'}));
</code></pre>
",<node.js><mongodb><express><npm><morgan>,0.0,0,0,1
17737,17737,48685452,1,48782427,2737027,3.0,2.0,0.0,0.0,2018-02-08T12:23:49.640,0.0,290.0,sequential queries from database using sequalize in node+express,"<p>I am just starting node and am from PHP background. I have been trying to figure out promisses for some time now but unable to figure it out.</p>

<p>I am trying to use result of one query in 2nd query in a loop, but having TWO issues:</p>

<p><em>-ONE: typeof value shows an object; but when I console it out, it shows undefined</em></p>

<p><em>-TWO: my results are not getting in the right order. I am trying to use 'then()' but not able to quite figure it out. ""inside promise 2"" is consoled out before the loop in 'then()' 1 block</em></p>

<p>Here's what I'm doing in code:</p>

<pre><code>exports.followers_temp = function(req, res)
{
    db.sequelize.query('SELECT DISTINCT public.""Users"".id as user_id, public.""Users"".full_name, public.""Users"".profile_image_url, (SELECT COUNT(*) FROM public.""Followships"" WHERE public.""Followships"".leader_id = public.""Users"".id AND public.""Followships"".follower_id = :leader_id) AS is_followed FROM public.""Users""  INNER JOIN public.""Followships"" ON public.""Users"".id = public.""Followships"".follower_id WHERE  public.""Followships"".leader_id = :leader_id LIMIT :limit OFFSET :offset',  { replacements: { leader_id: req.params.leader_id, limit: req.params.limit, offset: req.params.offset }, type: db.sequelize.QueryTypes.SELECT}).
    then(function(data){
      console.log('i am here; length: ' + data.length);
        return new Promise(function(resolve, reject) {
              console.log('inside promise 1, should have access to data object');

              console.log('before loop');
              for(let i=0; i &lt; data.length; i++){
                  var temp = db.sequelize.query('(SELECT COUNT(*) AS is_following FROM public.""Followships"" WHERE public.""Followships"".leader_id = ' + data[i].user_id + ' AND public.""Followships"".follower_id = :my_id)',  { replacements: { leader_id: req.params.leader_id, my_id: req.params.my_id, limit: req.params.limit, offset: req.params.offset }, type: db.sequelize.QueryTypes.SELECT})
                  temp.then(function(value){

                    // Issue ONE
                      console.log('type: '+ typeof value); // it's an object
                      console.log('is_following: '+ value.is_following); // yet it's giving undefined

                      console.log('value: '+ JSON.stringify(value)); // but it prints out when I stringify it

                      data[i].is_followed = value.is_following;
                  });
              }
            resolve(data);
            });
    })

    .then(function(my_array){
        // Issue TWO
        console.log('inside promise 2');

        return res.status(200).send({
            error:false,
            message: my_array
        });
    })
        .catch(function(err) {
            console.log('inside promise catch');
            return res.status(400).send({
                error:true,
                message: errorHandler.getErrorMessage(err)
            });
        });
};
</code></pre>

<p>and here is the console output:</p>

<pre><code>i am here; length: 5          
inside promise 1, should have 
before loop                   
inside promise 2              
type: object                  
is_following: undefined       
value: [{""is_following"":""1""}] 
type: object                  
is_following: undefined       
value: [{""is_following"":""0""}] 
type: object                  
is_following: undefined       
value: [{""is_following"":""1""}] 
type: object                  
is_following: undefined       
value: [{""is_following"":""1""}] 
type: object                  
is_following: undefined       
value: [{""is_following"":""0""}] 
</code></pre>

<p>Please let me know 
-what am I doing wrong?
-if you could working of promises syntax wise... would be great</p>

<p>Thanking you in anticipation; Please ignore rookie mistakes as I am a rookie as of now.</p>
",<javascript><node.js><express><npm><sequelize.js>,0.0,0,0,1
17761,17761,48708959,1,0,1596181,2.0,0.0,0.0,0.0,2018-02-09T15:21:47.773,0.0,250.0,Express not working with node 9.x,"<p>I have an <code>Ubuntu</code> box with node - v 9.5.0 and npm - 5.6.0 versions. I am trying to use <code>expressjs</code> (<a href=""http://expressjs.com"" rel=""nofollow noreferrer"">http://expressjs.com</a>), but unable to run it. It works fine for node v 4.x.x.</p>

<pre><code>$ express -h 
module.js:557
    throw err;
    ^

Error: Cannot find module 'commander'
    at Function.Module._resolveFilename (module.js:555:15)
    at Function.Module._load (module.js:482:25)
    at Module.require (module.js:604:17)
    at require (internal/module.js:11:18)
    at Object.&lt;anonymous&gt; (/usr/lib/nodejs/express-generator/bin/express:3:15)
    at Module._compile (module.js:660:30)
    at Object.Module._extensions..js (module.js:671:10)
    at Module.load (module.js:573:32)
    at tryModuleLoad (module.js:513:12)
    at Function.Module._load (module.js:505:3)
</code></pre>

<p>What is it that I am missing here?</p>
",<node.js><express><npm>,1.0,0,0,1
17858,17858,48808741,1,48808969,8189936,2.0,2.0,0.0,0.0,2018-02-15T13:44:08.953,3.0,4179.0,How to set up bootstrap installation on node.js project via npm installation,"<p><a href=""https://i.stack.imgur.com/mS0T0.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/mS0T0.png"" alt=""enter image description here""></a>I am working on a simple project for learning node.js and I tried installing bootstrap via npm. The bootstrap.css seems to be working but the output on the page is poor, also downloaded Jquery and tether, but the bootstrap.js and the jquery.js files are not loading when I check the network section of the web page.</p>

<p>I have set the directories as static using express.static but the files are still not loading.</p>

<pre><code>app.use(express.static(path.join(__dirname, 'public')));
app.use('/css', express.static(__dirname+'/node_modules/bootstrap/dist/css'));
app.use('/js', express.static(__dirname+'/node_modules/bootstrap/dist/js'));
app.use('/js', express.static(__dirname+'/node_modules/tether/dist/js'));
app.use('/js', express.static(__dirname+'/node_modules/jquery/dist'));


    &lt;script src=""/js/jquery.min.js""&gt;&lt;/script&gt;
    &lt;script src=""/js/bootstrap.min.js""&gt;&lt;/script&gt;
    &lt;script src=""/js/tether.min.js""&gt;&lt;/script&gt;
&lt;/body&gt;
</code></pre>

<p></p>

<pre><code>&lt;%- include('includes/header') %&gt;
&lt;nav class=""navbar navbar-toggleable-md navbar-light navbar-inverse""&gt;
  &lt;button class=""navbar-toggler navbar-toggler-right"" type=""button"" data-toggle=""collapse"" data-target=""#navbarNav"" aria-controls=""navbarNav"" aria-expanded=""false"" aria-label=""Toggle navigation""&gt;
    &lt;span class=""navbar-toggler-icon""&gt;&lt;/span&gt;
  &lt;/button&gt;
  &lt;a class=""navbar-brand"" href=""#""&gt;PassportApp&lt;/a&gt;
  &lt;div class=""collapse navbar-collapse"" id=""navbarNav""&gt;
    &lt;ul class=""navbar-nav""&gt;
      &lt;li class=""nav-item active""&gt;
        &lt;a class=""nav-link"" href=""#""&gt;Home &lt;span class=""sr-only""&gt;(current)&lt;/span&gt;&lt;/a&gt;
      &lt;/li&gt;
      &lt;li class=""nav-item""&gt;
        &lt;a class=""nav-link"" href=""#""&gt;Features&lt;/a&gt;
      &lt;/li&gt;
      &lt;li class=""nav-item""&gt;
        &lt;a class=""nav-link"" href=""#""&gt;Pricing&lt;/a&gt;
      &lt;/li&gt;
      &lt;li class=""nav-item""&gt;
        &lt;a class=""nav-link disabled"" href=""#""&gt;Disabled&lt;/a&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/nav&gt;
&lt;div class=""container""&gt;

  &lt;div class=""starter-template""&gt;
    &lt;h1&gt;Members Area&lt;/h1&gt;
    &lt;p&gt; Welcome to the members area.&lt;/p&gt;
  &lt;/div&gt;

&lt;/div&gt;&lt;!-- /.container --&gt;

&lt;%- include('includes/footer') %&gt;
</code></pre>
",<jquery><node.js><express><npm><bootstrap-4>,0.0,0,0,1
17979,17979,48915738,1,0,9388002,5.0,1.0,0.0,0.0,2018-02-21T21:25:29.633,8.0,34549.0,npm ERR! 405 Method Not Allowed: express@latest,"<p>Of the several 405 related Questions posted here, none apply to my issue.</p>

<p><strong>Here is the command I issued from Windows 7 on my Desktop PC:</strong></p>

<pre><code>npm install express
</code></pre>

<p><strong>Here is the Error message:</strong></p>

<pre><code>npm ERR! code E405
npm ERR! 405 Method Not Allowed: express@latest
npm ERR! A complete log of this run can be found in:
npm ERR! C:\Users\mr9832\AppData\Roaming\npm-cache\_logs\2018-02-21T20_36_09_581Z-debug.log
</code></pre>

<p><strong>Here is the verbose Error Log mentioned above</strong></p>

<p>C:\Users\mr9832\AppData\Roaming\npm-cache_logs\2018-02-21T20_36_09_581Z-debug.log</p>

<p><a href=""https://i.stack.imgur.com/NQaTL.gif"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/NQaTL.gif"" alt=""enter image description here""></a></p>

<p>How can I fix it?</p>
",<express><methods><npm><installation>,0.0,0,0,1
17994,17994,48926590,1,48929971,3856565,1.0,0.0,0.0,0.0,2018-02-22T11:44:27.880,2.0,11172.0,Logging the request information with each request in winston,"<p>I have extended <a href=""https://www.npmjs.com/package/winston-express-request-logger"" rel=""nofollow noreferrer"">winston-express-request-logger</a> to print out every request, process, error, and user information  in my Express/NodeJs application.</p>

<p>But the application actually logs no information regarding the request.</p>

<p>Sample log output:</p>

<pre><code>2018-02-22T11:18:44.871Z - info: root access
</code></pre>

<p>I thought the official tutorial (<a href=""https://www.npmjs.com/package/winston-express-request-logger"" rel=""nofollow noreferrer"">found here</a>) would lead me to a working implementation.  Am I missing anything from the tutorials?</p>

<p><strong>The whole application code:</strong></p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>'use strict';

const express = require('express');
const app = express();
const winston = require('winston');

var winstonExRegLogger = require(""winston-express-request-logger"");
winstonExRegLogger.createLogger({
    transports: [
      
         new (winston.transports.Console)({
            handleExceptions: true,
            timestamp: true,
            level:""info""
        })
    ],

    exitOnError: false
});

function configureApp(app, env) {
    app.use(winstonExRegLogger.requestDetails);
}

app.use(winstonExRegLogger.requestDetails);


var logger = require(""winston-express-request-logger"").getLogger();

logger.error('testing error log');
logger.info('testing info log');


app.get('/', (req, res) =&gt; {
  logger.info('root access');
  res.status(200).send('hello world!');
});


app.get('/home', (req, res) =&gt; {
  logger.info('home');
  res.status(200).send('okay');
});

app.post('/p', (req, res) =&gt; {
  logger.info('post ni');
  logger.error('in post');
  res.status(200).send('post acknowledged');
});

if (module === require.main) {
  const server = app.listen(process.env.PORT || 8081, () =&gt; {
  const port = server.address().port;
  console.log(`App listening on port ${port}`);
  });
}

module.exports = app;</code></pre>
</div>
</div>
</p>
",<node.js><express><logging><npm><winston>,0.0,0,0,1
18030,18030,48957707,1,0,46942,1.0,1.0,0.0,0.0,2018-02-23T23:38:09.780,0.0,815.0,Trying to proxy with Node and express-http-proxy and failing,"<p>I'm launching NPM express in a very simple app and wanting to take what is passed into the URL and redirect it as follows. Assuming I'm listening for web traffic on 8080 and I want to proxy my rest calls to port 5000.</p>

<p>That is, when the URL <a href=""http://localhost:3077/rest/speakers"" rel=""nofollow noreferrer"">http://localhost:3077/rest/speakers</a> comes in, I want the results to come from <a href=""http://localhost:5000/rest/speakers"" rel=""nofollow noreferrer"">http://localhost:5000/rest/speakers</a> (where the word speakers could be sessions, attendees or any other name like that.</p>

<pre><code>app = express();
app.use('/rest', proxy('http://localhost:5000/rest'));

app.listen(8080, function () {
  console.log('Listening on port 8080');
});
</code></pre>

<p>I seem to get the result of localhost:5000 but not even sure of that.</p>
",<node.js><express><npm><http-proxy>,0.0,0,0,1
18057,18057,48988958,1,0,2804362,3.0,2.0,0.0,0.0,2018-02-26T12:51:33.917,9.0,20153.0,node.js local modules :cannot find module error,"<p>I am trying to implement local modules in my application</p>

<p>1.Project root folder i have created folder named <code>test</code>  with a file named  <code>index.js</code></p>

<pre><code>      module.exports  = {

     myFunction:function(){
       console.log('ok');
     }
}
</code></pre>

<p>2.Added the following in <code>package.json</code> in the root folder</p>

<pre><code>""dependencies"": { 
    ""test-module"": ""file:test""
  }
</code></pre>

<p>3.When i try to import  <code>var module = require('test-module');</code> in <code>app.js</code> i got this error</p>

<blockquote>
  <p>Cannot find module 'test-module'</p>
</blockquote>
",<javascript><node.js><express><npm><module>,0.0,0,0,1
18059,18059,48992730,1,0,9154744,0.0,3.0,0.0,0.0,2018-02-26T16:20:21.730,0.0,169.0,EC2 Instance is only listening to Port 22,"<p>I am trying to deploy a node app into AWS EC2 Ubuntu instance, but I am getting issues. It seems like for some reason it is only listening to port 22 (the default portal for SSH), and not my HTTP port.</p>

<p><a href=""https://i.stack.imgur.com/HaE7S.png"" rel=""nofollow noreferrer"">netstat -ntlp | grep LISTEN</a></p>

<p><a href=""https://i.stack.imgur.com/Gaavf.png"" rel=""nofollow noreferrer"">AWS Security Group Settings</a></p>

<p>As you can see in the link above, I did manually include port 80 as well as others into my security group. I don't think this is a firewall issue from what I have read.</p>

<p>My Express server code:</p>

<pre><code>const express = require('express'),
  app = express(),
  bodyParser = require('body-parser'),
  cookieSession = require('cookie-session'),
  port = 8000,
  mongoose = require('mongoose'),
  mongoDB = require('./keys.js').database,
  passport = require('passport'),
  passportSetup = require('./passportConfig'),
  keys = require('./keys'),
  bluebird = require('bluebird');

mongoose.Promise = bluebird;
app.listen(port, () =&gt; {
  mongoose.connect(mongoDB)
  .then(() =&gt; {
    console.log('successfully connected to MongoDB. Listening to 
port ', port);
  })
  .catch(() =&gt; {
    console.log('error connecting to MongoDB.');
  });
});
</code></pre>

<p>I am able to actually access my Node server, but connection is refused in the browser.</p>

<p><a href=""https://i.stack.imgur.com/2jg90.png"" rel=""nofollow noreferrer"">NPM Start</a></p>

<p>Anyone have any ideas?</p>
",<node.js><express><amazon-ec2><ssh><npm>,0.0,0,0,1
18080,18080,49022577,1,0,2804362,1.0,2.0,0.0,0.0,2018-02-28T05:32:59.073,1.0,5513.0,node.js local modules: module not found error in subfolder,"<p>Here is the folder structure of my application</p>

<p><a href=""https://i.stack.imgur.com/Pkxpg.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Pkxpg.png"" alt=""Here is the folder structure of my application""></a></p>

<p>I am refering <code>app_modules/bar</code> and <code>app_modules/foo</code>  as local modules</p>

<p><strong>package.json</strong> Root folder</p>

<pre><code> ""dependencies"": {
    ""body-parser"": ""~1.18.2"",
    ""cookie-parser"": ""~1.4.3"",
    ""debug"": ""~2.6.9"",
    ""express"": ""~4.15.5"",
    ""jade"": ""~1.11.0"",
    ""morgan"": ""~1.9.0"",
    ""serve-favicon"": ""~2.4.5"",
    ""foo"": ""file:app_modules/foo"",
    ""bar"": ""file:app_modules/bar"",
    ""hello"": ""file:hello""
  }
</code></pre>

<p>when i require the modules as  </p>

<p><code>var fooModule = require('app_modules/foo');</code> i got module not found error</p>

<p><code>package.json</code> for <code>foo</code> module </p>

<pre><code>{
  ""name"": ""foo"",
  ""version"": ""1.0.0"",
  ""description"": """",
  ""main"": ""index.js"",
  ""scripts"": {
    ""test"": ""echo \""Error: no test specified\"" &amp;&amp; exit 1""
  },
  ""author"": """",
  ""license"": ""ISC""
}
</code></pre>
",<javascript><node.js><express><npm>,0.0,0,0,1
18178,18178,49115191,1,0,4139333,3.0,2.0,0.0,0.0,2018-03-05T16:33:51.743,0.0,899.0,Express command not found after setting installing globally,"<p>When I run <code>sudo npm install -g express-generator</code>:</p>

<pre><code>/Users/myname/npm/bin/express -&gt; /Users/myname/npm/lib/node_modules/express-generator/bin/express-cli.js
/Users/myname/npm/lib
   └── express-generator@4.15.5
</code></pre>

<p>And when I run <code>express</code>:</p>

<pre><code>express not found
</code></pre>

<p>Also, I thought it was interesting that when I run <code>which npm</code>:</p>

<pre><code>/usr/local/bin/npm
</code></pre>

<p>That is the path.</p>

<p>It seems that whenever I try to install something like yeoman or this express generator globally, it never works.</p>

<p>It should also be noted that I am on an Mac running zsh.</p>
",<node.js><macos><express><npm><command-line>,0.0,0,0,1
18198,18198,49125986,1,0,6414624,1.0,0.0,0.0,0.0,2018-03-06T08:03:06.420,0.0,229.0,extract jpeg from xlsx document with nodejs,"<p>I need to import some .xlsx files in my nodejs web-app and then process the data. Some rows in the .xlsx contain images. Is it possibile to extract images from the .xlsx document and then save them in a folder?</p>

<p>Thank you !</p>
",<node.js><express><npm><import><xlsx>,0.0,0,0,1
18269,18269,49198208,1,0,8450918,1.0,9.0,0.0,0.0,2018-03-09T16:33:26.773,33.0,4248.0,Firebase Cloud Functions - slow response when querying Firestore,"<p>I have a simple Cloud Function in Firebase that takes JSON in an http POST and saves it to a Firestore collection. It's allocated 512MB memory.</p>

<p>The performance of this cloud function is very poor. If executed continuously, the round trip varies from 200-600ms and if executed infrequently (every 5-10 mins) it can take 4-10 seconds. I understand the cold start problem but on AWS I've never seen a cold start this slow, nor this frequent.</p>

<p>My code is below - I'd appreciate any insight into how to speed up performance.</p>

<pre><code>'use strict';

const functions = require('firebase-functions');
const admin = require('firebase-admin');
admin.initializeApp(functions.config().firebase);
const db = admin.firestore();

const express = require('express');
const bodyParser = require(""body-parser"");
const app = express();
app.use(bodyParser.urlencoded({ extended: false }));
app.use(bodyParser.json());

// CORS Express middleware to enable CORS Requests.
const cors = require('cors');
app.use(cors({ origin: true }))

app.post('/submitResponse', (req, res) =&gt; {
  console.log('/submitResponse');

  if (!req.body.info)
    res.status(422).send()

  const payload = req.body.info;
  console.log(payload);

  const responses = db.collection(""responses"")

  responses.add({
    payload: payload,
    timestamp: admin.firestore.FieldValue.serverTimestamp()
  }).then(function(docRef) {
    console.log(""Response written with ID: "", docRef.id);
    res.status(200).send(JSON.stringify(docRef.id))
  })
  .catch(function(error) {
      console.error(""Error adding document: "", error);
  });
});

exports.app = functions.https.onRequest(app);
</code></pre>
",<firebase><express><npm><google-cloud-platform><google-cloud-functions>,0.0,0,0,1
18336,18336,49263504,1,0,6519661,1.0,0.0,0.0,0.0,2018-03-13T18:35:09.147,1.0,488.0,Stub response for Request NPM module in unit test in order to test pipe(),"<p>In my Express (NodeJS) application I am using the request library (<a href=""https://www.npmjs.com/package/request"" rel=""nofollow noreferrer"">https://www.npmjs.com/package/request</a>). The endpoint I am requesting triggers a data download which I pipe into a local file. </p>

<pre><code>function downloadData(filePath) {
    request
      .get(http://endpoint)
      .pipe(fs.createWriteStream(filePath))
      .on('response', function(response) {
         console.log(response);
       })
      .on('finish', () =&gt; { console.log(""finished!""); })
</code></pre>

<p>My unit test uses Mocha and Chai. I inject my file location to write to and then read from the file to see if the expected data is there.</p>

<pre><code>it('should write data to a file', (done) =&gt; {
    const requestStub = sinon.stub();
    proxyquire('../../download-data', {
      'request' : requestStub,
    });
    requestStub.returns(""Download Succeeded"");

    DownloadData.downloadData(""./test.json"")

    fs.readFile('./test.json', (err, data) =&gt; {      
       expect(data.toString()).to.eq(""Download Succeeded"");
       done();
    });
  });
});
</code></pre>

<p>When run, the test output is ' ' (empty String) instead of the expected String. This means that either my <code>pipe()</code> is not writing data correctly or my request stub is not returning (or acting) how I want it to. None of my <code>console.log</code> functions print (i.e. I do not see a 'response' or 'finished!'). Any thoughts on how to stub a request in order to write a small amount of data to a file?</p>

<p>Thanks in advance.</p>
",<node.js><unit-testing><express><stub><npm-request>,0.0,0,0,1
18352,18352,49271570,1,49272296,2771142,2.0,0.0,0.0,0.0,2018-03-14T07:07:00.603,12.0,13800.0,Winston: Attempt to write logs with no transports,"<p>I'm trying to set up an access log and an error log for my express server using Winston, but I seem to be doing something wrong.</p>

<p>Here is my attempt at a config file:</p>

<pre><code>const winston = require('winston'),
    fs = require('fs');

const tsFormat = () =&gt; (new Date()).toLocaleTimeString();
winston.loggers.add('errorLog', {
        file: {
                filename: '&lt;path&gt;/errors.log', //&lt;path&gt; is replaced by the 
                timestamp: tsFormat,           //absolute path of the log
                level: 'info'
        }

});
winston.loggers.add('accessLog', {
        file: {
                filename: '&lt;path&gt;/access.log', //same as before
                timestamp: tsFormat,
                level: 'info'
        }
});
</code></pre>

<p>And this is how I'm including it in my other files:</p>

<pre><code>var winston = require('winston'),
    accessLog = winston.loggers.get('accessLog'),
    errorLog = winston.loggers.get('errorLog');
</code></pre>

<p>This seems to me like it follows the documentation (<a href=""https://github.com/winstonjs/winston/tree/2.4.0#working-with-multiple-loggers-in-winston"" rel=""noreferrer"">https://github.com/winstonjs/winston/tree/2.4.0#working-with-multiple-loggers-in-winston</a>)
but I'm getting this error when I try to log to it:</p>

<pre><code>[winston] Attempt to write logs with no transports {""message"":""pls"",""level"":""info""}
[winston] Attempt to write logs with no transports {""message"":""Bad request: undefined"",""level"":""warn""}
</code></pre>

<p>Any help would be greatly appreciated, I've been pretty stumped for a couple days now.</p>
",<node.js><express><npm><winston>,0.0,0,0,1
18429,18429,49350411,1,0,9221631,2.0,0.0,0.0,0.0,2018-03-18T16:45:39.383,0.0,1604.0,i can't install express in my package.json file in termux,"<pre><code>I tried &lt;code&gt; npm install --save express &lt;/code&gt; to install express in my package.json file and it gave me 
</code></pre>

<p><code> /storage/emulated/0/swifttest
$ npm install --save express
npm WARN swifttest@1.0.0 No description
npm WARN swifttest@1.0.0 No repository field.</p>

<p>npm ERR! path ../express
npm ERR! code EACCES
npm ERR! errno -13
npm ERR! syscall symlink
npm ERR! Error: EACCES: permission denied, symlink '../express' -> '/storage/emulated/0/swifttest/node_modules/express'
npm ERR!  { Error: EACCES: permission denied, symlink '../express' -> '/storage/emulated/0/swifttest/node_modules/express'
npm ERR!   cause:
npm ERR!    { Error: EACCES: permission denied, symlink '../express' -> '/storage/emulated/0/swifttest/node_modules/express'
npm ERR!      errno: -13,
npm ERR!      code: 'EACCES',
npm ERR!      syscall: 'symlink',
npm ERR!      path: '../express',</p>

<p></code> I know it has to do with permission but i dont know my way around. I use Android 5.1</p>
",<node.js><express><npm-install><termux>,0.0,0,0,1
18458,18458,49374802,1,0,462469,2.0,7.0,0.0,0.0,2018-03-20T01:00:23.187,2.0,2415.0,Express Response.send() throwing TypeError,"<p>I have this simple express code:</p>

<pre><code>const api = Router()

api.post('/some-point', async (req, res, next) =&gt; {
  const someStuffToSend = await Promise.resolve(""hello"");
  res.json({ someStuffToSend });
})
</code></pre>

<p>It works well on my dev environment, but on the prod I get the error bellow:</p>

<pre><code>TypeError: argument entity must be string, Buffer, or fs.Stats
    at etag (/[...]/node_modules/etag/index.js:83:11)
    at generateETag ([...]/node_modules/express/lib/utils.js:280:12)
    at ServerResponse.send ([...]/node_modules/express/lib/response.js:200:17)
    at ServerResponse.json ([...]/node_modules/express/lib/response.js:267:15)
    at api.post (/the/code/above)
</code></pre>

<p>I checked at <code>node_modules/etag/index.js:83:11</code> and saw</p>

<pre><code>if (!isStats &amp;&amp; typeof entity !== 'string' &amp;&amp; !Buffer.isBuffer(entity)) {
  throw new TypeError('argument entity must be string, Buffer, or fs.Stats')
}
</code></pre>

<p>Before this code I added a printf to check the type of entity:</p>

<pre><code>console.log(""Entity contains"", entity, ""is of type"", typeof entity, ""with constructor"", entity.constructor, ""and is it a buffer?"", Buffer.isBuffer(entity))
</code></pre>

<p>Which got me the output bellow:</p>

<pre><code>Entity contains &lt;Buffer 7b 22 70 72 65 64 69 63 74 69 6f 6e 5f 69 64 22 3a 22 63 4b 57 41 64 41 46 43 77 6e 55 43 22 2c 22 69 6e 69 74 69 61 6c 5f 70 72 65 64 69 63 74 69 6f ... &gt; is of type object with constructor function Buffer(arg, encodingOrOffset, length) {
  if (!Buffer.TYPED_ARRAY_SUPPORT &amp;&amp; !(this instanceof Buffer)) {
    return new Buffer(arg, encodingOrOffset, length)
  }

  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new Error(
        'If encoding is specified then the first argument must be a string'
      )
    }
    return allocUnsafe(this, arg)
  }
  return from(this, arg, encodingOrOffset, length)
} and is it a buffer? false
</code></pre>

<p>So it looks like the entity is a buffer, but not recognized as such. If I comment the test out, it crashed at a different location</p>

<pre><code>TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be one of type string or Buffer
    at ServerResponse.end (_http_outgoing.js:747:13)
    at ServerResponse.send ([...]/node_modules/express/lib/response.js:221:10)
    at ServerResponse.json ([...]/node_modules/express/lib/response.js:267:15)
    at api.post (/the/code/above)
</code></pre>

<p>If you check at <code>/node_modules/express/lib/response.js:221:10</code> you see</p>

<pre><code>this.end(chunk, encoding);
</code></pre>

<p>where encoding is from a few lines above (l. 189, I checked with a printf)</p>

<pre><code>chunk = Buffer.from(chunk, encoding)
</code></pre>

<p>I could hack the lib out to make that work, but I suspect some broken <code>node_modules</code> folder. However the error persists even after a <code>rm package-lock.json; rm -rf node_modules; npm i</code>.</p>

<p>Any clue on how to solve this would be very appreciated.</p>

<p>Below are my version numbers:</p>

<ul>
<li>node 9.8.0 (also tried with 8.4.0), installed locally with nvm</li>
<li>npm 5.6.0</li>
<li>express 4.16.3</li>
<li>ts-node 5.0.1</li>
<li>typescript 2.7.2</li>
</ul>

<p><strong>Edit 1</strong></p>

<ul>
<li>replace the async call by something simpler</li>
<li>specify express version</li>
</ul>

<p><strong>Edit 2</strong></p>

<p>I removed the <code>node_modules</code> folder then <code>npm i</code> the packages one by one:</p>

<pre><code>npm i aws-sdk body-parser bunyan check-types deepcopy duck-type express fast-csv glob handlebars http-auth md5 moment moment-timezone multer node-stream object-path randomstring
</code></pre>

<p>Still get the same error. </p>

<p><strong>Edit 3</strong></p>

<p>Add further information about the environment.</p>

<p><strong>Edit 4</strong></p>

<p>OK, figured out. It was a ts-node config related problem.
I was launching my server with</p>

<pre><code>ts-node --harmony_async_iteration -r tsconfig-paths/register ./src/index.ts
</code></pre>

<p>With the following lines in my <code>tsconfig.json</code>:</p>

<pre><code>{
  ""compilerOptions"": {
    ""module"": ""commonjs"",
    ""target"": ""es2017"",
    ""lib"": [ ""es2017"", ""esnext.asynciterable"" ],
    ""noImplicitAny"": true,
    ""moduleResolution"": ""node"",
    ""sourceMap"": true,
    ""outDir"": ""dist"",
    ""baseUrl"": ""."",
    ""pretty"": true,
    ""paths"": {
      ""*"": [
        ""*"", ""src/*"", ""src/types/*"",
        ""node_modules/*""
      ]
    }
  },
  ""include"": [ ""src/**/*"" ]
}
</code></pre>

<p>Because of the <code>-r tsconfig-paths/register</code> in the command line, the paths specified in the <code>tsconfig.json</code> were loaded, including the <code>""node_modules/*""</code> in <code>paths['*']</code>.</p>

<p>I'm not sure why, but it looks like this was causing the libs in <code>node_modules</code> to be loaded twice, breaking the type checks based on constructors (such as <code>instanceof</code>).</p>

<p><strong>Question</strong></p>

<p>I'm not sure to completely understand the reason of that. Any light?</p>
",<node.js><typescript><express><npm>,1.0,0,0,1
18513,18513,49414338,1,49415109,6462490,1.0,0.0,0.0,0.0,2018-03-21T18:45:31.363,1.0,1970.0,Getting connect-flash package to render flash message,"<p>I am learning expressjs and mongodb by going through exercises.
I want to render flash messages when a new items is added, updated or deleted.  It isn't working though I also don't get any errors either, so it's difficult to pinpoint the exact reason.  Here's my main code below:</p>

<pre><code>const express = require('express');
const exphbs = require('express-handlebars');
const methodOverride = require('method-override'); //dynamically overrides     post when it's time to PUT (update)
const flash = require('connect-flash');
const cookieParser = require('cookie-parser');
const session = require('express-session');
const bodyParser = require('body-parser');
const mongoose = require('mongoose');

const app = express();

//Load routes
const ideas = require('./routes/ideas');
const users = require('./routes/users');

//connect to mongoose
mongoose.connect('mongodb://localhost/vidjot-dev')
.then(()=&gt;console.log('MongoDB Conneced....'))
.catch(err =&gt; console.log(err));

//handlebars Middleware
app.engine('handlebars', exphbs({
defaultLayout: 'main'
}));

app.set('view engine', 'handlebars');

//Body parser middleware - allows us to access whatever is submitted from     the form of the request object
app.use(bodyParser.urlencoded({ extended: false }));
app.use(bodyParser.json());

//method Override middleware
app.use(methodOverride('_method'));




app.use(cookieParser('secret'));
app.use(session({cookie: { maxAge: 60000 }}));
app.use(flash());


//Index Route
app.get('/', (req, res)=&gt;{
const myTitle=""Welcome Isaac S."";
res.render('INDEX', {
    title:myTitle
});
});

//About Route
app.get('/about', (req, res)=&gt;{
res.render('ABOUT');
})

//use routes
app.use('/ideas', ideas);
app.use('/users', users);

//Use nodemon app to connect
const port = 5500;
app.listen(port, ()=&gt; {
console.log(`Server started on port ${port}`);

/*Same as above which is ES6 */
//console.log('Server started on port '+port);
})
</code></pre>

<p>'routes.js' code</p>

<pre><code>const express = require('express');
const mongoose = require('mongoose');
const router = express.Router();

//Load Idea Model
require('../models/Idea');
const Idea = mongoose.model('ideas')

//Idea Index Page
router.get('/', (req, res) =&gt; {
Idea.find({}) //&lt;== Returns all data
    .sort({date:'desc'})
    .then(ideas =&gt; {
        res.render('ideas/index', {                
            ideas:ideas
        });
    })
});

//Add Idea Form
router.get('/add', (req, res)=&gt;{
res.render('ideas/add');
})

//Edit Idea Form
router.get('/edit/:id', (req, res)=&gt;{
Idea.findOne({
    _id: req.params.id //passed in from the url   
})
.then(idea =&gt; { //&lt;== returns single data queried for with above :id
    res.render('ideas/edit', {
    idea:idea
    });
  });
});

//Process Form
router.post('/', (req, res)=&gt;{
let errors = [];

if(!req.body.title){
    errors.push({text:'Please add a title'});
}
if(!req.body.details){
    errors.push({text:'Please add somee details'});
}    

if(errors.length &gt; 0){
    res.render('ideas/add', {
        errors: errors,
        title: req.body.title,
        details: req.body.details
    });
}else {
    const newUser = {
        title: req.body.title,
        details: req.body.details
    }
    new Idea(newUser)
        .save()
        .then(idea=&gt; {
            req.flash('success_msg', 'Video idea added');
            res.redirect('/ideas');
        })
}
})

//Edit Form Process
router.put('/:id', (req, res) =&gt;{
Idea.findOne({
    _id:req.params.id
})
.then(idea =&gt; {
    //new values
    idea.title = req.body.title;
    idea.details = req.body.details;

    idea.save()
        .then(idea =&gt; {
            req.flash('success_msg', 'Video idea updated');
            res.redirect('/ideas');
        })
});
});

//Delete Idea
router.delete('/:id', (req, res)=&gt;{
Idea.remove({_id: req.params.id})
    .then(()=&gt;{
        req.flash('success_msg', 'Video idea removed');
        res.redirect('/ideas');
    });
});

module.exports = router;
</code></pre>

<p>here's my repo <a href=""https://github.com/isogunro/express-exercise"" rel=""nofollow noreferrer"">https://github.com/isogunro/express-exercise</a></p>
",<node.js><express><npm><connect-flash>,0.0,0,0,1
18696,18696,49590056,1,49590173,830972,1.0,0.0,0.0,0.0,2018-03-31T16:36:15.710,-1.0,839.0,Cannot find module 'loadash',"<p>I am getting the following error on executing command: npm start</p>

<pre><code>Cannot find module 'loadash'
    at Function.Module._resolveFilename (module.js:538:15)
    at Function.Module._load (module.js:468:25)
    at Module.require (module.js:587:17)
    at require (internal/module.js:11:18)
    at Object.&lt;anonymous&gt; (&lt;Path...&gt;/data/dbConnector.js:3:1)
    at Module._compile (module.js:643:30)
    at loader (&lt;Path...&gt;\node_modules\babel-register\lib\node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (&lt;Path...&gt;\node_modules\babel-register\lib\node.js:154:7)
    at Module.load (module.js:556:32)
    at tryModuleLoad (module.js:499:12)
    at Function.Module._load (module.js:491:3)
    at Module.require (module.js:587:17)
    at require (internal/module.js:11:18)
    at Object.&lt;anonymous&gt; (&lt;Path...&gt;/data/resolvers.js:2:1)
    at Module._compile (module.js:643:30)
    at loader (&lt;Path...&gt;\node_modules\babel-register\lib\node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (&lt;Path...&gt;\node_modules\babel-register\lib\node.js:154:7)
    at Module.load (module.js:556:32)
    at tryModuleLoad (module.js:499:12)
    at Function.Module._load (module.js:491:3)
    at Module.require (module.js:587:17)
    at require (internal/module.js:11:18)
[nodemon] app crashed - waiting for file changes before starting...
</code></pre>

<p>package.json file:</p>

<pre><code>{
  ""name"": ""essentials"",
  ""version"": ""1.0.0"",
  ""description"": """",
  ""main"": ""index.js"",
  ""scripts"": {
    ""test"": ""echo \""Error: no test specified\"" &amp;&amp; exit 1"",
    ""start"": ""nodemon ./index.js --exec babel-node -e js""
  },
  ""author"": ""test"",
  ""license"": ""ISC"",
  ""dependencies"": {
    ""casual"": ""^1.5.19"",
    ""express"": ""^4.16.3"",
    ""express-graphql"": ""^0.6.12"",
    ""graphql"": ""^0.13.2"",
    ""graphql-tools"": ""^2.23.1"",
    ""loadash"": ""^1.0.0"",
    ""mongoose"": ""^5.0.12"",
    ""nodemon"": ""^1.17.2"",
    ""sequelize"": ""^4.37.5"",
    ""sqlite3"": ""^4.0.0""
  },
  ""devDependencies"": {
    ""babel-cli"": ""^6.26.0"",
    ""babel-preset-env"": ""^1.6.1"",
    ""babel-preset-stage-0"": ""^6.24.1""
  }
}
</code></pre>

<p>I followed the below links but still none of them are working for me.</p>

<pre><code>https://stackoverflow.com/questions/27431187/cannot-find-module-lodash

https://stackoverflow.com/questions/27431187/cannot-find-module-lodash/36618374
</code></pre>

<p>Also I see the below warning message:</p>

<p>Problems loading reference '<a href=""https://schemastore.azurewebsites.net/schemas/json/package.json"" rel=""nofollow noreferrer"">https://schemastore.azurewebsites.net/schemas/json/package.json</a>': Unable to load schema from '<a href=""https://schemastore.azurewebsites.net/schemas/json/package.json"" rel=""nofollow noreferrer"">https://schemastore.azurewebsites.net/schemas/json/package.json</a>': Unable to connect to <a href=""https://schemastore.azurewebsites.net/schemas/json/package.json"" rel=""nofollow noreferrer"">https://schemastore.azurewebsites.net/schemas/json/package.json</a>. Error: self signed certificate in certificate chain</p>

<p>Can anyone help me to fix this issue?</p>
",<node.js><mongodb><graphql><npm-start><express-graphql>,0.0,0,0,1
18830,18830,49714305,1,0,9577722,0.0,2.0,0.0,0.0,2018-04-08T04:03:49.057,0.0,249.0,After type init command package.json not created my directory,"<p>$ npm init
This utility will walk you through creating a package.json file.
It only covers the most common items, and tries to guess sensible defaults.</p>

<p>See <code>npm help json</code> for definitive documentation on these fields
and exactly what they do.</p>

<p>Use <code>npm install &lt;pkg&gt;</code> afterwards to install a package and
save it as a dependency in the package.json file.</p>

<p>Press ^C at any time to quit.
package name: (test1)</p>
",<node.js><express><npm-install>,0.0,0,0,1
18895,18895,49764969,1,0,4572652,2.0,0.0,0.0,0.0,2018-04-11T01:14:11.490,1.0,1441.0,Calling external API only when new data is available,"<p>I am serving my users with data fetched from an external API. Now, I don't know when this API will have new data, how would be the best approach to do that using Node, for example?</p>

<p>I have tried setInterval's and node-schedule to do that and got it working, but isn't it expensive for the CPU? For example, over a day I would hit this endpoint to check for new data every minute, but it could have new data every five minutes or more.</p>

<p>The thing is, this external API isn't ran by me. Would the only way to check for updates hitting it every minute? Is there any module that can do that in Node or any approach that fits better?</p>

<p><strong>Use case 1</strong> : Call a weather API for every city of the country and just save data to my db when it is going to rain in a given city.</p>

<p><strong>Use case 2</strong> : Send notification to the user when a given Philips Hue lamp is turned on at the time it is turned on without having to hit the endpoint to check if it is on or not.</p>

<p>I appreciate the time to discuss this.</p>
",<node.js><api><express><npm>,0.0,0,0,1
18968,18968,49830674,1,0,4746071,0.0,5.0,0.0,0.0,2018-04-14T10:59:11.543,0.0,55.0,Error when run npm start || grunt,"<p><a href=""https://i.stack.imgur.com/19FEe.png"" rel=""nofollow noreferrer"">enter image description here</a></p>

<p>I have this error when I tried to run MEAN.JS Application using (npm start OR grunt).</p>

<p>*note : i didn't put any code in the project i'm just generate MEAN.js application and try to run it and faced me this problem</p>

<p>What is the problem?</p>
",<node.js><express><npm><gruntjs><mean-stack>,0.0,0,0,1
19042,19042,49891373,1,49891529,8787267,9.0,4.0,0.0,0.0,2018-04-18T04:48:40.900,8.0,32165.0,How can I add Bootstrap to a project in ExpressJS?,"<p>I'm developing an aplication using nodejs and the framework Express. 
I want to add Bootstrap to my project in local. 
I added this to my index <code>&lt;head&gt;</code></p>

<pre><code>&lt;script language=""javascript"" src=""../node_modules/bootstrap/dist/js/bootstrap.min.js""&gt;&lt;/script&gt;
&lt;link rel=""stylesheet"" href=""../node_modules/bootstrap/dist/css/bootstrap.min.css""/&gt;
</code></pre>

<p>I found that I have to add this code to my <code>app.js</code></p>

<pre><code>app.use(express.static(__dirname + '../node_modules/bootstrap/dist'));
</code></pre>

<p>but it doesn't works too.
(I have in mind the path of the Bootstrap and use '../modules...' too)</p>
",<javascript><node.js><twitter-bootstrap><express><npm>,0.0,0,0,1
19063,19063,49923416,1,0,9453716,1.0,2.0,0.0,0.0,2018-04-19T14:18:16.327,0.0,62.0,"AngularJs and or ""hbs"" (npm)","<p>Can angularJS replace the use of a ""view engine"" in nodeJS. I need information like: which one method is a better practice. (MEAN Stack devs use view engine?? or res.sendFile and something like ui-router/angularjs. res.sendFile or res.render. pros cons and stuff like that)</p>
",<javascript><angularjs><node.js><express><npm>,0.0,0,0,1
19117,19117,49978965,1,0,9105167,2.0,1.0,0.0,0.0,2018-04-23T10:35:10.987,1.0,2654.0,cookie-parser: empty cookie object,"<p>I am trying to read the browser cookies on form submit. cookie-parser returns an empty cookie object, however in my browser I can see there are plenty of cookies set. This is my code:</p>

<pre><code>const express = require(""express"");
const path = require(""path"");
const bodyParser = require(""body-parser"");
const testform = require(""./nodejs/testform.js"");

const app = express();
const cookies = require(""cookie-parser"");

const fromFolder = path.join(__dirname, process.env.FOLDER);
const toFolder = path.join(__dirname, ""/"");
console.log(""from: "", fromFolder);
console.log(""to: "", toFolder);

app.set(""port"", process.env.PORT || 5000);

app.use(express.static(fromFolder));
app.use(cookies());
app.use(bodyParser.urlencoded({ extended: true }));

app.post('/', function(req, res) {
  console.log(req.cookies);  // outputs ""{}"" &lt;----
  testform.doSomething(req, res);
});

app.listen(app.get(""port""), function() {
  console.log(""Node app is running on port"", app.get(""port""));
});
</code></pre>
",<javascript><node.js><express><cookies><npm>,0.0,0,0,1
19124,19124,49989528,1,0,9678161,2.0,3.0,0.0,0.0,2018-04-23T20:34:19.480,0.0,979.0,Infinite get /json when starting express app,"<p>My question might be very stupid as I'm totally new in web development and nodejs. </p>

<p>I followed the express explanations here -> <a href=""http://expressjs.com/en/starter/generator.html"" rel=""nofollow noreferrer"">http://expressjs.com/en/starter/generator.html</a></p>

<p>which indicate how to generate an application skeleton. 
Once I launch the app I look at the shell and I have an infinite message 
GET /json 404 : <a href=""https://i.stack.imgur.com/H6BvX.jpg"" rel=""nofollow noreferrer"">screenshot</a>
I'm not requesting any url yet (other than the <a href=""http://localhost:3000/"" rel=""nofollow noreferrer"">http://localhost:3000/</a>) so it confuses me.
I got this issue right after doing the express tutorial steps (cf link above). After trying different methods (setting the port listening in the app, running via node inspect, etc.) I still get the same message as it was an infinite loop. Is this normal ? Maybe this article answers my question : <a href=""http://jilles.me/getting-the-express-app-js/"" rel=""nofollow noreferrer"">http://jilles.me/getting-the-express-app-js/</a> (section named ""The Special 404 Error"") where it seems that 404 does not necessarily mean an error. </p>

<p>Nonetheless, I would like to be 100% sure this is ok so that I don't start programming with errors from the start.</p>

<p>Thanks very much in advance for your help.</p>

<p>Please see below the code generated by express : </p>

<pre><code>var createError = require('http-errors');
var express = require('express');
var path = require('path');
var cookieParser = require('cookie-parser');
var logger = require('morgan');

var indexRouter = require('./routes/index');
var usersRouter = require('./routes/users');

var app = express();

// view engine setup
app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'ejs');

app.use(logger('dev'));
app.use(express.json());
app.use(express.urlencoded({ extended: false }));
app.use(cookieParser());
app.use(express.static(path.join(__dirname, 'public')));

app.use('/', indexRouter);
app.use('/users', usersRouter);

// catch 404 and forward to error handler
app.use(function(req, res, next) {
  next(createError(404));
});

// error handler
app.use(function(err, req, res, next) {
  // set locals, only providing error in development
  res.locals.message = err.message;
  res.locals.error = req.app.get('env') === 'development' ? err : {};

  // render the error page
  res.status(err.status || 500);
  res.render('error');
});

// These lines are mines but they haven't solved the issue
/* ------------------------------------------------- */
app.set('port', process.env.PORT || 3000); 

var server = app.listen(app.get('port')); 
/* ------------------------------------------------- */

module.exports = app;
</code></pre>

<p>And here is the 'http-errors' module if needed : </p>

<pre><code>/*!
 * http-errors
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */

'use strict'

/**
 * Module dependencies.
 * @private
 */

var deprecate = require('depd')('http-errors')
var setPrototypeOf = require('setprototypeof')
var statuses = require('statuses')
var inherits = require('inherits')

/**
 * Module exports.
 * @public
 */

module.exports = createError
module.exports.HttpError = createHttpErrorConstructor()

// Populate exports for all constructors
populateConstructorExports(module.exports, statuses.codes, module.exports.HttpError)

/**
 * Get the code class of a status code.
 * @private
 */

function codeClass (status) {
  return Number(String(status).charAt(0) + '00')
}

/**
 * Create a new HTTP Error.
 *
 * @returns {Error}
 * @public
 */

function createError () {
  // so much arity going on ~_~
  var err
  var msg
  var status = 500
  var props = {}
  for (var i = 0; i &lt; arguments.length; i++) {
    var arg = arguments[i]
    if (arg instanceof Error) {
      err = arg
      status = err.status || err.statusCode || status
      continue
    }
    switch (typeof arg) {
      case 'string':
        msg = arg
        break
      case 'number':
        status = arg
        if (i !== 0) {
          deprecate('non-first-argument status code; replace with createError(' + arg + ', ...)')
        }
        break
      case 'object':
        props = arg
        break
    }
  }

  if (typeof status === 'number' &amp;&amp; (status &lt; 400 || status &gt;= 600)) {
    deprecate('non-error status code; use only 4xx or 5xx status codes')
  }

  if (typeof status !== 'number' ||
    (!statuses[status] &amp;&amp; (status &lt; 400 || status &gt;= 600))) {
    status = 500
  }

  // constructor
  var HttpError = createError[status] || createError[codeClass(status)]

  if (!err) {
    // create error
    err = HttpError
      ? new HttpError(msg)
      : new Error(msg || statuses[status])
    Error.captureStackTrace(err, createError)
  }

  if (!HttpError || !(err instanceof HttpError) || err.status !== status) {
    // add properties to generic error
    err.expose = status &lt; 500
    err.status = err.statusCode = status
  }

  for (var key in props) {
    if (key !== 'status' &amp;&amp; key !== 'statusCode') {
      err[key] = props[key]
    }
  }

  return err
}

/**
 * Create HTTP error abstract base class.
 * @private
 */

function createHttpErrorConstructor () {
  function HttpError () {
    throw new TypeError('cannot construct abstract class')
  }

  inherits(HttpError, Error)

  return HttpError
}

/**
 * Create a constructor for a client error.
 * @private
 */

function createClientErrorConstructor (HttpError, name, code) {
  var className = name.match(/Error$/) ? name : name + 'Error'

  function ClientError (message) {
    // create the error object
    var msg = message != null ? message : statuses[code]
    var err = new Error(msg)

    // capture a stack trace to the construction point
    Error.captureStackTrace(err, ClientError)

    // adjust the [[Prototype]]
    setPrototypeOf(err, ClientError.prototype)

    // redefine the error message
    Object.defineProperty(err, 'message', {
      enumerable: true,
      configurable: true,
      value: msg,
      writable: true
    })

    // redefine the error name
    Object.defineProperty(err, 'name', {
      enumerable: false,
      configurable: true,
      value: className,
      writable: true
    })

    return err
  }

  inherits(ClientError, HttpError)

  ClientError.prototype.status = code
  ClientError.prototype.statusCode = code
  ClientError.prototype.expose = true

  return ClientError
}

/**
 * Create a constructor for a server error.
 * @private
 */

function createServerErrorConstructor (HttpError, name, code) {
  var className = name.match(/Error$/) ? name : name + 'Error'

  function ServerError (message) {
    // create the error object
    var msg = message != null ? message : statuses[code]
    var err = new Error(msg)

    // capture a stack trace to the construction point
    Error.captureStackTrace(err, ServerError)

    // adjust the [[Prototype]]
    setPrototypeOf(err, ServerError.prototype)

    // redefine the error message
    Object.defineProperty(err, 'message', {
      enumerable: true,
      configurable: true,
      value: msg,
      writable: true
    })

    // redefine the error name
    Object.defineProperty(err, 'name', {
      enumerable: false,
      configurable: true,
      value: className,
      writable: true
    })

    return err
  }

  inherits(ServerError, HttpError)

  ServerError.prototype.status = code
  ServerError.prototype.statusCode = code
  ServerError.prototype.expose = false

  return ServerError
}

/**
 * Populate the exports object with constructors for every error class.
 * @private
 */

function populateConstructorExports (exports, codes, HttpError) {
  codes.forEach(function forEachCode (code) {
    var CodeError
    var name = toIdentifier(statuses[code])

    switch (codeClass(code)) {
      case 400:
        CodeError = createClientErrorConstructor(HttpError, name, code)
        break
      case 500:
        CodeError = createServerErrorConstructor(HttpError, name, code)
        break
    }

    if (CodeError) {
      // export the constructor
      exports[code] = CodeError
      exports[name] = CodeError
    }
  })

  // backwards-compatibility
  exports[""I'mateapot""] = deprecate.function(exports.ImATeapot,
    '""I\'mateapot""; use ""ImATeapot"" instead')
}

/**
 * Convert a string of words to a JavaScript identifier.
 * @private
 */

function toIdentifier (str) {
  return str.split(' ').map(function (token) {
    return token.slice(0, 1).toUpperCase() + token.slice(1)
  }).join('').replace(/[^ _0-9a-z]/gi, '')
}
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
19150,19150,50016064,1,0,8254910,0.0,14.0,0.0,0.0,2018-04-25T07:07:12.553,1.0,466.0,Cannot require npm installed modules,"<p>I'm trying to install a new module into my project but as soon as I install and require it, I get the error </p>

<pre><code>Cannot find the module 'xxxxx'
</code></pre>

<p>Earlier, I've installed modules such as <em>express</em> and <em>body-parser</em> which are both running smoothly, but I cannot see them requiring new modules. I've looked in my _node_modules_ folder and after I install a new module a new file for that module gets created. It seems like <em>require</em> is unable to require it due some weird, routing maybe? </p>

<p>Structure:</p>

<pre><code> -project
    -client
     -front-end stuff
    -server
     -node_modules
     -src
     -.DS_Store
     -Dockerfile
     -package-lock.json
     -package.json
</code></pre>

<p>I'm in the server folder when i run the <em>npm install</em> command. </p>

<p>server.js file:</p>

<pre><code>'use strict';

// NPM dependencies.
var express = require('express'),
    bodyParser = require('body-parser'),
    morgan = require('morgan'),
    sequelize = require('sequelize'),
    passport = require('passport'),
    jwt = require('jsonwebtoken'),
    path = require('path'),
    models = require(""./models""),
    compression = require('compression');


// App related modules.
var hookJWTStrategy = require('./services/passportStrategy');

// Initializations.
var app = express();

// Parse as urlencoded and json.
app.use(bodyParser.urlencoded({ extended: false }));
app.use(bodyParser.json());

// Hook up the HTTP logger.
app.use(morgan('dev'));

// Hook up Passport.
app.use(passport.initialize());

// Hook the passport JWT strategy.
hookJWTStrategy(passport);

// Set the static files location.
app.use(express.static(__dirname + '../public'));

// Bundle API routes.
app.use('/api', require('./routes/api')(passport));

// Catch all route.
app.get('*', function(req, res) {
    res.send('Hello there');
});

// sync() will create all table if they doesn't exist in database
models.sequelize.sync().then(function () {
  // Start the server.
  app.listen('3000', function() {
      console.log('Magic happens at http://localhost:3000s/! We are now all now doomed!');
  });
</code></pre>

<p>Generated Error:</p>

<pre><code>module.js:559
server_1       |     throw err;
server_1       |     ^
server_1       | 
server_1       | Error: Cannot find module 'compression'
server_1       |     at Function.Module._resolveFilename (module.js:557:15)
server_1       |     at Function.Module._load (module.js:484:25)
server_1       |     at Module.require (module.js:606:17)
server_1       |     at require (internal/module.js:11:18)
server_1       |     at Object.&lt;anonymous&gt; (/app/src/server.js:12:19)
server_1       |     at Module._compile (module.js:662:30)
server_1       |     at Object.Module._extensions..js (module.js:673:10)
server_1       |     at Module.load (module.js:575:32)
server_1       |     at tryModuleLoad (module.js:515:12)
server_1       |     at Function.Module._load (module.js:507:3)
server_1       |     at Function.Module.runMain (module.js:703:10)
server_1       |     at startup (bootstrap_node.js:193:16)
server_1       |     at bootstrap_node.js:660:3
server_1       | npm ERR! code ELIFECYCLE
server_1       | npm ERR! errno 1
server_1       | npm ERR! james-auth@1.0.0 start: `node ./src/server.js`
server_1       | npm ERR! Exit status 1
server_1       | npm ERR! 
server_1       | npm ERR! Failed at the james-auth@1.0.0 start script.
server_1       | npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
server_1       | 
server_1       | npm ERR! A complete log of this run can be found in:
server_1       | npm ERR!     /root/.npm/_logs/2018-04-25T07_26_17_609Z-debug.log
</code></pre>

<p>Package.json:</p>

<pre><code>{
  ""name"": ""james-auth"",
  ""version"": ""1.0.0"",
  ""main"": ""src/server.js"",
  ""scripts"": {
    ""test"": ""echo \""Error: no test specified\"" &amp;&amp; exit 1"",
    ""start"": ""node ./src/server.js""
  },
  ""repository"": {
    ""type"": ""git""
  },
  ""keywords"": [
    ""express"",
    ""jwt-authentication"",
    ""jwt"",
    ""mysql"",
    ""angular"",
    ""sequelize"",
    ""authentication""
  ],
  ""author"": ""Nick C. Vasile"",
  ""license"": ""MIT"",
  ""dependencies"": {
    ""angular"": ""^1.6.2"",
    ""bcrypt"": ""^1.0.2"",
    ""body-parser"": ""^1.17.1"",
    ""compression"": ""^1.7.2"",
    ""express"": ""^4.15.2"",
    ""jsonwebtoken"": ""^7.3.0"",
    ""morgan"": ""^1.8.1"",
    ""mysql"": ""^2.13.0"",
    ""nodemon"": ""^1.15.1"",
    ""passport"": ""^0.3.2"",
    ""passport-jwt"": ""^2.2.1"",
    ""sequelize"": ""^3.32.1"",
    ""sequelize-cli"": ""^4.0.0""
  }
}
</code></pre>
",<javascript><node.js><express><npm><module>,0.0,0,0,1
19161,19161,50027163,1,0,458969,1.0,3.0,0.0,0.0,2018-04-25T16:29:05.410,3.0,5562.0,PM2 start npm -- start error,"<p>I have been using ""npm start"" to start up my express server (for my angular 2 cli project) for a couple of weeks and it works fine except it doesn't restart automatically when crashed. Now, to make it restart automatically, I tried to use PM2. Based on my research, it should be as simple as running</p>

<pre><code>pm2 start npm -- start
</code></pre>

<p>However, this gives me ""stopped"" status right away. Doing ""pm2 show"" leads me to look at the error in npm-error-0.log, and there I see this error</p>

<pre><code>SyntaxError: Unexpected token :
    at createScript (vm.js:80:10)
    at Object.runInThisContext (vm.js:139:10)
    at Module._compile (module.js:588:28)
    at Object.Module._extensions..js (module.js:635:10)
    at Module.load (module.js:545:32)
    at tryModuleLoad (module.js:508:12)
    at Function.Module._load (module.js:500:3)
    at Object.&lt;anonymous&gt; (C:\Users\mingliu_99\AppData\Roaming\npm\node_modules\pm2\lib\ProcessContainerFork.js:83:21)
    at Module._compile (module.js:624:30)
    at Object.Module._extensions..js (module.js:635:10)
C:\PROGRAM FILES\NODEJS\NPM.CMD:1
(function (exports, require, module, __filename, __dirname) { :: Created by npm, please don't edit manually.
                                                              ^
</code></pre>

<p>This is my start script in my package.json file:</p>

<pre><code>""start"": ""cross-env NODE_ENV=production node dist-prod/server.js""
</code></pre>

<p>So, what's the problem here?</p>

<p>By the way, when I try with this command</p>

<pre><code>pm2 start dist-prod/server.js
</code></pre>

<p>it seems to be started fine (with green online status). However, the server is not serving, which is probably because the env parameter is missing.</p>

<p>UPDATE:</p>

<p>I found <a href=""https://github.com/Unitech/pm2/issues/2808"" rel=""nofollow noreferrer"">this</a> and it turns out to be a problem of pm2 on windows 10.</p>

<p>The workaround suggested in the end of that post seems to work fine.</p>

<p>Basically, install node-cmd first, and create a startscript.js:</p>

<pre><code>var cmd=require('node-cmd'); 
cmd.run('npm start');
</code></pre>

<p>and then run</p>

<pre><code>pm2 start startscript.js
</code></pre>
",<node.js><express><npm><pm2>,1.0,0,0,1
19517,19517,50358346,1,0,7571263,2.0,4.0,0.0,0.0,2018-05-15T20:01:59.240,0.0,2665.0,Run R-Script from Nodejs and Express,"<p>This is my express server structure</p>

<pre><code>--routes
 ----index.js
 ----graph.js
--scripts
 ----test.R
--server.js
</code></pre>

<p>I am trying to call R script from graph.js file as below</p>

<pre><code>router.get('/test',function(req,res,next){
    var R = require(""r-script"");
    var out = R(""./scripts/test.R"")
              .data()
              .callSync();   
    res.send(out);
});
</code></pre>

<p>But I am getting the following error</p>

<pre><code>TypeError: Cannot read property 'data' of undefined.
</code></pre>

<p>Any help is greatly appreciated.
Thanks</p>
",<node.js><express><npm><rscript>,0.0,0,0,1
19519,19519,50358842,1,50359134,9796436,2.0,6.0,0.0,0.0,2018-05-15T20:39:06.210,1.0,4172.0,express-validator - req.checkBody is not a function,"<p>I've been trying to fix this for 2 hours now and I'm getting a little frustrated. Basicly, I want to validate a form input, but I always get this error.</p>

<pre><code>TypeError: req.checkBody is not a function
at C:\Users\bobbo\Desktop\Develops\Project_folder\routes\index.js:19:7
at Layer.handle [as handle_request] (C:\Users\bobbo\Desktop\Develops\Project_folder\node_modules\express\lib\router\layer.js:95:5)
at next (C:\Users\bobbo\Desktop\Develops\Project_folder\node_modules\express\lib\router\route.js:137:13)
at Route.dispatch (C:\Users\bobbo\Desktop\Develops\Project_folder\node_modules\express\lib\router\route.js:112:3)
at Layer.handle [as handle_request] (C:\Users\bobbo\Desktop\Develops\Project_folder\node_modules\express\lib\router\layer.js:95:5)
at C:\Users\bobbo\Desktop\Develops\Project_folder\node_modules\express\lib\router\index.js:281:22
at Function.process_params (C:\Users\bobbo\Desktop\Develops\Project_folder\node_modules\express\lib\router\index.js:335:12)
at next (C:\Users\bobbo\Desktop\Develops\Project_folder\node_modules\express\lib\router\index.js:275:10)
at Function.handle (C:\Users\bobbo\Desktop\Develops\Project_folder\node_modules\express\lib\router\index.js:174:3)
at router (C:\Users\bobbo\Desktop\Develops\Project_folder\node_modules\express\lib\router\index.js:47:12)
</code></pre>

<p>Pretty much the only info I could find is telling me to write the <code>app.use(expressValidator());</code>
after <code>app.use(bodyParser.json());
app.use(bodyParser.urlencoded({ extended: false }));</code>, but it doesn't matter what I do, I still get the same error. Here is the code I use.</p>

<pre><code>//index.js    
    var express = require('express');
    var bodyParser = require('body-parser');
    var app = express();
    var expressValidator = require('express-validator');

    app.use(bodyParser.json());
    app.use(bodyParser.urlencoded({ extended: false }));
    app.use(expressValidator());
    var router = express.Router();
    router.get('/', function(req, res, next) {
      res.render('index', { title: 'Express' });
    });

    router.get('/signup', function(req, res, next) {
      res.render('signup', { title: 'Express' });
    });

    router.post('/signup', function(req, res){
      var name = req.body.name;
      console.log(name);    //works
      req.checkBody(""name"", ""Invalid name"").notEmpty();
      var errors = req.validationErrors();
      if(errors){
        console.log('errors');
      } else{
        console.log('no errors');
      }
    });
    module.exports = router;
</code></pre>

<p>app.js</p>

<pre><code>//app.js
var createError = require('http-errors');
var express = require('express');
var path = require('path');
var cookieParser = require('cookie-parser');
var logger = require('morgan');
var bodyParser = require('body-parser');
var expressValidator = require('express-validator');

var indexRouter = require('./routes/index');
var usersRouter = require('./routes/users');

var app = express();

// view engine setup
app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'pug');

// BodyParser Middleware
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({ extended: false }));
app.use(cookieParser());

app.use(logger('dev'));
app.use(express.json());
app.use(express.urlencoded({ extended: false }));
app.use(cookieParser());
app.use(express.static(path.join(__dirname, 'public')));

app.use('/', indexRouter);
app.use('/users', usersRouter);

// catch 404 and forward to error handler
app.use(function(req, res, next) {
  next(createError(404));
});

// error handler
app.use(function(err, req, res, next) {
  // set locals, only providing error in development
  res.locals.message = err.message;
  res.locals.error = req.app.get('env') === 'development' ? err : {};

  // render the error page
  res.status(err.status || 500);
  res.render('error');
});

module.exports = app;
</code></pre>

<p>package.json</p>

<pre><code>    //package.json
{
  ""name"": ""pizzaonline"",
  ""version"": ""0.0.0"",
  ""private"": true,
  ""scripts"": {
    ""start"": ""node ./bin/www""
  },
  ""dependencies"": {
    ""body-parser"": ""^1.18.3"",
    ""cookie-parser"": ""~1.4.3"",
    ""debug"": ""~2.6.9"",
    ""express"": ""~4.16.0"",
    ""express-session"": ""^1.15.6"",
    ""express-validator"": ""^5.2.0"",
    ""http-errors"": ""~1.6.2"",
    ""morgan"": ""~1.9.0"",
    ""pug"": ""2.0.0-beta11""
  }
</code></pre>

<p>}</p>

<p>If I comment out <code>req.checkBody(""name"", ""Invalid name"").notEmpty();</code>, the next express-validation code to be executed is <code>var errors = req.validationErrors();</code>, giving me an identical error telling me <code>req.validationErrors()</code> is not a function. I'm new to this but this tells me that express-validator is not properly installed, am I wrong? Any help is much appreciated. Thanks in advance.</p>
",<javascript><node.js><express><npm><express-validator>,1.0,0,0,1
19548,19548,50383421,1,0,301513,1.0,3.0,0.0,0.0,2018-05-17T04:38:15.503,2.0,1236.0,Can't fire my npm poststart script b/c start script is to start a node server and won't exit,"<p>I found my npm poststart script won't run because the start script is to start a node server and won't exit. </p>

<p>Pre/Post hooks for build/test script work as expected b/c those scripts will exit when they finish.</p>

<p>So how can I make poststart script run after I start my server? </p>

<p>I am looking for a workaround here or someone just tells me that is impossible. Because I believe the ⁠⁠⁠⁠poststart⁠⁠⁠⁠ <a href=""https://seesparkbox.com/foundry/the_magic_behind_npm_scripts"" rel=""nofollow noreferrer"">waits for an exit code</a> which won’t happen when I start my express server.</p>

<p>The scripts are rather simple, just like these(as an example) :</p>

<pre><code>    ""scripts"": {
    ""start"": ""node ./bin/www"",
    ""poststart"":""echo start done""
    ""test"": ""echo test"",
    ""posttest"": ""echo test done""
  },
</code></pre>
",<node.js><express><npm><npm-scripts>,0.0,0,0,1
19561,19561,50393958,1,0,9422295,1.0,3.0,0.0,0.0,2018-05-17T14:25:16.320,1.0,193.0,Issue installing express/body-parser node js eclipse plugin,"<p>I'm going through the instructions on how to create express web servers through the eclipse/node js plugin in Sam's Teach Yourself All In One book (pg. 26 for reference), and I'm trying to follow them to the best of my ability, but no matter what I do I can't install express, or at least create the sub folders for modules it's asking for. </p>

<p>It's asking me to use 'npm install express@4.6.1' in the console prompt but I get:</p>

<p>npm WARN saveError ENOENT: no such file or directory, open 'C:\Users\user\package.json'
npm WARN enoent ENOENT: no such file or directory, open 'C:\Users\user\package.json'
npm WARN user No description
npm WARN user No repository field.
npm WARN user No README data
npm WARN user No license field.</p>

<p>I'm like a coding fetus. I don't know what this means. The instructions in the book are asking me to create a folder in the specified path but I'm not really sure how to do that. And in any case, my error message is different from the book's so it could be irrelevant. </p>

<p>I know there's probably some super obvious explanation for this but it's been two hours since I started trying to fix the problem myself, I tried every variation of google search I could think of before coming here, and I'm getting frustrated. Thanks in advance. </p>
",<node.js><eclipse><express><npm>,0.0,0,0,1
19613,19613,50450869,1,0,5634660,0.0,1.0,0.0,0.0,2018-05-21T14:18:50.427,2.0,313.0,How to increase request file size in express app,"<p>I already run my express app using server.js:
    'use strict';</p>

<pre><code>function getEnv() {
    return process.env.NODE_ENV === 'production' ?
        require('./env/prod.json') : require('./env/dev.json');
}

var _ = require('lodash');
var express = require('express');
var status = require('./routes/status');
var proxy = require('express-http-proxy');
var env = getEnv();

var app = express();
app.use(express.static('./best-admin'));
app.listen(9000, function() {
    console.log('GUI is available on port 9000...');
});

_.forEach(env.endpoints, function (endpoint) {
    app.use(endpoint.route, proxy(endpoint.address));
    console.log('Set proxy %s to %s', endpoint.route, endpoint.address);
});

var app_backend = express();
app_backend.use('/', status);
app_backend.use(function(req, res) {
    res.status(404).send(""Sorry, that route doesn't exist. Have a nice day :)"");
});
app_backend.listen(9001, function() {
    console.log('GUI backend is listening on port 9001...');
});
</code></pre>

<p>Then I upload file using 'ng-file-upload' - and <strong>everything works fine</strong>.</p>

<p><strong>Problem is</strong> when I try upload file which have more than 1MB when my express serwer return error:</p>

<blockquote>
  <p>PayloadTooLargeError: request entity too large</p>
</blockquote>

<p><strong>Question</strong>: How to increase request file size in express app?</p>

<p><strong>What I tried:</strong></p>

<p>I traied add:</p>

<pre><code>var bodyParser = require('body-parser');
app.use(bodyParser.json({limit: '50mb'}));
app.use(bodyParser.urlencoded({limit: '50mb', extended: true}));
</code></pre>

<p>But then my backend can not take my file - field ""file"" is empty, but Request Payload say something else:</p>

<pre><code>------WebKitFormBoundaryI6qQHASwrdRVhgAG
Content-Disposition: form-data; name=""file"";      filename=""fileName.xml""
Content-Type: text/xml


------WebKitFormBoundaryI6qQHASwrdRVhgAG--
</code></pre>

<p>Moreover my application started required additional localhost:9000 authentication.</p>
",<node.js><express><npm><body-parser>,0.0,0,0,1
19621,19621,50460521,1,50462831,2435020,1.0,0.0,0.0,0.0,2018-05-22T05:39:08.337,4.0,1796.0,How to use 'limiter' in node.js,"<p>I am trying to implement some anti-spamming mechanism into my app. I came across <a href=""https://www.npmjs.com/package/limiter"" rel=""nofollow noreferrer"">the limiter package</a>.</p>

<p>I am confused after reading their example:</p>

<pre><code>var RateLimiter = require('limiter').RateLimiter;
var limiter = new RateLimiter(150, 'hour', true);  // fire CB immediately

// Immediately send 429 header to client when rate limiting is in effect
limiter.removeTokens(1, function(err, remainingRequests) {
  if (remainingRequests &lt; 1) {
    response.writeHead(429, {'Content-Type': 'text/plain;charset=UTF-8'});
    response.end('429 Too Many Requests - your IP is being rate limited');
  } else {
    callMyMessageSendingFunction(...);
  }
});
</code></pre>

<p>Where is 'response' defined? Don't we need to hook the limiter to a path with app.use()? How does the limiter know the incoming IP otherwise?</p>
",<node.js><express><npm><spam-prevention><throttling>,0.0,0,0,1
19652,19652,50489409,1,50872500,8274883,1.0,7.0,0.0,0.0,2018-05-23T13:14:16.687,1.0,641.0,html-docs.js generated doc is blank,"<p>I am new to node js. I am learning express js. I want to create the word file form the html content. I am using <strong>html-docs-js</strong>. Word is generated in folder . But word did not have any content. Word is blank .</p>

<p><strong>My code</strong></p>

<pre><code>router.get('/:id', function(req, res){
 var HtmlDocx = require('html-docx-js');
 var fs = require('fs');
 var html = '&lt;p&gt;My content&lt;p&gt;';

 var docx = HtmlDocx.asBlob(html);
 fs.writeFile('myword.docx',docx, function (err){
    if (err) return console.log(err);
    console.log('done');
 });

 res.send('File Generated in Folder');
</code></pre>

<p>});</p>

<p>After I use the code</p>

<pre><code>router.get('/:id', function(req, res){
var HtmlDocx = require('html-docx-js');
var fs = require('fs');
var html = '&lt;p&gt;My content&lt;p&gt;';

var docx = HtmlDocx.asBlob(html);
fs.writeFile('myword.docx',docx, function (err){
    console.log('first');
if (err) return console.log(err);
console.log('done');
res.send('File Generated in Folder');
console.log('last');
});
});
</code></pre>

<p>print in console correctly . but the file is still blank.</p>

<p><strong>Finally I got solution while using the following code . It working nice for me.</strong></p>

<pre><code>  fs.readFile('./index.ejs', 'utf-8', function(err, html) {
    if (err) throw err;

    // var docx = htmlDocx.asBlob(html);
    fs.writeFile('newgenword.txt', html, function(err) {
        if (err) throw err;
        else{
            console.log(""Docx has been created"");
        }
    });
  });
</code></pre>

<p>This may be useful for someone..</p>
",<node.js><express><npm>,0.0,0,0,1
19670,19670,50504384,1,50506086,6705994,2.0,1.0,0.0,0.0,2018-05-24T08:20:57.837,21.0,8242.0,Difference between Express and Connect npm packages,"<p>I have been using express webservers since I started working on Node.js and a few days ago I came across this new (to me) web server, called connect.</p>

<p>Can anyone point out, what are the differences between the <a href=""https://www.npmjs.com/package/express"" rel=""noreferrer"">express</a> and <a href=""https://www.npmjs.com/package/connect"" rel=""noreferrer"">connect</a>? When should we use connect and when to go for express?</p>

<p>As far as I know, both are web-servers based on HTTP module of Node.js.</p>

<p>Which one should go for?</p>

<p>Please be more descriptive and post some useful links to start with.</p>
",<node.js><express><npm><node.js-connect>,0.0,0,0,1
19704,19704,50530791,1,0,7211674,2.0,2.0,0.0,0.0,2018-05-25T13:53:18.440,0.0,833.0,Brand new react/node.js project wont run on opensuse,"<p>I'm currently learning Express and react right now and was able to run react app originally. While starting a new web app(Yesterday), I was not able to prevent a freshly created react app from crashing. <br></p>

<pre><code>My OS:
openSUSE 20180522 &lt;br&gt;
Kernel: x86_64 Linux 4.16.9-1-default
</code></pre>

<p>The error:</p>

<pre><code>$ npm start

 &gt; movieapp@0.1.0 start 
 /home/knosence/Templates/syntelBootCamp/react/movieapp
 &gt; react-scripts start

 Attempting to bind to HOST environment variable: linux-gz59
 If this was unintentional, check that you haven't mistakenly set it 
 in your shell.
 Learn more here: https://github.com/facebook/create-react-app/blob/master/packages/react-scripts/template/README.md#advanced-configuration

 events.js:183
    throw er; // Unhandled 'error' event
    ^

 Error: getaddrinfo ENOTFOUND linux-gz59
     at errnoException (dns.js:50:10)
     at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:92:26)
 npm ERR! code ELIFECYCLE
 npm ERR! errno 1
 npm ERR! movieapp@0.1.0 start: `react-scripts start`
 npm ERR! Exit status 1
 npm ERR! 
 npm ERR! Failed at the movieapp@0.1.0 start script.
 npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

 npm ERR! A complete log of this run can be found in:
 npm ERR!     /home/knosence/.npm/_logs/2018-05-24T20_48_01_951Z- 
 debug.log
</code></pre>

<p>`</p>

<pre><code>$ cat /home/knosence/.npm/_logs/2018-05-24T20_48_01_951Z-debug.log&lt;br&gt; 
0 info it worked if it ends with ok
1 verbose cli [ '/usr/bin/node8', '/usr/local/bin/npm', 'start' ]
2 info using npm@6.0.1
3 info using node@v8.11.2
4 verbose run-script [ 'prestart', 'start', 'poststart' ]
5 info lifecycle movieapp@0.1.0~prestart: movieapp@0.1.0
6 info lifecycle movieapp@0.1.0~start: movieapp@0.1.0
7 verbose lifecycle movieapp@0.1.0~start: unsafe-perm in lifecycle true
8 verbose lifecycle movieapp@0.1.0~start: PATH: /usr/local/lib/node_modules/npm/node_modules/npm-lifecycle/node-gyp-bin:/home/knosence/Templates/syntelBootCamp/react/movieapp/node_modules/.bin:/home/knosence/bin:/usr/local/bin:/usr/bin:/bin:/usr/lib/mit/sbin:/snap/bin
9 verbose lifecycle movieapp@0.1.0~start: CWD: /home/knosence/Templates/syntelBootCamp/react/movieapp
10 silly lifecycle movieapp@0.1.0~start: Args: [ '-c', 'react-scripts start' ]
11 silly lifecycle movieapp@0.1.0~start: Returned: code: 1  signal: null
12 info lifecycle movieapp@0.1.0~start: Failed to exec start script
13 verbose stack Error: movieapp@0.1.0 start: `react-scripts start`
13 verbose stack Exit status 1
13 verbose stack     at EventEmitter.&lt;anonymous&gt; (/usr/local/lib/node_modules/npm/node_modules/npm-lifecycle/index.js:283:16)
13 verbose stack     at emitTwo (events.js:126:13)
13 verbose stack     at EventEmitter.emit (events.js:214:7)
13 verbose stack     at ChildProcess.&lt;anonymous&gt; (/usr/local/lib/node_modules/npm/node_modules/npm-lifecycle/lib/spawn.js:55:14)
13 verbose stack     at emitTwo (events.js:126:13)
13 verbose stack     at ChildProcess.emit (events.js:214:7)
13 verbose stack     at maybeClose (internal/child_process.js:925:16)
13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:209:5)
14 verbose pkgid movieapp@0.1.0
15 verbose cwd /home/knosence/Templates/syntelBootCamp/react/movieapp
16 verbose Linux 4.16.9-1-default
17 verbose argv ""/usr/bin/node8"" ""/usr/local/bin/npm"" ""start""
18 verbose node v8.11.2
19 verbose npm  v6.0.1
20 error code ELIFECYCLE
21 error errno 1
22 error movieapp@0.1.0 start: `react-scripts start`
22 error Exit status 1
23 error Failed at the movieapp@0.1.0 start script.
23 error This is probably not a problem with npm. There is likely additional logging output above.
24 verbose exit [ 1, true ]
</code></pre>

<p>`</p>

<p>If anyone can help me with this then it will be greatly appreciated!! If anyone needs more information, let me know and I will provide. Thanks!</p>
",<node.js><reactjs><express><react-native><npm>,1.0,0,1,1
19711,19711,50538296,1,54993045,46942,1.0,2.0,0.0,0.0,2018-05-26T00:30:46.550,1.0,1803.0,How to Proxy using Node using express-http-proxy to strip final rest,"<p>On my local JavaScript, I want to make a rest call to</p>

<pre><code>/rest/speakers
</code></pre>

<p>and have that proxied to</p>

<pre><code>http://localhost:2011/rest/speakers
</code></pre>

<p>I have code as follows that does not quite work as I want:</p>

<pre><code>var proxy = require('express-http-proxy');
var app = require('express')();
app.use('/rest', proxy('localhost:2011/'));
app.listen(8081, function () {
    console.log('Listening on port 8081');
});
</code></pre>

<p>To make the proxy work, I actually need to call</p>

<pre><code>/rest/rest/speakers
</code></pre>

<p>I kind of get it.  It seems that I'm proxying my <code>/rest</code> to the root of <code>localhost:2011</code> and then I need to dive into the <code>/rest</code> of that server.  Adding <code>/rest</code> to the end of the <code>proxy(..)</code> is ignored.</p>
",<node.js><express><npm><http-proxy>,0.0,0,0,1
19725,19725,50547130,1,50547170,116095,1.0,2.0,0.0,0.0,2018-05-26T21:26:33.383,1.0,2475.0,How to install nodejs modules in a local app directory?,"<p>I'm taking a node.js course on <code>frontendmasters.com</code>.  In this course, which appears to be at least one or two years old, the instructor creates an application directory called 'express', cds into it, and then runs the command ""npm install express"".  According to him, since I didn't specify the '-g' option (which would cause npm to install it globally), a node_modules directory should be created inside the express folder.  And when he ran the command on his laptop, that's what happened.  He says this is done so that if, for instance, you had two different apps which needed different versions of express, you could run a different version in each app's directory.  This makes perfect sense.  </p>

<p>However, when I ran the 'npm install express' command, I discovered that npm created a $HOME/node_modules/express directory rather than creating that node_modules directory below my express project directory.  When I created a second app, basic2, at the same directory level as basic, I found that I didn't need to re-run the 'npm install express' command as express is still accessible via the $HOME/node_modules directory.  This now means that both apps, basic and basic2 will be using the same version of express which contradicts what the instructor said.</p>

<p>So my question is, how does one install express (or any other module, for that matter) using npm so that the node_modules directory is created locally in one's local app directory (i.e. on a per-app basis) rather than in my $HOME directory?  It appears that something about npm has changed since this video was created.</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
19835,19835,50648662,1,0,2574522,1.0,0.0,0.0,0.0,2018-06-01T17:48:29.920,0.0,760.0,Create single binary from express + react app with zeit pkg?,"<p>How do I package an express + react folderstructure into a single binary with zeit?
I can run each of them like this:
node server.js 
npm run start client</p>

<p>I can start both like this:
scripts element in package.json:
  ""myapp"": ""concurrently --kill-others \""node server\"" \""npm run --prefix client start\"""",</p>

<p>then - npm run myapp in the same folder as package.json.</p>

<p>What I would like to achieve is to apply zeit/pkg somehow so that I have a single binary that I can run that starts both servers in the same way as npm run myapp.</p>

<p>Anyone who knows how?</p>
",<node.js><reactjs><express><npm><zeit-pkg>,0.0,0,0,1
19870,19870,50676297,1,0,4680224,2.0,2.0,0.0,0.0,2018-06-04T08:29:02.707,0.0,641.0,Node js express validator throwing error,"<p>I have installed express validator, but throwing error as follows:</p>

<p>express-validator@5.2.0 </p>

<blockquote>
  <p>shopping-cart@0.0.0 start /var/www/nodejs/shopping-cart
  node ./bin/www</p>
</blockquote>

<pre><code>/var/www/nodejs/shopping-cart/node_modules/express-validator/lib/express_validator.js:4
const { checkSchema, validationResult } = require('../check');
      ^

SyntaxError: Unexpected token {
    at exports.runInThisContext (vm.js:53:16)
    at Module._compile (module.js:374:25)
    at Object.Module._extensions..js (module.js:417:10)
    at Module.load (module.js:344:32)
    at Function.Module._load (module.js:301:12)
    at Module.require (module.js:354:17)
    at require (internal/module.js:12:17)
    at Object.&lt;anonymous&gt; (/var/www/nodejs/shopping-cart/node_modules/express-validator/index.js:1:80)
    at Module._compile (module.js:410:26)
    at Object.Module._extensions..js (module.js:417:10)

npm ERR! Linux 4.13.0-43-generic
npm ERR! argv ""/usr/bin/nodejs"" ""/usr/local/bin/npm"" ""start""
npm ERR! node v4.2.6
npm ERR! npm  v3.10.10
npm ERR! code ELIFECYCLE
npm ERR! shopping-cart@0.0.0 start: `node ./bin/www`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the shopping-cart@0.0.0 start script 'node ./bin/www'.
npm ERR! Make sure you have the latest version of node.js and npm installed.
npm ERR! If you do, this is most likely a problem with the shopping-cart package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     node ./bin/www
npm ERR! You can get information on how to open an issue for this project with:
npm ERR!     npm bugs shopping-cart
npm ERR! Or if that isn't available, you can get their info via:
npm ERR!     npm owner ls shopping-cart
npm ERR! There is likely additional logging output above.

npm ERR! Please include the following file with any support request:
npm ERR!     /var/www/nodejs/shopping-cart/npm-debug.log
</code></pre>
",<node.js><express><npm><express-validator>,1.0,0,0,1
19953,19953,50744172,1,50744230,7452052,1.0,3.0,0.0,0.0,2018-06-07T14:46:05.910,0.0,501.0,Access get request in express with middleware,"<p>Is there any way to access the request object that is sent to any route without accessing it in a .get or something like that but instead access any request sent to express globally?</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
20056,20056,50841139,1,50870088,6385989,3.0,6.0,0.0,0.0,2018-06-13T15:35:57.027,5.0,11876.0,Modules not found when using express,"<p>I want to expose REST service in electron app and I want to use expressJS with electron, as tutorial states I added express and @types/express. I tried to expose a ""get "" but when I build and run it throws the following.</p>

<p>Ran with  <code>ng build --prod</code> </p>

<blockquote>
<pre><code>ERROR in ./node_modules/cookie-signature/index.js
Module not found: Error: Can't resolve 'crypto' in 'app\node_modules\cookie-signature'
ERROR in ./node_modules/etag/index.js
Module not found: Error: Can't resolve 'crypto' in 'app\node_modules\etag'
ERROR in ./node_modules/destroy/index.js
Module not found: Error: Can't resolve 'fs' in 'app\node_modules\destroy'
ERROR in ./node_modules/etag/index.js
Module not found: Error: Can't resolve 'fs' in 'app\node_modules\etag'
ERROR in ./node_modules/express/lib/view.js
Module not found: Error: Can't resolve 'fs' in 'app\node_modules\express\lib'
ERROR in ./node_modules/mime/mime.js
Module not found: Error: Can't resolve 'fs' in 'app\node_modules\mime'
ERROR in ./node_modules/send/index.js
Module not found: Error: Can't resolve 'fs' in 'app\node_modules\send'
ERROR in ./node_modules/express/lib/application.js
Module not found: Error: Can't resolve 'http' in 'app\node_modules\express\lib'
ERROR in ./node_modules/express/lib/response.js
Module not found: Error: Can't resolve 'http' in 'app\node_modules\express\lib'
ERROR in ./node_modules/express/lib/request.js
Module not found: Error: Can't resolve 'http' in 'app\node_modules\express\lib'
ERROR in ./node_modules/express/lib/request.js
Module not found: Error: Can't resolve 'net' in 'app\node_modules\express\lib'
ERROR in ./node_modules/content-disposition/index.js
Module not found: Error: Can't resolve 'path' in 'app\node_modules\content-disposition'
ERROR in ./node_modules/express/lib/view.js
Module not found: Error: Can't resolve 'path' in 'app\node_modules\express\lib'
ERROR in ./node_modules/express/lib/response.js
Module not found: Error: Can't resolve 'path' in 'app\node_modules\express\lib'
ERROR in ./node_modules/express/lib/application.js
Module not found: Error: Can't resolve 'path' in 'app\node_modules\express\lib'
ERROR in ./node_modules/mime/mime.js
Module not found: Error: Can't resolve 'path' in 'app\node_modules\mime'
ERROR in ./node_modules/mime-types/index.js
Module not found: Error: Can't resolve 'path' in 'app\node_modules\mime-types'
ERROR in ./node_modules/send/index.js
Module not found: Error: Can't resolve 'path' in 'app\node_modules\send'
ERROR in ./node_modules/serve-static/index.js
Module not found: Error: Can't resolve 'path' in 'app\node_modules\serve-static'
ERROR in ./node_modules/destroy/index.js
Module not found: Error: Can't resolve 'stream' in 'app\node_modules\destroy'
ERROR in ./node_modules/iconv-lite/lib/streams.js
Module not found: Error: Can't resolve 'stream' in 'app\node_modules\iconv-lite\lib'
ERROR in ./node_modules/iconv-lite/lib/extend-node.js
Module not found: Error: Can't resolve 'stream' in 'app\node_modules\iconv-lite\lib'
ERROR in ./node_modules/send/index.js
Module not found: Error: Can't resolve 'stream' in 'app\node_modules\send'
ERROR in ./node_modules/body-parser/lib/read.js
Module not found: Error: Can't resolve 'zlib' in 'app\node_modules\body-parser\lib'
</code></pre>
</blockquote>

<p>It's the first time i wanna do this kind of things so excuse me if I don't know smth... </p>

<p>package.json : </p>

<pre><code>&gt; {
  ""name"": ""angular-electron"",
  ""version"": ""0.0.0"",
  ""main"": ""main.js"",
  ""scripts"": {
    ""ng"": ""ng"",
    ""start"": ""ng serve"",
    ""build"": ""ng build"",
    ""test"": ""ng test"",
    ""lint"": ""ng lint"",
    ""e2e"": ""ng e2e"",
    ""electron"": ""electron ."",
    ""electron-build"": ""ng build --prod &amp;&amp; electron .""
  },
  ""private"": true,
  ""dependencies"": {
    ""@angular/animations"": ""^6.0.4"",
    ""@angular/common"": ""^6.0.4"",
    ""@angular/compiler"": ""^6.0.4"",
    ""@angular/core"": ""^6.0.4"",
    ""@angular/forms"": ""^6.0.4"",
    ""@angular/http"": ""^6.0.4"",
    ""@angular/platform-browser"": ""^6.0.4"",
    ""@angular/platform-browser-dynamic"": ""^6.0.4"",
    ""@angular/router"": ""^6.0.4"",
    ""@types/express"": ""^4.16.0"",
    ""angular-svg-round-progressbar"": ""^2.0.0"",
    ""core-js"": ""^2.5.4"",
    ""express"": ""^4.16.3"",
    ""js-sha256"": ""^0.9.0"",
    ""rxjs"": ""^6.2.0"",
    ""rxjs-compat"": ""^6.2.0"",
    ""zone.js"": ""^0.8.26""
  },
  ""devDependencies"": {
    ""@angular-devkit/build-angular"": ""~0.6.6"",
    ""@angular/cli"": ""~6.0.7"",
    ""@angular/compiler-cli"": ""^6.0.4"",
    ""@angular/language-service"": ""^6.0.4"",
    ""@types/jasmine"": ""~2.8.6"",
    ""@types/jasminewd2"": ""~2.0.3"",
    ""@types/node"": ""~8.9.4"",
    ""codelyzer"": ""~4.2.1"",
    ""electron"": ""^2.0.2"",
    ""jasmine-core"": ""~2.99.1"",
    ""jasmine-spec-reporter"": ""~4.2.1"",
    ""karma"": ""~1.7.1"",
    ""karma-chrome-launcher"": ""~2.2.0"",
    ""karma-coverage-istanbul-reporter"": ""~2.0.0"",
    ""karma-jasmine"": ""~1.1.1"",
    ""karma-jasmine-html-reporter"": ""^0.2.2"",
    ""protractor"": ""~5.3.0"",
    ""ts-node"": ""~5.0.1"",
    ""tslint"": ""~5.9.1"",
    ""typescript"": ""~2.7.2""
  }
}
</code></pre>

<p>The project worked perfectly untill I've added the express part, it worked.</p>

<pre><code>  var app = express()

  app.get('/', function (req, res) {
    res.send('Hello World')
  })
</code></pre>
",<javascript><typescript><express><npm><electron>,0.0,0,0,1
20109,20109,50889941,1,0,5573767,0.0,6.0,0.0,0.0,2018-06-16T17:03:12.733,0.0,481.0,Session ID does not work with Express,"<p>I am building a website using MEAN stack, currently working on backend using express. When I make a user, a session id called 'req.session.userId' is generated. For testing purpose, I am testing on '/logout' route, if req.session.userId exists, then I return string 'working'. It seems like everything works on Postman but not on the browser side.</p>

<p>This is the output from Postman. It returns string 'working'</p>

<p><img src=""https://i.stack.imgur.com/podqy.png"" alt=""Postman""></p>

<p>This is from browser, it returns string 'not working' when <code>sessionId</code> does not exist</p>

<p><img src=""https://i.stack.imgur.com/1ldeF.png"" alt=""Postman""></p>

<p>This is my Logout function from controller that gets called by router</p>

<pre><code>exports.Logout = function(req,res,next){
 if (req.session.userId){
  res.send(""working"");
 else{
  res.send(""this isn't working!"");
 }
}
</code></pre>

<p>This is from app.js for storing session</p>

<pre><code>app.use(session({
    secret: 'hardworking cat',
    resave: true,
    saveUninitialized: false,
    store: new mongoStore({
        mongooseConnection: db //store sessionid when user logs in
    })
}));
</code></pre>

<p>I am really confused. It works on Postman but not on my browser. Am I possibly missing something?</p>
",<node.js><express><session><npm><postman>,0.0,0,0,1
20291,20291,51044624,1,0,9687794,3.0,4.0,0.0,0.0,2018-06-26T13:54:22.703,5.0,3825.0,ESLint: 5.0.1 Error,"<p>I'm creating a project following this tutorial: <a href=""https://www.youtube.com/watch?v=Fa4cRMaTDUI&amp;list=PLWKjhJtqVAbnadueQ-C5keMQQiQau_i0D"" rel=""noreferrer"">Full Stack Web App using Vue.js &amp; Express.js: Part 1 - Intro</a></p>

<p>I ran the next command: ""npm start"" which was configured in my package.json like this:</p>

<pre><code>""scripts"": {
        ""start"": ""./node_modules/nodemon/bin/nodemon.js src/app.js --exec 'npm run lint &amp;&amp; node'"",
        ""lint"": ""./node_modules/.bin/eslint **/*.js""
      },
</code></pre>

<p>But ESLint throws the next error:</p>

<pre><code>Oops! Something went wrong! :(

ESLint: 5.0.1. No files matching the pattern ""node_modules/ipaddr.js"" were found. Please check for typing mistakes in the pattern.

npm ERR! code ELIFECYCLE npm ERR! errno 2 npm ERR! server@1.0.0 lint: `eslint **/*.js` npm ERR! Exit status 2 npm ERR!  npm ERR! Failed at the server@1.0.0 lint script. npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in: npm ERR!     /home/ironman/.npm/_logs/2018-06-26T13_45_13_295Z-debug.log [nodemon] process failed, unhandled exit code (2) [nodemon] Error
    at Bus.utils.bus.on (/home/ironman/Documentos/Sandbox/Vuexpress/server/node_modules/nodemon/lib/nodemon.js:148:25)
    at Bus.emit (events.js:187:15)
    at ChildProcess.&lt;anonymous&gt; (/home/ironman/Documentos/Sandbox/Vuexpress/server/node_modules/nodemon/lib/monitor/run.js:164:11)
    at ChildProcess.emit (events.js:182:13)
    at Process.ChildProcess._handle.onexit (internal/child_process.js:237:12)
</code></pre>

<p>I know there is <a href=""https://stackoverflow.com/questions/51021751/express-js-lint-gives-mistake"">another thread</a> asked yesterday but i can't comment on it unless i have 50 reputation. Also, <a href=""https://stackoverflow.com/users/7453943/joknawe"">joknawe</a> points out that maybe eslint is trying to lint my node_modules directory but i don't know how to ignore it.</p>

<p>Is there any way to solve this issue ?</p>
",<javascript><node.js><express><npm><eslint>,1.0,0,0,1
20386,20386,51126472,1,51128385,7458068,3.0,0.0,0.0,0.0,2018-07-01T19:42:05.400,97.0,89413.0,How to organise file structure of backend and frontend in MERN,"<p>I have backend based on express + mongoose. File structure is:</p>

<pre><code>- /models
-- item.js
- /node.modules
-- ...
- server.js
- package-lock.json
- package.json
</code></pre>

<p>And regular create-react-app based folder for front-end:</p>

<pre><code>- /src
-- /assets
--- index.css
-- /components
--- Somecomponent.js
-- /containers
--- App.js
-- /reducers
--- somereducers.js
- /node.modules
-- ...
-- index.js
-- registerServiceWorker.js
- .gitignore
- package-lock.json
- package.json
</code></pre>

<p>I want to use it in proper way together. I wanted to organise it this way:</p>

<pre><code>- /client 
-- /src
...
-- index.js
-- registerServiceWorker.js
- .gitignore
- package-lock.json
- package.json

- /server
- /models
-- item.js
- /node.modules
-- ...
- server.js
- package-lock.json
- package.json
</code></pre>

<p>At this stage I stuck. I can make it if client folder inside server folder or if server folder inside client. 
1. But how to make it run when two folders are siblings? 
2. What should be package.json and where node.modules should be (whether both server and client should have it's own package.json and modules?)</p>
",<node.js><reactjs><express><npm>,0.0,0,0,1
20447,20447,51175304,1,0,9624268,3.0,5.0,0.0,0.0,2018-07-04T13:50:24.727,1.0,1716.0,Error on running npm run dev,"<blockquote>
  <p>I am working on MERN web application and trying to run both client and
  server with npm run dev but getting this error. </p>
  
  <p>Error occured when
  executing command: npm run clientError: spawn cmd.exe ENOENT
       at _errnoException (util.js:1022:11)
       at Process.ChildProcess._handle.onexit (internal/child_process.js:190:19)
       at onErrorNT (internal/child_process.js:372:16)
       at _combinedTickCallback (internal/process/next_tick.js:138:11)
       at process._tickCallback (internal/process/next_tick.js:180:9)
       at Function.Module.runMain (module.js:695:11)
       at startup (bootstrap_node.js:188:16)
      at bootstrap_node.js:609:3Error occured when executing command: npm run clientError: spawn cmd.exe ENOENT</p>
</blockquote>

<pre><code>//package.json in server 
{
  ""name"": ""mern-list"",
  ""version"": ""1.0.0"",
  ""description"": """",
  ""main"": ""server.js"",
  ""scripts"": {
    ""client-install"": ""npm install --prefix client"",
    ""start"": ""node server.js"",
    ""server"": ""nodemon server.js"",
    ""client"": ""npm start --prefix client"",
    ""dev"": ""concurrently \""npm run server\"" \""npm run client\""""
  },
  ""author"": """",
  ""license"": ""ISC"",
  ""dependencies"": {
    ""body-parser"": ""^1.18.3"",
    ""concurrently"": ""^3.6.0"",
    ""express"": ""^4.16.3"",
    ""mongoose"": ""^5.2.0""
  },
  ""devDependencies"": {
    ""nodemon"": ""^1.17.5""
  }
}

package.json in client
{
  ""name"": ""client"",
  ""version"": ""0.1.0"",
  ""private"": true,
  ""dependencies"": {
    ""react"": ""^16.4.1"",
    ""react-dom"": ""^16.4.1"",
    ""react-scripts"": ""1.1.4""
  },
  ""scripts"": {
    ""start"": ""react-scripts start"",
    ""build"": ""react-scripts build"",
    ""test"": ""react-scripts test --env=jsdom"",
    ""eject"": ""react-scripts eject""
  },
  ""proxy"": ""http://localhost:5000""
}
</code></pre>
",<node.js><reactjs><express><npm>,1.0,0,0,1
20488,20488,51220530,1,0,6180048,1.0,7.0,0.0,0.0,2018-07-07T06:23:17.543,2.0,2911.0,NPM command showing aborted message due to not enough memory in node js,"<p>I am new in nodejs when i am using npm command, i am getting bellow errors</p>

<pre><code> $ npm install express --save
 Error: ENOMEM: not enough memory, scandir '/home/buraqtechno'

&lt;--- Last few GCs ---&gt;
[32765:0x23f0eb0]      216 ms: Mark-sweep 6.3 (14.8) -&gt; 6.3 (14.8) MB,     7.7 / 0.0 ms  (average mu = 0.025, current mu = 0.025) allocation failure GC  in old space requested[32765:0x23f0eb0]      225 ms: Mark-sweep 6.3 (14.8) - &gt; 6.2 (11.3) MB, 8.4 / 0.0 ms  (average mu = 0.018, current mu = 0.011) last  resort GC in old space requested
[32765:0x23f0eb0]      232 ms: Mark-sweep 6.2 (11.3) -&gt; 6.2 (11.3) MB,  7.5 / 0.0 ms  (average mu = 0.010, current mu = 0.003) last resort GC in old  space requested

 &lt;--- JS stacktrace ---&gt;
==== JS stack trace =========================================

0: ExitFrame [pc: 0x36dbe9d841bd]
1: StubFrame [pc: 0x36dbea085ad7]
Security context: 0xb670dc1e6c9 &lt;JSObject&gt;
2: emitWarning(aka emitWarning) [0x2f6470520629]   [internal/process/promises.js:50] [bytecode=0x39e2a436f581 offset=22](this=0x2f9cf48822e1 &lt;undefined&gt;,uid=1,reason=0x2f9cf48ba979 &lt;TypeError map  = 0x11c2cc49951&gt;)
3: emitPromiseRejectionWarnings(aka emitPromiseRejectionWarnings)  [0x2f647051fe31] [internal/process/pr...

FATAL ERROR: CALL_AND_RETRY_LAST Allocation failed - JavaScript heap out of memory
1: 0x89c2f0 node::Abort() [npm]
2: 0x89c33c  [npm]
3: 0xa8f05e v8::Utils::ReportOOMFailure(v8::internal::Isolate*, char  const*, bool) [npm]
4: 0xa8f278  v8::internal::V8::FatalProcessOutOfMemory(v8::internal::Isolate*, char const*, bool) [npm]
5: 0xe7cad2  [npm]
6: 0xe8bd46 v8::internal::Heap::AllocateRawWithRetry(int,  v8::internal::AllocationSpace, v8::internal::AllocationAlignment) [npm]
7: 0xe543fb v8::internal::Factory::NewFixedArrayWithFiller(v8::internal::Heap::RootListIndex, int, v8::internal::Object*, v8::internal::PretenureFlag) [npm]
8: 0xe64b09  v8::internal::Factory::SetNumberStringCache(v8::internal::Handle&lt;v8::internal::Object&gt;, v8::internal::Handle&lt;v8::internal::String&gt;) [npm]
9: 0xe64ba9 v8::internal::Factory::NumberToString(v8::internal::Handle&lt;v8::internal::Object&gt;, bool) [npm]
10: 0xf6ed72  [npm]
11: 0xf6f7e7 v8::internal::JSStackFrame::ToString() [npm]
12: 0xf71f68 v8::internal::ErrorUtils::FormatStackTrace(v8::internal::Isolate*, v8::internal::Handle&lt;v8::internal::JSObject&gt;, v8::internal::Handle&lt;v8::internal::Object&gt;) [npm]
13: 0xa88587 v8::internal::Accessors::ErrorStackGetter(v8::Local&lt;v8::Name&gt;, v8::PropertyCallbackInfo&lt;v8::Value&gt; const&amp;) [npm]
14: 0xf7587d v8::internal::PropertyCallbackArguments::BasicCallNamedGetterCallback(void (*)(v8::Local&lt;v8::Name&gt;, v8::PropertyCallbackInfo&lt;v8::Value&gt; const&amp;), v8::internal::Handle&lt;v8::internal::Name&gt;, v8::internal::Handle&lt;v8::internal::Object&gt;) [npm]
15: 0xfa9231 v8::internal::Object::GetPropertyWithAccessor(v8::internal::LookupIterator*) [npm]
16: 0xfa5430 v8::internal::Object::GetProperty(v8::internal::LookupIterator*) [npm]
17: 0xeedd50 v8::internal::LoadIC::Load(v8::internal::Handle&lt;v8::internal::Object&gt;, v8::internal::Handle&lt;v8::internal::Name&gt;) [npm]
18: 0xef0fb7 v8::internal::Runtime_LoadIC_Miss(int, v8::internal::Object**, v8::internal::Isolate*) [npm]
19: 0x36dbe9d841bd
Aborted
</code></pre>

<p>when i check version of both it is working </p>

<pre><code>$ npm -v
6.1.0

$ node -v
v10.6.0
</code></pre>

<p>Please help me i am facing problem since 2 days. Before that it was working</p>
",<node.js><reactjs><express><npm>,0.0,0,0,1
20505,20505,51230257,1,51230309,7008090,2.0,0.0,0.0,0.0,2018-07-08T08:43:56.303,0.0,2760.0,How to access index.js from static page in NodeJS,"<p>I'm currently working on a project in NodeJS where it hosts a tiny web server and opens a web browser navigated to this web server when the user issues the command <code>npm start</code>.</p>

<p>My project directory structure is as following:</p>

<pre><code>    root_directory/
       node_modules/
       server/
         index.html
         css/
         html/
         js/
           main.js

       .jshintrc
       index.js
       package.json
       package-lock.json
</code></pre>

<p><code>index.js</code> in the root directory is the main file for NodeJS to execute on npm start. The <code>server</code> directory contains static files served by Express.</p>

<p><strong>index.js</strong></p>

<pre><code>const express = require('express');
const app = express();
const opn = require('opn');

{ ... }

function startServer() {
    console.log(""Starting server..."");

    // Start the web server
    app.use(express.static('server')); // &lt;- Serve the 'server' directory as static content
    app.listen(7120, function() {
        console.log(""Successfully started server!"");
    });

    // Open a browser window navigated to the server
    opn(""http://localhost:7120"");
}
</code></pre>

<p><strong>main.js</strong></p>

<pre><code>var underscore = require(""underscore"");
                 // ^ This part is going wrong

console.log(""Server loaded successfully."");
</code></pre>

<p>When I try to <code>require()</code> in the static file <code>main.js</code>, it throws the following error:</p>

<pre><code>main.js:1 Uncaught ReferenceError: require is not defined
    at main.js:1
</code></pre>

<p>My question is:</p>

<blockquote>
  <p>How do I use NodeJS libraries/functions such as <code>require()</code> in static pages served by Express?</p>
</blockquote>

<p>The <code>require()</code> function works, of course, in <code>index.js</code> because it's run by Node.</p>
",<javascript><node.js><express><npm>,1.0,0,0,1
20595,20595,51319364,1,0,5041128,2.0,1.0,0.0,0.0,2018-07-13T06:59:18.377,1.0,6823.0,"Failed to load resource, (Service Unavailable) error 503","<p>I have build an <strong>angular cli</strong> app with a <strong>express server</strong>,after deploying in <strong>heroku</strong> I try to run the app I get this error as :</p>

<blockquote>
  <p>Failed to load resource: the server responded with a status of 503 (Service Unavailable)</p>
</blockquote>

<p>I have tried following a previous answer and added a <strong>serve-favicon</strong> dependency but the error persists. Here is my 
<strong><em>server.js</em></strong></p>

<pre><code>    const express = require{'express'};
const favicon = require('serve-favicon')
const app = express();
const path = require('path');

app.use(express.static(__dirname + '/dist'));
// app.use(favicon(__dirname + '/dist/favicon.ico'));
app.use(favicon(__dirname + '/dist/favicon.ico'));
// app.use(favicon(path.join(__dirname,'dist','favicon.ico')));


app.listen(process.env.PORT || 8080);

//path location strategy
app.get('/*',function(req,res) {
    res.sendFile(path.join(__dirname + '/dist/index.html'));
})

console.log('console listeing!');
</code></pre>

<p>Favicon is located at <strong>appname/src/favicon.ico</strong>.
on localhost there is no problem everything loads correctly ,error appears after tring to run my heroku app after succesfully deploying.</p>
",<angularjs><express><heroku><npm>,0.0,0,0,1
20600,20600,51324808,1,51325323,8075097,2.0,5.0,0.0,0.0,2018-07-13T12:10:17.603,0.0,1239.0,Node.js and express Rest api to create custom fields routes,"<p>I am working with node.js and express framework for my rest api server.</p>

<p>I have created <code>get</code> routes with query params and working with them. </p>

<p>But I want to make a functionality like facebook graph api where I can send fields with my api routes such as</p>

<pre><code>/me?fields=address,birthday,email,domains.limit(10){id,name,url}
</code></pre>

<p>I am thinking of getting the fields from the query parameters and then splitting them based on , such as</p>

<pre><code>const fields = req.query.fields;
let fieldsArray = fields.split(',');
</code></pre>

<p>But how can I pass the sub object attributes and retrieve them from the route like domain field from the above example.</p>

<p>/me?fields=address,birthday,email,<strong>domains.limit(10){id,name,url}</strong></p>
",<javascript><node.js><rest><express><npm>,0.0,0,0,1
20610,20610,51338306,1,51338583,8591032,1.0,2.0,0.0,0.0,2018-07-14T12:01:05.930,1.0,1786.0,TypeError: req.flash is not a function (NodeJs),"<p>Working with Registration in a Site. For the register Form,Validation is done using mongoose models and trying to Use <strong>Flash</strong> to display the error message in the Form. </p>

<p>But struct at this error </p>

<blockquote>
  <p>TypeError: res.flash is not a function
      at /home/work/first-node-app/firstnode/routes/index.js:35:11</p>
</blockquote>

<p>My Code snippets Follows below</p>

<blockquote>
  <p>App.js</p>
</blockquote>

<pre><code>var createError = require('http-errors');
var express = require('express');
var path = require('path');
var cookieParser = require('cookie-parser');
var logger = require('morgan');
var mongoose = require('mongoose');
var passport = require('passport');
var session = require('express-session');
var flash        = require('connect-flash');

var indexRouter = require('./routes/index');
var commonKeys = require('./config/config');


var app = express();

//connect mongoDb 
mongoose.connect('mongodb://localhost:27017/db', { useNewUrlParser: true });

// view engine setup
app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'pug');

app.use(logger('dev'));
app.use(express.json());
app.use(express.urlencoded({ extended: false }));
app.use(cookieParser());
app.use(express.static(path.join(__dirname, 'public')));

// required for passport session
app.use(session({
  secret: 'secrettexthere',
  saveUninitialized: true,
  resave: true,
  // using store session on MongoDB using express-session + connect  
}));
app.use(flash());
app.use(passport.initialize());
app.use(passport.session());


app.use('/', indexRouter);

module.exports = app;
</code></pre>

<blockquote>
  <p>Index.js</p>
</blockquote>

<pre><code>var express = require('express');
var router = express.Router();
var passport = require('passport');
var User = require('../models/user-model');
var Local = require('../config/passport-local');

router.get('/register', function(req, res){
  res.render('public/register',{title:'Register'});
});


router.post('/register', function(req,res,next){
  User.create({name:req.body.name, password:req.body.password, email : req.body.email}, function(err, user){
    if (err) {      
      console.log('Error Inserting New Data');

      if (err.name == 'ValidationError') {
          for (field in err.errors) {
            res.flash(field, err.errors[field].message); 
          }
          res.render('public/register');
      }
    }
    if(user) {
      res.send('user registered');
    }    
  })    
});

module.exports = router;
</code></pre>

<p>Can anyone point out the error in this code snippets, as am new to Nodejs and Trying to work out the Form validation. <strong>The validation Works fine and the console displays the error but i can't pass that using flash. Can anyone Help me?</strong> <em>And its much appreciated if you confirm my approach to code Nodejs is in correct way</em>. </p>
",<javascript><node.js><express><npm>,1.0,0,0,1
20616,20616,51343465,1,51343712,355754,1.0,1.0,0.0,0.0,2018-07-14T21:18:46.677,0.0,434.0,"eslint configured the same for 2 folders, but linting differently","<p>Before I start, I just want to mention I'm studying and learning to use a proper workflow with git, vue, express, npm, cli and webpack.  I'm very new to these concepts but have been enjoying learning and troubleshooting this as I go along.  I've been watching a popular video tutorial (I'll link if it is ok) on using VueJS with Express.  In the past I've been just a standard html/php, javascript/jquery, css dev with no cli tools.  I decided to dive head first after seeing how amazing these tools are and having that 'AHA' moment while using them.</p>

<p>I finished the first part of the tutorial which was setting up node, npm, etc...  I created a git repository (here <a href=""https://github.com/drpcken/tab_tracker"" rel=""nofollow noreferrer"">https://github.com/drpcken/tab_tracker</a>), made my first commit (wow that was fun) and started going through the tutorial after getting all my dependencies configured and using nodemon and eslint in the terminal to see issues.  </p>

<p>Now my project has it's main project folder, and then a <code>client</code> and <code>server</code> subfolder that separates my frontend (vue) and backend (express).  The tutorial had me setup eslint using the <code>standard</code> style guide.  I quickly realized I didn't want this since <code>standard</code> doesn't require semicolons at the end of each line (I'm old fashioned and preferred them).  I then realized that the linting I wanted was <code>airbnb</code>.  So last night, while working in my <code>server</code> folder I ran the command to init my eslint:  <code>node ./node_modules/eslint/bin/eslint.js --init</code> and changed the style guide to <code>airbnb</code>.  It worked beautifully, and I happily committed my changed to my repository this morning.  </p>

<p>When I woke up and started studying again this morning, it dawned on me that my <code>client</code> folder also needed to have the eslint initialized and switched to <code>airbnb</code> style guide.  So I did so, the same way I initlaized eslint on my server folder.   However, it seems that it didn't take.  If I add a semicolon to the end of one of my js files in the client folder, my compiler/terminal complains:</p>

<pre><code> ✘  http://eslint.org/docs/rules/semi  Extra semicolon
  src/router/index.js:2:32
  import Router from 'vue-router';
</code></pre>

<p>I have no clue why this would happen.  I configured eslint to use <code>airbnb</code> the same way as my <code>server</code> folder.  Here is a link to my repo:  <a href=""https://github.com/drpcken/tab_tracker"" rel=""nofollow noreferrer"">https://github.com/drpcken/tab_tracker</a></p>

<p>In short: switching from <code>standard</code> style guide to <code>airbnb</code> lints differently in one folder than the other.  <code>server</code> folder lints properly with <code>airbnb</code> (requiring semicolon) but my <code>client</code> folder, using the same <code>airbnb</code> linting does not (gives an error when I add semicolons).</p>
",<node.js><express><npm><vue.js><eslint>,0.0,0,0,1
20650,20650,51372790,1,51373412,9684438,1.0,0.0,0.0,0.0,2018-07-17T03:25:58.417,1.0,459.0,How to add connect-multiparty in routes path?,"<p>I want to use <code>connect-multiparty</code> in my routes . I found only something like below ...</p>

<pre><code>var multipart = require('connect-multiparty');
var multipartMiddleware = multipart();
app.post('/upload', multipartMiddleware, function(req, resp) {
  console.log(req.body, req.files);
  // don't forget to delete all req.files when done
});
</code></pre>

<p>But my routes structure is like below ...</p>

<pre><code>app.route('/tasks')
    .get(todoList.list_all_tasks)
    .post(todoList.create_a_task);
</code></pre>

<p>So I tried like this <code>.post(todoList.create_a_task, multipartMiddleware)</code> but it got empty in <code>req.body</code> . How can I pass correctly <code>connect-multiparty</code> in my route for <em>multipart bodies</em> request ?</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
20654,20654,51375020,1,0,7477026,2.0,6.0,0.0,0.0,2018-07-17T06:55:17.713,0.0,1059.0,Issue in configuring eslint to express project,"<p>I have been referring <a href=""https://www.npmjs.com/package/eslint"" rel=""nofollow noreferrer"">https://www.npmjs.com/package/eslint</a> to configure eslint to my express project and when i'm installing eslint package i'm getting an error as following</p>

<blockquote>
  <p>npm ERR! Unexpected end of JSON input while parsing near '.../ajv-1.4.2.tgz""}},""1.'</p>
  
  <p>npm ERR! A complete log of this run can be found in: npm ERR!<br>
  C:\Users\Ramitha\AppData\Roaming\npm-cache_logs\2018-07-17T06_22_50_551Z-debug.log</p>
</blockquote>

<p>package.json </p>

<pre><code>{
  ""name"": ""name"",
  ""version"": ""1.0.0"",
  ""description"": """",
  ""main"": ""index.js"",
  ""scripts"": {
    ""start"": ""nodemon index.js""
  },
  ""author"": """",
  ""license"": ""ISC"",
  ""dependencies"": {
    ""body-parser"": ""^1.18.3"",
    ""express"": ""^4.16.3"",
    ""nodemon"": ""^1.18.2""
  }
}
</code></pre>

<p>2018-07-17T06_22_50_551Z-debug.log</p>

<pre><code>0 info it worked if it ends with ok
1 verbose cli [ 'C:\\Program Files\\nodejs\\node.exe',
1 verbose cli   'C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js',
1 verbose cli   'install',
1 verbose cli   'eslint',
1 verbose cli   '-g' ]
2 info using npm@5.6.0
3 info using node@v8.11.3
4 verbose npm-session 54a68bf0918c64f2
5 silly install loadCurrentTree
6 silly install readGlobalPackageData
7 http fetch GET 200 https://registry.npmjs.org/eslint 42ms (from cache)
8 silly pacote tag manifest for eslint@latest fetched in 123ms
9 silly install loadIdealTree
10 silly install cloneCurrentTreeToIdealTree
11 silly install loadShrinkwrap
12 silly install loadAllDepsIntoIdealTree
13 silly resolveWithNewModule eslint@5.1.0 checking installable status
14 http fetch GET 200 https://registry.npmjs.org/ajv 185ms (from cache)
15 http fetch GET 200 https://registry.npmjs.org/babel-code-frame 180ms (from cache)
16 http fetch GET 200 https://registry.npmjs.org/debug 179ms (from cache)
17 http fetch GET 200 https://registry.npmjs.org/eslint-scope 178ms (from cache)
18 http fetch GET 200 https://registry.npmjs.org/doctrine 179ms (from cache)
19 http fetch GET 200 https://registry.npmjs.org/cross-spawn 181ms (from cache)
20 silly fetchPackageMetaData error for ajv@^6.5.0 Unexpected end of JSON input while parsing near '.../ajv-1.4.2.tgz""}},""1.'
21 http fetch GET 200 https://registry.npmjs.org/eslint-utils 194ms (from cache)
22 silly pacote range manifest for debug@^3.1.0 fetched in 198ms
23 silly resolveWithNewModule debug@3.1.0 checking installable status
24 silly pacote range manifest for babel-code-frame@^6.26.0 fetched in 207ms
25 silly resolveWithNewModule babel-code-frame@6.26.0 checking installable status
26 silly pacote range manifest for eslint-scope@^4.0.0 fetched in 200ms
27 silly resolveWithNewModule eslint-scope@4.0.0 checking installable status
28 silly pacote range manifest for doctrine@^2.1.0 fetched in 201ms
29 silly resolveWithNewModule doctrine@2.1.0 checking installable status
30 silly pacote range manifest for cross-spawn@^6.0.5 fetched in 205ms
31 silly resolveWithNewModule cross-spawn@6.0.5 checking installable status
32 http fetch GET 200 https://registry.npmjs.org/eslint-visitor-keys 254ms (from cache)
33 http fetch GET 200 https://registry.npmjs.org/espree 254ms (from cache)
34 silly pacote range manifest for eslint-utils@^1.3.1 fetched in 259ms
35 silly resolveWithNewModule eslint-utils@1.3.1 checking installable status
36 silly pacote range manifest for eslint-visitor-keys@^1.0.0 fetched in 320ms
37 silly resolveWithNewModule eslint-visitor-keys@1.0.0 checking installable status
38 silly pacote range manifest for espree@^4.0.0 fetched in 323ms
39 silly resolveWithNewModule espree@4.0.0 checking installable status
40 http fetch GET 200 https://registry.npmjs.org/esquery 236ms (from cache)
41 http fetch GET 200 https://registry.npmjs.org/file-entry-cache 223ms (from cache)
42 http fetch GET 200 https://registry.npmjs.org/glob 222ms (from cache)
43 http fetch GET 200 https://registry.npmjs.org/functional-red-black-tree 223ms (from cache)
44 http fetch GET 200 https://registry.npmjs.org/esutils 228ms (from cache)
45 http fetch GET 200 https://registry.npmjs.org/globals 228ms (from cache)
46 silly pacote range manifest for esquery@^1.0.1 fetched in 248ms
47 silly resolveWithNewModule esquery@1.0.1 checking installable status
48 http fetch GET 200 https://registry.npmjs.org/ignore 172ms (from cache)
49 silly pacote range manifest for file-entry-cache@^2.0.0 fetched in 236ms
50 silly resolveWithNewModule file-entry-cache@2.0.0 checking installable status
51 silly pacote range manifest for functional-red-black-tree@^1.0.1 fetched in 237ms
52 silly resolveWithNewModule functional-red-black-tree@1.0.1 checking installable status
53 silly pacote range manifest for glob@^7.1.2 fetched in 238ms
54 silly resolveWithNewModule glob@7.1.2 checking installable status
55 silly pacote range manifest for esutils@^2.0.2 fetched in 242ms
56 silly resolveWithNewModule esutils@2.0.2 checking installable status
57 silly pacote range manifest for globals@^11.7.0 fetched in 242ms
58 silly resolveWithNewModule globals@11.7.0 checking installable status
59 http fetch GET 200 https://registry.npmjs.org/inquirer 117ms (from cache)
60 silly fetchPackageMetaData error for inquirer@^5.2.0 Unexpected end of JSON input while parsing near '..."":""^2.1.0"",""gulp-plum'
61 silly pacote range manifest for ignore@^3.3.3 fetched in 189ms
62 silly resolveWithNewModule ignore@3.3.10 checking installable status
63 http fetch GET 200 https://registry.npmjs.org/is-resolvable 31ms (from cache)
64 http fetch GET 200 https://registry.npmjs.org/js-yaml 30ms (from cache)
65 http fetch GET 200 https://registry.npmjs.org/json-stable-stringify-without-jsonify 29ms (from cache)
66 http fetch GET 200 https://registry.npmjs.org/lodash 27ms (from cache)
67 http fetch GET 200 https://registry.npmjs.org/levn 29ms (from cache)
68 http fetch GET 200 https://registry.npmjs.org/mkdirp 24ms (from cache)
69 silly pacote range manifest for is-resolvable@^1.1.0 fetched in 40ms
70 silly resolveWithNewModule is-resolvable@1.1.0 checking installable status
71 silly pacote range manifest for js-yaml@^3.11.0 fetched in 38ms
72 silly resolveWithNewModule js-yaml@3.12.0 checking installable status
73 http fetch GET 200 https://registry.npmjs.org/natural-compare 25ms (from cache)
74 silly pacote range manifest for json-stable-stringify-without-jsonify@^1.0.1 fetched in 35ms
75 silly resolveWithNewModule json-stable-stringify-without-jsonify@1.0.1 checking installable status
76 silly pacote range manifest for lodash@^4.17.5 fetched in 34ms
77 silly resolveWithNewModule lodash@4.17.10 checking installable status
78 silly pacote range manifest for levn@^0.3.0 fetched in 38ms
79 silly resolveWithNewModule levn@0.3.0 checking installable status
80 silly pacote range manifest for mkdirp@^0.5.1 fetched in 34ms
81 silly resolveWithNewModule mkdirp@0.5.1 checking installable status
82 silly pacote range manifest for natural-compare@^1.4.0 fetched in 36ms
83 silly resolveWithNewModule natural-compare@1.4.0 checking installable status
84 http fetch GET 200 https://registry.npmjs.org/optionator 21ms (from cache)
85 http fetch GET 200 https://registry.npmjs.org/pluralize 24ms (from cache)
86 http fetch GET 200 https://registry.npmjs.org/progress 24ms (from cache)
87 http fetch GET 200 https://registry.npmjs.org/regexpp 21ms (from cache)
88 silly pacote range manifest for optionator@^0.8.2 fetched in 29ms
89 silly resolveWithNewModule optionator@0.8.2 checking installable status
90 silly pacote range manifest for pluralize@^7.0.0 fetched in 28ms
91 silly resolveWithNewModule pluralize@7.0.0 checking installable status
92 http fetch GET 200 https://registry.npmjs.org/require-uncached 21ms (from cache)
93 silly pacote range manifest for regexpp@^1.1.0 fetched in 27ms
94 silly resolveWithNewModule regexpp@1.1.0 checking installable status
95 silly pacote range manifest for progress@^2.0.0 fetched in 32ms
96 silly resolveWithNewModule progress@2.0.0 checking installable status
97 silly pacote range manifest for require-uncached@^1.0.3 fetched in 29ms
98 silly resolveWithNewModule require-uncached@1.0.3 checking installable status
99 http fetch GET 200 https://registry.npmjs.org/string.prototype.matchall 37ms (from cache)
100 http fetch GET 200 https://registry.npmjs.org/table 39ms (from cache)
101 silly pacote range manifest for string.prototype.matchall@^2.0.0 fetched in 47ms
102 silly resolveWithNewModule string.prototype.matchall@2.0.0 checking installable status
103 silly fetchPackageMetaData error for table@^4.0.3 Unexpected end of JSON input while parsing near '...8eba"",""tarball"":""http'
104 http fetch GET 200 https://registry.npmjs.org/text-table 48ms (from cache)
105 silly pacote range manifest for text-table@^0.2.0 fetched in 50ms
106 silly resolveWithNewModule text-table@0.2.0 checking installable status
107 http fetch GET 304 https://registry.npmjs.org/chalk 578ms (from cache)
108 silly pacote range manifest for chalk@^2.1.0 fetched in 586ms
109 silly resolveWithNewModule chalk@2.4.1 checking installable status
110 http fetch GET 304 https://registry.npmjs.org/imurmurhash 320ms (from cache)
111 http fetch GET 304 https://registry.npmjs.org/semver 160ms (from cache)
112 silly pacote range manifest for imurmurhash@^0.1.4 fetched in 325ms
113 silly resolveWithNewModule imurmurhash@0.1.4 checking installable status
114 silly pacote range manifest for semver@^5.5.0 fetched in 166ms
115 silly resolveWithNewModule semver@5.5.0 checking installable status
116 http fetch GET 304 https://registry.npmjs.org/path-is-inside 185ms (from cache)
117 silly pacote range manifest for path-is-inside@^1.0.2 fetched in 191ms
118 silly resolveWithNewModule path-is-inside@1.0.2 checking installable status
119 http fetch GET 304 https://registry.npmjs.org/strip-ansi 168ms (from cache)
120 http fetch GET 304 https://registry.npmjs.org/minimatch 229ms (from cache)
121 silly pacote range manifest for strip-ansi@^4.0.0 fetched in 174ms
122 silly resolveWithNewModule strip-ansi@4.0.0 checking installable status
123 silly pacote range manifest for minimatch@^3.0.4 fetched in 238ms
124 silly resolveWithNewModule minimatch@3.0.4 checking installable status
125 http fetch GET 304 https://registry.npmjs.org/strip-json-comments 178ms (from cache)
126 silly pacote range manifest for strip-json-comments@^2.0.1 fetched in 183ms
127 silly resolveWithNewModule strip-json-comments@2.0.1 checking installable status
128 verbose stack SyntaxError: Unexpected end of JSON input while parsing near '.../ajv-1.4.2.tgz""}},""1.'
128 verbose stack     at JSON.parse (&lt;anonymous&gt;)
128 verbose stack     at parseJson (C:\Program Files\nodejs\node_modules\npm\node_modules\pacote\node_modules\make-fetch-happen\node_modules\node-fetch-npm\node_modules\json-parse-better-errors\index.js:7:17)
128 verbose stack     at consumeBody.call.then.buffer (C:\Program Files\nodejs\node_modules\npm\node_modules\pacote\node_modules\make-fetch-happen\node_modules\node-fetch-npm\src\body.js:96:50)
128 verbose stack     at &lt;anonymous&gt;
128 verbose stack     at process._tickCallback (internal/process/next_tick.js:188:7)
129 verbose cwd C:\Users\Ramitha\Desktop\Projects\backend
130 verbose Windows_NT 10.0.15063
131 verbose argv ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""install"" ""eslint"" ""-g""
132 verbose node v8.11.3
133 verbose npm  v5.6.0
134 error Unexpected end of JSON input while parsing near '.../ajv-1.4.2.tgz""}},""1.'
135 verbose exit [ 1, true ]
</code></pre>

<p>How can I accomplish this ? Please help me out</p>
",<node.js><express><npm><eslint>,0.0,0,0,1
20657,20657,51375375,1,51375573,4930829,2.0,0.0,0.0,0.0,2018-07-17T07:17:21.320,0.0,844.0,NodeJS cannot find Express module on Raspberry,"<p>I'm testing a simple NodeJS app in my Raspberry but I can't get it working. I developed and tested in my Windows 10 and it works great, but when I move the files into the Raspberry it says node can't find express module:</p>

<p><strong>EDIT: I've re-upload the image since I mistaken the previous</strong></p>

<p><a href=""https://i.stack.imgur.com/xz4WJ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/xz4WJ.png"" alt=""node app.js""></a></p>

<p>Data:</p>

<blockquote>
  <ul>
  <li>Raspberry Pi Model: 3B V1.2</li>
  <li>OS: Raspbian GNU/Linux 9 (stretch)</li>
  <li>NodeJS: v8.11.3</li>
  <li>NPM: 5.6.0</li>
  </ul>
</blockquote>

<p>I've read another questions and try the next steps (without success):</p>

<blockquote>
  <ul>
  <li>npm install</li>
  <li>sudo npm install</li>
  <li>npm install express</li>
  <li>sudo npm install express</li>
  <li>npm install express --save</li>
  </ul>
</blockquote>

<p>In my <em>node_modules</em> folder it seems to be everything ok:</p>

<p><a href=""https://i.stack.imgur.com/zheMH.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/zheMH.png"" alt=""node_modules folder""></a></p>

<p>My folders structure:</p>

<p><a href=""https://i.stack.imgur.com/6iKNz.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/6iKNz.png"" alt=""enter image description here""></a></p>
",<node.js><express><raspberry-pi3><npm-install>,0.0,0,0,1
20727,20727,51437446,1,0,1127458,3.0,0.0,0.0,0.0,2018-07-20T07:37:57.750,3.0,14778.0,How to deploy express js with PM2 in Ubuntu server,"<p>I am new for Nodejs. I have developed an application using Expressjs. Now I want to deploy my app to the server and I already bought a server from digitalocean.</p>

<p>I don't have any idea that how to deploy my app via PM2.</p>

<p>Please help..</p>
",<node.js><express><npm><pm2>,0.0,0,0,1
20772,20772,51467119,1,52579368,10077775,2.0,1.0,0.0,0.0,2018-07-22T16:32:29.187,1.0,122.0,npm EACCES error again after fixing it,"<p>I was having an issue where I couldn't use npm to install things globally and I fixed it by following the instructions here and making a .npm-global directory. My computer restarted and updated software and now it doesn't work again and I redid the instructions but its not helping. Any idea what could be happening?</p>

<pre><code>$ npm install -g express-generator
npm ERR! code EACCES
npm ERR! errno -13
npm ERR! syscall access
npm ERR! Error: EACCES: permission denied,
</code></pre>
",<npm><npm-install><express-generator>,0.0,0,0,1
20774,20774,51469231,1,0,0,1.0,3.0,0.0,0.0,2018-07-22T21:03:18.130,0.0,213.0,error Command failed when I try install express-stormpath in other depends of express in ubuntu,"<p>I am try to run this command :</p>

<pre><code>npm i express express-stormpath cookie-parser csurf jade forms xtend body-parser --save
</code></pre>

<p>for install express-stormpath and create a app with node js epxress but I got this error in the terminal:</p>

<pre>
root@me:/home/memee/Desktop/home/nodejs/my-webapp#  npm i express express-stormpath cookie-parser csurf jade forms xtend body-parser --save

npm WARN deprecated jade@1.11.0: Jade has been renamed to pug, please install the latest version of pug instead of jade
npm ERR! code 128
npm ERR! Command failed: /usr/bin/git clone --depth=1 -q -b 1.0.0-rc5 git://github.com/stormpath/stormpath-sdk-node.git /root/.npm/_cacache/tmp/git-clone-4d0acf9a
npm ERR! fatal: could not create leading directories of '/root/.npm/_cacache/tmp/git-clone-4d0acf9a': Permission denied
npm ERR! 

npm ERR! A complete log of this run can be found in:
npm ERR!     /root/.npm/_logs/2018-07-22T20_52_51_690Z-debug.log
root@me:/home/memee/Desktop/home/nodejs/my-webapp# 

</pre>

<p>I dont understand that error I think that should install  jade because the errro told me that here:</p>

<pre><code>please install the latest version of pug instead of jade
</code></pre>

<p><a href=""https://stormpath.com/blog/build-nodejs-express-stormpath-app"" rel=""nofollow noreferrer"">tutorial that follow </a></p>

<p>any help?</p>
",<node.js><git><express><npm>,0.0,0,0,1
20818,20818,51511349,1,0,10131388,0.0,2.0,0.0,0.0,2018-07-25T05:26:26.077,0.0,57.0,Express routes based Json data from Wordpress API,"<p>I'm developing a blog with Express, the request-promise module and pug, consuming from a wordpress API. I would like to get the routes based on the Posts from wordpress.</p>

<p>the blog home, is working and rendering all the data and posts with the router index.js as this:</p>

<pre><code>router.get('/blog', function(req, res, next) {
rp({uri: 'http://www.example.com/wp-json/wp/v2/posts?_embed', json: 
true})
.then((response) =&gt; {
console.log(response);
res.render('blog', {
    posts: response, 
    title: 'Blog',
  });

  })
 .catch((err) =&gt; {
 console.log(err);
});
});
</code></pre>

<p>So to get the routes and specific calls to the posts endpoints, i would like to make a loop of something like this:</p>

<pre><code>  router.get('/blog/' + post.slug , function(req, res, next) {
rp({uri: 'http://www.example.com/wp-json/wp/v2/posts?slug=' + post.slug + '&amp;_embed', json: true})
.then((response) =&gt; {
  console.log(response);
  res.render('blog/single', {
      posts: response, 
      title: 'Blog:' + post.title.rendered,

    });

})
.catch((err) =&gt; {
  console.log(err);
});
});
</code></pre>

<p>What would be the best approach to it?</p>

<p><strong>SOLVED:</strong></p>

<p>Instead of generating all the possible routes based on the Json response, the app evaluates if the url slug (a method that is part of expess) return a Json response with objects in it. If it does, will render the article with that slug, if the response from wordpress contains  0 elements, will show a 404. As the link's urls are generated from the blog's home, based on a previous json response with the articles slugs, we already know that all the links exist.</p>

<pre><code>router.get('/blog/:slug', function(req, res, next) {
var slug = req.params.slug;

rp({uri: 'http://www.example.com/wp-json/wp/v2/posts?slug=' + slug + '&amp;_embed', json: true})
.then((response) =&gt; {
    console.log(response);
  if(response.length === 0){
     res.render('404', {title: '404 Not found'}); 
  } else {
      res.render('blog/single', {
      posts: response, 
      title: 'Blog | ' + response[0].acf.meta_title,
      metaDesc: response[0].acf.meta_description
    });  
  }   
})
.catch((err) =&gt; {
  console.log(err);
});
});
</code></pre>
",<wordpress><express><npm><headless>,0.0,0,0,1
20870,20870,51573802,1,0,10121103,0.0,6.0,0.0,0.0,2018-07-28T17:44:48.353,0.0,118.0,npm install express-generator,"<p>I am trying to install an express node-postgres application, but I am getting the following error:</p>

<pre><code>module.js:549
throw err;
^

Error: Cannot find module 'sorted-object'
at Function.Module._resolveFilename (module.js:547:15)
at Function.Module._load (module.js:474:25)
at Module.require (module.js:596:17)
at require (internal/module.js:11:18)
at Object.&lt;anonymous&gt; (/usr/local/lib/node_modules/express- 
generator/bin/express-cli.js:10:20)
at Module._compile (module.js:652:30)
at Object.Module._extensions..js (module.js:663:10)
at Module.load (module.js:565:32)
at tryModuleLoad (module.js:505:12)
at Function.Module._load (module.js:497:3)
</code></pre>

<p>I am not sure where to go to look for the solution to this error. Should I just delete and reinstall node and npm or is it more simple than that?</p>
",<express><npm>,1.0,0,0,1
21035,21035,51726873,1,0,9995068,1.0,1.0,0.0,0.0,2018-08-07T12:30:50.787,1.0,3527.0,"getting an error ""throw new TypeError('JwtStrategy requires a secret or key');""","<p>I am trying to make an web application but While trying to run few files I am getting this error:</p>

<pre><code>throw new TypeError('JwtStrategy requires a secret or key');
        ^

TypeError: JwtStrategy requires a secret or key
    at new JwtStrategy (/Users/smitsanghvi/Desktop/project/node_modules/passport-jwt/lib/strategy.js:45:15)
    at module.exports.passport (/Users/smitsanghvi/Desktop/project/config/passport.js:12:18)
    at Object.&lt;anonymous&gt; (/Users/smitsanghvi/Desktop/project/index.js:27:29)
    at Module._compile (module.js:652:30)
    at Object.Module._extensions..js (module.js:663:10)
    at Module.load (module.js:565:32)
    at tryModuleLoad (module.js:505:12)
    at Function.Module._load (module.js:497:3)
    at Function.Module.runMain (module.js:693:10)
    at startup (bootstrap_node.js:191:16)
    at bootstrap_node.js:612:3
[nodemon] app crashed - waiting for file changes before starting...
</code></pre>

<p>I did pass key to JWS strategy but still I am getting an error.</p>

<p>passport.js</p>

<pre><code>const jwtStrategy=require('passport-jwt').Strategy;
const ExtractJwt=require('passport-jwt').ExtractJwt;
const mongoose=require('mongoose');
const User=mongoose.model('User');
const key=require('../config/key');

const options={};
options.jwtFromRequest=ExtractJwt.fromAuthHeaderAsBearerToken();
options.secretOrKey=key.secretOrKey;

module.exports=passport=&gt;{
    passport.use(new jwtStrategy(options,(jwt_checking, done)=&gt;{
        console.log(jwt_checking);
        User.findById(jwt_checking.id).then(user=&gt;{
            if(user){
                return done(null, user);
            }
            return done(null,false);
        })
        .catch(err=&gt;console.log(err))
    }))
}
</code></pre>

<p>This is the main file of the application.
index.js</p>

<pre><code>const express= require('express');
const mongoose=require('mongoose');
const bodyParser=require('body-parser');
const user=require('./route/api/user');
const userprofile=require('./route/api/userprofile');
const passport=require('passport');
const key=require('./config/key');


const app=express();
//body parser middleware
app.use(bodyParser.urlencoded({extended:false}));
app.use(bodyParser.json());

//database confid into variable using variable name that I used in key.js of config folder
const database=require('./config/key').mongoURI;

//connecting to mongodb
//.then will print connected if successful
//catch will print error if not
mongoose.connect(database).then(()=&gt;console.log(""connected"")).catch(err=&gt;console.log(err));

//passport middleware
app.use(passport.initialize());

//passport config
require('./config/passport')(passport);

//gave port number 3000 input to run
//using route to check the output of user.js and userprofile.sj
app.use('/api/user',user);
app.use('/api/userprofile',userprofile);
//will run at 3000 port on localhost
const port=process.env.PORT || 3000;

//it will print this in the terminal after npm start or npm run server 
//this will print the consr port in conlsole
app.listen(port,()=&gt; console.log('port is:: ${port}'));
</code></pre>

<p>user.js</p>

<pre><code>const express=require('express');
const router=express.Router();
const bcrypt=require('bcryptjs');
const user=require('../../model/User');
const jwt=require('jsonwebtoken');
const key=require('../../config/key');
const passport=require('passport');


router.get('/demo',(req,res)=&gt;res.json({output:""user""}));

//creating route for regsiteration
//using postman it will get this 
router.post('/register',(req,res)=&gt;{
    //find if email exists or not.
    user.findOne({email: req.body.email}).then(user=&gt;{
        if(user){
            return res.status(400).json({email:""email is already registered""});
        }
        else{
            //else will creaete new user
            const newUser=new User({
                name: req.body.name,
                email:req.body.email,
                password:req.body.password
            })

            //generate salt and hash pass with salt
            bcrypt.genSalt(10,(err,salt)=&gt;{
                //hashing password
                bcrypt.hash(newUser.password, salt, (err,hash)=&gt;{
                    if(err) throw err;
                    //after setting hash password will save it
                    newUser.password=hash;
                    newUser.save()
                    //then will return through json
                    .then(user=&gt;res.json(user))

                })
            })
        }
    })
});

//returning jason web token
router.post('/login',(req,res)=&gt;{
    const email=req.body.email;
    const password=req.body.password;
    //will find user by email
    //will check if email and pass is present in mlab db
    User.findOne({email}).then(user=&gt;{
        if(!user){
            return res.status(404).json({email:""user doesnt exist""});
    }
    //
            bcrypt.compare(password,user.password).then(isMatch=&gt;{
                if(isMatch){
                    //user matched
                    //checking will check the details of user
                    const checking={id: user.id,name:user.name}
                    //
                    jwt.sign(checking,key.key1,(err,token)=&gt;{
                        res.json({
                            access:true,
                            token:token
                        })
                    });

            }
                    else{
                    return res.status(400).json({password:""password incorrect""});
        }

            })

    })
})

router.get(
    '/current',
    passport.authenticate('jwt',{session:false}), 
    (req,res)=&gt;{
    res.json({
        id:req.user.id,
        name:req.user.name,
        email:req.user.email


})
    }
)


module.exports=router;
</code></pre>

<p>All the packages are properly installed. I am not able to solve this issue and eventually the application is getting crashed.</p>
",<node.js><express><npm><jwt><passport.js>,1.0,0,0,1
21252,21252,51945136,1,0,4483419,0.0,2.0,0.0,0.0,2018-08-21T09:00:47.080,0.0,34.0,After Refresh Cant fetch user details oAuth (passport npm),"<p>CURRENT SCENARIO</p>

<p>Once I log in via social auth it shows the <strong>username</strong> and <strong>provider</strong> detail on the page. but if I refresh again it shows the error. I am sending the user object via render but still, it doesn't fetch the details. I don't understand why.
<div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>{""error"":{""message"":""Failed to fetch user profile""}}</code></pre>
</div>
</div>
</p>

<p>Below is my express session snippet in my app.js file </p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>app.use(expressSession({
    name: 'Session',
    maxAge: 24 * 60 * 60 * 1000,
    secret: [keys.session.cookieKey],
    resave: true,
    saveUninitialized: true

}))
app.use(passport.initialize())
app.use(passport.session())</code></pre>
</div>
</div>
</p>

<p>Below is my oauth.js file</p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const express = require('express');
const router = express.Router();
const passport = require('passport')

router.get('/login',(req, res, next) =&gt; {
    //create a func where we check if the user logged in then show the profile page , if not logged in then show login page
    res.render('login')
});

router.get('/logout', (req, res, next) =&gt; {
    req.session = null
    req.logout()
    res.redirect('/')
});

router.get('/google', passport.authenticate('google', {
    scope: ['profile']
}));
router.get('/facebook', passport.authenticate('facebook', {
    scope: ['profile']
}));

router.get('/twitter', passport.authenticate('twitter', {
    scope: ['profile']
}));

router.get('/github', passport.authenticate('github', {
    scope: ['profile']
}));


router.get('/google/redirect', passport.authenticate('google', {
    failureRedirect: '/login'
}), (req, res, next) =&gt; {
    res.render('profile', {
        user: req.user
    })
});

router.get('/facebook/redirect', passport.authenticate('facebook', {
    failureRedirect: '/login'
}), (req, res, next) =&gt; {
    res.render('profile', {
        user: req.user
    })
});
router.get('/twitter/redirect', passport.authenticate('twitter', {
    failureRedirect: '/login'
}), (req, res, next) =&gt; {
    res.render('profile', {
        user: req.user
    })
});

router.get('/github/redirect', passport.authenticate('github', {
    failureRedirect: '/login'
}), (req, res, next) =&gt; {
    console.log('user details: '+req.user)
    res.render('profile', {
        user: req.user
    })

});





module.exports = router;</code></pre>
</div>
</div>
</p>
",<javascript><node.js><express><npm><passport.js>,0.0,0,0,1
21332,21332,52019021,1,0,8529740,3.0,2.0,0.0,0.0,2018-08-25T16:06:00.697,-1.0,2831.0,How to import and export files in NodeJS?,"<p><a href=""https://hastebin.com/ipuyupuqop.js"" rel=""nofollow noreferrer"">https://hastebin.com/ipuyupuqop.js</a> main JS file</p>

<p><a href=""https://hastebin.com/meninifuku.js"" rel=""nofollow noreferrer"">https://hastebin.com/meninifuku.js</a> JS file with issues</p>

<p>I've been working on an API, however, routing doesn't seem to work. I've overcome some issues with this, however, this is the issue that is most affecting me.</p>

<pre><code>C:\Users\-----\WebstormProjects\BoR-CORE\routes\v1\account.js:3
let router = express.Router();
                     ^

TypeError: Cannot read property 'Router' of undefined
    at Object.&lt;anonymous&gt; (C:\Users\-----\WebstormProjects\BoR-CORE\routes\v1\account.js:3:22)
    at Module._compile (module.js:660:30)
    at Object.Module._extensions..js (module.js:671:10)
    at Module.load (module.js:573:32)
    at tryModuleLoad (module.js:513:12)
    at Function.Module._load (module.js:505:3)
    at Module.require (module.js:604:17)
    at require (internal/module.js:11:18)
    at Object.&lt;anonymous&gt; (C:\Users\-----\WebstormProjects\BoR-CORE\app.js:17:15)
    at Module._compile (module.js:660:30)
</code></pre>
",<javascript><node.js><express><npm><node-modules>,1.0,0,0,1
21369,21369,52057139,1,0,8296716,1.0,0.0,0.0,0.0,2018-08-28T11:49:15.120,0.0,140.0,Multer can't get sperate field name in console.log,"<p>I created an Express app in combination with <a href=""https://www.npmjs.com/package/multer"" rel=""nofollow noreferrer""><code>multer</code></a> to upload items in my Node.js app.</p>

<p>In my multi-upload setup I need to get the <code>fieldname</code> property for each item separately.</p>

<p>With <code>console.log(req.files);</code> I get all uploaded items as seen in the code below.</p>

<p>But how do I get <code>fieldname</code>? I'd like to do something like</p>

<pre><code>console.log(req.files.upfile);
console.log(req.files.upfile2);
</code></pre>

<p>I hope someone here knows how to do this. Would highly appreciate help, thanks!</p>

<pre><code>[ { fieldname: 'upfile',
    originalname: 'test_file1.jpg',
    encoding: '7bit',
    mimetype: 'image/jpeg',
    destination: 'storage/',
    filename: 'test_file1.jpg',
    path: 'storage/test_file1.jpg',
    size: 1046949 },
  { fieldname: 'upfile2',
    originalname: 'test_file2.jpg',
    encoding: '7bit',
    mimetype: 'image/jpeg',
    destination: 'storage/',
    filename: 'test_file2.jpg',
    path: 'storage/test_file2.jpg',
    size: 632169 } ]
</code></pre>
",<node.js><express><npm><multer>,0.0,0,0,1
21423,21423,52105579,1,0,7769960,1.0,0.0,0.0,0.0,2018-08-30T21:26:08.577,1.0,112.0,connect-flash uninstalled by IntelliJ and now cannot install again,"<p>Im new to node and ive got a peculiar issue.
I was trying to get log in working with passportjs and i had this error where <code>req.flash()</code> wasn't working even though i was using it yesterday for the registration it was saying something like <code>req.flash()</code> isn't recognized in node models directory or something similar.</p>

<p>After trying multiple ways to get it working i recalled that IntelliJ had asked me to run a npm install command when i opened i. So i clicked the the event log and allowed IntelliJ to do run it, IntelliJ  restarted and I click run and get an Error.</p>

<pre><code>module.js:549
    throw err;
    ^
Error: Cannot find module 'connect-flash'
    at Function.Module._resolveFilename (module.js:547:15)
    at Function.Module._load (module.js:474:25)
    at Module.require (module.js:596:17)
    at require (internal/module.js:11:18)
    at Object.&lt;anonymous&gt; (C:\Users\My\Desktop\NodeApp\Test\app.js:8:13)
    at Module._compile (module.js:652:30)
    at Object.Module._extensions..js (module.js:663:10)
    at Module.load (module.js:565:32)
    at tryModuleLoad (module.js:505:12)
    at Function.Module._load (module.js:497:3)
</code></pre>

<p>So i go to node_modules and connect_flash and the folder  is there but has a  symbol on it.</p>

<p>In IntelliJ below</p>

<p><a href=""https://i.stack.imgur.com/tEZ3t.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/tEZ3t.png"" alt=""enter image description here""></a></p>

<p>In the file explorer below</p>

<p><a href=""https://i.stack.imgur.com/pYwbx.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/pYwbx.png"" alt=""enter image description here""></a></p>

<p>When I try to click it in the file explorer i get the following windows error</p>

<blockquote>
  <p>C:\Users\My\Desktop\NodeApp\Test\node_modules\connect-flash is not
  accessible The name of the file cannot be resolved by the system</p>
</blockquote>

<p>So i deleted it and attempted to reinstall <code>npm install connect-flash</code> which returns errors</p>

<blockquote>
<pre><code>npm ERR! code ETARGET
npm ERR! notarget No matching version found for connect-flash@8
npm ERR! notarget In most cases you or one of your dependencies are requesting
npm ERR! notarget a package version that doesn't exist.

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\My\AppData\Roaming\npm-cache\_logs\2018-08-30T21_17_28_983Z-debug.log
</code></pre>
</blockquote>

<p>And the log file produce  is as follows</p>

<blockquote>
  <p>0 info it worked if it ends with ok 1 verbose cli [ 'C:\Program
  Files\nodejs\node.exe', 1 verbose cli   'C:\Program
  Files\nodejs\node_modules\npm\bin\npm-cli.js', 1 verbose cli<br>
  'install', 1 verbose cli   'connect-flash' ] 2 info using npm@5.6.0 3
  info using node@v8.11.3 4 verbose npm-session 36d3535b3518b319 5 silly
  install loadCurrentTree 6 silly install readLocalPackageData 7 http
  fetch GET 200 <a href=""https://registry.npmjs.org/connect-flash"" rel=""nofollow noreferrer"">https://registry.npmjs.org/connect-flash</a> 22ms (from
  cache) 8 silly registry:manifest no matching version for
  connect-flash@8 in the cache. Forcing revalidation 9 http fetch GET
  304 <a href=""https://registry.npmjs.org/connect-flash"" rel=""nofollow noreferrer"">https://registry.npmjs.org/connect-flash</a> 83ms (from cache) 10
  silly fetchPackageMetaData error for connect-flash@8 No matching
  version found for connect-flash@8 11 verbose type range 12 verbose
  stack connect-flash: No matching version found for connect-flash@8 12
  verbose stack     at pickManifest (C:\Program
  Files\nodejs\node_modules\npm\node_modules\pacote\node_modules\npm-pick-manifest\index.js:65:11)
  12 verbose stack     at fetchPackument.then.packument (C:\Program
  Files\nodejs\node_modules\npm\node_modules\pacote\lib\fetchers\registry\manifest.js:52:18)
  12 verbose stack     at tryCatcher (C:\Program
  Files\nodejs\node_modules\npm\node_modules\bluebird\js\release\util.js:16:23)
  12 verbose stack     at Promise._settlePromiseFromHandler (C:\Program
  Files\nodejs\node_modules\npm\node_modules\bluebird\js\release\promise.js:512:31)
  12 verbose stack     at Promise._settlePromise (C:\Program
  Files\nodejs\node_modules\npm\node_modules\bluebird\js\release\promise.js:569:18)
  12 verbose stack     at Promise._settlePromise0 (C:\Program
  Files\nodejs\node_modules\npm\node_modules\bluebird\js\release\promise.js:614:10)
  12 verbose stack     at Promise._settlePromises (C:\Program
  Files\nodejs\node_modules\npm\node_modules\bluebird\js\release\promise.js:693:18)
  12 verbose stack     at Async._drainQueue (C:\Program
  Files\nodejs\node_modules\npm\node_modules\bluebird\js\release\async.js:133:16)
  12 verbose stack     at Async._drainQueues (C:\Program
  Files\nodejs\node_modules\npm\node_modules\bluebird\js\release\async.js:143:10)
  12 verbose stack     at Immediate.Async.drainQueues (C:\Program
  Files\nodejs\node_modules\npm\node_modules\bluebird\js\release\async.js:17:14)
  12 verbose stack     at runCallback (timers.js:810:20) 12 verbose
  stack     at tryOnImmediate (timers.js:768:5) 12 verbose stack     at
  processImmediate [as _immediateCallback] (timers.js:745:5) 13 verbose
  cwd C:\Users\My\Desktop\NodeApp\Test 14 verbose Windows_NT 10.0.17134
  15 verbose argv ""C:\Program Files\nodejs\node.exe"" ""C:\Program
  Files\nodejs\node_modules\npm\bin\npm-cli.js"" ""install""
  ""connect-flash"" 16 verbose node v8.11.3 17 verbose npm  v5.6.0 18
  error code ETARGET 19 error notarget No matching version found for
  connect-flash@8 20 error notarget In most cases you or one of your
  dependencies are requesting 20 error notarget a package version that
  doesn't exist. 21 verbose exit [ 1, true ]</p>
</blockquote>

<p>Ive never had an issue like this before and  would be grateful for any help</p>
",<javascript><node.js><express><npm>,1.0,0,0,1
21625,21625,52244786,1,0,10337767,1.0,1.0,0.0,0.0,2018-09-09T13:01:37.997,1.0,746.0,"Node.js npm install express - can't install express, error CERT_UNTRUSTED","<p>I'm trying to install express on Raspberry Pi because I wanto to use it for REST API. The problem is that I get following message and any solution that I found on this site doesn't work.</p>

<pre><code>npm http GET https://registry.npmjs.org/express
npm ERR! Error: SSL Error: CERT_UNTRUSTED
npm ERR!     at ClientRequest.&lt;anonymous&gt; (/usr/local/lib/node_modules/npm/node_modules/request/main.js:525:26)
npm ERR!     at ClientRequest.g (events.js:192:14)
npm ERR!     at ClientRequest.EventEmitter.emit (events.js:96:17)
npm ERR!     at HTTPParser.parserOnIncomingClient [as onIncoming] (http.js:1582:7)
npm ERR!     at HTTPParser.parserOnHeadersComplete [as onHeadersComplete] (http.js:111:23)
npm ERR!     at CleartextStream.socketOnData [as ondata] (http.js:1485:20)
npm ERR!     at CleartextStream.CryptoStream._push (tls.js:544:27)
npm ERR!     at SecurePair.cycle (tls.js:898:20)
npm ERR!     at EncryptedStream.CryptoStream.write (tls.js:285:13)
npm ERR!     at Socket.ondata (stream.js:38:26)
npm ERR! If you need help, you may report this log at:
npm ERR!     &lt;http://github.com/isaacs/npm/issues&gt;
npm ERR! or email it to:
npm ERR!     &lt;npm-@googlegroups.com&gt;

npm ERR! System Linux 4.14.62-v7+
npm ERR! command ""/usr/local/bin/node"" ""/usr/local/bin/npm"" ""install"" ""express"" ""--save""
npm ERR! cwd /usr/local/myapp
npm ERR! node -v v0.8.21
npm ERR! npm -v 1.2.11
npm ERR! code ESSL
npm ERR! Error: EACCES, open 'npm-debug.log'
npm ERR!  { [Error: EACCES, open 'npm-debug.log'] errno: 3, code: 'EACCES', path: 'npm-debug.log' }
npm ERR!
npm ERR! Please try running this command again as root/Administrator.

npm ERR! System Linux 4.14.62-v7+
npm ERR! command ""/usr/local/bin/node"" ""/usr/local/bin/npm"" ""install"" ""express"" ""--save""
npm ERR! cwd /usr/local/myapp
npm ERR! node -v v0.8.21
npm ERR! npm -v 1.2.11
npm ERR! path npm-debug.log
npm ERR! code EACCES
npm ERR! errno 3
npm ERR! stack Error: EACCES, open 'npm-debug.log'
npm ERR!
npm ERR! Additional logging details can be found in:
npm ERR!     /usr/local/myapp/npm-debug.log
npm ERR! not ok code 0
</code></pre>

<p>Here are some commands that people asked about in other threads : </p>

<blockquote>
  <p>npm version</p>
</blockquote>

<pre><code>http_parser: '1.0',
  node: '0.8.21',
  v8: '3.11.10.25',
  ares: '1.7.5-DEV',
  uv: '0.8',
  zlib: '1.2.3',
  openssl: '1.0.0f',
  npm: '1.2.11' }
</code></pre>

<blockquote>
  <p>npm list</p>
</blockquote>

<pre><code>pi@raspberrypi:/usr/local/myapp $ npm list
/usr/local/myapp
└── (empty)
</code></pre>

<p>I also tried to clear cache but nothing works and I'm stuck. 
Thanks for help in advance.</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
21630,21630,52248181,1,52403814,2876310,2.0,4.0,0.0,0.0,2018-09-09T19:52:48.887,2.0,2960.0,Node.js app doesn't work when I try to host it via GCP deploy command. Error: Cannot find module 'express',"<p>I have my NodeJS app wrote using TypeScript and based on the Express framework. I want to host it in GCP cloud with <code>gcloud app deploy</code> command.
So, first of all, I build my TS sources to JavaScript -is that the correct way of doing it?.</p>

<p>Then from the <code>build</code> (with JS source code) folder I'm trying to run <code>npm start</code> command and it works successfully and I'm also able to check it with Preview:</p>

<p><a href=""https://i.stack.imgur.com/zfDR6.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/zfDR6.png"" alt=""enter image description here""></a>.</p>

<p>It works well. So far, so good. </p>

<p>Then I run <code>gcloud app deploy</code> from the <code>build</code> folder (with built to JS sources) and I didn't see any errors during deploy. </p>

<p>But afterward, I receive a 500 error on each request whenever I'm trying to reach the deployed app. I've taken a look into a log and I see next error:</p>

<pre><code>Error: Cannot find module 'express'
</code></pre>

<p><strong>What seems to be the problem?</strong></p>

<p>I tried the next commands in the <code>build</code> folder:</p>

<pre><code>    npm install
    npm install express --save
    npm install -g express
    sudo apt-get install node-express
</code></pre>

<p>Nothing works for me. </p>

<p>Here is my <code>package.json</code> file:</p>

<pre><code>{
  ""name"": ""full-node"",
  ""version"": ""1.0.0"",
  ""description"": """",
  ""main"": ""index.js"",
  ""scripts"": {
    ""build"": ""tsc"",
    ""dev"": ""node -r ts-node/register ./src/server.ts"",
    ""debug"": ""ts-node --inspect ./src/server.ts"",
    ""start"": ""node build/server.js"",
    ""prod"": ""npm run build &amp;&amp; npm run start""
  },
  ""keywords"": [],
  ""author"": """",
  ""license"": ""ISC"",
  ""devDependencies"": {
    ""ts-node"": ""^7.0.1"",
    ""typescript"": ""^3.0.1""
  },
  ""dependencies"": {
    ""@types/lodash"": ""^4.14.116"",
    ""body-parser"": ""^1.18.3"",
    ""connect"": ""^3.6.6"",
    ""cors"": ""^2.8.4"",
    ""crypto"": ""^1.0.1"",
    ""express"": ""^4.16.3"",
    ""firebase-admin"": ""^6.0.0"",
    ""lodash"": ""^4.17.10""
  }
}
</code></pre>

<p>Any idea what I'm missed? Is this the correct way to deploy an app wrote with TypeScript to GCP cloud?</p>

<p><strong><code>app.yaml</code>:</strong></p>

<pre><code># [START app_yaml]
runtime: nodejs8
# [END app_yaml]
</code></pre>
",<node.js><typescript><express><npm><google-cloud-platform>,0.0,0,0,1
22038,21715,52322975,1,0,10336418,1.0,0.0,0.0,0.0,2018-09-13T23:18:43.483,0.0,489.0,How to connect sql server to app.js file?,"<p>I have a folder called NEsql, located in a folder called sqlnames1. Inside the NEsql folder, I have the following files.</p>

<p><strong>sqlcreatedb.js</strong></p>

<pre><code>var mysql = require('mysql');

var con = mysql.createConnection({
  host: ""localhost"",
  user: ""root"",
  password: ""password""
});

con.connect(function(err) {
  if (err) throw err;
  console.log(""Connected!"");
  /*Create a database named ""mydb"":*/
  con.query(""CREATE DATABASE names"", function (err, result) {
    if (err) throw err;
    console.log(""Database created"");
  });
});
</code></pre>

<p><strong>sqlcreatetable.js</strong></p>

<pre><code>var mysql = require('mysql');

var con = mysql.createConnection({
  host: ""localhost"",
  user: ""root"",
  password: ""password"",
  database: ""names""
});

con.connect(function(err) {
  if (err) throw err;
  console.log(""Connected!"");
  /*Create a table named ""customers"":*/
  var sql = ""CREATE TABLE people (id INT AUTO_INCREMENT PRIMARY KEY, firstName VARCHAR(255), lastName VARCHAR(255))"";
  con.query(sql, function (err, result) {
    if (err) throw err;
    console.log(""Table created"");
  });
});
</code></pre>

<p><strong>sqlinsertvalues.js</strong></p>

<pre><code>var mysql = require('mysql');

var con = mysql.createConnection({
  host: ""localhost"",
  user: ""root"",
  password: ""password"",
  database: ""names""
});

con.connect(function(err) {
  if (err) throw err;
  console.log(""Connected!"");
  var sql = ""INSERT INTO people (firstName, lastName) VALUES ?"";
  var peoplenames = [
    ['Vedant', 'Apte'],
    ['Vedant', 'Savalajkar'],
    ['Vinay', 'Apte'],
    ['Varda', 'Apte'],
    ['Mihir', 'Wadekar'],
    ['Mihir', 'Kulkarni'],
    ['Eesha', 'Hazarika'],
    ['Eesha', 'Gupte'],
    ['Raunak', 'Sahu'],
    ['Hritvik', 'Agarwal'],
    ['Mahima', 'Kale'],
    ['Shivani', 'Sheth'],
    ['Arya', 'Chheda'],
    ['Diya', 'Shenoy']
  ];
  con.query(sql, [peoplenames], function (err, result) {
    if (err) throw err;
    console.log(""Number of records inserted: "" + result.affectedRows);
  });
});
</code></pre>

<p>All of these files work, as I am able to complete all the tasks and successfully receive all the corresponding console.log statements. However, I am unsure as to how I am supposed to connect these files to the app.js file located inside the sqlnames1 folder. Anyone know how to do this?</p>

<p>Here is my app.js file.</p>

<pre><code>var createError = require('http-errors');
var express = require('express');
var path = require('path');
var cookieParser = require('cookie-parser');
var logger = require('morgan');

var indexRouter = require('./routes/index');
var usersRouter = require('./routes/users');

var app = express();

// view engine setup
app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'ejs');

app.use(logger('dev'));
app.use(express.json());
app.use(express.urlencoded({ extended: false }));
app.use(cookieParser());
app.use(express.static(path.join(__dirname, 'public')));

app.use('/', indexRouter);
app.use('/users', usersRouter);

// catch 404 and forward to error handler
app.use(function(req, res, next) {
  next(createError(404));
});

// error handler
app.use(function(err, req, res, next) {
  // set locals, only providing error in development
  res.locals.message = err.message;
  res.locals.error = req.app.get('env') === 'development' ? err : {};

  // render the error page
  res.status(err.status || 500);
  res.render('error');
});

module.exports = app;
</code></pre>
",<mysql><sql><node.js><express><npm>,0.0,0,0,1
22094,21771,52373515,1,52373790,8069197,2.0,1.0,0.0,0.0,2018-09-17T18:08:40.867,-1.0,387.0,Autocomplete is not working in Express.js code,"<p><a href=""https://i.stack.imgur.com/rQPe6.png"" rel=""nofollow noreferrer"">code for autocomplete in jquery</a></p>

<p>[code for getting data in express js][2\</p>

<p><a href=""https://i.stack.imgur.com/rVMev.png"" rel=""nofollow noreferrer"">code for fetching the data in express js</a></p>
",<javascript><node.js><ajax><express><npm>,0.0,0,0,1
22097,21774,52376241,1,0,10377322,0.0,0.0,0.0,0.0,2018-09-17T22:00:07.527,1.0,21.0,"Express/Client-Sessions: Can not res.redirect after starting a session, req.session.user","<p>I have created the session using the client-sessions npm.</p>

<p>res.header seems to work fine because the token has been generated as a part of the employer object. The problem is that the page does not redirect !   </p>

<pre><code>app.post('/employer/signIn', (req, res) =&gt; {
    var employer = new Employer({
        email: req.body.employer__sign_in_email,
        password: req.body.employer__sign_in_password
    });
    employer.save().then(() =&gt; {
        req.session.employer = employer;
        var func = employer.generateAuthToken();

        return [req.session.employer, func];
    }).then((token) =&gt; {
        res.header('x-auth', token).redirect(""/employer/home/home.html"");
    }).catch((e) =&gt; res.status(400).send(e));
});
</code></pre>
",<node.js><express><session><redirect><npm>,0.0,0,0,1
22146,21823,52419840,1,52420072,6536977,2.0,0.0,0.0,0.0,2018-09-20T07:30:19.363,1.0,15545.0,"Getting error of ""cannot get"" while making an api in express js","<p>I am working on to make REST API in express js but getting an error ""Cannot GET /api/bears"".
here is my code </p>

<p>server.js</p>

<pre><code>var express = require('express');
var app = express();
var bodyParser = require('body-parser');
var mongoose   = require('mongoose');
var Bear = require('./app/models/bear');

mongoose.connect('mongodb://localhost/api', { useNewUrlParser: true }); // connect to our database




app.use(bodyParser.urlencoded({ extended: true}));
app.use(bodyParser.json());

var port = process.env.PORT || 3000;
 //routes for api
 var router = express.Router();


router.use(function(req, res, next) {

    console.log('Something is happening.');
    next();
});

 router.get('/',function(req,res){
    res.json({message: ""Welcome to my Api""});
 });

 router.route('/bears')

    .post(function(req,res){
        var bear = new Bear();
        bear.name = req.body.name;


        bear.save(function(err){
            if(err)
            {
                res.send(err);
            }
            res.json({message: 'bear created!'});
        });
    });

 app.use('/api', router);

 app.listen(port);
 console.log(""Magic happens on port"" + port);
</code></pre>

<p>app/models/bear.js</p>

<pre><code>var mongoose     = require('mongoose');
var Schema       = mongoose.Schema;

var BearSchema   = new Schema({
    name: String
});

module.exports = mongoose.model('Bear', BearSchema);
</code></pre>

<p>On localhost:3000/api, everything works fine but on localhost:3000/api/bears I am getting <strong>Cannot GET /api/bears</strong></p>

<p>Could anyone help me where I am missing?</p>
",<javascript><node.js><api><express><npm>,0.0,0,0,1
22149,21826,52420932,1,0,6734545,0.0,0.0,0.0,0.0,2018-09-20T08:41:08.793,2.0,94.0,"always get this error 'express' is not recognized as an internal or external command, operable program or batch file","<p>I have tried many solutions like configuring environment variable, install express and express generator locally and globally<br>
    <code>npm install express</code><br>
    <code>npm install -g express-generator.</code><br>
when I use <code>express testapp</code> or any express command it throws an error:</p>

<blockquote>
  <p>'express' is not recognized as an internal or external command</p>
</blockquote>

<p>I am using window 10. 
What can cause this error
and how to resolve it? </p>
",<express><npm>,0.0,0,0,1
22154,21831,52425695,1,52426362,6536977,2.0,2.0,0.0,0.0,2018-09-20T12:56:34.570,-1.0,1449.0,How to call POST method in express js?,"<p>I am trying to learn REST API. I created POST method but it is not working
get method is working fine in postman but post method is not working. Can anyone help me where I am missing?
I am stuck in it.
here is my code</p>

<p>app.js</p>

<pre><code>var express = require('express');
var app = express();
var bodyParser = require('body-parser');
var mongoose = require('mongoose');

//connect to mongoose
Genre =require('./models/genre');
Book =require('./models/book');

// Connect to Mongoose
mongoose.connect('mongodb://localhost/bookstore',{ useNewUrlParser: true });
var db = mongoose.connection;

app.get('/', (req, res) =&gt; {
    res.send('Please use /api/book or /api/genres');
});

app.get('/api/genres', (req, res) =&gt; {
    Genre.getGenres((err, genres) =&gt; {
        if(err){
            throw err;
        }
        res.json(genres);
    });
});


 app.post('/api/genres', (req, res) =&gt; {
    var genre = req.body;
    Genre.addGenre(genre, (err, genre) =&gt; {
        if(err){
            throw err;
            console.log(err);
        }
        res.json(genre);
    });
}); 



app.listen(3000);
console.log(""running on port 3000.."");
</code></pre>

<p>models/genre.js</p>

<pre><code>const mongoose = require('mongoose');

// Genre Schema
const genreSchema = mongoose.Schema({
    name:{
        type: String,
        required: true
    },
    create_date:{
        type: Date,
        default: Date.now
    }
});

const Genre = module.exports = mongoose.model('Genre', genreSchema);

// Get Genres
module.exports.getGenres = (callback /* we can access through routes*/, limit) =&gt; {
    Genre.find(callback).limit(limit);
}

//add genre



 module.exports.addGenre = (genre, callback) =&gt; {
    Genre.create(genre, callback);
} 
</code></pre>

<p>get method is working fine in postman but post method is not working. Can anyone help me where I am missing?</p>

<p><a href=""https://i.stack.imgur.com/k5ufF.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/k5ufF.png"" alt=""enter image description here""></a></p>
",<javascript><node.js><api><express><npm>,0.0,0,0,1
22297,21974,52564553,1,0,6307624,1.0,0.0,0.0,0.0,2018-09-29T02:28:12.043,0.0,49.0,multer not uploading with provided default example.,"<p>I have issues trying to get my code to work and I am not getting no errors from multer. Trust me I checked EVERYWHERE please help. </p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>//All the require functions that make the app work
const express = require('express')
const nodemon = require('nodemon')
const http = require('http')
const path = require('path')
const fs = require('fs')
const mongoose = require('mongoose')
const bodyParser = require('body-parser')
const morgan = require('morgan')
const jwt = require('jsonwebtoken')
const config = require('./config/config.js')
const fileUpload = require('express-fileupload');
const https = require('https')
const mongoSanitize = require('express-mongo-sanitize');
var stripe = require(""stripe"")(config.stripeAPI);
var multer  = require('multer')
var upload = multer({dest: ""./uploads""}).single('photo');



app.post('/upload', (req, res, next) =&gt; {
        var path = '';
        upload(req, res, function (err) {
                if (err) {
                // An error occurred when uploading
                console.log(err);
                return res.status(422).send(""an Error occured"")
                }  
        // No error occured.
                path = req.files.path;
                return res.send(""Upload Completed for ""+path); 
        });     
});</code></pre>
</div>
</div>
</p>

<p>This is the essentially what I am using form the example </p>
",<angular><express><npm><multer>,0.0,0,0,1
22325,22002,52595861,1,52600476,4874828,2.0,14.0,0.0,0.0,2018-10-01T17:15:44.427,1.0,2569.0,how to load assets in ejs file when you have two different main routes?,"<p>i have simple blog express app which i set up of two different main routes, regular routes (login,post,signup etc...) and for admin (add post,edit post etc...) the issue is my assets, css or any other static files does not load in the <strong>admin routes</strong> only but fortunately works in regular routes. my express setup is as follow:</p>

<pre><code>app.use('/admin/pages', adminPages);
app.use('/', pages);
</code></pre>

<p>so after investigating the chrome developer tools for both main routs this is the issue but have no idea how to solve it ! 
this is when the admin routs does not load bootstrap or css files:
<a href=""https://i.stack.imgur.com/pSiUc.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/pSiUc.png"" alt=""enter image description here""></a>
notice all assets is prefixed with unwanted (admin/pages/...) after localhost:3005</p>

<p>but it works here (without the prefix) :
<a href=""https://i.stack.imgur.com/q5kWv.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/q5kWv.png"" alt=""enter image description here""></a></p>

<p>heres my file structure:</p>

<p><a href=""https://i.stack.imgur.com/Mn5Tc.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Mn5Tc.png"" alt=""enter image description here""></a></p>

<p>full App.js :</p>

<pre><code>const express = require('express'),
    app = express(),
    path = require('path'),
    mongoose = require('mongoose'),
    bodyParser = require('body-parser'),
    pages = require('./routes/pages.js'),
    config = require('./config/database'),
    expressSession = require('express-session'),
    expressValidator = require('express-validator'),
    adminPages = require('./routes/admin_pages.js');

mongoose.connect(config.database);
const database = mongoose.connection;
database.on('error', console.error.bind(console, '@@error with database:'));
database.once('open', () =&gt; {
    console.log('Connected To Database successfully');
});

app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'ejs');
app.use(express.static(path.join(__dirname, 'public')));
// app.use(express.static('public'));

app.use(bodyParser.urlencoded({ extended: false }));
app.use(bodyParser.json());

app.set('trust proxy', 1);
app.use(
    expressSession({
        secret: 'keyboard cat',
        resave: false,
        saveUninitialized: true,
        cookie: { secure: true }
    })
);

app.use(require('connect-flash')());
app.use(function(req, res, next) {
    res.locals.messages = require('express-messages')(req, res);
    next();
});

app.use(
    expressValidator({
        errorFormatter: function(param, msg, value) {
            var namespace = param.split('.'),
                root = namespace.shift(),
                formParam = root;
            while (namespace.length) {
                formParam += '[' + namespace.shift() + ']';
            }
            return {
                param: formParam,
                msg: msg,
                value: value
            };
        }
    })
);

app.use('/admin/pages', adminPages);
app.use('/', pages);

const port = 3005;
app.listen(port, () =&gt; {
    console.log(`App Listening @ localhost:${port}`);
});
</code></pre>

<p>add_page.ejs :</p>

<pre><code>&lt;%- include('../_layouts/header') %&gt;

    &lt;form&gt;
        &lt;input type=""text"" /&gt;
        &lt;input type=""text"" /&gt;
        &lt;input type=""text"" /&gt;
        &lt;button&gt; submit &lt;/button&gt;
    &lt;/form&gt;
    &lt;%- include('../_layouts/footer') %&gt;
</code></pre>

<p>heres my both main routes:
<a href=""https://i.stack.imgur.com/8UR06.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/8UR06.png"" alt=""enter image description here""></a></p>
",<node.js><express><npm><assets>,0.0,0,0,1
22347,22024,52618461,1,52619732,10208147,1.0,8.0,0.0,0.0,2018-10-03T01:25:57.623,0.0,48.0,database is not updating despite the db.insert function,"<p>I'm making a forgot password functionality in my express app suing node mailer package which sends a new password to the email of the user and then updating the database with the new password but the problem is that the database is not updating with the new password i have reviewed my code many times but unable to figure out the problem.</p>

<pre><code>`app.post('/forgot', (req, res) =&gt; {
  const { email } = req.body;
  let newPassword = generatePassword();
  db.select('*').from('login')
  .where('email', '=', email)
  .returning('*')
  .then(user =&gt; {
    if (user.length &gt; 0) {
      let mailOptions = {
        from: 'haroonrmit@gmail.com', 
        to: `${email}`, 
        subject: 'Password reset', 
        html: `&lt;p&gt;Your new password is ${newPassword}&lt;/p&gt;`
      };
      transporter.sendMail(mailOptions);
      db('login')
      .where({email: user[0].email})
      .update({
        password: newPassword
      })
      res.json(user[0]);
    } else {
      res.status(404).json('email not found');
    }
  })
});`
</code></pre>
",<javascript><node.js><express><npm><knex.js>,0.0,0,0,1
22426,22103,52694585,1,0,9151398,0.0,3.0,0.0,0.0,2018-10-08T02:17:32.187,0.0,393.0,How to embed image with overlay text CSS in Node js using `cid`,"<p>Being a newbie to Node, i need help in sending Mail with image embedded in node js.</p>
<p>Using <code>&lt;img&gt;</code> tag and <code>cid</code> I found that we can send an image embedded . But i also need some Text overlaid.</p>
<p>So, I found this could be done using CSS in the website <a href=""https://www.w3schools.com/howto/howto_css_blurred_background.asp"" rel=""nofollow noreferrer"">W3Schools</a> but mail doesn't work with CSS.</p>
<p>How to link the <code>cid</code> when using CSS.</p>
<p>Below is the code i have at this point in time.</p>
<p>`</p>
<pre><code>let mailOptions = {
      from: sender address, 
      to: list of receivers, 
      subject: Subject line,
      cc:requestedByEmail,      
html: '&lt;div style=&quot;height: 100%;background-image: url(&quot;/images/hero-bg.jpg&quot;);background-position: center;background-repeat: no-repeat;background-size: cover;&quot;&gt;&lt;div style=&quot;background-color: rgb(0,0,0);background-color: rgba(0,0,0, 0.4);color: white;font-weight: bold;border: 3px solid #f1f1f1;position: absolute;top: 50%;left: 50%;transform: translate(-50%, -50%);z-index: 2;width: 80%;padding: 20px;text-align: center;&quot;&gt;&lt;/div&gt;&lt;h2&gt;Blurred Background&lt;/h2&gt;  &lt;h1 style=&quot;font-size:50px&quot;&gt;I am John Doe&lt;/h1&gt;  &lt;p&gt;And I\'m a Photographer&lt;/p&gt;&lt;/div&gt;&lt;/img&gt;',
      attachments: [{
        filename: 'hero-bg.jpg',
        path: __dirname+'/images/hero-bg.jpg',
        cid: 'hb' //same cid value as in the html img src
    }]
</code></pre>
<p>`</p>
<p>Is this the way to send out Email holding Images Embedded with CSS or any other way out there ?</p>
<p>Can someone help me in getting sorted this out.</p>
",<javascript><node.js><express><npm><mean-stack>,0.0,0,0,1
22462,22139,52728234,1,0,9710130,1.0,0.0,0.0,0.0,2018-10-09T19:40:51.477,19.0,36638.0,NPM PROBLEM: Node-pre-gyp. Using request for node-pre-gyp https download,"<p>I am creating Angular project and using Express.js as back-end and SQLite3 for database. When I am installing sqlite3 via command <code>npm install sqlite3</code> I'm getting following error in the console. How can I solve this problem?</p>

<pre><code>&gt; node-pre-gyp install --fallback-to-build

node-pre-gyp WARN Using request for node-pre-gyp https download
</code></pre>

<p><a href=""https://i.stack.imgur.com/FkAAr.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/FkAAr.png"" alt=""Error is at the bottom with purple color""></a></p>
",<node.js><express><npm><sqlite>,0.0,0,0,1
22519,22196,52786422,1,0,584947,1.0,0.0,0.0,0.0,2018-10-12T20:13:05.503,1.0,31.0,NPM Cookie Library doesn't parse Forwarded HTTP header with repeating value correctly,"<p>Per <a href=""https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Forwarded"" rel=""nofollow noreferrer"">MDN</a> the <code>Forwarded</code> header can have repeating values:</p>

<p><code>Forwarded: for=192.0.2.43, for=198.51.100.17</code></p>

<p><code>Forwarded: for=192.0.2.43, for=""[2001:db8:cafe::17]""</code></p>

<p>But whenever I use <code>npm cookie</code> <a href=""https://www.npmjs.com/package/cookie"" rel=""nofollow noreferrer"">(link)</a> to parse the header value I get an incorrect value:</p>

<pre><code>const cookie = require('cookie');
...
...
console.log(cookie.parse(req.headers.forwarded));
</code></pre>

<p>Input:</p>

<p>Header key: <code>Forwarded</code></p>

<p>Header value: <code>for=192.0.2.43, for=198.51.100.17</code></p>

<p>Output:</p>

<p>This prints the value <code>{ for: '192.0.2.43, for=198.51.100.17' }</code>. </p>

<p>But the correct output should be an array: <code>{ for: [""192.0.2.43"", ""198.51.100.17""] }</code></p>

<p>I've tried multiple cookie parsing libraries and they can't seem to correctly parse a repeating value. So which library should I be using?</p>
",<node.js><express><cookies><npm><http-headers>,0.0,0,0,1
22555,22232,52820042,1,52820992,8961577,1.0,1.0,0.0,0.0,2018-10-15T15:28:29.930,2.0,2809.0,Express server isn't running on my React production build,"<p>I have a React app made with create-react-app which I am trying to run on an express server. It works fine when running <code>npm start</code> but when running <code>npm run build</code> and then <code>serve -g build</code> I can only connect to port 5000 on localhost and not 8080 which I set up in the express server. </p>

<blockquote>
  <p>server.js</p>
</blockquote>

<pre><code>const express = require('express');
const jsonServer = require('json-server')
const path = require('path');
const app = express();
app.use(express.static(path.join(__dirname, 'build')));

app.get('/ping', function (req, res) {
 return res.send('pong');
});

app.get('/', function (req, res) {
  res.sendFile(path.join(__dirname, 'build', 'index.html'));
});

app.get('/remote', function (req, res) {
  res.sendFile(path.join(__dirname, 'build', 'index.html'));
});

app.use('/api', jsonServer.router('./src/config.json'));

app.listen(process.env.PORT || 8080);
</code></pre>

<p>I have also setup my proxy and main</p>

<blockquote>
  <p>package.json</p>
</blockquote>

<pre><code>""main"": ""server.js"",
""proxy"": ""http://localhost:8080"",
</code></pre>

<p>How can I make this work?</p>
",<node.js><reactjs><express><npm>,0.0,0,0,1
22623,22300,52885486,1,0,9384417,1.0,7.0,0.0,0.0,2018-10-19T03:26:44.337,1.0,3797.0,Nodemon not restarting : [nodemon] restarting due to changes,"<p>Iam using this command : <code>npm run server</code></p>

<p>I've been looking for a solution to this but don't know why the results still don't work. I've tried installing it globally <code>npm install -g nodemon</code> but still not restarting automatically only gets posts like this :</p>

<p>i got this not only in file Validations\register.js </p>

<blockquote>
  <p>[nodemon] files triggering change check: validations\register.js
  [nodemon] matched rule: ***.* [nodemon] changes after filters
  (before/after): 1/1 [nodemon] restarting due to changes... [nodemon]
  Validations\register.js</p>
</blockquote>

<p><strong>Package.json</strong></p>

<pre><code>{
  ""name"": ""devconnector"",
  ""version"": ""1.0.0"",
  ""description"": ""express react"",
  ""main"": ""server.js"",
  ""scripts"": {
    ""start"": ""node server.js"",
    ""server"": ""nodemon server.js --verbose""
  },
  ""author"": ""Faris Dewantoro"",
  ""license"": ""MIT"",
  ""dependencies"": {
    ""bcryptjs"": ""^2.4.3"",
    ""body-parser"": ""^1.18.3"",
    ""express"": ""^4.16.4"",
    ""gravatar"": ""^1.6.0"",
    ""jsonwebtoken"": ""^8.3.0"",
    ""mongoose"": ""^5.3.4"",
    ""passport"": ""^0.4.0"",
    ""passport-jwt"": ""^4.0.0"",
    ""validator"": ""^10.8.0""
  },
  ""devDependencies"": {
    ""nodemon"": ""^1.17.3""
  }
}
</code></pre>

<p><strong>Server.js</strong></p>

<pre><code>const express = require('express');
const mongoose = require('mongoose');
const bodyParser = require('body-parser');
const passport = require('passport');

// ROUTER
const users = require('./routes/api/users');
const profile = require('./routes/api/profile');
const posts = require('./routes/api/posts');

const app = express();

app.use(bodyParser.urlencoded({extended:false}));
app.use(bodyParser.json());

// DB Config
const db = require('./config/keys').mongoURI;

// Connect to MongoDB
mongoose
    .connect(db,{ useNewUrlParser: true })
        .then(()=&gt;{
            console.log('MongoDB Connected');
        })
        .catch((err)=&gt;{
            console.log(err);
        });

// Passport middleware
app.use(passport.initialize());
// Passport Config
require('./config/passport')(passport);
// User routes
app.use('/api/users',users);
app.use('/api/profile',profile);
app.use('/api/posts',posts);

const port = process.env.PORT || 5000;

app.listen(port,()=&gt;{
    console.log(`Server running on port ! ${port}`);
});
</code></pre>

<p>how to fix this so that the nodemon can restart the server automatically</p>

<p><strong>Note :</strong>
Iam using Windows 10 Pro 2018 64x </p>

<p><strong>Update</strong>
I tried with code like this and the results remained the same :</p>

<pre><code>const express = require('express');

const app = express();

const port = process.env.PORT || 5000;

app.listen(port,()=&gt;{
    console.log(`Server running on port   ${port}`);
});
</code></pre>

<blockquote>
  <p>[nodemon] 1.17.3 [nodemon] to restart at any time, enter <code>rs</code>
  [nodemon] or send SIGHUP to 10316 to restart [nodemon] watching: <em>.</em>
  [nodemon] watching extensions: js,mjs,json [nodemon] starting <code>node
  server.js</code> [nodemon] forking [nodemon] child pid: 18172 [nodemon]
  watching 13 files Server running on port !   5000</p>
</blockquote>

<p>When i changed <code>console.log(</code>Change testing   ${port}<code>);</code></p>

<blockquote>
  <p>[nodemon] files triggering change check: server.js<br>
    [nodemon] matched rule: ***.* 
    [nodemon] changes after filters (before/after): 1/1
  [nodemon] restarting due to changes...<br>
    [nodemon] Server.js</p>
</blockquote>
",<javascript><node.js><express><npm><nodemon>,0.0,0,0,1
22656,22333,52925040,1,0,4688592,1.0,0.0,0.0,0.0,2018-10-22T08:21:54.273,0.0,922.0,How to install node-openalpr in windows 10,"<p><strong>I am using npm i node-openalpr to install , but i am getting error like :</strong></p>

<blockquote>
  <p>node-pre-gyp WARN Using request for node-pre-gyp https download
  node-pre-gyp ERR! UNCAUGHT EXCEPTION node-pre-gyp ERR! stack Error:
  node-openalpr package.json is not node-pre-gyp ready: node-pre-gyp
  ERR! stack package.json must declare these properties: node-pre-gyp
  ERR! stack binary.host node-pre-gyp ERR! stack     at validate_config
  (C:\Sahal
  KA\ANPR\node_modules\node-openalpr\node_modules\node-pre-gyp\lib\util\versioning.js:220:15)
  node-pre-gyp ERR! stack     at Object.module.exports.evaluate
  (C:\Sahal
  KA\ANPR\node_modules\node-openalpr\node_modules\node-pre-gyp\lib\util\versioning.js:279:5)
  node-pre-gyp ERR! stack     at handle_gyp_opts (C:\Sahal
  KA\ANPR\node_modules\node-openalpr\node_modules\node-pre-gyp\lib\util\handle_gyp_opts.js:60:27) node-pre-gyp ERR! stack     at configure (C:\Sahal
  KA\ANPR\node_modules\node-openalpr\node_modules\node-pre-gyp\lib\configure.js:12:5)
  node-pre-gyp ERR! stack     at C:\Sahal
  KA\ANPR\node_modules\node-openalpr\node_modules\node-pre-gyp\lib\build.js:43:13
  node-pre-gyp ERR! stack     at ChildProcess. (C:\Sahal
  KA\ANPR\node_modules\node-openalpr\node_modules\node-pre-gyp\lib\util\compile.js:85:9)
  node-pre-gyp ERR! stack     at emitTwo (events.js:126:13) node-pre-gyp
  ERR! stack     at ChildProcess.emit (events.js:214:7) node-pre-gyp
  ERR! stack     at maybeClose (internal/child_process.js:925:16)
  node-pre-gyp ERR! stack     at Process.ChildProcess._handle.onexit
  (internal/child_process.js:209:5) node-pre-gyp ERR! System Windows_NT
  10.0.17134 node-pre-gyp ERR! command ""C:\Program Files\nodejs\node.exe"" ""C:\Sahal
  KA\ANPR\node_modules\node-openalpr\node_modules\node-pre-gyp\bin\node-pre-gyp""
  ""install"" ""--build-from-source"" ""--fallback-to-build"" node-pre-gyp
  ERR! cwd C:\Sahal KA\ANPR\node_modules\node-openalpr node-pre-gyp ERR!
  node -v v8.11.3 node-pre-gyp ERR! node-pre-gyp -v v0.11.0 node-pre-gyp
  ERR! This is a bug in <code>node-pre-gyp</code>. node-pre-gyp ERR! Try to update
  node-pre-gyp and file an issue if it does not help: node-pre-gyp ERR! 
  <a href=""https://github.com/mapbox/node-pre-gyp/issues"" rel=""nofollow noreferrer"">https://github.com/mapbox/node-pre-gyp/issues</a> npm ERR! code
  ELIFECYCLE npm ERR! errno 7 npm ERR! node-openalpr@1.1.1 install:
  <code>node-pre-gyp install --build-from-source --fallback-to-build</code> npm
  ERR! Exit status 7 npm ERR! npm ERR! Failed at the node-openalpr@1.1.1
  install script. npm ERR! This is probably not a problem with npm.
  There is likely additional logging output above.</p>
  
  <p>npm ERR! A complete log of this run can be found in: npm ERR!<br>
  C:\Users\ADMIN\AppData\Roaming\npm-cache_logs\2018-10-22T08_18_59_445Z-debug.log</p>
</blockquote>
",<javascript><node.js><express><npm><openalpr>,0.0,0,0,1
22704,22381,52972225,1,0,10000675,1.0,1.0,0.0,0.0,2018-10-24T15:01:25.977,0.0,131.0,"Cant ""npm start"" with Express-generator","<p>What I did was install express-generator and created project. As asked I went into project directoy, did npm install and SET DEBUG=project:*, but I cannot npm start afterwards.</p>

<p>This is the full log:</p>

<pre><code>0 info it worked if it ends with ok
1 verbose cli [ 'C:\\Program Files\\nodejs\\node.exe',
1 verbose cli   'C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js',
1 verbose cli   'start' ]
2 info using npm@6.4.1
3 info using node@v8.12.0
4 verbose run-script [ 'prestart', 'start', 'poststart' ]
5 info lifecycle projectrl@0.0.0~prestart: projectrl@0.0.0
6 info lifecycle projectrl@0.0.0~start: projectrl@0.0.0
7 verbose lifecycle projectrl@0.0.0~start: unsafe-perm in lifecycle true
8 verbose lifecycle projectrl@0.0.0~start: PATH: C:\Program Files\nodejs\node_modules\npm\node_modules\npm-lifecycle\node-gyp-bin;c:\Users\Rihards\Desktop\projectRL\node_modules\.bin;C:\ProgramData\Oracle\Java\javapath;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files (x86)\Java\jre1.8.0_101\bin\javaw.exe;C:\Program Files (x86)\Skype\Phone\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\110\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\120\Tools\Binn\ManagementStudio\;C:\Program Files (x86)\Microsoft SQL Server\120\Tools\Binn\;C:\Program Files\Microsoft SQL Server\120\Tools\Binn\;C:\Program Files (x86)\Microsoft SQL Server\120\DTS\Binn\;C:\Program Files\Microsoft SQL Server\120\DTS\Binn\;C:\Program Files (x86)\Microsoft SQL Server\Client SDK\ODBC\110\Tools\Binn\;C:\wamp64\bin\php\php7.1.9;C:\composer;C:\Program Files\Git\cmd;C:\Program Files\dotnet\;C:\Program Files\nodejs\;C:\Users\Rihards\AppData\Roaming\Composer\vendor\bin;C:\Users\Rihards\AppData\Roaming\npm
9 verbose lifecycle projectrl@0.0.0~start: CWD: c:\Users\Rihards\Desktop\projectRL
10 silly lifecycle projectrl@0.0.0~start: Args: [ '/d /s /c', 'node ./bin/www' ]
11 info lifecycle projectrl@0.0.0~start: Failed to exec start script
12 silly lifecycle projectrl@0.0.0~start: Returned: code: -4058  signal: null
13 info lifecycle projectrl@0.0.0~start: Failed to exec start script
14 verbose stack Error: projectrl@0.0.0 start: `node ./bin/www`
14 verbose stack spawn C:\Windows\system32\ ENOENT
14 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:190:19)
14 verbose stack     at onErrorNT (internal/child_process.js:362:16)
14 verbose stack     at _combinedTickCallback (internal/process/next_tick.js:139:11)
14 verbose stack     at process._tickCallback (internal/process/next_tick.js:181:9)
15 verbose pkgid projectrl@0.0.0
16 verbose cwd c:\Users\Rihards\Desktop\projectRL
17 verbose Windows_NT 6.3.9600
18 verbose argv ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""start""
19 verbose node v8.12.0
20 verbose npm  v6.4.1
21 error file C:\Windows\system32\
22 error path C:\Windows\system32\
23 error code ELIFECYCLE
24 error errno ENOENT
25 error syscall spawn C:\Windows\system32\
26 error projectrl@0.0.0 start: `node ./bin/www`
26 error spawn C:\Windows\system32\ ENOENT
27 error Failed at the projectrl@0.0.0 start script.
27 error This is probably not a problem with npm. There is likely additional logging output above.
28 verbose exit [ 1, true ]
</code></pre>

<p>I hope somene can tip me off with the problem!</p>
",<node.js><express><npm><npm-start>,0.0,0,0,1
22850,22527,53112599,1,0,10594392,2.0,3.0,0.0,0.0,2018-11-02T04:13:38.673,-1.0,447.0,Something is already running on port,"<p>I am a fairly new developer and have come across a problem with ports. I am using mern stack and in my json file I have set the port to many different port numbers and it says something is running in all of them. I recently switched from google chrome to firefox and feel this could possibly be related. If I try to push yes on requesting a different port the page never loads. every time I run npm start the port is taken. Thank you</p>
",<node.js><mongodb><macos><express><npm>,0.0,0,0,1
22874,22551,53127438,1,53218296,2615826,1.0,1.0,0.0,0.0,2018-11-03T00:50:15.993,0.0,143.0,NPM-Request handle on data stop flowing/streaming,"<p>I'm piping a CCTV stream using <a href=""https://www.npmjs.com/package/request"" rel=""nofollow noreferrer"">request</a>, and serve it using Express. 
Sometimes there is problem with network connection in the middle of streaming, that cause in the client picture freeze on the last chunked data.</p>

<p>I need to catch this event so I can manipulate on the client by serve some-error image file. I tried <code>exit</code>, <code>close</code>, <code>finish</code>, <code>stop</code> events but none success.
So far I didn't found similar problem on <a href=""https://github.com/request/request/issues"" rel=""nofollow noreferrer"">request's Issues</a> or on other SO questions.</p>
",<node.js><express><stream><request><npm-request>,0.0,0,0,1
22929,22606,53184602,1,0,6164676,1.0,7.0,0.0,0.0,2018-11-07T06:36:17.190,0.0,731.0,How to disable the Etag in npm express at configuration level?,"<p>I am new to nodejs and npm. I have been task to disable Etag generation in the configuration level of npm express. I am finding the answer as
<code>app.set('etag', false); // turn off</code> and similar to this in online.</p>

<p>Disabling in the sense not in the application code, I have to disable in the express configuration of npm. Like for every request I need to get response only from server as <code>application/json</code> and the status should only be <code>200</code>. Please help to find a solution.</p>

<p>sample code:</p>

<pre><code>const express = require('express')
const app = express()
const port = 9000

app.get('/proj/v1/test', (req, res) =&gt; {
// app.set('etag', false);
res.status(200).json({status: ""OK""});
}
)
app.listen(port)
</code></pre>
",<express><npm><etag>,0.0,0,0,1
23016,22693,53252424,1,55940098,565347,4.0,1.0,0.0,0.0,2018-11-11T19:33:48.020,43.0,57969.0,run-p: command not found,"<p>after installing 'npm install webpack-dev-server -g'
not able to start expressjs project. </p>

<p>I am using below script:</p>

<pre>
""scripts"": {
    ""start"": ""run-p watch dev-server"",
    ""watch"": ""webpack --config webpack.config.js --watch --mode development"",
    ""dev-server"": ""BABEL_ENV=dev nodemon --exec 'babel-node' src/server/index.js --config nodemon.json""
}
</pre>
",<node.js><express><npm>,0.0,0,0,1
23023,22700,53261141,1,0,10611566,4.0,0.0,0.0,0.0,2018-11-12T11:23:23.030,0.0,4447.0,Nodemon installed but not working in Node.js,"<p>I am using <code>Node.js</code> with <code>express.js</code> and I also installed Nodemon ( exist in node_modules folder) but it's not working.
Here is my <code>package.json</code> code. How can I solve this ?</p>

<pre><code>// package.json

{
    ""name"": ""node-api"",
    ""main"": ""server.js"",
    ""dependencies"": {
        ""express"": ""~4.0.0"",
        ""mongoose"": ""~3.6.13"",
        ""body-parser"": ""~1.0.1""
    }
}
</code></pre>
",<node.js><express><npm><node-modules>,0.0,0,0,1
23041,22718,53279129,1,53289630,10556114,1.0,0.0,0.0,0.0,2018-11-13T10:37:25.583,3.0,3747.0,dynamically generate pdf with the html-pdf package,"<p>I am using the npm package <code>html-pdf</code></p>

<p>I was trying to dynamically generate invoices. Eventually it creates PDF files but instead of saving values to the PDF it saves ejs code. Anyone knows what went wrong?</p>

<p>You can check the screenshot below of the PDF output with ejs variables:</p>

<p><a href=""https://i.stack.imgur.com/LPjN7.png"" rel=""nofollow noreferrer"">https://i.stack.imgur.com/LPjN7.png</a></p>

<p>Now let me explain my node app:</p>

<p>I am using two <code>ejs</code> pages. One is <code>home.ejs</code> from where we post input values which need to be filled in the PDF.
Second page is <code>crm.ejs</code> where my invoice template is. In <code>crm.ejs</code> I am using <code>window.onload</code> function so when everything is loaded to my <code>crm.ejs</code> template . Then it will generate PDF. But still it only save <code>ejs</code> variables. </p>

<p><strong>Now here is the code</strong></p>

<p>app.js</p>

<pre><code>var express = require(""express"");
var app = express();
var webshot = require('webshot');
var fs = require('fs');
var pdf = require('html-pdf');
var html = fs.readFileSync('views/crm.ejs', 'utf8');
var options = { format: 'a4' };
var bodyParser = require(""body-parser"");
app.use(bodyParser.urlencoded({extended:true}));

app.locals.pdf = require(""html-pdf"");
app.locals.html = fs.readFileSync('views/crm.ejs', 'utf8');
app.locals.options =  { format: 'a4' };
app.locals.fs = require(""fs"");
app.use(express.static(""public""));

app.get(""/"",function(req,res){
    res.render(""home.ejs"");
});

app.post(""/crm"",function(req,res){
    // res.render(""crm.ejs"");
    console.log(req.body);
    var details = req.body;
    res.render(""crm.ejs"",{details:details});
});

app.listen(process.env.PORT,process.env.IP,function(){
    console.log(""Server started successfully!!"");
}); 
</code></pre>

<p>home.ejs:</p>

<pre><code> &lt;form action=""/crm"" method=""post""&gt;
    &lt;label&gt;First Name&lt;/label&gt;
    &lt;input type=""text"" name=""fname""&gt;&lt;br /&gt;

    &lt;label&gt;Last Name&lt;/label&gt;
    &lt;input type=""text"" name=""lname""&gt;&lt;br /&gt;

    &lt;label&gt;Email&lt;/label&gt;
    &lt;input type=""text"" name=""email""&gt;&lt;br /&gt;

    &lt;label&gt;Phone number&lt;/label&gt;
    &lt;input type=""text"" name=""phone""&gt;&lt;br /&gt;

    &lt;label&gt;Address&lt;/label&gt;
    &lt;textarea name=""address""&gt;&lt;/textarea&gt;&lt;br /&gt;

    &lt;button&gt;Save&lt;/button&gt;

&lt;/form&gt;
</code></pre>

<p>crm.ejs:</p>

<pre><code>&lt;html&gt;
&lt;head&gt;
&lt;title&gt;BillBook&lt;/title&gt;
&lt;meta http-equiv=""Content-Type"" content=""text/html; charset=iso-8859-1""&gt;
&lt;link rel=""stylesheet"" href=""https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css""&gt;
&lt;link rel=""stylesheet"" href=""https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"" integrity=""sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"" crossorigin=""anonymous""&gt;
&lt;style&gt;
    #billbook{
       height:845px;
        width:595px;
        background-repeat: no-repeat;
        background-size: 595px 845px;
        border:1px solid red;
        /*margin:0px auto;*/
        margin:0px !important;
    }

    table{
       width: 92% !important;

            margin: 0px auto;
            color:#7f7f7f;
              border-radius: 0px 0px 6px 6px;
    -moz-border-radius: 6px 6px 6px 6px;
    -webkit-border-radius: 6px 6px 6px 6px;
  border-width: 0.5px !important;
  border-style: solid !important;
  border-color: #f3f3f3 !important;
    }
    tr{
        border:1px solid #f3f3f3;
    }
    td{
        border:1px solid #f3f3f3;
           padding: 5px 0px 5px 6px;
            font-size:12px;  
    }
&lt;/style&gt;
&lt;/head&gt;
&lt;body bgcolor=""#FFFFFF"" leftmargin=""0"" topmargin=""0"" marginwidth=""0"" marginheight=""0""&gt;
    &lt;!--&lt;img src=""../images/final.jpg"" width=""595"" height=""842"" alt=""""&gt;--&gt;  
    &lt;section id=""billbook""&gt;
        &lt;table style="" margin-top: 175px !important;""&gt;
            &lt;tr&gt;
                &lt;td width=""59%"" style=""padding-left:7px;""&gt;Name :&lt;span&gt;&lt;%= details.fname + "" "" +details.lname; %&gt;&lt;/span&gt;&lt;/td&gt;
                &lt;td class=""text-center""&gt;INVOICE&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;Address :&lt;%= details.address %&gt;&lt;/td&gt;
                &lt;td&gt;GSTIN   :   &lt;span  style=""padding-left:40px;""&gt;547etbdjh787jfh&lt;/span&gt;&lt;/td&gt;
            &lt;/tr&gt;

            &lt;tr&gt;
                &lt;td&gt;&lt;/td&gt;
                &lt;td&gt;Invoice No :&lt;/td&gt;
            &lt;/tr&gt;

             &lt;tr&gt;
                &lt;td&gt;Phone Number :&lt;%= details.phone%&gt;&lt;/td&gt;
                &lt;td&gt;Invoice Date :&lt;/td&gt;
            &lt;/tr&gt;

        &lt;/table&gt;

        &lt;table style=""margin-top:11px;""&gt;
            &lt;tr class=""text-center""&gt;
                &lt;td width=""6.5%""&gt;SNo&lt;/td&gt;
                &lt;td width=""39.5%""&gt;Description&lt;/td&gt;
                &lt;td width=""13%""&gt;HSN&lt;/td&gt;
                &lt;td width=""9.5%""&gt;Qty&lt;/td&gt;
                &lt;td width=""15.5%""&gt;Rate&lt;/td&gt;
                &lt;td width=""16%""&gt;Amount&lt;/td&gt;
            &lt;/tr&gt;

            &lt;tr style=""height:242px""&gt;
                &lt;td&gt;&lt;/td&gt;
                &lt;td&gt;&lt;/td&gt;
                &lt;td&gt;&lt;/td&gt;
                &lt;td&gt;&lt;/td&gt;
                &lt;td&gt;&lt;/td&gt;
                &lt;td&gt;&lt;/td&gt;
            &lt;/tr&gt;

            &lt;tr&gt;
                &lt;td colspan=""3""  rowspan=""2""&gt;Rupees In Words : yrtyrtyrty ryrty rty rtyrtyrty ryrty&lt;/td&gt;
                &lt;td colspan=""2"" class=""text-center""&gt;Taxable Value :&lt;/td&gt;
                &lt;td&gt;&amp;nbsp;&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td colspan=""2"" style=""padding-left:30px;""&gt;SGST................%&lt;/td&gt;
                &lt;!--&lt;td&gt;&lt;/td&gt;--&gt;
                &lt;td&gt;&amp;nbsp;&lt;/td&gt;
            &lt;/tr&gt;

            &lt;tr&gt;
                &lt;td colspan=""3"" rowspan=""3""&gt;Terms and Conditions:&lt;/td&gt;
                &lt;td colspan=""2"" style=""padding-left:30px;""&gt;SGST................%&lt;/td&gt;
                &lt;!--&lt;td&gt;&lt;/td&gt;--&gt;
                &lt;td&gt;&amp;nbsp;&lt;/td&gt;
            &lt;/tr&gt;

            &lt;tr&gt;
                &lt;td colspan=""2"" style=""padding-left:30px;""&gt;SGST................%&lt;/td&gt;
                &lt;!--&lt;td&gt;&lt;/td&gt;--&gt;
                &lt;td&gt;&amp;nbsp;&lt;/td&gt;
            &lt;/tr&gt;

            &lt;tr&gt;
                &lt;td colspan=""2"" style=""padding-left:30px;""&gt;Grand Total&lt;/td&gt;
                &lt;!--&lt;td&gt;&lt;/td&gt;--&gt;
                &lt;td&gt;&amp;nbsp;&lt;/td&gt;
            &lt;/tr&gt;
        &lt;/table&gt;
    &lt;/section&gt;     
&lt;/body&gt;

&lt;script&gt;
     window.onload = function(){
        &lt;%=
             pdf.create(html, options).toFile('public/pdf/businesscard.pdf', function(err, res) {
          if (err) {
               console.log(err);
          }
          else{console.log(res);}

        });         
        %&gt;
    }
&lt;/script&gt;
&lt;/html&gt;
</code></pre>
",<javascript><node.js><express><npm><ejs>,0.0,0,0,1
23271,22948,53517903,1,0,7645889,0.0,1.0,0.0,0.0,2018-11-28T11:00:38.517,2.0,335.0,How to compress dynamic responses in sails/express using npm compression package,"<p>While using <strong>npm compression</strong> package in sails project I observed that responses from server getting gzipped but I have some API's whose response is not getting gzipped/compressed.</p>

<p>As per documentation <strong>app.use(compression())</strong> itself compresses all the responses but I can't find any response header as ""content-encoding"" : ""gzip"" in API's that contains JSON Data in response.</p>

<p>Following are the headers that I'm receiving in my response:</p>

<pre><code>access-control-allow-credentials: true
access-control-allow-origin: https://xxxxxxxxxx.com
access-control-expose-headers: 
content-length: 312
content-type: application/json; charset=utf-8
date: Wed, 28 Nov 2018 10:44:56 GMT
etag: W/""138-SIGn/Sj6rEAdXMhpUah0Xw""
status: 200
vary: X-HTTP-Method-Override, Accept-Encoding
x-powered-by: Sails &lt;sailsjs.org&gt;
</code></pre>

<p>Here <strong>content-encoding : 'gzip'</strong> is missing.</p>

<p>Following is my custom middleware which I have used in config/http.js file </p>

<pre><code>/**
 * HTTP Server Settings
 * (sails.config.http)
 *
 * Configuration for the underlying HTTP server in Sails.
 * Only applies to HTTP requests (not WebSockets)
 *
 * For more information on configuration, check out:
 * http://sailsjs.org/#!/documentation/reference/sails.config/sails.config.http.html
 */
var compression = require('compression')
module.exports.http = {

  /****************************************************************************
  *                                                                           *
  * Express middleware to use for every Sails request. To add custom          *
  * middleware to the mix, add a function to the middleware config object and *
  * add its key to the ""order"" array. The $custom key is reserved for         *
  * backwards-compatibility with Sails v0.9.x apps that use the               *
  * `customMiddleware` config option.                                         *
  *                                                                           *
  ****************************************************************************/
  customMiddleware : function(app){
    app.use(compression())
  }
};
</code></pre>

<p>Help me out if any one knows how to compress such responses, I tried the very same thing in native express application also but facing the same issue.</p>
",<node.js><express><npm><compression><sails.js>,0.0,0,0,1
23308,22985,53563316,1,0,9847034,2.0,4.0,0.0,0.0,2018-11-30T18:56:32.980,1.0,4267.0,Express module.js:550 throw err; ^ Cannot find module,"<p>I'm trying to initialize a simple express app with the following code:</p>

<pre><code>const express = require('express');
const app = express()
const bodyParser = require('body-parser');
const cookieParser = require('cookie-parser');
const mongoose = require('mongoose');
port = 3000


//creating the db
mongoose.connect('mongodb://localhost:27017/Criptare',{ useNewUrlParser: true,
useCreateIndex: true });
let db = mongoose.connection
db.on('error',console.error.bind(console,""connection error""));

//parsers 
app.use(cookieParser());
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({extended: false}));

//session LATER


//static files
app.use('/static',express.static('public'));

//view engine PUG
app.use('view-engine','pug');

//Routes
const mainRoutes = require('./routes/main')
app.use(mainRoutes)

//error handle
app.use((req,res,next)=&gt;{
    let err = new Error('Looks like the page you were looking for was not found')
    err.status = 404;
    next(err)
})
app.use((err,req,res,next)=&gt;{
    res.locals.error = err
    res.status(err.status);
    res.render('error')
});
app.listen(port,()=&gt;{
    console.log(`No bun serveru ii on pe ip-ul:localhost:${port}`)
})
</code></pre>

<p>After I run it with nodemon I get the following error:</p>

<pre><code>module.js:550
throw err;
^
Cannot find module 'C:\Proiecte code\ON\express\criptare\index.js'
    at Function.Module._resolveFilename (module.js:548:15)
    at Function.Module._load (module.js:475:25)
    at Function.Module.runMain (module.js:694:10)
    at startup (bootstrap_node.js:204:16)
    at bootstrap_node.js:625:3
</code></pre>

<p>Anyone has any idea why I'm getting this?
I have all the dependencies inside the package.json</p>
",<javascript><mongodb><express><npm><server>,0.0,0,0,1
23334,23011,53584998,1,53585007,10232304,1.0,1.0,0.0,0.0,2018-12-02T21:58:24.027,-1.0,47.0,npm error .... nodejs while installing express,"<p>I've faced this problem and i don't know how to solve it and go beyond , please I need your help</p>

<p>PS C:\Users\Karrar\Desktop\Html&amp;Css project\heelow_files> npm install express -save
npm ERR! Unexpected end of JSON input while parsing near '...rl"":""~1.0.1"",""escape-'</p>

<p>npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\Karrar\AppData\Roaming\npm-cache_logs\2018-12-02T21_50_04_441Z-debug.log
PS C:\Users\Karrar\Desktop\Html&amp;Css project\heelow_files></p>
",<node.js><express><npm>,0.0,0,0,1
23426,23103,53664566,1,0,9362973,1.0,0.0,0.0,0.0,2018-12-07T06:46:26.617,0.0,482.0,Node JS connection establishment between two server,"<p>In my sample project, I have used Google recaptcha. I need to verify captcha response at back end (Node JS). In NodeJS, I have used request module to connect with google server. But, I got some error like following</p>

<pre><code>Error: connect ECONNREFUSED 172.217.166.100:443
at Object._errnoException (util.js:992:11)
at _exceptionWithHostPort (util.js:1014:20)
at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
</code></pre>

<p><strong>Node JS</strong></p>

<pre><code>  formData = {
  secret: 'xxxxxx',
  response: 'yyyyyy'
  }

  request.post({
    url: ""https://www.google.com/recaptcha/api/siteverify"",
    form: formData
  },
  function (err, httpResponse, body) {
     if (err) throw err;
     if (body) {
       res.send(body);
     }
  });
</code></pre>

<p>When I am trying to set proxy to this above NodeJS code like following...</p>

<pre><code> formData = {
    secret: 'xxxxxx',
    response: 'yyyyyy'
 }

 request.post({
     url: ""https://www.google.com/recaptcha/api/siteverify"",
     form: formData,
     proxy: '172.217.166.100' /// Google server IP
 },
 function (err, httpResponse, body) {
   if (err) throw err;
   if (body) {
    res.send(body);
   }
 });
</code></pre>

<p>I got these errors....</p>

<pre><code>Error: tunneling socket could not be established, cause=connect ECONNREFUSED 127.0.0.1:80
at ClientRequest.onError (C:\Users\Desktop\project\Backend\node_modules\tunnel-agent\index.js:177:17)
at Object.onceWrapper (events.js:315:30)
at emitOne (events.js:116:13)
at ClientRequest.emit (events.js:211:7)
at Socket.socketErrorListener (_http_client.js:387:9)
at emitOne (events.js:116:13)
at Socket.emit (events.js:211:7)
at emitErrorNT (internal/streams/destroy.js:64:8)
at _combinedTickCallback (internal/process/next_tick.js:138:11)
at process._tickCallback (internal/process/next_tick.js:180:9)
</code></pre>

<p>Can anyone help me to resolve this problem</p>

<p>Thanks in advance</p>
",<node.js><express><npm><npm-request>,1.0,0,0,1
23431,23108,53666441,1,53667148,10758842,1.0,0.0,0.0,0.0,2018-12-07T09:13:55.483,0.0,241.0,Crash server node.js,"<p>Good morning,
i'm asking for your help for my project. I want to display rainbow six stats  since this api: <a href=""https://www.npmjs.com/package/rainbowsix-api-node"" rel=""nofollow noreferrer"">https://www.npmjs.com/package/rainbowsix-api-node</a></p>

<p>I created a server node and express, a react's front. My problem: my node server crash stops 3 time out of 5, he is not stable and and I noticed that the r6 server npm solicited works well during off-peak hours.
I run the server with npm start but when i update my react app the server often stops and displays this</p>

<p>after several searches, I do not understand where the problem may come from ; thanks for your help !  </p>

<p>Console return this: </p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>Server is listening on port 5000
undefined:1
&lt;!DOCTYPE html&gt;
^

SyntaxError: Unexpected token &lt; in JSON at position 0

npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! back@1.0.0 start: `node index`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the back@1.0.0 start script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.</code></pre>
</div>
</div>
</p>

<p>my back's code: </p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const RainbowSixApi = require('rainbowsix-api-node');
const express = require('express');
const app = express();
const port = 5000;
const statsRouter = require('./routes/stats');
const R6 = new RainbowSixApi();

//let username = '&lt;username here&gt;';
let platform = 'ps4';

app.get('/api/stats/:username', (req, res) =&gt; {
  const username = req.params.username;

R6.stats(username, platform).then(response =&gt; {
    res.send(response);
  }).catch(error =&gt; {
    console.error(error)
  });
});


app.use('/api/stats', statsRouter)

app.listen(port, (err) =&gt; {
  if (err) {
    throw new Error('Erreur')
  }
  console.log(`Server is listening on port ${port}`);
});</code></pre>
</div>
</div>
</p>

<p>My React Code</p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>class Cards extends Component {

  constructor(props) {
    super(props);
    this.state = {
      statsArray: []
    };
  }

  componentDidMount(){
    const urls =
    [
      '/api/stats/username1',
      '/api/stats/username2',
      '/api/stats/username3',
      '/api/stats/username4',
      '/api/stats/username5',
    ]

    let promiseArray = urls.map(url =&gt; axios.get(url).then(response =&gt; response.data).catch(error =&gt; { console.error(error) }));

    Promise.all(promiseArray)
      .then(statsArray =&gt; this.setState({ statsArray }))
      }</code></pre>
</div>
</div>
</p>
",<node.js><reactjs><express><npm><axios>,0.0,0,0,1
23459,23136,53685871,1,53686166,10712836,2.0,0.0,0.0,0.0,2018-12-08T18:57:00.640,1.0,1186.0,How to copy js to html file with webpack?,"<p>I want to render html file with css, fonts and js inside (not linked but content inside). Css and fonts I have, but I can't find solution for js. I work on Node.js.</p>
",<javascript><node.js><express><npm><webpack>,0.0,1,0,1
23483,23160,53706880,1,0,1781611,1.0,0.0,0.0,0.0,2018-12-10T13:39:29.067,0.0,1938.0,How to use API path param in npm request & request-promise libraries,"<p>In my NodeJS/Express app, I have API implementation which calls another external API.
For this, I am using npm request &amp; request-promise libraries</p>

<p>How can I call API's that has path parameter?</p>

<pre><code>const express = require('express');
const router = express.Router();
const rp = require('request-promise');


router.post('employee/:id', (req, res) =&gt; {
    const id = req.params.id; // I dont know how to use this in request library
    handleRequest(req, res);
})


function handleRequest(req, res) {

  const id = req.params.id; // I dont know how to use this in request library options? 

  var options = {
    method: req.method,
    uri: 'http://api.anotherhost.com/external/'+ req.path,
    body: req.body,
    qs: req.query,
    json: true
  };

  rp(options)
    .then((success) =&gt; res.send(success))
    .catch((err) =&gt; res.status(err.statusCode).send(err.message));
}
</code></pre>

<p><a href=""https://github.com/request/request"" rel=""nofollow noreferrer"">https://github.com/request/request</a></p>

<p><a href=""https://www.npmjs.com/package/request-promise"" rel=""nofollow noreferrer"">https://www.npmjs.com/package/request-promise</a></p>

<p><strong>Update:-</strong></p>

<p>This code so far works fine for other calls without path parameter. </p>
",<node.js><express><npm><request><request-promise>,0.0,0,0,1
23550,23227,53764517,1,0,9078536,0.0,4.0,0.0,0.0,2018-12-13T14:53:10.243,1.0,182.0,Not able to install express via npm,"<p>I have been trying to install express through npm in visual studio code but I am consistently getting the following error upon giving the command:</p>

<p>Command:</p>

<blockquote>
  <p>npm install express --save</p>
</blockquote>

<p>Error:</p>

<blockquote>
  <p>npm ERR! Unexpected end of JSON input while parsing near '...1.1.tgz""},""engines"":{'</p>
</blockquote>

<p>Please provide me some help.</p>
",<node.js><express><npm><web-development-server>,0.0,0,0,1
23643,23320,53872477,1,0,10816690,0.0,4.0,0.0,0.0,2018-12-20T16:24:49.533,0.0,242.0,app.get getting called twice for both new and show in express:nodejs,"<pre><code>app.get(""/foodcamp/new"", (req, res) =&gt; {
    console.log(1);
    res.render(""./new.ejs"");
    console.log(2);
});


app.get(""/foodcamp/:foodID"", (req, res) =&gt;{
  console.log(3);
  var fetchedFoodID = req.params.foodID;
  Food.find({_id: fetchedFoodID}).then((fetchedFood)=&gt;{
        res.render(""./show.ejs"",{foundFood:fetchedFood[0]})
  }, (error)=&gt;{
    console.log(""error2"")
  })
});
</code></pre>

<p>When I go to the URL ""<a href=""http://localhost:8080/foodcamp/new"" rel=""nofollow noreferrer"">http://localhost:8080/foodcamp/new</a>"", I am getting the following O/P at console:</p>

<pre><code>1
2
3
error2
</code></pre>
",<node.js><express><npm><ejs><node-modules>,0.0,0,0,1
23694,23371,53919513,1,0,9725839,0.0,2.0,0.0,0.0,2018-12-25T05:11:51.743,0.0,34.0,"Is there any function available in nodejs to generate the statement on the basis of month, day, year, or in between selected dates in .xls format?","<p>I'm writing a code for backend in nodejs and want to generate a statement on monthly basis, daily basis, yearly basis, or between some particular date in .xls format.</p>
",<node.js><reactjs><mongodb><express><npm>,0.0,0,0,1
23802,23479,54025710,1,60672801,9317057,3.0,0.0,0.0,0.0,2019-01-03T15:55:42.850,27.0,35630.0,TypeError [ERR_UNESCAPED_CHARACTERS] Request path contains unescaped characters,"<p>I am working on Ubuntu with incoming HTTP request from the following URL:</p>
<p><code>http://&lt;MY-IP&gt;:3000/v1/projects/list</code></p>
<p><strong>Description:</strong>
The problem is that I get the following error in terminal:</p>
<pre><code>TypeError [ERR_UNESCAPED_CHARACTERS]: Request path contains unescaped characters
at new ClientRequest (_http_client.js:127:13)
at Object.request (https.js:300:10)
at Request.start (/home/dev/grem-api-dev/apiv3/node_modules/request/request.js:751:32)
at Request.end (/home/dev/grem-api-dev/apiv3/node_modules/request/request.js:1512:10)
at end (/home/dev/grem-api-dev/apiv3/node_modules/request/request.js:564:14)
at Immediate._onImmediate (/home/dev/grem-api-dev/apiv3/node_modules/request/request.js:578:7)
at processImmediate(timers.js:632:19)
</code></pre>
<p>After this error node process disappears from terminal (but still working and API response is sent properly), though I can't see whether it is working or not (<a href=""https://i.stack.imgur.com/H5SkS.png"" rel=""noreferrer"">image attached</a>). So the only way to interact with node process is to do something like <code>ps aux | grep node</code> or <code>ps T</code>and manually kill process.</p>
<p>Assuming the error meaning I've found an appropriate code fragment where the error appears (request.js:751:32). Here it is:</p>
<pre><code>  try {
    self.req = self.httpModule.request(reqOptions)
  } catch (err) {
    self.emit('error', err)
    return
  }
</code></pre>
<p>The only solution I've come to is to comment <code>self.emit('error', err)</code> code line, which is obviously far from best practice.</p>
<p>The fact is the same code works on other computers (Ubuntu, Windows) with same components versions and no error occurs. Also API endpoints like http://<em>myIp</em>:3000/v1/community/list work fine on all devices.</p>
<p>Here's my component versions:</p>
<ul>
<li><p>npm — 6.5.0,</p>
</li>
<li><p>node — 11.4.0,</p>
</li>
<li><p>request — 2.88.0,</p>
</li>
<li><p>Ubuntu — 16.04 (Windows — 10)</p>
</li>
</ul>
<p>some code fragments if needed (Express Server creation and specific route in ProjectsController):</p>
<pre><code>const app = express();
app.use('/v1/projects/', ProjectsController);
    
const router = express.Router();
router.post('/list', function(req,res){
   //logic
});
</code></pre>
",<node.js><express><npm><ubuntu-16.04>,1.0,0,0,1
23813,23490,54032971,1,54122144,9614249,2.0,1.0,0.0,0.0,2019-01-04T04:04:54.863,5.0,1154.0,npm global install gives EISDIR warnings and ENOENT error,"<p>I am trying to install express-generator using <code>npm install express-generator -g</code>. However I'm getting errors.</p>

<pre><code>WARN tar EISDIR: illegal operation on a directory, open '/usr/local/lib/node_modules/.staging/ejs-2de19af3/lib'026584d.lock for /usr/local/lib/node_modules/.staging
WARN tar EISDIR: illegal operation on a directory, open '/usr/local/lib/node_modules/.staging/sorted-object-b497dff3/lib'
WARN tar EISDIR: blah blah many more lines like this
WARN tar EISDIR: illegal operation on a directory, open '/usr/local/lib/node_modules/.staging/mkdirp-f65a1b18/test'

npm ERR! path /usr/local/lib/node_modules/express-generator/node_modules/mkdirp/bin/cmd.js
npm ERR! code ENOENT
npm ERR! errno -2
npm ERR! syscall chmod
npm ERR! enoent ENOENT: no such file or directory, chmod '/usr/local/lib/node_modules/express-generator/node_modules/mkdirp/bin/cmd.js'
npm ERR! enoent This is related to npm not being able to find a file.
npm ERR! enoent 

npm ERR! A complete log of this run can be found in:
npm ERR!     /Users/xXc00lUs3rXx/.npm/_logs/2019-01-04T03_45_41_388Z-debug.log
</code></pre>

<p>I'm not sure what the EISDIR warnings are about, but for the ENOENT chmod error it is trying to access <code>/usr/local/lib/node_modules/express-generator/</code> but there is no such directory.</p>

<p>I am running npm on Mac. I'm not sure how to resolve this issue.</p>
",<node.js><npm><npm-install><express-generator>,0.0,0,0,1
23843,23520,54058113,1,0,3250786,1.0,10.0,0.0,0.0,2019-01-06T02:22:28.230,4.0,4498.0,Can't View Express/React App in Heroku (concurrently not found),"<p>I'm having trouble viewing my Node/Express + React project in Heroku. After successfully pushing my project to Heroku, I get a 404 error page when I try to view my app in heroku.</p>

<p>Heroku Logs shows that the <code>concurrently</code> package was not found</p>

<p>I was wondering if anyone can help me figure out why?
Everything works locally. No issues.
I haven't been able to find any solutions. I've tried this:
<a href=""https://github.com/RickWong/react-isomorphic-starterkit/issues/12"" rel=""nofollow noreferrer"">https://github.com/RickWong/react-isomorphic-starterkit/issues/12</a></p>

<p>I tried setting an environment variable in heroku with the following suggestion:</p>

<p><code>heroku config:set NPM_CONFIG_PRODUCTION=false</code></p>

<p>However, it did not work.</p>

<p>I also found this:</p>

<p><a href=""https://github.com/rickbergfalk/sqlpad/issues/359"" rel=""nofollow noreferrer"">https://github.com/rickbergfalk/sqlpad/issues/359</a></p>

<p>I've attempted re-installing <code>concurrently</code> twice, in the server folder, as well as in root. But with each instance, I got the same error telling me that <code>concurrently</code> was not found.</p>

<p>Here is the Heroku log:</p>

<pre><code>2019-01-05T04:44:42.843348+00:00 heroku[web.1]: Starting process with command `npm start`
2019-01-05T04:44:45.795355+00:00 heroku[web.1]: Process exited with status 1
2019-01-05T04:44:45.817371+00:00 heroku[web.1]: State changed from starting to crashed
2019-01-05T04:44:45.825275+00:00 heroku[web.1]: State changed from crashed to starting
2019-01-05T04:44:45.691080+00:00 app[web.1]: 
2019-01-05T04:44:45.691107+00:00 app[web.1]: &gt; hello_fullstack@1.0.0 start /app
2019-01-05T04:44:45.691110+00:00 app[web.1]: &gt; concurrently -- kill-others ""npm run server"" ""npm run client""
2019-01-05T04:44:45.691112+00:00 app[web.1]: 
2019-01-05T04:44:45.699841+00:00 app[web.1]: sh: 1: concurrently: not found
2019-01-05T04:44:45.704281+00:00 app[web.1]: npm ERR! file sh
2019-01-05T04:44:45.704664+00:00 app[web.1]: npm ERR! code ELIFECYCLE
2019-01-05T04:44:45.704985+00:00 app[web.1]: npm ERR! errno ENOENT
2019-01-05T04:44:45.705300+00:00 app[web.1]: npm ERR! syscall spawn
2019-01-05T04:44:45.706913+00:00 app[web.1]: npm ERR! hello_fullstack@1.0.0 start: `concurrently -- kill-others ""npm run server"" ""npm run client""`
2019-01-05T04:44:45.707140+00:00 app[web.1]: npm ERR! spawn ENOENT
2019-01-05T04:44:45.707475+00:00 app[web.1]: npm ERR!
2019-01-05T04:44:45.707708+00:00 app[web.1]: npm ERR! Failed at the hello_fullstack@1.0.0 start script.
2019-01-05T04:44:45.708000+00:00 app[web.1]: npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
2019-01-05T04:44:45.718125+00:00 app[web.1]: 
2019-01-05T04:44:45.718481+00:00 app[web.1]: npm ERR! A complete log of this run can be found in:
2019-01-05T04:44:45.718674+00:00 app[web.1]: npm ERR!     /app/.npm/_logs/2019-01-05T04_44_45_709Z-debug.log
</code></pre>

<p>Any suggestions?</p>

<p>(Not sure this matters, but my dev environment is in ubuntu, which I'm running inside virtualbox; host os is Windows 8)</p>
",<node.js><reactjs><express><heroku><npm>,0.0,0,0,1
23886,23563,54101418,1,0,10043628,1.0,0.0,0.0,0.0,2019-01-08T23:52:53.103,0.0,25.0,Need assistance on setting up express route parameter,"<p>Hello this is my first time working with express, I am trying to create a portfolio website where I have a pug file called <strong>project.pug</strong> that contains html content that should render html content based on the ID of each project that I have on my Json file:</p>

<pre><code>""data"": {

    ""projects"": [
        {
            ""id"": ""0"",
            ""project_name"": "" "",
            ""description"": "" "",
            ""technologies"": [ "" ""],

        },
        {
            ""id"": ""1"",
            ""project_name"": "" "",
            ""description"": "" "",
            ""technologies"": [ "" ""],

        },
</code></pre>

<p>this is a route where I am trying to give the url an :id in order to change content based on each project's id, for example if I were to go to <a href=""http://localhost:8000/project/1"" rel=""nofollow noreferrer"">http://localhost:8000/project/1</a> I would like contents for project 1 to show up, if I were to go to <a href=""http://localhost:8000/project/2"" rel=""nofollow noreferrer"">http://localhost:8000/project/2</a> then info for that project should render and so on. </p>

<pre><code>router.get('/project:id', (req, res) =&gt; {
res.render('project');
req.app.locals = data.projects.id;
const { id } = req.params //this variable represents the id of the project
const { side } = req.query; //this variable represents the page loaded with each project's info
</code></pre>

<p>});</p>

<p>but I am unsure on how to set the js logic in order change the content like that, can someone please help?</p>
",<javascript><express><npm><pug>,0.0,0,0,1
23931,23608,54134222,1,54134444,2936170,2.0,0.0,0.0,0.0,2019-01-10T17:44:39.470,3.0,682.0,NodeJS: Typescript export expressjs from wrapper,"<p>I've created an ExpressJS wrapper on private npm repo and i want export my lib and expressjs itself, eg.:</p>

<p>index.ts</p>

<pre><code>export { myExpress } from './my-express'; // my express wrapper
import * as express from 'express';
export = express; // doesn't works!
</code></pre>

<p>how can i make it in typescript?</p>
",<javascript><node.js><typescript><express><npm>,0.0,0,0,1
24000,23677,54186712,1,56293183,6173660,2.0,2.0,0.0,0.0,2019-01-14T17:49:57.893,0.0,1376.0,How to use c8 to generate code coverage of a node micro service running inside a docker?,"<p>What I have is a nodejs micro service running inside a docker. What I want is to generate code coverage report of it when BDD tests are run on it.</p>

<p>To generate code coverage reports, I know <a href=""https://www.npmjs.com/package/c8"" rel=""nofollow noreferrer"">c8</a> can be used. But the problem I am facing is that <code>c8</code> needs the node to finish its execution - normal/crash. Since it is a microservice, node never finishes execution after BDD execution. </p>

<p>If I stop the container (<code>docker stop</code> or <code>Ctrl + C</code> in foreground mode), container exits immediately before <code>c8</code> produces it report(I am not sure about this, I am assume it is so).</p>

<p>What can I do in this scenario?</p>
",<node.js><docker><express><npm><code-coverage>,0.0,0,0,1
24021,23698,54205028,1,0,5086257,2.0,0.0,0.0,0.0,2019-01-15T18:42:02.013,1.0,506.0,Error from Cloudinary node package - Unexpected Token,"<p>As the title states, I am using the NPM package from cloudinary, I originally thought it was a configuration issue, but this is the 3rd time now I've run into this specific error and I can't seem to return anything about it from Google.</p>

<pre><code>{ fieldname: 'name-of-input-key',
  originalname: 'leaf.png',
  encoding: '7bit',
  mimetype: 'image/png' }
file uploaded to server
{ fieldname: 'name-of-input-key',
  originalname: 'leaf.png',
  encoding: '7bit',
  mimetype: 'image/png',
  destination: 'uploads/',
  filename: 'leaf.png',
  path: 'uploads/leaf.png',
  size: 10227 }
/home/nolan/Node/cloudinary-skel/node_modules/cloudinary/lib/utils/index.js:989
  return {...hash1, ...hash2};
          ^^^

SyntaxError: Unexpected token ...
    at createScript (vm.js:74:10)
    at Object.runInThisContext (vm.js:116:10)
    at Module._compile (module.js:533:28)
    at Object.Module._extensions..js (module.js:580:10)
    at Module.load (module.js:503:32)
    at tryModuleLoad (module.js:466:12)
    at Function.Module._load (module.js:458:3)
    at Module.require (module.js:513:17)
    at require (internal/module.js:11:18)
    at Object.&lt;anonymous&gt; (/home/nolan/Node/cloudinary-skel/node_modules/cloudinary/lib/cloudinary.js:4:17)
</code></pre>

<p>I'm assuming it's not running Babel or something because those parameters are new to ES6, but I can't seem to figure it out? Thanks in advance!</p>
",<node.js><express><npm><babeljs><cloudinary>,1.0,0,0,1
24029,23706,54210030,1,0,1073662,0.0,6.0,0.0,0.0,2019-01-16T03:33:01.413,7.0,3243.0,express-http-context npm module doesnt work with express post request,"<p>I setup a traced id in express.js . I used the module express-http-context</p>

<pre><code>httpContext.set('traceId', uuid.v4())
</code></pre>

<p>But when I try to fetch it using <code>httpContext.get('traceId')</code> it doesnt seem to work and gives me undefined for POST express request.
It works fine for GET request.
Not sure what is wrong with this</p>
",<node.js><express><npm><node-modules>,0.0,0,0,1
24071,23748,54248416,1,0,9303776,1.0,4.0,0.0,0.0,2019-01-18T05:55:46.953,1.0,100.0,NPM package installed without saving are getting removed when new package is being installed,"<p>I have a project in Express.js where I need to install new packages, to add new features. However, when I am installing new packages, some of the old packages (probably which weren't installed with save command), are getting uninstalled. Is there a way, package.json can be updated by reading package-lock.json dependencies, so new dependencies do not remove older ones?</p>

<p>Suggestions would be highly appreciated! Thanks.</p>
",<node.js><express><npm><package>,0.0,0,0,1
24105,23782,54282186,1,0,10461100,1.0,0.0,0.0,0.0,2019-01-21T00:18:15.037,0.0,1931.0,"""Cannot find module"" when executing 'npm start'[How should I approach my error?]","<p>I want to host my website using node.js.
After <code>npm install express --save</code>, and adding <code>package-lock.json</code> &amp; <code>package.json</code> &amp; <code>Procfile</code> &amp; <code>node_module</code> &amp; <code>.env</code>.</p>

<p>I have tried this below, but not worked.</p>

<pre><code>rm -rf node_modules
npm install
</code></pre>

<p>What other approaches should I do? The following is my error.</p>

<pre><code>&gt; portfolio-website@1.0.0 start /Users/John/Project/portfolio-website
&gt; node server

module.js:557
    throw err;
    ^

Error: Cannot find module '/Users/John/Project/portfolio-website/server'
    at Function.Module._resolveFilename (module.js:555:15)
    at Function.Module._load (module.js:482:25)
    at Function.Module.runMain (module.js:701:10)
    at startup (bootstrap_node.js:190:16)
    at bootstrap_node.js:662:3
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! portfolio-website@1.0.0 start: `node server`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the portfolio-website@1.0.0 start script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /Users/John/.npm/_logs/2019-01-21T00_09_21_588Z-debug.log
</code></pre>

<p><code>server</code> folder includes <code>server.js</code>.
First of all, why cannot module be found? The order of path is correct.</p>
",<node.js><express><npm>,1.0,0,0,1
24116,23793,54290749,1,54291849,851739,1.0,4.0,0.0,0.0,2019-01-21T13:09:33.453,0.0,180.0,npm error messages when installing packages as sudo user,"<p>I am trying to install express via npm in node (nodejs). I am the user 'kev' and this user is sudo. I cannot use a sudo command to install anything as it cannot find npm at all when I 'sudo npm' for some bizarre reason. I have tried adding symbolic links but sudo'ing still refuses to find npm. So running as a standard user and trying to install express using npm I get the following errors:</p>

<pre><code>kev@tentimes:~$ npm install express

npm WARN saveError ENOENT: no such file or directory, open '/home/kev/package.json'
npm notice created a lockfile as package-lock.json. You should commit this file.
npm WARN enoent ENOENT: no such file or directory, open '/home/kev/package.json'
npm WARN kev No description
npm WARN kev No repository field.
npm WARN kev No README data
npm WARN kev No license field.
</code></pre>

<p>I have no idea what the errors mean, except that it seems to me it may be due to me not elevating to sudo to install using nvm. Anyone have any suggestions? It is my first time installing express with node/nvm and I am following some recent guides on how to do this, but the guides just say to use ""nvm install express"" and this is just supposed to work. As a by the way, I have git setup, but is that why it is complaining about repositories?</p>
",<node.js><express><ubuntu><npm><nvm>,0.0,0,0,1
24203,23880,54382588,1,0,8815760,0.0,5.0,0.0,0.0,2019-01-26T20:46:26.937,0.0,197.0,Request not passing req.body through to other service,"<p>I have a Node.js API gateway that passes requests to my different services. It seems to pass the URL correctly (expected) but it is not passing <code>req.body</code> to my other services, in this case my auth service. </p>

<p><strong>Here is my route</strong></p>

<pre><code>router.post('/signup', (req, res) =&gt; {
  request.post(req.path, options, (error, response, body) =&gt; {
    if (error) throw error;
    res.send(body);
  });
});
</code></pre>

<p><strong>Here is my route in my auth service</strong></p>

<pre><code>router.post('/signup', (req, res) =&gt; {
    console.log(req.body);
    res.send(req.body)

});
</code></pre>

<p>I am getting back <code>{}</code> as my response to the API gateway so it seems like my <code>req.body</code> is not being passed through to my auth service. I'm not sure the correct way to have it pass through the whole <code>req</code> object to the auth service while using the request package. </p>

<p>EDIT**</p>

<p>I think that I need to include <code>form: {key:'value'}},</code> somewhere in the request where I include <code>req.body</code> as part of the form data. Not sure how this would work since I already have the options included to set my base URL which is dynamic based off a setInterval elsewhere in my code. </p>

<pre><code>options = {
    baseUrl : serviceURL
  }
</code></pre>
",<node.js><express><api-gateway><npm-request>,0.0,0,0,1
24213,23890,54388364,1,54393667,10942034,1.0,7.0,0.0,0.0,2019-01-27T12:59:10.870,0.0,185.0,"Nodejs/express - Router.use() requires middleware function but got a ' + gettype(fn)); No app.use('/',routes);","<p>I recently ran into this error pretty much out of no where, I actually changed nothing on my system. I am however using a source code that was written between 3-5 years ago. I am very stumped because it doesn't actually reference a file where I use <code>app.use('/',routes);</code>. That is the only thing I could find on this site that was similar to my issue.</p>

<pre><code>/root/bustabit-webserver/node_modules/express/lib/router/index.js:458
      throw new TypeError('Router.use() requires a middleware function but got a ' + gettype(fn))
      ^

TypeError: Router.use() requires a middleware function but got a Object
    at Function.use (/root/bustabit-webserver/node_modules/express/lib/router/index.js:458:13)
    at Function.&lt;anonymous&gt; (/root/bustabit-webserver/node_modules/express/lib/application.js:220:21)
    at Array.forEach (&lt;anonymous&gt;)
    at Function.use (/root/bustabit-webserver/node_modules/express/lib/application.js:217:7)
    at Object.&lt;anonymous&gt; (/root/bustabit-webserver/server/index.js:95:9)
    at Module._compile (internal/modules/cjs/loader.js:736:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:747:10)
    at Module.load (internal/modules/cjs/loader.js:628:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:568:12)
    at Function.Module._load (internal/modules/cjs/loader.js:560:3)
</code></pre>

<p><strong>ROUTES.JS</strong></p>

<pre><code>var admin = require('./admin');
var assert = require('better-assert');
var lib = require('./lib');
var database = require('./database');
var user = require('./user');
var games = require('./games');
var sendEmail = require('./sendEmail');
var stats = require('./stats');
var config = require('../config/config');
var recaptchaValidator = require('recaptcha-validator');


var production = process.env.NODE_ENV === 'production';

function staticPageLogged(page, loggedGoTo) {

    return function(req, res) {
        var user = req.user;
        if (!user){
            return res.render(page);
        }
        if (loggedGoTo) return res.redirect(loggedGoTo);

        res.render(page, {
            user: user
        });
    }
}

function contact(origin) {
    assert(typeof origin == 'string');

    return function(req, res, next) {
        var user = req.user;
        var from = req.body.email;
        var message = req.body.message;

        if (!from ) return res.render(origin, { user: user, warning: 'email required' });

        if (!message) return res.render(origin, { user: user, warning: 'message required' });

        if (user) message = 'user_id: ' + req.user.id + '\n' + message;

        sendEmail.contact(from, message, null, function(err) {
            if (err)
                return next(new Error('Error sending email: \n' + err ));

            return res.render(origin, { user: user, success: 'Thank you for writing, one of my humans will write you back very soon :) ' });
        });
    }
}

function restrict(req, res, next) {
    if (!req.user) {
       res.status(401);
       if (req.header('Accept') === 'text/plain')
          res.send('Not authorized');
       else
          res.render('401');
       return;
    } else
        next();
}

function restrictRedirectToHome(req, res, next) {
    if(!req.user) {
        res.redirect('/');
        return;
    }
    next();
}

function adminRestrict(req, res, next) {

    if (!req.user || !req.user.admin) {
        res.status(401);
        if (req.header('Accept') === 'text/plain')
            res.send('Not authorized');
        else
            res.render('401'); //Not authorized page.
        return;
    }
    next();
}

function recaptchaRestrict(req, res, next) {
  var recaptcha = lib.removeNullsAndTrim(req.body['g-recaptcha-response']);
  if (!recaptcha) {
    return res.send('No recaptcha submitted, go back and try again');
  }

  recaptchaValidator.callback(config.RECAPTCHA_PRIV_KEY, recaptcha, req.ip, function(err) {
    if (err) {
      if (typeof err === 'string')
        res.send('Got recaptcha error: ' + err + ' please go back and try again');
      else {
        console.error('[INTERNAL_ERROR] Recaptcha failure: ', err);
        res.render('error');
      }
      return;
    }

    next();
  });
}


function table() {
    return function(req, res) {
        res.render('table_old', {
            user: req.user,
            table: true
        });
    }
}

function tableNew() {
    return function(req, res) {
        res.render('table_new', {
            user: req.user,
            buildConfig: config.BUILD,
            table: true
        });
    }
}

function tableDev() {
    return function(req, res) {
        if(config.PRODUCTION)
            return res.status(401);
        requestDevOtt(req.params.id, function(devOtt) {
            res.render('table_new', {
                user: req.user,
                devOtt: devOtt,
                table: true
            });
        });
    }
}
function requestDevOtt(id, callback) {
    var curl = require('curlrequest');
    var options = {
        url: 'https://www.bustabit.com/ott',
        include: true ,
        method: 'POST',
        'cookie': 'id='+id
    };

    var ott=null;
    curl.request(options, function (err, parts) {
        parts = parts.split('\r\n');
        var data = parts.pop()
            , head = parts.pop();
        ott = data.trim();
        console.log('DEV OTT: ', ott);
        callback(ott);
    });
}

module.exports = function(app) {

    app.get('/', tableNew()); // Changed the default index page to play page {staticPageLogged('index')}
    app.get('/register', staticPageLogged('register', '/play'));
    app.get('/login', staticPageLogged('login', '/play'));
    app.get('/reset/:recoverId', user.validateResetPassword);
    app.get('/faq', staticPageLogged('faq'));
    app.get('/contact', staticPageLogged('contact'));
    app.get('/request', restrict, user.request);
    app.get('/deposit', restrict, user.deposit);
    app.get('/withdraw', restrict, user.withdraw);
    app.get('/withdraw/request', restrict, user.withdrawRequest);
    app.get('/support', restrict, user.contact);
    app.get('/account', restrict, user.account);
    app.get('/security', restrict, user.security);
    app.get('/forgot-password', staticPageLogged('forgot-password'));
    app.get('/calculator', staticPageLogged('calculator'));
    app.get('/guide', staticPageLogged('guide'));


    app.get('/play-old', table());
    app.get('/play', tableNew());
    app.get('/play-id/:id', tableDev());

    app.get('/leaderboard', games.getLeaderBoard);
    app.get('/game/:id', games.show);
    app.get('/user/:name', user.profile);

    app.get('/error', function(req, res, next) { // Sometimes we redirect people to /error
      return res.render('error');
    });

    app.post('/request', restrict, recaptchaRestrict, user.giveawayRequest);
    app.post('/sent-reset', user.resetPasswordRecovery);
    app.post('/sent-recover', recaptchaRestrict, user.sendPasswordRecover);
    app.post('/reset-password', restrict, user.resetPassword);
    app.post('/edit-email', restrict, user.editEmail);
    app.post('/enable-2fa', restrict, user.enableMfa);
    app.post('/disable-2fa', restrict, user.disableMfa);
    app.post('/withdraw-request', restrict, user.handleWithdrawRequest);
    app.post('/support', restrict, contact('support'));
    app.post('/contact', contact('contact'));
    app.post('/logout', restrictRedirectToHome, user.logout);
    app.post('/login', recaptchaRestrict, user.login);
    app.post('/register', recaptchaRestrict, user.register);

    app.post('/ott', restrict, function(req, res, next) {
        var user = req.user;
        var ipAddress = req.ip;
        var userAgent = req.get('user-agent');
        assert(user);
        database.createOneTimeToken(user.id, ipAddress, userAgent, function(err, token) {
            if (err) {
                console.error('[INTERNAL_ERROR] unable to get OTT got ' + err);
                res.status(500);
                return res.send('Server internal error');
            }
            res.send(token);
        });
    });
    app.get('/stats', stats.index);


    // Admin stuff
    app.get('/admin-giveaway', restrict, admin.giveAway);
    app.post('/admin-giveaway', restrict, admin.giveAwayHandle);

    app.get('*', function(req, res) {
        res.status(404);
        res.render('404');
    });
};
</code></pre>

<p><strong>INDEX.JS</strong></p>

<pre><code>var fs = require('fs');

var express = require('express');
var http = require('http');
var assert = require('assert');
var compression = require('compression');
var path = require('path');
var bodyParser = require('body-parser');
var cookieParser = require('cookie-parser');
var socketIO = require('socket.io');
var ioCookieParser = require('socket.io-cookie');
var _ = require('lodash');
var debug = require('debug')('app:index');
var app = express();

var config = require('../config/config');
var routes = require('./routes');
var database = require('./database');
var Chat = require('./chat');
var lib = require('./lib');

debug('booting bustabit webserver');

/** TimeAgo Settings:
 * Simplify and de-verbosify timeago output.
 **/
var timeago = require('timeago');
var timeago_strings = _.extend(timeago.settings.strings, {
  seconds: '&lt; 1 min',
  minute: '1 min',
  minutes: '%d mins',
  hour: '1 hour',
  hours: '%d hours',
  day: '1 day',
  days: '%d days',
  month: '1 month',
  months: '%d months',
  year: '1 year',
  years: '%d years'
});
timeago.settings.strings = timeago_strings;


/** Render Engine
 *
 * Put here render engine global variable trough app.locals
 * **/
app.set(""views"", path.join(__dirname, '../views'));

app.locals.recaptchaKey = config.RECAPTCHA_SITE_KEY;
app.locals.buildConfig = config.BUILD;
app.locals.miningFeeBits = config.MINING_FEE/100;

var dotCaching = true;
if (!config.PRODUCTION) {
    app.locals.pretty = true;
    dotCaching = false;
}

app.engine(""html"", require(""dot-emc"").init(
    {
        app: app,
        fileExtension:""html"",
        options: {
            templateSettings: {
                cache: dotCaching
            }
        }
    }
).__express);


/** Middleware **/
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({
  extended: true
}));
app.use(cookieParser());
app.use(compression());


/** App settings **/
app.set(""view engine"", ""html"");
app.disable('x-powered-by');
app.enable('trust proxy');


/** Serve Static content **/
var twoWeeksInSeconds = 1209600;
if(config.PRODUCTION) {
    app.use(express.static(path.join(__dirname, '../build'), { maxAge: twoWeeksInSeconds * 1000 }));
} else {
    app.use(express.static(path.join(__dirname, '../client_new'), { maxAge: twoWeeksInSeconds * 1000 }));
    app.use('/client_old', express.static(path.join(__dirname, '../client_old'), { maxAge: twoWeeksInSeconds * 1000 }));
    app.use('/node_modules', express.static(path.join(__dirname, '../node_modules')), { maxAge: twoWeeksInSeconds * 1000 });
}


/** Login middleware
 *
 * If the user is logged append the user object to the request
 */
app.use(function(req, res, next) {
    debug('incoming http request');

    var sessionId = req.cookies.id;

    if (!sessionId) {
        res.header('Vary', 'Accept, Accept-Encoding, Cookie');
        res.header('Cache-Control', 'public, max-age=60'); // Cache the logged-out version
        return next();
    }

    res.header('Cache-Control', 'no-cache');
    res.header(""Content-Security-Policy"", ""frame-ancestors 'none'"");


    if (!lib.isUUIDv4(sessionId)) {
        res.clearCookie('id');
        return next();
    }

    database.getUserBySessionId(sessionId, function(err, user) {
        if (err) {
            res.clearCookie('id');
            if (err === 'NOT_VALID_SESSION') {
                return res.redirect('/');
            } else {
                console.error('[INTERNAL_ERROR] Unable to get user by session id ' + sessionId + ':', err);
                return res.redirect('/error');
            }
        }
        user.advice = req.query.m;
        user.error = req.query.err;
        user.eligible = lib.isEligibleForGiveAway(user.last_giveaway);
        user.admin = user.userclass === 'admin';
        user.moderator = user.userclass === 'admin' ||
                         user.userclass === 'moderator';
        req.user = user;
        next();
    });

});

/** Error Middleware
 *
 * How to handle the errors:
 * If the error is a string: Send it to the client.
 * If the error is an actual: error print it to the server log.
 *
 * We do not use next() to avoid sending error logs to the client
 * so this should be the last middleware in express .
 */
function errorHandler(err, req, res, next) {

    if (err) {
        if(typeof err === 'string') {
            return res.render('error', { error: err });
        } else {
            if (err.stack) {
                console.error('[INTERNAL_ERROR] ', err.stack);
            } else console.error('[INTERNAL_ERROR', err);

            res.render('error');
        }

    } else {
        console.warning(""A 'next()' call was made without arguments, if this an error or a msg to the client?"");
    }

}

routes(app);
app.use(errorHandler);

/**  Server **/
var server = http.createServer(app);
var io = socketIO(server); //Socket io must be after the lat app.use
io.use(ioCookieParser);

/** Socket io login middleware **/
io.use(function(socket, next) {
    debug('incoming socket connection');

    var sessionId = (socket.request.headers.cookie)? socket.request.headers.cookie.id : null;

    //If no session id or wrong the user is a guest
    if(!sessionId || !lib.isUUIDv4(sessionId)) {
        socket.user = false;
        return next();
    }

    database.getUserBySessionId(sessionId, function(err, user) {

        //The error is handled manually to avoid sending it into routes
        if (err) {
            if (err === 'NOT_VALID_SESSION') {
                //socket.emit('err', 'NOT_VALID_SESSION');
                next(new Error('NOT_VALID_SESSION'));
            } else {
                console.error('[INTERNAL_ERROR] Unable to get user in socket by session ' + sessionId + ':', err);
                next(new Error('Unable to get the session on the server, logged as a guest.'));
                //return socket.emit('err', 'INTERNAL_ERROR');
            }
            socket.user = false;
            return next();
        }

        //Save the user info in the socket connection object
        socket.user = user;
        socket.user.admin = user.userclass === 'admin';
        socket.user.moderator = user.userclass === 'admin' || user.userclass === 'moderator';
        next();
    });
});


var chatServer = new Chat(io);

server.listen(config.PORT, function() {
    console.log('Listening on port ', config.PORT);
});

/** Log uncaught exceptions and kill the application **/
process.on('uncaughtException', function (err) {
    console.error((new Date).toUTCString() + ' uncaughtException:', err.message);
    console.error(err.stack);
    process.exit(1);
});
</code></pre>
",<node.js><express><npm>,1.0,0,0,1
24225,23902,54397104,1,0,10942034,0.0,8.0,0.0,0.0,2019-01-28T07:13:29.220,0.0,96.0,"What is wrong with this line of code? app.use('/node_modules',","<p>I am building a cryptocurrency gambling site and since last night I have been running into issues regarding my webserver and the game loading on it.</p>

<p>I had to remove the following line of code from my index.js because it was giving me <code>Router.use() requires middleware function but got a ' + gettype(fn)); No app.use('/',routes);</code></p>

<p>Problem is, now that I've removed it, I get stuck in an infinite loading loop, you can see that here: <a href=""http://185.141.61.20:3841/play"" rel=""nofollow noreferrer"">http://185.141.61.20:3841/play</a></p>

<p>First thing I tried was clearing my cache and cookies on google chrome from the PC i was accessing the site with. Secondly I made sure my node modules were up to date, I don't really know where else to go from there as I am very new to a lot of this and the console is not throwing any errors, it's just not loading the game. I guess I'm asking, how can I make the following line of code work without giving me the above error?</p>

<pre><code>app.use('/node_modules', express.static(path.join(__dirname, '../node_modules')), { maxAge: twoWeeksInSeconds * 1000 });}
</code></pre>

<p><strong>INDEX.JS</strong></p>

<pre><code>var fs = require('fs');

var express = require('express');
var http = require('http');
var assert = require('assert');
var compression = require('compression');
var path = require('path');
var bodyParser = require('body-parser');
var cookieParser = require('cookie-parser');
var socketIO = require('socket.io');
var ioCookieParser = require('socket.io-cookie');
var _ = require('lodash');
var debug = require('debug')('app:index');
var app = express();
var router = express.Router();

var config = require('../config/config');
var routes = require('./routes');
var database = require('./database');
var Chat = require('./chat');
var lib = require('./lib');

debug('booting bustabit webserver');

/** TimeAgo Settings:
 * Simplify and de-verbosify timeago output.
 **/
var timeago = require('timeago');
var timeago_strings = _.extend(timeago.settings.strings, {
  seconds: '&lt; 1 min',
  minute: '1 min',
  minutes: '%d mins',
  hour: '1 hour',
  hours: '%d hours',
  day: '1 day',
  days: '%d days',
  month: '1 month',
  months: '%d months',
  year: '1 year',
  years: '%d years'
});
timeago.settings.strings = timeago_strings;


/** Render Engine
 *
 * Put here render engine global variable trough app.locals
 * **/
app.set(""views"", path.join(__dirname, '../views'));

app.locals.recaptchaKey = config.RECAPTCHA_SITE_KEY;
app.locals.buildConfig = config.BUILD;
app.locals.miningFeeBits = config.MINING_FEE/100;

var dotCaching = true;
if (!config.PRODUCTION) {
    app.locals.pretty = true;
    dotCaching = false;
}

app.engine(""html"", require(""dot-emc"").init(
    {
        app: app,
        fileExtension:""html"",
        options: {
            templateSettings: {
                cache: dotCaching
            }
        }
    }
).__express);


/** Middleware **/
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({
  extended: true
}));
app.use(cookieParser());
app.use(compression());


/** App settings **/
app.set(""view engine"", ""html"");
app.disable('x-powered-by');
app.enable('trust proxy');


/** Serve Static content **/
var twoWeeksInSeconds = 1209600;
if(config.PRODUCTION) {
    app.use(express.static(path.join(__dirname, '../build'), { maxAge: twoWeeksInSeconds * 1000 }));
} else {
    app.use(express.static(path.join(__dirname, '../client_new'), { maxAge: twoWeeksInSeconds * 1000 }));
    app.use('/client_old', express.static(path.join(__dirname, '../client_old'), { maxAge: twoWeeksInSeconds * 1000 }));
//    app.use('/node_modules', express.static(path.join(__dirname, '../node_modules')), { maxAge: twoWeeksInSeconds * 1000 });} crashes game
}


/** Login middleware
 *
 * If the user is logged append the user object to the request
 */
app.use(function(req, res, next) {
    debug('incoming http request');

    var sessionId = req.cookies.id;

    if (!sessionId) {
        res.header('Vary', 'Accept, Accept-Encoding, Cookie');
        res.header('Cache-Control', 'public, max-age=60'); // Cache the logged-out version
        return next();
    }

    res.header('Cache-Control', 'no-cache');
    res.header(""Content-Security-Policy"", ""frame-ancestors 'none'"");


    if (!lib.isUUIDv4(sessionId)) {
        res.clearCookie('id');
        return next();
    }

    database.getUserBySessionId(sessionId, function(err, user) {
        if (err) {
            res.clearCookie('id');
            if (err === 'NOT_VALID_SESSION') {
                return res.redirect('/');
            } else {
                console.error('[INTERNAL_ERROR] Unable to get user by session id ' + sessionId + ':', err);
                return res.redirect('/error');
            }
        }
        user.advice = req.query.m;
        user.error = req.query.err;
        user.eligible = lib.isEligibleForGiveAway(user.last_giveaway);
        user.admin = user.userclass === 'admin';
        user.moderator = user.userclass === 'admin' ||
                         user.userclass === 'moderator';
        req.user = user;
        next();
    });

});

/** Error Middleware
 *
 * How to handle the errors:
 * If the error is a string: Send it to the client.
 * If the error is an actual: error print it to the server log.
 *
 * We do not use next() to avoid sending error logs to the client
 * so this should be the last middleware in express .
 */
function errorHandler(err, req, res, next) {

    if (err) {
        if(typeof err === 'string') {
            return res.render('error', { error: err });
        } else {
            if (err.stack) {
                console.error('[INTERNAL_ERROR] ', err.stack);
            } else console.error('[INTERNAL_ERROR', err);

            res.render('error');
        }

    } else {
        console.warning(""A 'next()' call was made without arguments, if this an error or a msg to the client?"");
    }

}

app.use('/', routes);
app.use(errorHandler);

/**  Server **/
var server = http.createServer(app);
var io = socketIO(server); //Socket io must be after the lat app.use
io.use(ioCookieParser);

/** Socket io login middleware **/
io.use(function(socket, next) {
    debug('incoming socket connection');

    var sessionId = (socket.request.headers.cookie)? socket.request.headers.cookie.id : null;

    //If no session id or wrong the user is a guest
    if(!sessionId || !lib.isUUIDv4(sessionId)) {
        socket.user = false;
        return next();
    }

    database.getUserBySessionId(sessionId, function(err, user) {

        //The error is handled manually to avoid sending it into routes
        if (err) {
            if (err === 'NOT_VALID_SESSION') {
                //socket.emit('err', 'NOT_VALID_SESSION');
                next(new Error('NOT_VALID_SESSION'));
            } else {
                console.error('[INTERNAL_ERROR] Unable to get user in socket by session ' + sessionId + ':', err);
                next(new Error('Unable to get the session on the server, logged as a guest.'));
                //return socket.emit('err', 'INTERNAL_ERROR');
            }
            socket.user = false;
            return next();
        }

        //Save the user info in the socket connection object
        socket.user = user;
        socket.user.admin = user.userclass === 'admin';
        socket.user.moderator = user.userclass === 'admin' || user.userclass === 'moderator';
        next();
    });
});


var chatServer = new Chat(io);

server.listen(config.PORT, function() {
    console.log('Listening on port ', config.PORT);
});

/** Log uncaught exceptions and kill the application **/
process.on('uncaughtException', function (err) {
    console.error((new Date).toUTCString() + ' uncaughtException:', err.message);
    console.error(err.stack);
    process.exit(1);
});

module.exports = router;
</code></pre>
",<node.js><express><npm><router>,0.0,0,0,1
24331,24008,54489985,1,54490431,7310435,2.0,0.0,0.0,0.0,2019-02-02T04:28:38.047,1.0,4683.0,Report Generation in Node.js Using Node-Jasper Package,"<p>I am trying to generate a report using node-jasper package in node.js.
When i write the code without class implementation then the code works fine following is the workable code.</p>

<pre><code>jasper = require('node-jasper')({
        path: '../lib/jasperreports-5.6.0',
        reports: {
            hw: {
                jasper: '../jasperFiles/NodeIreportTest.jasper'
            }
        },
        drivers: {
            mysql: {
                path: '../lib/com.mysql.jdbc_5.1.5.jar',
                class: 'com.mysql.jdbc.Driver', //odbc driver//sun.jdbc.odbc.JdbcOdbcDriver //mysqlDriver// com.mysql.jdbc.Driver
                type: 'mysql'
            }
        },
        conns: {
            dbserver1: {
                host: '192.168.1.164',
                port: 3306,
                dbname: 'dbname',
                user: 'user',
                pass: '1234',
                driver: 'mysql'
            }
        },
        defaultConn: 'dbserver1'
    });
</code></pre>

<p>Following is complete object found when i debug the code. which is having (hm) property.</p>

<p><a href=""https://i.stack.imgur.com/dea68.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/dea68.png"" alt=""Following is complete object found when i debug the code.""></a></p>

<p>but when i tried to introduce the classes and make the code standard i get and error <code>TypeError: self.hm is not a constructor</code>
following is class implementation of the same code </p>

<pre><code>class ReportModel {
    constructor(strJasperPath, objDataObject, intClientIP) {
        this.strJasperPath = strJasperPath;
        this.objDataObject = objDataObject;
        this.intClientIP = intClientIP;
    }

    makeReport() {

        return new Promise ((resolve, reject) =&gt; {
            jasper = require('node-jasper')({
                path: '../lib/jasperreports-5.6.0',
                reports: {
                    hw: {
                        //jasper: '../jasperFiles/NodeIreportTest.jasper'
                        jasper: '../jasperFiles/' + this.strJasperPath + '.jasper' //path to report
                    }
                },
                drivers: {
                    mysql: {
                        path: '../lib/com.mysql.jdbc_5.1.5.jar',
                        class: 'com.mysql.jdbc.Driver', //odbc driver//sun.jdbc.odbc.JdbcOdbcDriver //mysqlDriver// com.mysql.jdbc.Driver
                        type: 'mysql'
                    }
                },
                conns: {
                    dbserver1: {
                        host: '192.168.1.164',
                        port: 3306,
                        dbname: 'dbname',
                        user: 'user',
                        pass: '1234',
                        driver: 'mysql'
                    }
                },
                defaultConn: 'dbserver1'
            });



            var report = {
                report: 'hw',
                data: this.objDataObject
            }
            var pdf = jasper.pdf(report);


            var strReportName = this.strJasperPath + intClientIP + '.pdf'
            var filepath = ""./reports/"" + strReportName

            var filename = {
                ""filepath"": serverConfig.reporthost + path.basename(filepath)
            };

            //check if file is present or not 
            fs.access(filepath, fs.constants.F_OK | fs.constants.W_OK, (err) =&gt; {
                if (err) {
                    //file is not present 
                    fs.writeFile(""./reports/"" + strReportName, new Buffer(pdf, 'binary'), (err) =&gt; {
                        if (err) {
                            reject(err);
                        }
                        resolve(filename);
                    });
                } else {
                    //file is present then delete it and then create it 
                    fs.unlink(filepath, (err) =&gt; {
                        if (err) {
                            reject(err);
                        } else {

                            fs.writeFile(""./reports/"" + strReportName, new Buffer(pdf, 'binary'), (err) =&gt; {
                                if (err) {
                                    console.log('WriteFile', err)
                                }
                            resolve(filename);
                            });
                        }

                    });

                }
            });
        });


    }
}
</code></pre>

<p>following is the object which is not having hm property with class implementation.</p>

<p><a href=""https://i.stack.imgur.com/elxpK.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/elxpK.png"" alt=""following is the object which is not having hm property ""></a></p>
",<node.js><express><npm><jasper-reports><node-modules>,0.0,0,0,1
24376,24053,54533274,1,54533353,10013565,2.0,1.0,0.0,0.0,2019-02-05T11:20:41.600,0.0,3037.0,Node JS - Not able to install node js version 8.9 or greater in ubuntu 16.04,"<p>I have tried various methods by which I can install the latest version of nodejs on my operating system but was unsuccessful. </p>

<p>In the end it always ends up installing 
<strong>version v.4.2.6</strong></p>

<p>When I run the commands below, it always shows an error as shared in the screenshots of my terminal.<br>
<strong>Current release:<br></strong>
sudo apt-get install curl python-software-properties
curl -sL <a href=""https://deb.nodesource.com/setup_11.x"" rel=""nofollow noreferrer"">https://deb.nodesource.com/setup_11.x</a> | sudo -E bash -</p>

<p><strong>or LTS release:</strong><br>
sudo apt-get install curl python-software-properties
curl -sL <a href=""https://deb.nodesource.com/setup_10.x"" rel=""nofollow noreferrer"">https://deb.nodesource.com/setup_10.x</a> | sudo -E bash -</p>

<p>// throws error
Version:<br>
<a href=""https://i.stack.imgur.com/3BBSD.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/3BBSD.png"" alt=""enter image description here""></a></p>

<p><br>Trying to execute node 11 script:<br>
<a href=""https://i.stack.imgur.com/AsRcn.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/AsRcn.png"" alt=""enter image description here""></a></p>

<p><br>o/p of the above script: <br>
<a href=""https://i.stack.imgur.com/uokiJ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/uokiJ.png"" alt=""enter image description here""></a></p>

<p>Please guide me how can it be fixed. I have followed some of the other stackoverflow links but couldn't make it.</p>

<p>Thanks you for your help.</p>
",<node.js><express><npm>,0.0,0,0,1
24393,24070,54550730,1,54553113,8251798,1.0,0.0,0.0,0.0,2019-02-06T09:54:00.167,0.0,575.0,Is there any way to Manipulate gif in node.js?,"<p>i am using jimp to manipulate images like below code, is there any other similer thing to manipulate gif?</p>

<pre><code>var jimp = require('jimp');

jimp.read('images.png').then(function (image) {

    image.scaleToFit(32, jimp.AUTO, jimp.RESIZE_BEZIER)
   .write('aa.png');

}).catch (function (err) {
    console.log(err)
});
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
24430,24107,54591089,1,0,6222152,2.0,0.0,0.0,0.0,2019-02-08T11:05:26.090,0.0,1737.0,_ is not defined - NodeJS + UnderscoreJS,"<p>Trying to use Underscore JS in a Node.JS project. Really stumped why it is not working. Note: <strong>This works if I simply use the CDN for underscore.</strong> However I'd really like to know why I am unable to get this to work using NPM.  </p>

<p><strong>I am getting this error:</strong> </p>

<pre><code>Uncaught ReferenceError: _ is not defined
</code></pre>

<p>Installed with: <code>npm install underscore --save</code></p>

<p>Within the app.js file &amp; Index files have tried both of these: </p>

<pre><code>var _ = require('underscore')._
</code></pre>

<p>and</p>

<pre><code>var underscore = require('underscore');
</code></pre>

<p>Even tried requiring it within the page render: </p>

<pre><code>res.render(""dashboard"", {currentUser: req.user, underscore : underscore});
</code></pre>

<p>This is the test I'm using: </p>

<pre><code>&lt;script&gt; 
var tacos = ['beef', 'chicken', 'soft', 'hard', 'With nacho cheese']
 _.shuffle([tacos]);
 console.log(_.shuffle(tacos)); 
&lt;/script&gt;
</code></pre>
",<node.js><mongodb><express><npm><underscore.js>,0.0,0,0,1
24471,24148,54619875,1,54619937,9138195,2.0,0.0,0.0,0.0,2019-02-10T18:56:59.560,0.0,440.0,Run several javascript file dynamically using same npm run command,"<p>My folder structure:</p>

<pre><code>app

  Model

    user.js
    post.js
</code></pre>

<p>My package.json file</p>

<pre><code>""scripts"": {
    ""migrate"": ""node ./app/Model/""
}
</code></pre>

<p>I want to run javascript file in command line dynamically.</p>

<p>Like:</p>

<pre><code>npm run migrate user.js
npm run migrate post.js
</code></pre>

<p>Is there any way to achieve this?</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
24498,24175,54649521,1,0,10983037,3.0,0.0,0.0,0.0,2019-02-12T11:50:55.713,4.0,11134.0,Request Error: No connection is specified for that request; while connecting to Sql server using express.js?,"<p>I am using the latest versions of node, express and mssql module. I am trying to connect to the local instance of sql server 2014 using express.js. </p>

<p>I am using mssql module and callbacks mechanism from the official documentation.</p>

<p>I have tried:</p>

<pre><code>const express= require('express');
const app= express();
const mssql= require('mssql');

app.get('/', (req, res) =&gt; 
{
  const configuration=
  {
    name: ""default"",
    host: 'localhost',
    database: 'HimHer',
    user: '',
    password: '',
    port: 1433
  }

        new mssql.connect(configuration, error =&gt; 
        {
            new mssql.Request().query('Select * from Users', (err, dataset) =&gt; 
            {   
                  if(err)
                  {
                      console.log(err);
                      res.send(err);  
                      return;
                  }
                  else
                  {
                      console.dir(dataset);  
                      res.send(JSON.stringify(dataset));  
                      return;           
                  }


         });
    });

    mssql.close();


    mssql.on('error', err =&gt; 
    {
        console.log(err);  
    });
});



app.listen(5000, () =&gt; 
{
    console.log('Listening to requests on port 5000');
})
</code></pre>

<p>I want it to be connected to the database. </p>
",<javascript><node.js><express><npm><node-mssql>,0.0,0,0,1
24581,24258,54720247,1,54720386,44257,3.0,0.0,0.0,0.0,2019-02-16T05:38:39.470,-1.0,674.0,How do run an express-generator created application in production mode?,"<p>I'm using the Express application generator, which recommends starting the server in this manner:</p>

<pre><code>$ DEBUG=myapp:* npm start
</code></pre>

<p>This works and my app starts to listen on the specified port.</p>

<p>However, the <code>DEBUG</code> makes me wonder: is this running in 'dev' mode? If so, how do I run it in production mode when deployed on the server?</p>

<p>If I only run <code>npm start</code>, it gets stuck:</p>

<pre><code>$ npm start

&gt; myapp@0.0.0 start /home/aalaap/projects/myapp
&gt; node ./bin/www
</code></pre>

<p>There is no line saying that the server is listening and the app is not accessible.</p>

<p>If I run <code>node app.js</code>, it exits immediately without any output.</p>

<p>I feel that running the app in debug mode may not be what is ideal for production, but I may be wrong about that if I haven't understood this correctly.</p>

<p><em>Edit:</em> On the server, there's a cron entry that restarts the server in intervals in case it crashes. If the above method is the only way to run it, should I modify the cron command to include the <code>DEBUG</code> part?</p>
",<node.js><express><npm><npm-start><dev-to-production>,0.0,0,0,1
24763,24440,54897505,1,55115526,10635094,2.0,0.0,0.0,0.0,2019-02-27T03:20:11.033,0.0,344.0,How to send next() in a callback function,"<p>Here i want to send the next() when my data is received from the python script but i am getting Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client.</p>

<pre><code>const {PythonShell} = require('python-shell');

module.exports = (req, res, next)=&gt;{
let myPythonScriptPath = 'encrypt.py';
const pyshell = new PythonShell(myPythonScriptPath);
let path = req.file.path;    
pyshell.send(path);


pyshell.on(""message"", function(data){
    console.log(data);
    req.filepath = data;
    next();
})

// end the input stream and allow the process to exit
pyshell.end(function (err) {
    if (err){
        throw err;
    }
});
}
</code></pre>

<hr>

<p>but it is working when i put next() at the end of code but then my req.filepath is undefined </p>

<pre><code>const {PythonShell} = require('python-shell');

module.exports = (req, res, next)=&gt;{
let myPythonScriptPath = 'encrypt.py';
const pyshell = new PythonShell(myPythonScriptPath);
let path = req.file.path;    
pyshell.send(path);


pyshell.on(""message"", function(data){
    console.log(data);
    req.filepath = data;
})

// end the input stream and allow the process to exit
pyshell.end(function (err) {
    if (err){
        throw err;
    }
});

next();
}
</code></pre>

<p>What i want is to store the data coming from python script in req.filepath which is to be sent to next middleware. Can anyone help me with this?</p>
",<python><node.js><rest><express><npm>,0.0,0,0,1
24917,24594,55025417,1,0,3525780,2.0,0.0,0.0,0.0,2019-03-06T14:27:08.590,0.0,2261.0,Combining Express 4 and Vue CLI 3,"<p>I built a project with Vue CLI 3 and Express 4 and this went straight forward so far, as I had the backend server in one folder and the frontend in another, but now I'm coming to a halt trying to deploy both on a single Node hosting service. Let me tell more in a bit.</p>

<p>My project structure so far:</p>

<pre><code>Project:
  - node_modules/
  - package.json

Project/Frontend (Vue CLI 3):
  - node_modules/
  - package.json
  - app.js
  - dist/
  - &lt;other folders like ""public"",""tests"",""src"",etc&gt;        

Project/Backend (Express 4):
  - node_modules/
  - package.json
  - app.js
  - &lt;other folders like ""controllers"" and stuff&gt;
</code></pre>

<p>Now, the problem is that I need to combine both in one Node app, in order to deploy it on a hosting serice. </p>

<p>I'd like to let Express (Backend) run the server and serve <code>dist/</code> from the Frontend, but the problem is that the hosting service that I've chosen just runs <code>npm install</code> on the root folder, which isn't helpful, as I need the ""Express"" (and some others) package to run the server. Since it's not in the root folder, it doesn't install any packages and obviously fails to run.</p>

<p>I've created a root-level npm config to try to compile the Frontend and then copy <code>dist/</code> to the Express backend. But since the hosting service doesn't install anything other than the root npm config, <code>cd</code>'ing into the Frontend and then building fails, as it misses <code>node_modules</code>.</p>

<p>I somehow managed to make this work by installing webpack on the backend folder's npm, configuring it to bundle the Express app and copying the bundle and the <code>dist/</code> from the frontend in the root Project's folder and then running on the root-level npm:</p>

<pre><code>cd frontend &amp;&amp; npm run build &amp;&amp; cd ../backend &amp;&amp; webpack
</code></pre>

<p>and after that pushing the root <code>dist/</code> to the hosting service, which kinda worked, but it's ""fiddly"" and not optimal, even more because I need to build it everytime on the local computer and <em>only then</em> upload it. If I somehow could utilize the root npm's packages to build frontend and backend on the hosting service, it would be great, but I believe here versioning is another issue, since both would share the same npm packages.</p>

<p>Is there any better and/or cleaner solution to this?</p>

<p>If any detail is missing, just let me know.</p>

<p>Thanks for any help in advance.</p>
",<node.js><express><npm><vue-cli-3>,0.0,0,0,1
25091,24768,55191425,1,55192147,11210907,2.0,4.0,0.0,0.0,2019-03-15T22:26:24.143,0.0,4830.0,async arrow function SyntaxError: Unexpected token (,"<p>I'm using node version 10.15.3, npm version 6.9.0, VS code, and firebase-functions version 2.2.0 on a windows pc. Adding async/await to my app.post() function causes this:</p>

<pre><code> Function failed on loading user code. Error message: Code in file 
 index.js can't be loaded.
 Is there a syntax error in your code?
 Detailed stack trace: /user_code/index.js:31
 app.post('/pay-now', async (req, res) =&gt; {
                       ^

 SyntaxError: Unexpected token (
     at createScript (vm.js:56:10)
     at Object.runInThisContext (vm.js:97:10)
     at Module._compile (module.js:549:28)
     at Object.Module._extensions..js (module.js:586:10)
     at Module.load (module.js:494:32)
     at tryModuleLoad (module.js:453:12)
     at Function.Module._load (module.js:445:3)
     at Module.require (module.js:504:17)
     at require (internal/module.js:20:19)
     at getUserFunction (/var/tmp/worker/worker.js:439:24)
</code></pre>

<p>Here's my app.post():</p>

<pre><code>app.post('/pay-now', async (req, res) =&gt; {
    // charge user's card
    const charge = await makeCharge(req, res)
    // store order info in database, returns address of order
    const address = await storeOrder(req, res, charge.id)
    // send email to customer
    await emailHandler.sendCustomerEmail(req, res)
    // send email to company letting them know they have a new order
    await emailHandler.sendLTEmail(req, res, address, true)
    return res.sendStatus(200)
})
</code></pre>

<p>I tried removing the async &amp; await's in app.post(), but then I get the same error at the first use of async in the function makeCharge. Any idea on what could be wrong?</p>
",<node.js><firebase><express><npm><async-await>,1.0,0,0,1
25097,24774,55195158,1,0,11046180,1.0,1.0,0.0,0.0,2019-03-16T09:09:44.027,0.0,275.0,"heroku run locally command give me the following error in node js ,what are the possible reason?","<p> 0 info it worked if it ends with ok</p>

<p>1 verbose cli [ 'C:\\Program Files\\nodejs\\node.exe',</p>

<p>1 verbose cli   'C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js',</p>

<p>1 verbose cli   'start' ]</p>

<p>2 info using npm@6.4.1</p>

<p>3 info using node@v10.15.0</p>

<p>4 verbose run-script [ 'prestart', 'start', 'poststart' ]</p>

<p>5 info lifecycle btc@1.0.0~prestart: btc@1.0.0</p>

<p>6 info lifecycle btc@1.0.0~start: btc@1.0.0</p>

<p>7 verbose lifecycle btc@1.0.0~start: unsafe-perm in lifecycle true</p>

<p><p>8 verbose lifecycle btc@1.0.0~start: PATH: C:\Program </p><p>Files\nodejs\node_modules\npm\node_modules\npm-lifecycle\node-gyp-</p><p>bin;C:\Users\THOR\Desktop\btc\node_modules.bin;C:\Program Files <p></p><p>Files\MongoDB\Server\4.0\bin;C:\Program Files\Java\jdk-10.0.1\bin;C:\Program <p>Files\nodejs;C:\Program </p><p>Files\Git\bin;c:\windows\system32;C:\Users\THOR\AppData\Local\Microsoft\Windo</p><p>wsApps;C:\Users\THOR\AppData\Roaming\npm;C:\Users\THOR\AppData\Local\Programs</p><p>\Microsoft VS Code\bin;C:\Program Files\heroku\bin</p></p>

<p>9 verbose lifecycle btc@1.0.0~start: CWD: C:\Users\THOR\Desktop\btc</p>

<p>10 silly lifecycle btc@1.0.0~start: Args: [ '/d /s /c', 'app.js' ]</p>

<p>11 silly lifecycle btc@1.0.0~start: Returned: code: 1  signal: null</p>

<p>12 info lifecycle btc@1.0.0~start: Failed to exec start script</p>

<p>13 verbose stack Error: btc@1.0.0 start: `app.js`</p>

<p>13 verbose stack Exit status 1</p>

<p><p>13 verbose stack     at EventEmitter. (C:\Program </p><p>Files\nodejs\node_modules\npm\node_modules\npm-lifecycle\index.js:301:16)</p></p>

<p>13 verbose stack     at EventEmitter.emit (events.js:182:13)</p>

<p><p>13 verbose stack     at ChildProcess. (C:\Program </p><p>Files\nodejs\node_modules\npm\node_modules\npm-lifecycle\lib\spawn.js:55:14)</p>
<p>13 verbose stack     at ChildProcess.emit (events.js:182:13)</p></p></p>

<p>13 verbose stack     at maybeClose (internal/child_process.js:962:16)</p>

<p><p>13 verbose stack     at Process.ChildProcess._handle.onexit </p>(internal/child_process.js:251:5)</p></p>

<p>14 verbose pkgid btc@1.0.0</p>

<p>15 verbose cwd C:\Users\THOR\Desktop\btc</p>

<p>16 verbose Windows_NT 10.0.17134</p>

<p><p>17 verbose argv ""C:\Program Files\nodejs\node.exe"" ""C:\Program </p>Files\nodejs\node_modules\npm\bin\npm-cli.js"" ""start""</p>
18 verbose node v10.15.0</p></p>

<p>19 verbose npm  v6.4.1</p>

<p>20 error code ELIFECYCLE</p>

<p>21 error errno 1</p>

<p>22 error btc@1.0.0 start: `app.js`</p>

<p>22 error Exit status 1</p>

<p>23 error Failed at the btc@1.0.0 start script.</p>

<p><p>23 error This is probably not a problem with npm. There is likely additional <p>logging output above.</p></p>

<p>24 verbose exit [ 1, true ]</p>
",<node.js><express><npm>,0.0,0,0,1
25128,24805,55221702,1,0,10838842,1.0,1.0,0.0,0.0,2019-03-18T12:44:34.770,0.0,93.0,Alter node global variable on runtime,"<p>I need to change the logging level of my node application on runtime whenever I want to on the basis of load on my cassndra servers or purely on an ad-hoc basis. I can think of one way i.e. by creating an endpoint (express route) to alter that variable but was looking for some other solutions that may exist.</p>

<p>Any suggestions/help will be extremely appreciated :)</p>
",<node.js><express><npm>,0.0,0,0,1
25273,24950,55352830,1,0,9832281,1.0,0.0,0.0,0.0,2019-03-26T08:36:23.777,0.0,46.0,NPM - Difference between facebook-bot-messenger & messenger-node,"<p>Can anyone please tell me the difference between these two modules :</p>

<ul>
<li><code>facebook-bot-messenger</code></li>
<li><code>messenger-node</code></li>
</ul>

<p>Thanks!</p>
",<node.js><express><npm><node-modules><facebook-messenger-bot>,0.0,0,0,1
25343,25020,55427366,1,55427410,11257751,3.0,1.0,0.0,0.0,2019-03-30T01:36:49.980,1.0,366.0,Create a localstorage for my background color,"<p>I have a button that randomly generates a background color every time you click it. I want to make it a <code>localstorage</code> function so that every time I close or reload the page my last clicked background color remains on the webpage.</p>

<pre><code>      var link = document.getElementById(""bglink"");
      var output = document.getElementById(""output"");

      link.addEventListener(""click"", getRandom);

      function getRandom(){

        var newColor = '#'+Math.floor(Math.random()*16777215).toString(16);


        var rgbColor = newColor.replace('#','');
        var r = parseInt(rgbColor.substring(0,2), 16);
        var g = parseInt(rgbColor.substring(2,4), 16);
        var b = parseInt(rgbColor.substring(4,6), 16);
        var result = 'rgba(' + r + ',' + g + ',' + b + ')';

        document.body.style.backgroundColor = newColor;
        output.textContent = newColor + "" - "" + result;


      }

              $(""#bglink"").click(function () {
    var bgcolor = document.body.style.backgroundColor; 
    localStorage.setItem(""bgcolor"", document.body.style.backgroundColor);
    alert('Background colour ' + bgcolor + ' saved in localStorage');
});
</code></pre>

<p>On reload, the page should be set to last color that was set when clicking the button.</p>
",<javascript><jquery><rest><express><npm>,0.0,0,0,1
25445,25122,55534911,1,56046031,5109694,1.0,1.0,0.0,0.0,2019-04-05T12:00:47.460,0.0,43.0,Elastic search for mutliple fields in indexed data,"<p>I am using monogsastic npm for my elastic search in node js. I wanted to query on more than one field.The condition that I want to use is either this field or that field.</p>

<p>I was successfull in searching using one field</p>

<pre><code>var userfollowers =['5c5bbc7c18425d3f440e82aa','5c5f7ef118425d3f440f5cec','5c6c22820c384e6f2cd65f31','5ca11df654572d6b67998591','5c9e296054572d6b6798f2bf','5ca2f87ee9131074001491b5','5ca1d1d554572d6b6799cb51'];
var topics = [ 'adaptive signal processing','amplifiers','biomedical equipment','business','chemical technology','imaging'];

    Paperupload.esSearch({ 
            from:from,
                    size:size,
                            query:{
                                    ""terms"" : {
                                    ""userId._id"": userfollowers
                                    }

                            },
                            sort:{
                                ""createdAt"":{
                                    ""order"" : ""desc""
                                }
                            }   
                },
                function(err, results) {
                    console.log(""err"",err)
                    console.log(""result:"",results)
                }
</code></pre>

<p>Need to also search for topics in content field of indexed data.Condition to be applied is OR (either userFollowers OR topics in content)</p>
",<node.js><express><elasticsearch><npm>,0.0,0,0,1
25490,25167,55578742,1,55594956,7540538,3.0,0.0,0.0,0.0,2019-04-08T17:28:40.537,1.0,3321.0,Cant do npm start on express generator,"<p>I have npm 6.4.1 and node v10.15.3 on my windows so i tried installing Express Generator followed all the steps on the website and i am getting this when i try running npm start</p>

<pre><code>&gt; myapp@0.0.0 start C:\Users\ONLINEWIS-PROG-03\Documents\JS Basics\myapp
&gt; node ./bin/www

Port 3000 requires elevated privileges
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! myapp@0.0.0 start: `node ./bin/www`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the myapp@0.0.0 start script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\ONLINEWIS-PROG-03\AppData\Roaming\npm-cache\_logs\2019-04-08T16_55_03_162Z-debug.log
</code></pre>
",<javascript><node.js><windows><express><npm>,0.0,0,0,1
25491,25168,55579875,1,0,11330762,0.0,4.0,0.0,0.0,2019-04-08T18:44:46.687,0.0,71.0,How to provide script specific options in npm python-shell?,"<p>I have written a server using Express.js, and I need to run a python script using it. Also I need to provide script specific options like '--imsize 64'. How should I do it?</p>

<p>I have tried using the options argument in PythonShell.run(..). Please guide me through it.</p>

<pre><code>/* Some Code */
const ps = require('python-shell');
let imgen_options={
   pythonOptions: ['-imsize 16' ]
};

/* Some more Code */

app.get('/gen-img/:id',function(req, res){
    var data=req.params.id;
    var dataFolder = __dirname + '/dist/generated/'+data;
    ps.PythonShell.run(dataFolder + '/image_gen.py',imgen_options, 
    function (err, results) {
        if (err) throw err;
        console.log('finished');
        res.send(JSON.stringify({ image: 1 }));
    }); 
});
/* Some more Code */
</code></pre>
",<python><node.js><express><npm>,0.0,0,0,1
25575,25252,55667073,1,55668054,2934891,1.0,1.0,0.0,0.0,2019-04-13T15:30:19.990,2.0,225.0,Node server stops working after several times working,"<p>I have express setup to do server side rendering for a React project I'm working on, and it seems to just anomalously stop working after a certain amount of time following this progression:</p>

<p>1) Server goes up, returns pages successfully</p>

<p>2) I tweak the server files a bit, restart.</p>

<p>3) Server continues to work</p>

<p>4) Tweak more, restart</p>

<p>5) Server stops working, even if reverting back to the files used from step 1</p>

<p>6) Attached error continues to display on all future attempts until node_modules is deleted and all dependencies are reloaded</p>

<p>So, while I have a workaround for the moment, it's far from efficient to wipe the entire dependency set each time this comes up, and I have concerns whether this kind of behavior might surface when the app is deployed. What's going on here and how do I prevent it?</p>

<p>I've made sure node doesn't have leftover ghost processes running in background or anything, and the complete run log doesn't say much different than the error message is saying. Not sure of any other angles to consider here.</p>

<pre><code>E:\JsProjects\ssrproj&gt; npm run serve

&gt; ssrproj@0.1.0 serve E:\JsProjects\ssrproj
&gt; cross-env NODE_ENV=production node ./server/index.js

E:\JsProjects\ssrproj\node_modules\convert-source-map\index.js:61
  return SafeBuffer.Buffer.from(json, 'utf8').toString('base64');
                           ^

TypeError: Cannot read property 'from' of undefined
    at Converter.toBase64 (E:\JsProjects\ssrproj\node_modules\convert-source-map\index.js:61:28)
    at Converter.toComment (E:\JsProjects\ssrproj\node_modules\convert-source-map\index.js:65:21)
    at generateCode (E:\JsProjects\ssrproj\node_modules\@babel\core\lib\transformation\file\generate.js:78:76)
    at runSync (E:\JsProjects\ssrproj\node_modules\@babel\core\lib\transformation\index.js:50:51)
    at transformSync (E:\JsProjects\ssrproj\node_modules\@babel\core\lib\transform.js:43:38)
    at Object.transform (E:\JsProjects\ssrproj\node_modules\@babel\core\lib\transform.js:22:38)
    at compile (E:\JsProjects\ssrproj\node_modules\@babel\register\lib\node.js:73:20)
    at compileHook (E:\JsProjects\ssrproj\node_modules\@babel\register\lib\node.js:102:12)
    at Module._compile (E:\JsProjects\ssrproj\node_modules\pirates\lib\index.js:93:29)
    at Module._extensions..js (internal/modules/cjs/loader.js:700:10)
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! ssrproj@0.1.0 serve: `cross-env NODE_ENV=production node ./server/index.js`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the ssrproj@0.1.0 serve script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\user\AppData\Roaming\npm-cache\_logs\2019-04-13T15_17_36_311Z-debug.log
</code></pre>
",<javascript><node.js><express><npm>,1.0,0,0,1
25629,25306,55729306,1,0,10833110,1.0,0.0,0.0,0.0,2019-04-17T13:59:51.850,0.0,75.0,R10 Boot Timeout error while running app on heroku,"<p>I have express.js application, and I want to run command build before application starts, but I am getting this error ""Error R10 (Boot timeout) -> Web process failed to bind to $PORT within 60 seconds of launch"".</p>

<p>Here is my scripts in package.json</p>

<pre><code>""scripts"": {
""dev"": ""concurrently \""webpack --config webpack/client.prod.js --progress --watch\"" \""webpack --config webpack/server.prod.js --progress --watch\"" \""npm start\"""",
""real_dev"": ""webpack-dev-server --config webpack/client.dev.js"",
""build"": ""npm run build:client &amp;&amp; npm run build:server"",
""build:server"": ""cross-env NODE_ENV=production webpack --config webpack/server.prod.js --progress"",
""build:client"": ""cross-env NODE_ENV=production webpack --config webpack/client.prod.js --progress"",
""start"": ""cd server &amp;&amp; node bin/server.js"",
""lint"": ""eslint --ext .jsx,.js ./""
</code></pre>

<p>},</p>
",<node.js><express><heroku><npm><deployment>,0.0,0,0,1
25716,25393,55799106,1,55799265,10059663,1.0,0.0,0.0,0.0,2019-04-22T18:21:20.443,-2.0,61.0,NodeJS & Express: Can't get access to a function outside a folderr,"<p>I Can't get access to the function i export in app.js</p>

<p>in app.js file:</p>

<pre><code>function getConnection() {
    return mysql.createPool({
        host: 'localhost',
        user: 'root',
        password: '',
        database: 'Academind'
    })
}

module.exports = {
    getConnection: function () {
        return getConnection()
    }
}
</code></pre>

<p>in my orders.js file:</p>

<pre><code>const app = require('../../app')

function getConnection() {
    return app.getConnection() // doesn't work 
}
</code></pre>

<p>I get this error:</p>

<blockquote>
  <p>app.getConnection is not a function</p>
</blockquote>
",<javascript><node.js><express><npm><node-modules>,0.0,0,0,1
25902,25579,55985498,1,0,5301040,1.0,0.0,0.0,0.0,2019-05-04T18:11:35.977,1.0,350.0,Mongodb query for ObjectID returns null,"<p>The following method should query in the conversationCollection for an entry with a given ObjectID. </p>

<pre><code>const mongodb = require('mongodb')
const ObjectID = mongodb.ObjectID


app.get('/getConversations', (req, res) =&gt; {
    verifyUser(req, res, function(result) {
        if(result !== ""false"") {
            for(var i=0; i&lt;result.conversations.length; i++) {
                var objectid = new ObjectID(result.conversations[i].toString())
                conversationCollection.findOne({_id: objectid}, function(res2) {
                    console.log(res2.members)
                    res.end(res2)
                })
            }
        } else {
            res.end(""Error"")
        }
    })
})
</code></pre>

<p>The result object has e.g. following data:</p>

<pre><code>{ 
  // ...
  conversations: [ 5ccdc51d22399918b45b33d4,
                   5ccdc52322399918b45b33d6 ],
  // ...
}
</code></pre>

<p>The problem is that <code>console.log(res2.members)</code> always throws <code>TypeError: Cannot read property 'members' of null</code>. The query for the findOne-method seams to be wrong. I've tried some variants already:</p>

<pre><code>conversationCollection.findOne({""_id"": objectid}, function(res2)
conversationCollection.findOne({_id: new ObjectID(result.conversations[i].toString())}, function(res2)
conversationCollection.findOne({""_id"": ew ObjectID(result.conversations[i])}, function(res2)
conversationCollection.findOne({""_id"": result.conversations[i]}, function(res2)
</code></pre>

<p>Nothing works and every variant produces the same nullpointer-exception.</p>
",<javascript><node.js><mongodb><express><npm>,0.0,0,0,1
25997,25674,56065673,1,56065881,10120249,1.0,4.0,0.0,0.0,2019-05-09T18:39:35.047,-2.0,117.0,NodeJS TypeError after restarting the node server,"<p>I'm building a web app with Node.js, Express framework, and EJS templates.</p>

<p>Here's my server:</p>

<pre class=""lang-js prettyprint-override""><code>const express = require('express');
const app = express();
const PORT = process.env.PORT || 3000;
app.set('view engine', 'ejs');
app.get('/', (req,res) =&gt; {
  res.render('home', {
    headline : 'We are always on a mission for Clearn Benglauru'
  });
});

app.use(express.static(__dirname, '/public'));
app.listen(PORT, () =&gt; {
  console.log(`The app is running on port : ${PORT}`);
});
</code></pre>

<p>After starting the server, I got this error:</p>

<pre><code>TypeError: Object prototype may only be an Object or null: /public
    at Function.create (&lt;anonymous&gt;)
    at Function.serveStatic [as static] (&lt;DIRECTORY&gt;\node_modules\serve-static\index.js:48:21)
    at Object.&lt;anonymous&gt; (&lt;DIRECTORY&gt;\test:12:23)
</code></pre>

<p>Maybe related to <a href=""https://stackoverflow.com/questions/30426420/node-js-object-prototype-may-only-be-an-object-or-null-with-redis"">Node.JS object prototype may only be an Object or null with Redis</a>    </p>
",<javascript><node.js><express><npm><ejs>,1.0,0,0,1
26036,25713,56104329,1,56105434,7411165,1.0,1.0,0.0,0.0,2019-05-12T23:39:52.400,1.0,149.0,Difficulty registering callback url with IBM watson speech-to-text npm module,"<p>I'm trying to register a callback url for the IBM speechToText service, using express, and I keep getting a 400 response when I call speechToText.registerCallback.</p>

<p>I've already ensured that the url exists and is providing responses as expected via Postman. I also know that my SpeechToText service has correct credentials. </p>

<p>I'm not seeing the 'challenge_string' logged when I call the endpoint using registerCallback. </p>

<pre><code>router.get('/callback', (req,res,next) =&gt; {
    console.log(req.query.challenge_string);
    return res.status(200);
});

router.post('/newStream', (req,res) =&gt; {

var speechToText = new SpeechToTextV1({
        username: &lt;my_username&gt;,
        password: &lt;my_password&gt;,
        url: 'https://stream.watsonplatform.net/speech-to-text/api/'
      });

    const registerCallbackParams = {
        callback_url: 'http://127.0.0.1:8080/callback',
        user_secret: 'ThisIsMySecret',
    };

    speechToText.registerCallback(registerCallbackParams)
    .then(registerStatus =&gt; {
        console.log(JSON.stringify(registerStatus, null, 2));
    })
    .catch(err =&gt; {
        console.log(registerCallbackParams);
        console.log('error:', err);
    }); 

}```
</code></pre>
",<express><npm><callback><ibm-watson><speech-to-text>,0.0,0,0,1
26056,25733,56123923,1,0,5096638,0.0,1.0,0.0,0.0,2019-05-14T06:03:31.507,1.0,472.0,Node js accesscontrol package basic usage,"<p>I am creating a node js api in which i need to implement Role Based Access Control (RBAC) in combination with Attribute Based Access Control (ABAC). I found <a href=""https://github.com/onury/accesscontrol"" rel=""nofollow noreferrer"">accesscontrol</a>, wonderful npm package which suits my use case.</p>

<p>It read all the documentation which can be found here: <a href=""https://onury.io/accesscontrol/?api=ac"" rel=""nofollow noreferrer"">https://onury.io/accesscontrol/?api=ac</a></p>

<p>I don't understand how to implement it, as it has few examples which only grants user roles and privileges. I don't know how to check permissions in routes modules for a specific endpoint.</p>

<p>I am wondering if there are any tutorials for its implementation or an example project.</p>

<p>Thanks in advance.</p>
",<express><npm><rbac>,0.0,0,0,1
26130,25807,56194345,1,0,11518160,0.0,4.0,0.0,0.0,2019-05-17T22:37:33.457,0.0,225.0,NPM can't find modules,"<p>I am building a Node app with express, and I'm running into some trouble when running node index.js from the command prompt.</p>

<p>I went into the directory with my index.js file and tried to run ""node index.js"" but it says that the controller module could not be found.</p>

<p>I have installed express, body-parser, and mongoose and they all show up in my node_modules folder.</p>

<p>In my Routes.js file, I have the following line of code:</p>

<pre><code>var controller = require('../controllers/controller');
</code></pre>

<p>Also, doing:</p>

<pre><code>var controller = require('./controllers/controller'); 
</code></pre>

<p>doesn't work either, so I am unsure if it is a problem with the custom controller directories or if it is a problem with how I am exporting my modules.</p>

<p>I am getting the following error:</p>

<blockquote>
  <p>Error: Cannot find module '..\controllers\controller.js' when trying
  to require a controller for my routes folder</p>
</blockquote>

<p>If anyone could help me resolve this, it would be greatly appreciated. Thank you!</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
26229,25906,56294815,1,0,11550643,0.0,1.0,0.0,0.0,2019-05-24T14:37:08.163,2.0,2634.0,"How to fix "" EventSource's response has a MIME type (""text/html"") that is not ""text/event-stream"" "" error in Express?","<p>I'm setting up a web interface and I want the server to send data dynamically to update graphs. I found SSE (Server Sent Event), but I don't know how to use it. I try and retry but each time I got this error : ""EventSource's response has a MIME type (""text/html"") that is not ""text/event-stream"". Aborting the connection."" How can this works ?</p>

<p>I already try to find if and other content type is define but it's not.
I know than the .on(event, function) doesn't catch the event.</p>

<p>Here some of my code : 
        import path from 'path';
        import express from ""express""
        import config from './config.js'
        import Frontend from ""./frontend/frontend.module""
        import Backend from ""./backend/backend.module""</p>

<pre><code>    const EventEmitter = require('events');
    var app = new express();

    const Stream = new EventEmitter();

    //Try to configure SSE
    app.get('/stream', function(request, response){
        response.writeHead(200, {
          'Content-Type': 'text/event-stream',
          'Cache-Control': 'no-cache',
          'Connection': 'keep-alive'
        });
        Stream.on(""push"", function(event, data) {
            console.log(""RESPONSE 0"");
            response.write(""event: "" + String(event) + ""\n"" + ""data: "" + JSON.stringify(data) + ""\n\n"");
            response.send();
            response.end(); 
            console.log(""RESPONSE 1"") ;
          });
        });


      setInterval(function(){
        Stream.emit(""push"", ""test"", { msg: ""admit one"" });
        console.log(""\nEMIT"");
      }, 5000)

    //Stop Trying here


    app.use(function(req, res, next){
        console.log(req.url);
        next();
    });

    // Import sub-apps
    app.use(""/api"", Backend.App)
    app.use(""/"", Frontend.App)

    // Enable CORS (for debugging -- better way?)

    app.use(function (req, res, next) {
        res.header(""Access-Control-Allow-Origin"", ""*"");
        res.header(""Access-Control-Allow-Headers"", ""Origin, X-Requested-With, Content-Type, Accept"");
        next();
    })


    // Point static path to dist
    app.use('/assets', express.static(path.join(__dirname, 'app/assets')));

    // Point static path to dist
    app.use(express.static(path.join(__dirname, 'dist')));

    const port = process.env.PORT || config.port;
    app.listen(port, function () {
        console.log('Server listening on port ' + port);
    });
</code></pre>

<p>And I have the client listening :</p>

<pre><code>    var es = new EventSource(""http://127.0.0.1:8081/"") ;
    es.onmessage = function(event){
        console.log(""ONMESSAGE ""+event.data);
    }
</code></pre>

<p>I read many post about this error but I can't find the solution, please can someone help me ?</p>
",<node.js><express><npm><eventsource>,0.0,0,0,1
26235,25912,56296653,1,56308659,8534292,1.0,3.0,0.0,0.0,2019-05-24T16:47:02.480,0.0,45.0,How do you get express to work on Heroku app?,"<p>I have a app on Heroku and when I run <code>node server.js</code> it's throwing a error and saying Error: Cannot find module 'express'.</p>

<p>I've cleared the npm cache, rebuilt the app, checked the package.json &amp; dependencies. Nothing much is working for me and I'm just looking for solutions now.</p>

<pre><code>    throw err;
    ^

Error: Cannot find module 'express'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:582:15)
    at Function.Module._load (internal/modules/cjs/loader.js:508:25)
    at Module.require (internal/modules/cjs/loader.js:637:17)
    at require (internal/modules/cjs/helpers.js:22:18)
    at Object.&lt;anonymous&gt; (/app/server.js:1:79)
    at Module._compile (internal/modules/cjs/loader.js:701:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:712:10)
    at Module.load (internal/modules/cjs/loader.js:600:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:539:12)
    at Function.Module._load (internal/modules/cjs/loader.js:531:3)
</code></pre>

<p>Trying to get the app to start.</p>

<p>Here's the package.json</p>

<pre><code>{
  ""name"": ""SCOGEAgent"",
  ""version"": ""0.0.0"",
  ""description"": ""A simple Blockstack app"",
  ""main"": ""index"",
  ""scripts"": {
    ""browserify"": ""browserify requires.js -o public/bundle.js"",
    ""start"": ""run browserify &amp; node server.js""
  },
  ""repository"": {
    ""type"": ""git"",
    ""url"": ""git+https://github.com/blockstack/hello-blockstack.git""
  },
  ""author"": """",
  ""license"": ""MIT"",
  ""bugs"": {
    ""url"": ""https://github.com/blockstack/hello-blockstack/issues""
  },
  ""homepage"": ""https://github.com/blockstack/hello-blockstack#readme"",
  ""devDependencies"": {
    ""browserify"": ""^14.1.0"",
    ""express"": ""^4.16.4"",
    ""opn"": ""^4.0.2""
  },
  ""dependencies"": {
    ""browserify"": ""^14.1.0"",
    ""express"": ""^4.16.4"",
    ""opn"": ""^4.0.2"",
    ""@types/node"": ""^11.13.0"",
    ""blockstack"": ""^18.0.4"",
    ""express-ws"": ""^4.0.0"",
    ""json-pointer"": ""^0.6.0"",
    ""react-router-dom"": ""^5.0.0"",
    ""socket.io"": ""^2.2.0"",
    ""socket.io-client"": ""^2.2.0"",
    ""websocket-stream"": ""^5.5.0""
  }
}
</code></pre>
",<node.js><express><heroku><npm>,1.0,0,0,1
26238,25915,56299473,1,0,1699434,0.0,3.0,0.0,0.0,2019-05-24T20:58:36.640,0.0,778.0,"Express App runs on local but not remote server - 'MODULE_NOT_FOUND',","<p>I have a simple express app <a href=""https://github.com/stuartabrown/express-google-assistant/tree/feature/new-simple-react"" rel=""nofollow noreferrer"">https://github.com/stuartabrown/express-google-assistant/tree/feature/new-simple-react</a>.  It all runs fine locally.</p>

<p>However when I pull my code down to my remote server (Ubuntu 16.04, Node version v12.3.1, NPM v6.9.0) and run <code>npm install</code> and then <code>npm start</code> I get errors:</p>

<pre><code>internal/modules/cjs/loader.js:626
    throw err;
    ^

Error: Cannot find module 'npm audit'
Require stack:
- /home/stuart/express-google-assistant/index.js
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:623:15)
    at Function.Module._load (internal/modules/cjs/loader.js:527:27)
    at Module.require (internal/modules/cjs/loader.js:681:19)
    at require (internal/modules/cjs/helpers.js:16:16)
    at Object.&lt;anonymous&gt; (/home/stuart/express-google-assistant/index.js:5:15)
    at Module._compile (internal/modules/cjs/loader.js:774:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:785:10)
    at Module.load (internal/modules/cjs/loader.js:641:32)
    at Function.Module._load (internal/modules/cjs/loader.js:556:12)
    at Function.Module.runMain (internal/modules/cjs/loader.js:837:10) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [ '/home/stuart/express-google-assistant/index.js' ]
}
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! express-starter-kit@1.0.0 start: `node index.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the express-starter-kit@1.0.0 start script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/stuart/.npm/_logs/2019-05-24T20_47_26_272Z-debug.log
</code></pre>

<p>Output of /home/stuart/.npm/_logs/2019-05-24T20_47_26_272Z-debug.log is </p>

<pre><code>0 info it worked if it ends with ok
1 verbose cli [ '/usr/bin/node', '/usr/bin/npm', 'start' ]
2 info using npm@6.9.0
3 info using node@v12.3.1
4 verbose run-script [ 'prestart', 'start', 'poststart' ]
5 info lifecycle express-starter-kit@1.0.0~prestart: express-starter-kit@1.0.0
6 info lifecycle express-starter-kit@1.0.0~start: express-starter-kit@1.0.0
7 verbose lifecycle express-starter-kit@1.0.0~start: unsafe-perm in lifecycle true
8 verbose lifecycle express-starter-kit@1.0.0~start: PATH: /usr/lib/node_modules/npm/node_modules/npm-lifecycle/node-gyp-bin:/home/stuart/express-google-assistant/node_modules/.bin:/home/stuart/bin:/home/stuart/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
9 verbose lifecycle express-starter-kit@1.0.0~start: CWD: /home/stuart/express-google-assistant
10 silly lifecycle express-starter-kit@1.0.0~start: Args: [ '-c', 'node index.js' ]
11 silly lifecycle express-starter-kit@1.0.0~start: Returned: code: 1  signal: null
12 info lifecycle express-starter-kit@1.0.0~start: Failed to exec start script
13 verbose stack Error: express-starter-kit@1.0.0 start: `node index.js`
13 verbose stack Exit status 1
13 verbose stack     at EventEmitter.&lt;anonymous&gt; (/usr/lib/node_modules/npm/node_modules/npm-lifecycle/index.js:301:16)
13 verbose stack     at EventEmitter.emit (events.js:200:13)
13 verbose stack     at ChildProcess.&lt;anonymous&gt; (/usr/lib/node_modules/npm/node_modules/npm-lifecycle/lib/spawn.js:55:14)
13 verbose stack     at ChildProcess.emit (events.js:200:13)
13 verbose stack     at maybeClose (internal/child_process.js:1021:16)
13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:283:5)
14 verbose pkgid express-starter-kit@1.0.0
15 verbose cwd /home/stuart/express-google-assistant
16 verbose Linux 4.4.0-148-generic
17 verbose argv ""/usr/bin/node"" ""/usr/bin/npm"" ""start""
18 verbose node v12.3.1
19 verbose npm  v6.9.0
20 error code ELIFECYCLE
21 error errno 1
22 error express-starter-kit@1.0.0 start: `node index.js`
22 error Exit status 1
23 error Failed at the express-starter-kit@1.0.0 start script.
23 error This is probably not a problem with npm. There is likely additional logging output above.
24 verbose exit [ 1, true ]
</code></pre>

<p><strong><em>EDIT</em></strong></p>

<p>package.json details are:</p>

<pre><code>{
    ""name"": ""express-starter-kit"",
    ""version"": ""1.0.0"",
    ""description"": """",
    ""main"": ""index.js"",
    ""scripts"": {
        ""test"": ""echo \""Error: no test specified\"" &amp;&amp; exit 1"",
        ""start"": ""node -r dotenv/config index.js""
    },
    ""author"": """",
    ""license"": ""ISC"",
    ""dependencies"": {
        ""actions-on-google"": ""^2.0.0"",
        ""body-parser"": ""^1.18.3"",
        ""express"": ""^4.16.4"",
        ""firebase-admin"": ""^8.0.0"",
        ""firebase-functions"": ""^2.3.1""
    },
    ""devDependencies"": {
        ""dotenv"": ""^6.2.0"",
        ""nodemon"": ""^1.18.9"",
        ""ngrok"": ""^3.1.1""
    }
}
</code></pre>

<p>I'm a bit stumped as to how to resolve this, any help much appreciated.</p>
",<node.js><express><npm><ubuntu-16.04>,0.0,0,0,1
26439,26116,56500392,1,0,10409952,2.0,3.0,0.0,0.0,2019-06-07T19:43:24.430,1.0,1621.0,Install npm Packages Without Administrator Privilege,"<p>I was given an admin access that may be taken away from me anytime soon, and I am trying to gather as many resources as I can to get by without it when it's gone. I installed all the essentials (express, mongoose, body-parser etc) as global installation and they live in my AppData/Roaming folder in its own node_modules folder. will I be able to use those modules in the future without admin access?</p>
",<node.js><express><npm>,0.0,0,0,1
26574,26251,56628402,1,0,11187300,1.0,0.0,0.0,0.0,2019-06-17T09:23:36.757,-1.0,74.0,npm not installing modules,"<p>C:\Users\admin\AppData\Roaming\npm\express -> C:\Users\admin\AppData\Roaming\npm\node_modules\express-generator\bin\express-cli.js</p>

<p>I started by installing npm install , but nothing was installed , it says: </p>

<blockquote>
  <p>express-generator@4.16.1
  updated 1 package in 0.437s</p>
</blockquote>

<p>but nothing is there. I installed the packages as dependencies from <code>package.json</code>. I know what I want to use thus I copied them to the  <code>package.json</code> file and the ran npm install.</p>

<p>When I run npm install express generator it gives me </p>

<blockquote>
  <p>:\Users\admin\AppData\Roaming\npm\express -> C:\Users\admin\AppData\Roaming\npm\node_modules\express-generator\bin\express-cli.js</p>
</blockquote>

<p>what is the solution ?</p>
",<node.js><express><npm>,0.0,0,0,1
26579,26256,56634474,1,0,2054671,3.0,1.0,0.0,0.0,2019-06-17T15:30:07.927,27.0,32572.0,NPM how to update/upgrade transitive dependencies?,"<p>I am using express v4.16.4 in my node server. </p>

<p>It has pulled in cookie-signature v1.0.6. </p>

<p>I want to upgrade cookie-signature to v1.1.0 as it has a fix which I require.
What is the way to do that ?</p>

<p>I don't think i should do a npm install cookie-signature@1.1.0 as it would list cookie-signature in my app dependencies. </p>

<p>EDIT: <a href=""https://stackoverflow.com/questions/15806152/how-do-i-override-nested-npm-dependency-versions"">this</a> discusses the exact same problem that i am looking to solve. The accepted answer is using npm-shrinkwrap, and another top voted answer using package-lock.json , but both of these seem to have issues as discussed in respective comments.</p>

<p>Happy to close this as a duplicate.</p>
",<node.js><express><npm>,0.0,0,0,1
26630,26307,56676005,1,0,3833012,0.0,3.0,0.0,0.0,2019-06-19T21:19:51.583,0.0,133.0,"Validation of a checkbox with node-validator, node-mailer and ejs","<p>Here's my problem:</p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const express = require('express')
const router = express.Router()
const { check, validationResult } = require('express-validator/check')
const { matchedData } = require('express-validator/filter')
const csrf = require('csurf');
const csrfProtection = csrf({ cookie: true });
const nodemailer = require('nodemailer');

router.get('/', (req, res) =&gt; {
  res.render('index')
})

router.get('/contact', csrfProtection, (req, res) =&gt; {
  res.render('contact', {
    data: {},
    errors: {},
    errorMap: {},
    csrfToken: req.csrfToken()
  });
});

router.post('/contact', csrfProtection, [
  check('message')
    .isLength({ min: 1 })
    .withMessage('Message is required')
    .trim(),
  check('name')
    .isLength({ min: 1 })
    .withMessage('Name is required')
    .trim(),
  check('email')
    .isEmail()
    .withMessage('That email doesn‘t look right')
    .trim()
    .normalizeEmail(),
  check('checkNews')
], (req, res) =&gt; {
  const errors = validationResult(req)
  if (!errors.isEmpty()) {
    return res.render('contact', {
      data: req.body,
      errors: errors.array(),
      errorMap: errors.mapped(),
      csrfToken: req.csrfToken()
    })
  }
  
  ..</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;div class=""form-header""&gt;
  &lt;% if (Object.keys(errors).length === 0) { %&gt;
  &lt;h2&gt;Send us a message&lt;/h2&gt;
  &lt;% } else { %&gt;
  &lt;h2 class=""errors-heading""&gt;Oops, please correct the following:&lt;/h2&gt;
  &lt;ul class=""errors-list""&gt;
    &lt;% Object.values(errors).forEach(error =&gt; { %&gt;
    &lt;li&gt;&lt;%= error.msg %&gt;&lt;/li&gt;
    &lt;% }) %&gt;
  &lt;/ul&gt;
  &lt;% } %&gt;
&lt;/div&gt;
&lt;form method=""post"" action=""/contact"" novalidate&gt;
  &lt;input type=""hidden"" name=""_csrf"" value=""&lt;%= csrfToken %&gt;""&gt;
  &lt;div class=""form-field &lt;%= errors.message ? 'form-field-invalid' : '' %&gt;""&gt;
    &lt;label for=""message""&gt;Message&lt;/label&gt;
    &lt;textarea class=""input"" id=""message"" name=""message"" rows=""4"" autofocus&gt;&lt;%= data.message %&gt;&lt;/textarea&gt;
    &lt;% if (errors.message) { %&gt;
    &lt;div class=""error""&gt;&lt;%= errors.message.msg %&gt;&lt;/div&gt;
    &lt;% } %&gt;
  &lt;/div&gt;



  &lt;div class=""form-field &lt;%= errors.name ? 'form-field-invalid' : '' %&gt;""&gt;
    &lt;label for=""name""&gt;Name&lt;/label&gt;
    &lt;input class=""name"" id=""name"" name=""name"" type=""text"" value=""&lt;%= data.name %&gt;"" /&gt;
    &lt;% if (errors.name) { %&gt;
    &lt;div class=""error""&gt;&lt;%= errors.name.msg %&gt;&lt;/div&gt;
    &lt;% } %&gt;
  &lt;/div&gt;


  &lt;div class=""form-field &lt;%= errors.checkNews ? 'form-field-invalid' : '' %&gt;""&gt;
    &lt;label for=""checkNews""&gt;Subscribe to newsletter&lt;/label&gt;
    &lt;input class=""checkNews"" id=""checkNews"" name=""checkNews"" type=""checkbox"" value="" &lt;%= data.checkNews ? 'want' : 'ego' %&gt;"" /&gt;
    &lt;% if (errors.checkNews) { %&gt;
    &lt;div class=""error""&gt;&lt;%= errors.checkNews.msg %&gt;&lt;/div&gt;
    &lt;% } %&gt;
  &lt;/div&gt;




  &lt;div class=""form-field &lt;%= errors.email ? 'form-field-invalid' : '' %&gt;""&gt;
    &lt;label for=""email""&gt;Email&lt;/label&gt;
    &lt;input class=""input"" id=""email"" name=""email"" type=""email"" value=""&lt;%= data.email %&gt;"" /&gt;
    &lt;% if (errors.email) { %&gt;
    &lt;div class=""error""&gt;&lt;%= errors.email.msg %&gt;&lt;/div&gt;
    &lt;% } %&gt;
  &lt;/div&gt;
  &lt;div class=""form-actions""&gt;
    &lt;button class=""btn"" type=""submit""&gt;Send&lt;/button&gt;
  &lt;/div&gt;
&lt;/form&gt;

&lt;script&gt;
  console.log(document.querySelector('#checkNews').value)
&lt;/script&gt;</code></pre>
</div>
</div>
</p>

<p>A lot of stuff is happening here but I would like to focus on the ejs template:</p>

<pre><code>&lt;div class=""form-field &lt;%= errors.checkNews ? 'form-field-invalid' : '' %&gt;""&gt;
    &lt;label for=""checkNews""&gt;Subscribe to newsletter&lt;/label&gt;
    &lt;input class=""checkNews"" id=""checkNews"" name=""checkNews"" type=""checkbox"" value="" &lt;%= data.checkNews ? 'cat' : 'dog' %&gt;"" /&gt;
    &lt;% if (errors.checkNews) { %&gt;
    &lt;div class=""error""&gt;&lt;%= errors.checkNews.msg %&gt;&lt;/div&gt;
    &lt;% } %&gt;
  &lt;/div&gt;
</code></pre>

<p>The value will be output at the moment of the validation, but I need to get a value, depends on an if statement to get the value, if it true or not.</p>

<p>In this case, the only thing that I was able to fetch was the dog string, in the other case the value is undefined.</p>

<p>How come and how can I fix this problem?</p>

<p>Thank you</p>
",<node.js><express><npm><ejs><node-modules>,0.0,0,0,1
26684,26361,56720308,1,56726785,10453550,1.0,0.0,0.0,0.0,2019-06-23T01:11:24.620,0.0,4968.0,Authenticate users using only password,"<p>I need to make an authentication system for an express app I'm building. The client asked to have a password system that uses just a 4-digit pin. I have the code setup to save and hash the pin with the rest of the user info when creating a new user and the project is just an in-house server so it doesn't need to handle a ton of users.</p>

<p>My problem is signing the user back in. I'm using bycrypt to hash the password, but bycrypt generates a completely new hash for identical strings.</p>

<p>What I'm having trouble doing is fetching the user by doing a <code>WHERE hash=hash</code> SQL search. But that's not working because the hash is different every time even when the passwords are identical.</p>

<p>I could get all the users and iterate over all of them and use bycrypt's <code>.compare</code> method. But that won't work in the long run as the amount of users grows, and bycrypt is build to take a long time on cpu's to help prevent brute-force attacks.</p>

<p>I could also build my own hashing function. However, that would make it so I have to store a salt with each user to make each password unique. Then that brings up the same problem of not having the same hash for identical strings.</p>

<p>I know this is vague but I need some help thinking up a way to get the user by fetching it using the hashed password.</p>
",<javascript><postgresql><express><npm><cryptography>,0.0,0,0,1
26782,26459,56812085,1,56812632,7174241,1.0,6.0,0.0,0.0,2019-06-28T19:05:54.423,0.0,2953.0,Module not found: Can't resolve when creating a module,"<p>I'm making a module however im getting this error, when i import it in my test application.</p>

<blockquote>
  <p>../fetchModule/index.js Module not found: Can't resolve './Myfetch' in
  '/Users/******/nodework/fetchModule'</p>
</blockquote>

<p>here is the folder structure</p>

<p><a href=""https://i.stack.imgur.com/PXg2C.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/PXg2C.png"" alt=""enter image description here""></a></p>

<p>and here is the package.json</p>

<p><strong>package.json</strong></p>

<pre><code>{
  ""name"": ""fetchmodule"",
  ""version"": ""1.0.0"",
  ""description"": ""a fetch module for our project"",
  ""main"": ""index.js"",
  ""scripts"": {
    ""test"": ""echo \""Error: no test specified\"" &amp;&amp; exit 1"",
    ""build"": ""./node_modules/.bin/babel src --out-file index.js""
  },
  ""peerDependencies"": {
    ""react"": ""^16.6.6"",
    ""react-dom"": ""^16.6.3"",
    ""axios"": ""^0.19.0""
  },
  ""author"": """",
  ""license"": ""ISC"",
  ""dependencies"": {
    ""@babel/cli"": ""^7.4.4"",
    ""@babel/core"": ""^7.4.5"",
    ""@babel/preset-env"": ""^7.4.5"",
    ""@babel/preset-react"": ""^7.0.0"",
    ""react"": ""^16.8.6"",
    ""react-dom"": ""^16.8.6""
  },
  ""devDependencies"": {
    ""@babel/plugin-proposal-class-properties"": ""^7.4.4"",
    ""axios"": ""^0.19.0""
  }
}
</code></pre>

<p><strong>index.js</strong></p>

<pre><code>import React, {Component} from 'react';
import Myfetch from  './Myfetch';

export default class Fetch extends Component {
 .......

}
</code></pre>

<p><strong>MyFetch</strong></p>

<pre><code>import React, {Component} from 'react';
import axios from 'axios';

export default class MyFetch extends Component {
  .....
}
</code></pre>
",<javascript><express><npm>,0.0,0,0,1
26786,26463,56813044,1,0,7174241,3.0,0.0,0.0,0.0,2019-06-28T20:46:04.103,2.0,1783.0,"""loose"": true is not fixing Support for the experimental syntax 'classProperties' isn't currently enabled","<blockquote>
  <p>Support for the experimental syntax 'classProperties' isn't currently
  enabled</p>
</blockquote>

<p>I tried the solutions still get the error after re building. </p>

<p><a href=""https://stackoverflow.com/questions/52237855/support-for-the-experimental-syntax-classproperties-isnt-currently-enabled"">Support for the experimental syntax &#39;classProperties&#39; isn&#39;t currently enabled</a></p>

<p><strong>package.json</strong></p>

<pre><code>{
  ""name"": ""blahmodule"",
  ""version"": ""1.0.0"",
  ""description"": ""a fetch module for our project"",
  ""main"": ""index.js"",
  ""scripts"": {
    ""test"": ""echo \""Error: no test specified\"" &amp;&amp; exit 1"",
    ""build"": ""./node_modules/.bin/babel src --out-file index.js""
  },
  ""peerDependencies"": {
    ""react"": ""^16.6.6"",
    ""react-dom"": ""^16.6.3"",
    ""axios"": ""^0.19.0""
  },
  ""author"": """",
  ""license"": ""ISC"",
  ""dependencies"": {
    ""@babel/cli"": ""^7.4.4"",
    ""@babel/core"": ""^7.4.5"",
    ""@babel/preset-env"": ""^7.4.5"",
    ""@babel/preset-react"": ""^7.0.0"",
    ""react"": ""^16.8.6"",
    ""react-dom"": ""^16.8.6""
  },
  ""devDependencies"": {
    ""@babel/plugin-proposal-class-properties"": ""^7.4.4"",
    ""axios"": ""^0.19.0""
  }
}
</code></pre>

<p><strong>.babelrc</strong></p>

<pre><code>{
    ""presets"": [
      ""@babel/preset-env"",
      ""@babel/preset-react""
    ],
    ""plugins"": [
        [
          ""@babel/plugin-proposal-class-properties"",
          {
            ""loose"": true
          }
        ]
      ]
  }
</code></pre>
",<javascript><node.js><express><npm>,0.0,0,0,1
26791,26468,56814751,1,0,7174241,2.0,0.0,0.0,0.0,2019-06-29T02:47:31.483,2.0,4227.0,react component module 'classProperties' isn't currently enabled,"<p>getting an error when executing my react module</p>

<blockquote>
  <p>'classProperties' isn't currently enabled (44:11):</p>
</blockquote>

<pre><code> }
  43 |   // componentDidUpdate or try this
&gt; 44 |   onClick = (e) =&gt; {
     |           ^
  45 |     e.preventDefault();
  46 |      const url = `${this.props.url}`;
  47 |      if(this.props.method === ""GET""){
</code></pre>

<blockquote>
  <p>Add @babel/plugin-proposal-class-properties (<a href=""https://git.io/vb4SL"" rel=""nofollow noreferrer"">https://git.io/vb4SL</a>) to
  the 'plugins' section of your Babel config to enable transformation.</p>
</blockquote>

<p>I tried the solutions still get the error after re building. </p>

<p><a href=""https://stackoverflow.com/questions/52237855/support-for-the-experimental-syntax-classproperties-isnt-currently-enabled"">Support for the experimental syntax &#39;classProperties&#39; isn&#39;t currently enabled</a></p>

<p><strong>package.json</strong></p>

<pre><code>{
  ""name"": ""blahmodule"",
  ""version"": ""1.0.0"",
  ""description"": ""a fetch module for our project"",
  ""main"": ""index.js"",
  ""scripts"": {
    ""test"": ""echo \""Error: no test specified\"" &amp;&amp; exit 1"",
    ""build"": ""./node_modules/.bin/babel src --out-file index.js""
  },
  ""peerDependencies"": {
    ""react"": ""^16.6.6"",
    ""react-dom"": ""^16.6.3"",
    ""axios"": ""^0.19.0""
  },
  ""author"": """",
  ""license"": ""ISC"",
  ""dependencies"": {
    ""@babel/cli"": ""^7.4.4"",
    ""@babel/core"": ""^7.4.5"",
    ""@babel/preset-env"": ""^7.4.5"",
    ""@babel/preset-react"": ""^7.0.0"",
    ""react"": ""^16.8.6"",
    ""react-dom"": ""^16.8.6""
  },
  ""devDependencies"": {
    ""@babel/plugin-proposal-class-properties"": ""^7.4.4"",
    ""axios"": ""^0.19.0""
  }
}
</code></pre>

<p><strong>.babelrc</strong></p>

<p>I tried changing the <code>.babelrc</code> to <code>babel.config.js</code> with module.exports, but still no success. also with and without <code>""loose"": true</code></p>

<pre><code>{
    ""presets"": [
      ""@babel/preset-env"",
      ""@babel/preset-react""
    ],
    ""plugins"": [
        [
          ""@babel/plugin-proposal-class-properties"",
          {
            ""loose"": true
          }
        ]
      ]
  }
</code></pre>

<p>code from the beginning </p>

<pre><code>import React, {Component} from 'react';
import axios from 'axios';

class MyFetch extends Component {
  constructor(props){
    super(props);
    this.state = {
      data:[],
      startTime:'',
      responseTime:''
    }

  }
  componentWillMount(){
   .....
  }
  // componentDidUpdate or try this
  onClick = (e) =&gt; {
    e.preventDefault();
     const url = `${this.props.url}`;
     if(this.props.method === ""GET""){
        axios.get(url).then( res =&gt; {

          this.setState({
            data: res.data
          })
          console.log(this.state.data)
        })
     }
     else if(this.props.method === ""POST""){
        axios.get(url).then( res =&gt; {
          this.setState({
            data: res.data
          })
          console.log(this.state.data)
        })
     }
  }
  render(){
    return (
      &lt;div&gt;
        {this.props.url ? (
         &lt;button onClick={this.onClick}&gt;Get Response Time&lt;/button&gt;
          ):(
              null
          )}

       {this.state.responseTime ? (
         &lt;h3&gt;{this.state.responseTime}&lt;/h3&gt;
       ):(
          null
       )}
       &lt;/div&gt;
    );
  }
}

export default MyFetch;
</code></pre>
",<javascript><reactjs><express><npm><babeljs>,0.0,0,0,1
26809,26486,56829677,1,56829689,11021331,1.0,1.0,0.0,0.0,2019-07-01T03:21:34.257,0.0,45.0,What is the correct way to install express.js with typescript?,"<p>I am trying to setup a new project using express.js with typescript enabled. </p>

<p>Is it good enough to just install @types/express, just like below</p>

<pre><code>npm install @types/express
</code></pre>

<p>or I need to also install</p>

<pre><code>npm install express
</code></pre>
",<javascript><typescript><express><npm>,0.0,0,0,1
26823,26500,56843942,1,56844076,8815760,1.0,5.0,0.0,0.0,2019-07-02T00:33:12.800,2.0,342.0,Function returning undefined seems like console.log is running before result is returned? Promise needed?,"<p>I have a function in another file that I want to get the response of and then do something with that response before exiting my controller function.</p>

<p>Here is the code from the required file:</p>

<pre><code>exports.counter = function(companyID) {
    options.json.companyID = companyID
    request.post('/monitorCounter', options, (error, response, body) =&gt; {
        if (error) {
            console.log(error);
            throw error;
        }
        if(body.success == true) return true
    });    
}
</code></pre>

<p>Here is how I am requiring the file/function</p>

<p><code>const monitorCounter = require('../controllers/counter').counter</code></p>

<p>Then this is how I am trying to test/use it in my main controller file</p>

<pre><code>let valid = monitorCounter(companyID)
console.log(`Valid: ${valid}`)
</code></pre>

<p>I am expecting it to return true (tested via console.log and function works as expected), but I am getting undefined. </p>

<p>I was thinking that I need a promise for this but was not sure how to do it with it being a different file and I'm also not up to date fully yet on promises (working on that currently)</p>
",<javascript><node.js><express><npm-request>,0.0,0,0,1
26843,26520,56868426,1,0,3567477,3.0,0.0,0.0,0.0,2019-07-03T10:49:17.883,1.0,1920.0,"no such file or directory, rename 'C:\username\my-proj-name\node_modules\.staging\readable-stream-d0b1a619'","<p>stack Error: ENOENT: no such file or directory, rename 'C:\username\my-proj-name\node_modules.staging\readable-stream-d0b1a619' -> 'C:\username\proj-name\my custom-module-name(tedious)\node_modules\bl\node_modules\readable-stream'</p>
",<node.js><express><npm-install><tedious>,0.0,0,0,1
26875,26552,56903403,1,56903661,6836871,2.0,0.0,0.0,0.0,2019-07-05T12:48:49.173,0.0,36.0,Check for error during database query and return it in an asynchronous call in express,"<p>I'm using the npm modules <a href=""https://www.npmjs.com/package/sqlite3"" rel=""nofollow noreferrer"">sqlite3</a>.</p>

<p>If someone opens my site, I want 2 sqlite-queries to be executed. If an error occurs in the first or second query, I want the express-application to answer with a 404-status-code and some text.</p>

<p>The problem:
I can't return out of the whole thing.
If there are errors in the first and second query, both <code>res.status(404).end</code> will be executed.
And trying to call end() 2 times will crash the application.</p>

<pre><code>router.get(""/"", (req, res) =&gt; {
  //...
  db.serialize(() =&gt; {
    db.run(""INSERT INTO modul..."", (err) =&gt; {
      if (err) { res.status(404).end(""An error occured during insertion""); return; }
    });

    db.get(""SELECT * FROM modul..."", (err, row) =&gt; {
      if (err) { res.status(404).end(""An error occured during selection""); return; }
      res.json({ module: row });
    });
  });
});
</code></pre>

<p>I know that I'm in an asynchronous call and it doesn't work because of that but I don't know how to solve this issue.</p>
",<node.js><sqlite><express><npm>,0.0,0,0,1
26877,26554,56904975,1,0,1971067,0.0,6.0,0.0,0.0,2019-07-05T14:27:15.707,0.0,243.0,Why query response time is more in node.js or express.js compare to PHP and Mysql Client?,"<p>I'm comparing response/execution time of query with PHP script and express.js (mysql npm module) and mysql (command line).</p>

<p>I observed that response time is more in node.js compare to others.</p>

<p>My query :</p>

<pre><code>     SELECT (1 + 1) AS result
</code></pre>

<p><strong>Response time (avg)</strong></p>

<ul>
<li>Express js : 2 ms</li>
<li>Mysql (command-line) : less than 0 ms</li>
<li>PHP Script : 0.11 ms </li>
</ul>

<p><strong>code in Express JS</strong></p>

<pre><code>const express = require(""express"");
const app = express();

const mysql = require('mysql');

app.get('/', (req, res) =&gt; {
        const connection = mysql.createConnection({
        host: ""localhost"",
        user: ""root"",
        password: """",
        database: ""test""
    });

    global.start = Date.now();

    connection.query('SELECT (1 + 1) AS result', function (error, results, fields) {
        if (error) throw error;
        connection.end();
        let end = Date.now();
        let elapsed = end - global.start;
        let result = results[0]['result'];
        res.send('Result : ' + result + ' &lt;br/&gt; Time Elapsed : ' + elapsed + ' ms');
    });    
});

app.listen(8080);
</code></pre>

<p><strong>Code in PHP</strong></p>

<pre><code>&lt;?php
$servername = 'localhost';
$username = 'root';
$password = '';
$dbname = 'test';

// Create connection
$conn = new mysqli($servername, $username, $password, $dbname);
// Check connection
if ($conn-&gt;connect_error) {
    die(""Connection failed: "" . $conn-&gt;connect_error);
} 

$sql = ""SELECT 1 + 1 AS result"";

$start = microtime(true);
$result = $conn-&gt;query($sql);
$end = microtime(true);



if ($result-&gt;num_rows &gt; 0) {
    // output data of each row
    while($row = $result-&gt;fetch_assoc()) {
        echo ""Result: "" . $row[""result""] . ""&lt;br&gt;"";
        echo 'Time Elapsed : ' . number_format(($end-$start)*1000,2) . ' ms &lt;br/&gt;';
            }
} else {
    echo ""0 results"";
}



$conn-&gt;close();
?&gt;
</code></pre>

<p>I expect response time of node.js (mysql npm module) should be approximately matched with others.</p>
",<mysql><node.js><express><asynchronous><npm>,0.0,0,0,1
26903,26580,56924687,1,0,3253603,2.0,2.0,0.0,0.0,2019-07-07T17:52:11.230,0.0,480.0,Why is DEBUG not logging in the console?,"<p>I am trying to take a tutorial on node.js and express. I'm trying to use the debug feature, but it is not logging anything to the console. </p>

<p>console.log works fine...but using debug() does not</p>

<p>I am on windows and am trying to run the app with...
set DEBUG=app ; node app.js</p>

<pre><code>var express = require('express');
var chalk = require('chalk');
var debug = require('debug')('app');

var app = express();

app.get('/', function(req, res){

    res.send('Hello from my library app');

})

app.listen(3000, function(){
    debug(`listening on port ${chalk.blue('3000')}`);
});
</code></pre>
",<node.js><express><npm><terminal>,0.0,0,0,1
26943,26620,56959262,1,0,11761440,1.0,4.0,0.0,0.0,2019-07-09T19:16:02.650,1.0,464.0,React npm start error after installing MongoDB,"<p>I've been working on a simple project to help familiarize myself with react. I decided to install mongoDB to use for my project, but after installation I can no longer start my app. I haven't added ANY code at all for my app to communicate with mongoDB, so I'm quite clueless as to why this is an issue.</p>

<pre><code>$ npm start

&gt;client@0.1.0 start D:\Coding\react-router\client
&gt;react-scripts start

npm ERR! file C:\Program Files\MongoDB\Server\4.0\bin
npm ERR! path C:\Program Files\MongoDB\Server\4.0\bin
npm ERR! code ELIFECYCLE
npm ERR! errno ENOENT
npm ERR! syscall spawn C:\Program Files\MongoDB\Server\4.0\bin
npm ERR! client@0.1.0 start: `react-scripts start`
npm ERR! spawn C:\Program Files\MongoDB\Server\4.0\bin ENOENT
npm ERR!
npm ERR! Failed at the client@0.1.0 start script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\tonycheese\AppData\Roaming\npm-cache\_logs\2019-07-09T18_43_58_221Z-debug.log
</code></pre>

<p>Here is the full log specified on the last line</p>

<pre><code>0 info it worked if it ends with ok
1 verbose cli [ 'D:\\Program Files\\nodejs\\node.exe',
1 verbose cli   'D:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js',
1 verbose cli   'start' ]
2 info using npm@6.4.1
3 info using node@v10.15.3
4 verbose run-script [ 'prestart', 'start', 'poststart' ]
5 info lifecycle client@0.1.0~prestart: client@0.1.0
6 info lifecycle client@0.1.0~start: client@0.1.0
7 verbose lifecycle client@0.1.0~start: unsafe-perm in lifecycle true
8 verbose lifecycle client@0.1.0~start: PATH: D:\Program Files\nodejs\node_modules\npm\node_modules\npm-lifecycle\node-gyp-bin;D:\Coding\react-router\client\node_modules\.bin;C:\Program Files\Git\mingw64\bin;C:\Program Files\Git\usr\bin;C:\Users\ejohn\bin;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0;C:\Windows\System32\OpenSSH;D:\Program Files\nodejs;C:\Program Files\dotnet;C:\Program Files\Microsoft SQL Server\130\Tools\Binn;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;D:\Program Files\PuTTY;C:\Program Files\Git\cmd;C:\Users\ejohn\AppData\Local\Microsoft\WindowsApps;D:\Users\ejohn\AppData\Local\Programs\Microsoft VS Code\bin;C:\Users\ejohn\AppData\Roaming\npm;D:\Program Files\heroku\bin
9 verbose lifecycle client@0.1.0~start: CWD: D:\Coding\react-router\client
10 silly lifecycle client@0.1.0~start: Args: [ '/d /s /c', 'react-scripts start' ]
11 info lifecycle client@0.1.0~start: Failed to exec start script
12 silly lifecycle client@0.1.0~start: Returned: code: -4058  signal: null
13 info lifecycle client@0.1.0~start: Failed to exec start script
14 verbose stack Error: client@0.1.0 start: `react-scripts start`
14 verbose stack spawn C:\Program Files\MongoDB\Server\4.0\bin ENOENT
14 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:240:19)
14 verbose stack     at onErrorNT (internal/child_process.js:415:16)
14 verbose stack     at process._tickCallback (internal/process/next_tick.js:63:19)
15 verbose pkgid client@0.1.0
16 verbose cwd D:\Coding\react-router\client
17 verbose Windows_NT 10.0.17763
18 verbose argv ""D:\\Program Files\\nodejs\\node.exe"" ""D:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""start""
19 verbose node v10.15.3
20 verbose npm  v6.4.1
21 error file C:\Program Files\MongoDB\Server\4.0\bin
22 error path C:\Program Files\MongoDB\Server\4.0\bin
23 error code ELIFECYCLE
24 error errno ENOENT
25 error syscall spawn C:\Program Files\MongoDB\Server\4.0\bin
26 error client@0.1.0 start: `react-scripts start`
26 error spawn C:\Program Files\MongoDB\Server\4.0\bin ENOENT
27 error Failed at the client@0.1.0 start script.
27 error This is probably not a problem with npm. There is likely additional logging output above.
28 verbose exit [ 1, true ]
</code></pre>

<p>Here is my package.json</p>

<pre><code>{
  ""name"": ""client"",
  ""version"": ""0.1.0"",
  ""private"": true,
  ""proxy"": ""http://localhost:5000/"",
  ""dependencies"": {
    ""react"": ""^16.8.6"",
    ""react-dom"": ""^16.8.6"",
    ""react-router-dom"": ""^5.0.1"",
    ""react-scripts"": ""3.0.1""
  },
  ""scripts"": {
    ""start"": ""react-scripts start"",
    ""build"": ""react-scripts build"",
    ""test"": ""react-scripts test"",
    ""eject"": ""react-scripts eject""
  },
  ""eslintConfig"": {
    ""extends"": ""react-app""
  },
  ""browserslist"": {
    ""production"": [
      ""&gt;0.2%"",
      ""not dead"",
      ""not op_mini all""
    ],
    ""development"": [
      ""last 1 chrome version"",
      ""last 1 firefox version"",
      ""last 1 safari version""
    ]
  }
}
</code></pre>

<p>My MongoDB config file</p>

<pre><code># mongod.conf

# for documentation of all options, see:
#   http://docs.mongodb.org/manual/reference/configuration-options/

# Where and how to store data.
storage:
  dbPath: C:\Program Files\MongoDB\Server\4.0\data
  journal:
    enabled: true
#  engine:
#  mmapv1:
#  wiredTiger:

# where to write logging data.
systemLog:
  destination: file
  logAppend: true
  path:  C:\Program Files\MongoDB\Server\4.0\log\mongod.log

# network interfaces
net:
  port: 27017
  bindIp: 127.0.0.1


#processManagement:

#security:

#operationProfiling:

#replication:

#sharding:

## Enterprise-Only Options:

#auditLog:

#snmp:
</code></pre>
",<reactjs><mongodb><express><npm>,0.0,0,0,1
27135,26812,57164123,1,0,8900116,1.0,3.0,0.0,0.0,2019-07-23T12:21:55.363,0.0,514.0,npm can't install packages in a windows terminal,"<p>I try to work with node js ,when i run the command >npm install 
express ,i'm logging in the terminal as an administrator in windows, it 
cannot install packages.</p>

<p>I have this error on terminal after running the previous command:</p>

<pre><code>[..................] / rollbackFailedOptional: verb npm-session 
xxxxxxxxxxxxx
I need some help please,i have no experience in node js developping.
</code></pre>

<p>ps:I have a connection wifi behind a proxy</p>

<pre><code>informations proxy:
hostname:23.11.201.32
user:ensias-tp
password:xxxxxxxx
port number:2342
</code></pre>

<p>What commands that i use to configure the proxy?</p>
",<node.js><express><npm><npm-install>,0.0,0,0,1
27168,26845,57194920,1,0,11829677,6.0,2.0,0.0,0.0,2019-07-25T05:31:46.123,5.0,18354.0,Can't install express because npm install express error,"<p>I'm receiving the following errors when trying to install <code>express</code>:</p>

<ol>
<li><code>npm ERR! code ERR_OSSL_PEM_NO_START_LINE</code></li>
<li><code>npm ERR! errno ERR_OSSL_PEM_NO_START_LINE</code></li>
<li><code>npm ERR! request to https://registry.npmjs.org/express failed, reason: error:0909006C:PEM routines:get_name:no start line</code></li>
</ol>
",<express><npm><npm-install>,0.0,0,0,1
27272,26949,57298998,1,0,9146279,0.0,2.0,0.0,0.0,2019-07-31T21:20:07.003,0.0,184.0,Using compression middleware in express app not working,"<p>So im trying to compress all responses in my express app using this middleware: <a href=""https://www.npmjs.com/package/compression"" rel=""nofollow noreferrer"">https://www.npmjs.com/package/compression</a></p>

<p>The code is really simple:</p>

<pre><code>var compression = require('compression')
var express = require('express')

var app = express()

// compress all responses
app.use(compression())

//rest of my code
</code></pre>

<p>I can run my app locally after this change but nothing is getting compressed. When i push it to heroku where my app is hosted, the app crashes.</p>

<p>Im new to this kind of thing so i might be missing something, but what?</p>
",<express><npm><compression><gzip>,0.0,0,0,1
27313,26990,57333233,1,0,3769464,2.0,2.0,0.0,0.0,2019-08-02T20:45:57.683,0.0,133.0,npm start does nothing while the command works properly when using NodeJS with Express,"<h3>UPDATE:</h3>
<p>I had nvm for windows installed and forgot about it. It was projecting the contents of its node installation to the program files folder.</p>
<h3>ORIGINAL:</h3>
<p>So I have a very simple project <a href=""https://guide.freecodecamp.org/nodejs/express/"" rel=""nofollow noreferrer"">copied from freecodecamp</a></p>
<strong><code>index.js</code></strong>
<pre><code>const express = require('express');
const app = express();
app.get('/', (req, res) =&gt; res.send('Hello World!'));
app.listen(3000, () =&gt; console.log('Example app listening on port 3000!'));
</code></pre>
<strong><code>package.json</code></strong>
<pre><code>{
  &quot;name&quot;: &quot;test-app&quot;, &quot;version&quot;: &quot;1.0.0&quot;, &quot;description&quot;: &quot;&quot;, &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,
    &quot;start&quot;: &quot;node index.js&quot;
  },
  &quot;keywords&quot;: [], &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: {
    &quot;express&quot;: &quot;^4.17.1&quot;
  }
}
</code></pre>
<p>Running <code>node index.js</code> starts the server and operates as expected, but if I run <code>npm start</code> it just returns:</p>
<pre><code>&gt; test-app@1.0.0 start D:\temp\test-app
&gt; node index.js

Microsoft Windows [Version 10.0.17134.885]
(c) 2018 Microsoft Corporation. All rights reserved.
</code></pre>
<p>and exits out.</p>
<p>I would expect that <code>npm start</code> does the same thing as <code>node index.js</code> since it uses the same command, as described <a href=""https://www.freecodecamp.org/news/introduction-to-npm-scripts-1dbb2ae01633/"" rel=""nofollow noreferrer"">here</a>.</p>
<p>What did I do wrong?</p>
<p>I have tried:</p>
<ol>
<li>running <code>npm cache clean --force</code></li>
<li>removing node_modules and running <code>npm install</code></li>
<li>removing all traces of node and reinstalling a different version</li>
</ol>
<p>EDIT: project structure looks like</p>
<pre><code>D:\temp\test-app
├── node_modules
├── index.js
├── package-lock.json
└── package.json
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
27362,27039,57387742,1,57387767,10341926,1.0,0.0,0.0,0.0,2019-08-07T05:51:51.050,4.0,404.0,Node ExpressJS - events.js: 167 throw er Unhandled error event,"<p>I have installed mocha chai in working expressjs application using the following commands:</p>

<pre><code>npm install mocha chai sinon supertest --save-dev
</code></pre>

<p>When I run the application with: npm run start, I have the following errors:</p>

<pre><code>events.js:167
  throw er; // Unhandled 'error' event
  ^
Error: listen EADDRINUSE :::8001
at Server.setupListenHandle [as _listen2] (net.js:1334:14)
at listenInCluster (net.js:1382:12)
at Server.listen (net.js:1469:7)
at Object.&lt;anonymous&gt; (folderName/app.js:33:24)
at Module._compile (module.js:456:26)
at Object.Module._extensions..js (module.js:474:10)
at Module.load (module.js:356:32)
at Function.Module._load (module.js:312:12)
at Function.Module.runMain (module.js:497:10)
</code></pre>

<p>How to fix this?</p>
",<node.js><express><testing><npm><mocha.js>,1.0,0,0,1
27392,27069,57416193,1,0,5699024,1.0,0.0,0.0,0.0,2019-08-08T15:35:10.450,0.0,22.0,Why is the server response incorrect when the request is read correctly?,"<p>I'm on the Node.js repl, I created a new project folder and initialized the NPM, then I installed the Express package and wrote the following code into the js file:</p>

<pre><code> const express = require('express');
    const app = express();
    app.listen(5000, function(){
        console.log(""server started on port 5000"");
    })

    app.get(""/"", function(req, res){
        res.send(""Hi There! Welcome!"")
    })

    app.get(""/speak/:animalName"", function(req,res){
        var animalName = req.params.animalName;
        var verso = ""verso"";
        if (animalName = ""pig""){
            verso = ""oink""
        } else if (animalName = ""dog""){
            verso = ""bau""
        } else if (animalName = ""cat""){
            verso = ""Miao""
        }

        console.log(req.params);
        res.send(""THE "" + animalName + "" says "" + verso);
    })

    app.get(""*"", function (req, res){
        res.send(""Sorry, the page cannot be found"")
    })
</code></pre>

<p>When I open the js file with Nodemon the server starts correctly and when I type a specific pattern in the URL field the console.log returns me the req.params correctly (in the example below: for I typed ""cat"" the console returned <code>{ animalName: 'cat' }</code>
Nonetheless, the response in the browser is not the correct one:</p>

<p><a href=""https://i.stack.imgur.com/rNy1q.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/rNy1q.png"" alt=""enter image description here""></a></p>
",<javascript><express><npm><nodemon>,0.0,0,0,1
27393,27070,57419296,1,0,10663364,1.0,0.0,0.0,0.0,2019-08-08T19:13:39.967,0.0,72.0,write after end error at events.js:174 when trying to pipe read stream to express get api response on server,"<p>I'm getting data from a read stream and using pipe to send it to the response. It works for the first time but when I send the request again, node crashes with ""write after end"" error.</p>

<pre><code>var lzma = require('lzma-native');
var compressor = lzma.createCompressor();

var app = express();
var server = app.listen(3000,function(){console.log('Listening to PORT 3000');});
app.use(cors());


//REST API WITH READSTREAM - COMPRESSION
app.get('/historyData',historyData);

function historyData(req,res){
    var readHist = db.createReadStream({key:'DATAKEY1'});
    readHist.pipe(compressor).pipe(res);
}
</code></pre>
",<express><npm><stream>,0.0,0,0,1
27643,27184,57531999,1,0,7142331,0.0,10.0,0.0,0.0,2019-08-16T23:04:31.850,0.0,378.0,continous console log in express graphql app,"<p>I have the following code which starts up a graphql server. I am new to this tech, and wondering why it is printing my console log forever repeatedly even if i am not running any requests against it:</p>

<pre><code>import { ApolloServer } from 'apollo-server-express';
import express from 'express';
import mongoose from 'mongoose';
import { typeDefs } from ""./typeDefs"";
import { resolvers } from ""./resolvers"";
import { tradeTokenForUser } from './auth-helpers';

const HEADER_NAME = 'authorization';

const startServer = async () =&gt; {
    const app = express();
    const path = '/api';
    const port = 3000;
    const server = new ApolloServer({
        typeDefs,
        resolvers,
        context: async ({ req }) =&gt; {
            let authToken = null;
            let currentUser = null;

            try {
                authToken = req.headers[HEADER_NAME];
                console.log('print ----&gt;', authToken);
                if (authToken) {
                    currentUser = await tradeTokenForUser(authToken);
                }
            } catch (e) {
                console.warn(`Unable to authenticate using auth token: ${authToken}`);
            }

            return {
                authToken,
                currentUser,
            };
        },
    });

    server.applyMiddleware({ app, path });
    await mongoose.connect('mongodb://test:test@test.mlab.com:123/test', {useNewUrlParser: true});

    app.listen({ port }, () =&gt;
        console.log(` Server ready at http://localhost:${port}${server.graphqlPath}`)
    );
};

startServer();
</code></pre>

<p>this log <code>console.log('print ----&gt;', authToken);</code> is continuously printing in my console. 
Is this normal?</p>
",<javascript><node.js><express><npm><graphql>,0.0,0,0,1
27655,27196,57541973,1,57542296,11239440,1.0,1.0,0.0,0.0,2019-08-18T05:43:54.110,7.0,2258.0,Chaining package.json scripts to start Express server and Vue app,"<p>I have built an app using Vue.js and express.js.  Currently I have to open two terminal windows and run <code>npm run serve</code> in one and <code>npm start</code> in the other. I want to make the server run after the Vue.js app builds in the same terminal. I read on this <a href=""https://itnext.io/4-solutions-to-run-multiple-node-js-or-npm-commands-simultaneously-9edaa6215a93"" rel=""noreferrer"">article</a> that I can get both scripts to run by chaining the two <code>package.json</code> scripts together, but for the life of me can't figure out how.  My project is structured as such:</p>

<pre><code>├── project
├── _frontend
|   ├── package.json
├── backend
|   ├── package.json
</code></pre>

<p>I have tried the following ways:</p>

<pre><code>1st try - ""serve"": ""vue-cli-service serve &amp;&amp; (cd ../server &amp;&amp; npm start)""
2nd try - ""serve"": ""vue-cli-service serve &amp;&amp; (cd ../server &amp;&amp; npm run start)""
3rd try - ""serve"": ""vue-cli-service serve &amp;&amp; (cd ../server) &amp;&amp; npm start""
</code></pre>

<p>The Vue.js app builds and runs just fine but the server does not start. I tried doing the reverse on the server <code>package.json</code> as well and the server starts but the app does not build. Is this something I can not accomplish due to the folder setup or what am I doing wrong?</p>
",<javascript><express><vue.js><npm><npm-scripts>,0.0,0,0,1
27668,27209,57547286,1,0,11787741,2.0,1.0,0.0,0.0,2019-08-18T18:25:31.100,0.0,1053.0,i am having issues with npm install express,"<p>i am learning to use the express framework for nodeJs. i am having issues installing express using <code>npm install express --save</code></p>

<pre><code>Unhandled rejection Error: EACCES: permission denied, mkdir '/Users/akandegeorge/.npm/_cacache/index-v5/37/92'

Unhandled rejection Error: EACCES: permission denied, mkdir '/Users/akandegeorge/.npm/_cacache/index-v5/22/9a'

Unhandled rejection Error: EACCES: permission denied, mkdir '/Users/akandegeorge/.npm/_cacache/index-v5/06/5a'

npm ERR! cb() never called!

npm ERR! This is an error with npm itself. Please report this error at:
npm ERR!     &lt;https://npm.community&gt;

npm ERR! A complete log of this run can be found in:
npm ERR!     /Users/akandegeorge/.npm/_logs/2019-08-18T18_13_54_120Z-debug.log
</code></pre>
",<node.js><express><npm-install>,0.0,0,0,1
27797,27338,57675576,1,0,239219,2.0,2.0,0.0,0.0,2019-08-27T13:17:52.127,-1.0,117.0,What else need to import module in Node?,"<p>I try to use <code>express</code> in my application.</p>

<pre><code>import express from 'express';
</code></pre>

<p>So I added it to package.json.</p>

<pre><code>  ""dependencies"": {
    ""express"": ""^4.17.1"",
    ""express-graphql"": ""^0.9.0"",
</code></pre>

<p>Executed <code>yarn</code>.
But still I get an error when starting yarn. Do you know why?</p>

<p><a href=""https://i.stack.imgur.com/e0XSO.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/e0XSO.png"" alt=""&lt;code&gt;enter image description here&lt;/code&gt;""></a></p>
",<node.js><express><npm><yarnpkg>,0.0,0,0,1
27848,27389,57734364,1,57735285,9506192,1.0,0.0,0.0,0.0,2019-08-31T00:28:39.847,1.0,421.0,Discord.JS able to add role but unable to remove role?,"<p>I've been recently pondering this piece of code for the longest time. I am able to add the role, but the second I try removing the roles there's no errors nor does it actually remove their role.</p>

<p>I have tried looking up this issue on the internet, but every single one either isn't the same context or hasn't solved mine. I have also tried completely copying my add role command, and just change ""<code>addRole</code>"" to ""<code>removeRole</code>"" and that still doesn't work.</p>

<pre class=""lang-js prettyprint-override""><code>// Unmute.js
/* ... */
exports.run = async(client,message,args) =&gt; {
  /* ... */
  let mutee = message.mentions.members.first() || message.guild.members.get(args[0])
  if (!mutee) return message.channel.send(""You did not mention a user!"")
  let reason = args.slice(1).join("" "")
  if (!reason) reason = ""No reason.""
  let muterole = message.guild.roles.find(r =&gt; r.property === ""Muted"")
  if (!muterole) {
    try {
      muterole = await message.guild.createRole({
        name: ""Muted"",
        color: ""#514f48"",
        permissions: []
      })
      message.guild.channels.forEach(async(channel, id) =&gt; {
        await channel.overwritePermissions(muterole, {
          SEND_MESSAGES: false,
          ADD_REACTIONS: false,
          SPEAK: false
        });
      })
    } catch(e) {
      console.log(e.stack)
    }
  }
  /* ... */
  mutee.removeRole(muterole.id).then(() =&gt; {
    message.delete()
    /* ... */
  });
}
</code></pre>

<pre class=""lang-js prettyprint-override""><code>// Mute.js
/* ... */
exports.run = async(client,message,args) =&gt; {
  /* ... */
  let mutee = message.mentions.members.first() || message.guild.members.get(args[0])
  if (!mutee) return message.channel.send(""You did not mention a user!"")
  let reason = args.slice(1).join("" "")
  if (!reason) reason = ""No reason.""
  let muterole = message.guild.roles.find(r =&gt; r.property === ""Muted"")
  if (!muterole) {
    try {
      muterole = await message.guild.createRole({
        name: ""Muted"",
        color: ""#514f48"",
        permissions: []
      })
      message.guild.channels.forEach(async(channel, id) =&gt; {
        await channel.overwritePermissions(muterole, {
          SEND_MESSAGES: false,
          ADD_REACTIONS: false,
          SPEAK: false
        });
      })
    } catch(e) {
      console.log(e.stack)
    }
  }
  /* ... */
  mutee.addRole(muterole.id).then(() =&gt; {
    message.delete()
    /* ... */
  });
}
</code></pre>

<p>(All unnecessary parts have been cut off unless if needed)</p>

<p>The result I was expecting when running <code>%mute [user]</code> is to mute the user, which it does. The result I was expecting with <code>%unmute [user]</code> would of course be to unmute the user, it does not unmute the user but continues the ""then"" statement that should only run if it was successful with unmuting the user. There's no errors printing or anything, so I do not understand the issue one single bit.</p>
",<node.js><express><npm><discord><discord.js>,0.0,0,0,1
27919,27460,57802125,1,57802324,10722863,1.0,0.0,0.0,0.0,2019-09-05T09:11:24.913,-2.0,1766.0,Rendering html on npm start,"<p>I have created one project which has index.html and script.js file. So i have done npm init -y to get package.json. If i explicitly double click the index.html file it is opening it normally and functions as i want but if i do with express as res.sendFile(path.join(__dirname, './index.html')); it is not functioning properly. So i want to write an start script in a such way that it should directly run index.html</p>

<pre><code>i have tried this 
router.get('/',function(req,res){
  res.sendFile(path.join(__dirname+'/index.html'));
})
But is is not functioning well. It is just rendering raw html in normal function it is asking me for permission to access camera and microphone. But here it asking nothing. 

{
  ""name"": ""demo"",
  ""version"": ""1.0.0"",
  ""description"": ""VideoCall App"",
  ""main"": ""index.html"",
  ""scripts"": {
    ""test"": ""echo \""Error: no test specified\"" &amp;&amp; exit 1""
  },
  ""author"": ""AkshayK"",
  ""license"": ""MIT""
}


I want to render index.html when i do npm start.
</code></pre>
",<node.js><express><npm><html5-video>,0.0,0,0,1
28067,27608,57940997,1,0,5911818,0.0,11.0,0.0,0.0,2019-09-15T03:49:18.417,0.0,251.0,Express JS API getting stuck and CPU usage reach to 100% when reading OG tags,"<p>I have an API written using Nodejs and Express. I'm using an NPM package call <strong>open-graph-scraper</strong> (<a href=""https://www.npmjs.com/package/open-graph-scraper"" rel=""nofollow noreferrer"">https://www.npmjs.com/package/open-graph-scraper</a>) as a service read and response the OG tags of the URLs. When I send a request with this URL the CPU usage getting reach to the 100% and the API getting stucked until stop the server. </p>

<p>There is a timeout feature already provided in this NPM package but seems like the feature not working properly. It will return timeout error randomly. For some attempts, it doesn't send a timeout response at all. Also, even if I implement the timeout feature, It doesn't affect to the CPU issue.</p>

<pre><code>import ogs = require('open-graph-scraper');

public scrapeData(req: Request, res: Response): void {
        const main = new MainController();
        try {
            const targetUrl = req.body.url || null;
            const options = { url: targetUrl, timeout: 5000, onlyGetOpenGraphInfo: true };

            ogs(options, (error: any, results: any) =&gt; {
                // This returns true or false. True if there was a error. The error it self is inside the results object.
                if (error === true) {
                    main.sendResponse(res, ResponseMessage.DATA_NOT_FOUND, results, false, ResponseCode.DATA_NOT_FOUND);
                } else {
                    if (results.data) {
                        main.sendResponse(res, ResponseMessage.DATA_FOUND, results, false, ResponseCode.DATA_NOT_FOUND);
                    } else {
                        main.sendResponse(res, ResponseMessage.DATA_NOT_FOUND, [], false, ResponseCode.DATA_NOT_FOUND);
                    }
                }
            });

        } catch (ex) {
            logger.error(ex);
            main.sendResponse(res, ResponseMessage.EXCEPTION, ex, false, ResponseCode.EXCEPTION);
        }
    }
</code></pre>

<p>This is the request URL that hangs the CPU http:// bit.ly/2YdwvgN</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
28090,27631,57965303,1,0,11989778,0.0,3.0,0.0,0.0,2019-09-16T22:56:06.050,0.0,616.0,node js express not able to resolve node modules/merge-descriptors,"<p>I have a simple node.js express application. </p>

<p>When I run <code>npm run serve</code>, I am getting below error.</p>

<p>In my <code>node_modules</code> folders I can see <code>merge-descriptors</code> folder, but when I try to start <code>express server</code>, looks like it is complaining about not able to find the component. </p>

<p>My path correctly has <code>node_modules/.bin</code> set.</p>

<pre><code>internal/modules/cjs/loader.js:583
throw err;
^
</code></pre>

<blockquote>
  <p>Error: Cannot find module 'merge-descriptors'
      at Function.Module._resolveFilename (internal/modules/cjs/loader.js:581:15)
      at Function.Module._load (internal/modules/cjs/loader.js:507:25)
      at Module.require (internal/modules/cjs/loader.js:637:17)
      at require (internal/modules/cjs/helpers.js:22:18)
      at Object. (/tmp/site/node_modules/express/lib/express.js:16:13)
      at Module._compile (internal/modules/cjs/loader.js:689:30)
      at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)
      at Module.load (internal/modules/cjs/loader.js:599:32)
      at tryModuleLoad (internal/modules/cjs/loader.js:538:12)
      at Function.Module._load (internal/modules/cjs/loader.js:530:3)</p>
</blockquote>
",<node.js><express><npm>,1.0,0,0,1
28174,27715,58036878,1,0,12098026,0.0,3.0,0.0,0.0,2019-09-21T02:45:25.813,0.0,403.0,Why is my Chessboard variable undefined in my Express app?,"<p>In my index.js file I am trying to make another page for my chessboard, but my variable is undefined as if i never installed the package </p>

<p>I have done npm install --save chess.js and placed the min.js and min.css files in my public folder </p>

<p>this is the part of my file </p>

<pre><code>router.get('/chess/', (req,res,next) =&gt;{
  var board1 = Chessboard('board1', 'start');//this is the line
  res.render('color',{
    title: 'Chess Page',
    board1: board1
  });
</code></pre>

<p>this is my error 
Chessboard is not defined
ReferenceError: Chessboard is not defined
    at that location</p>

<p>I wanted the board to show up and for it to recognize my variable</p>
",<javascript><express><npm><pug>,1.0,0,0,1
28204,27745,58066934,1,0,11771910,1.0,1.0,0.0,0.0,2019-09-23T16:51:29.760,0.0,214.0,NodeJS SQL Login Error (ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client),"<p>Hello I'm pretty new to nodeJS and I'm having an issue which I believe the catalyst is in the second if statement nested in ""db.query..."" in the code below. Im getting an error that says <code>ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client</code> but I'm not quite sure how to fix this situation? I'm trying to create a login form which gets the information from mysql.</p>

<pre><code>  app.post('/login',(req, res) =&gt;{

        const { email, password } = req.body //pulls name=""email"" from html

        if(email &amp;&amp; password){

            db.query('SELECT * from users WHERE email = ? ;',[email], function (err, result) {
                if (err) throw err;
                if (result) {
                    if(result[0].password === password){
                        req.session.userId = result[0].uid
                        return res.redirect('/home')
                    }
                }     
                console.log(result[0].email)
              });

        }
        res.redirect('/login')
    });
</code></pre>
",<javascript><mysql><node.js><express><npm>,0.0,0,0,1
28310,27782,58087173,1,0,9374668,1.0,2.0,0.0,0.0,2019-09-24T19:41:05.973,6.0,3416.0,Next JS build failed on shared hosting,"<p>When I run ""npm run build"" on my shared hosting server it throws an error: spawn ENOMEM
It runs fine on my localhost and was running fine on the hosting server for a couple of weeks until yesterday.</p>

<pre><code>&gt; mysite@1.0.0 build /home/user123/public_html
&gt; next build

Creating an optimized production build ...internal/child_process.js:366
    throw errnoException(err, 'spawn');
    ^

Error: spawn ENOMEM
    at ChildProcess.spawn (internal/child_process.js:366:11)
    at spawn (child_process.js:551:9)
    at Object.fork (child_process.js:113:10)
    at ChildProcessWorker.initialize (/home/user123/public_html/node_modules/jest-worker/build/workers/ChildProcessWorker.js:137:44)
    at new ChildProcessWorker (/home/user123/public_html/node_modules/jest-worker/build/workers/ChildProcessWorker.js:127:10)
    at WorkerPool.createWorker (/home/user123/public_html/node_modules/jest-worker/build/WorkerPool.js:44:12)
    at new BaseWorkerPool (/home/user123/public_html/node_modules/jest-worker/build/base/BaseWorkerPool.js:82:27)
    at new WorkerPool (/home/user123/public_html/node_modules/jest-worker/build/WorkerPool.js:30:1)
    at new JestWorker (/home/user123/public_html/node_modules/jest-worker/build/index.js:131:26)
    at TaskRunner.run (/home/user123/public_html/node_modules/next/dist/build/webpack/plugins/terser-webpack-plugin/src/TaskRunner.js:3:166)
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! mysite@1.0.0 build: `next build`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the mysite@1.0.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/user123/.npm/_logs/2019-09-24T19_27_41_300Z-debug.log
</code></pre>

<p>and this is the debug log </p>

<pre><code>0 info it worked if it ends with ok
1 verbose cli [ '/home/user123/node/bin/node',
1 verbose cli   '/home/user123/node/bin/npm',
1 verbose cli   'run',
1 verbose cli   'build' ]
2 info using npm@6.11.3
3 info using node@v10.16.3
4 verbose run-script [ 'prebuild', 'build', 'postbuild' ]
5 info lifecycle mysite@1.0.0~prebuild: mysite@1.0.0
6 info lifecycle mysite@1.0.0~build: mysite@1.0.0
7 verbose lifecycle mysite@1.0.0~build: unsafe-perm in lifecycle true
8 verbose lifecycle mysite@1.0.0~build: PATH: /home/user123/node/lib/node_modules/npm/node_modules/npm-lifecycle/node-gyp-bin:/home/user123/public_html/node_modules/.bin:/home/user123/node/bin:/home/user123/node/bin:/usr/local/cpanel/3rdparty/lib/path-bin:/usr/local/jdk/bin:/usr/local/cpanel/3rdparty/lib/path-bin:/usr/local/cpanel/3rdparty/lib/path-bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/opt/cpanel/composer/bin:/opt/puppetlabs/bin:/opt/dell/srvadmin/bin:/usr/local/bin:/usr/X11R6/bin:/home/user123/.local/bin:/home/user123/bin
9 verbose lifecycle mysite@1.0.0~build: CWD: /home/user123/public_html
10 silly lifecycle mysite@1.0.0~build: Args: [ '-c', 'next build' ]
11 silly lifecycle mysite@1.0.0~build: Returned: code: 1  signal: null
12 info lifecycle mysite@1.0.0~build: Failed to exec build script
13 verbose stack Error: mysite@1.0.0 build: `next build`
13 verbose stack Exit status 1
13 verbose stack     at EventEmitter.&lt;anonymous&gt; (/home/user123/node/lib/node_modules/npm/node_modules/npm-lifecycle/index.js:332:16)
13 verbose stack     at EventEmitter.emit (events.js:198:13)
13 verbose stack     at ChildProcess.&lt;anonymous&gt; (/home/user123/node/lib/node_modules/npm/node_modules/npm-lifecycle/lib/spawn.js:55:14)
13 verbose stack     at ChildProcess.emit (events.js:198:13)
13 verbose stack     at maybeClose (internal/child_process.js:982:16)
13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:259:5)
14 verbose pkgid mysite@1.0.0
15 verbose cwd /home/user123/public_html
16 verbose Linux 2.6.32-954.3.5.lve1.4.66.el6.x86_64
17 verbose argv ""/home/user123/node/bin/node"" ""/home/user123/node/bin/npm"" ""run"" ""build""
18 verbose node v10.16.3
19 verbose npm  v6.11.3
20 error code ELIFECYCLE
21 error errno 1
22 error mysite@1.0.0 build: `next build`
22 error Exit status 1
23 error Failed at the mysite@1.0.0 build script.
23 error This is probably not a problem with npm. There is likely additional logging output above.
24 verbose exit [ 1, true ]
</code></pre>

<p>I am using express and next js .
This is my server.js</p>

<pre><code>const express = require( 'express' );
const next    = require( 'next' );

// Import middleware.
const routes = require( './routes' );

// Setup app.
const app     = next( { dev: 'production' !== process.env.NODE_ENV } );
const handle  = app.getRequestHandler();
const handler = routes.getRequestHandler( app );

app.prepare()
  .then( () =&gt; {

    // Create server.
    const server = express();

    // Use our handler for requests.
    server.use( handler );

    // Don't remove. Important for the server to work. Default route.
    server.get( '*', ( req, res ) =&gt; {
      return handle( req, res );
    } );

    // Get current port.
    const port = process.env.PORT || 8080;

    // Error check.
    server.listen( port, err =&gt; {
      if ( err ) {
        throw err;
      }

      // Where we starting, yo!
      console.log( `&gt; Ready on port ${port}...` );
    } );
  } );
</code></pre>

<p>I've looked into swap space / memory and it seems like it's fine</p>

<pre><code>             total       used       free     shared    buffers     cached
Mem:         31906      31330        575         21       2982      16900
-/+ buffers/cache:      11447      20459
Swap:         8191          0       8191
</code></pre>

<p>I've also tried doing <code>NODE_OPTIONS=--max-old-space-size=2048 npm run build</code> and still doesn't work</p>

<p>Anyone have any idea what's wrong?</p>
",<javascript><node.js><express><npm><next.js>,1.0,0,0,1
28327,27799,58109036,1,0,3106460,3.0,2.0,0.0,0.0,2019-09-26T03:07:48.823,-1.0,1239.0,"""npm install express socket.io"" vs ""npm install socket.io""","<p>I am reading a book to learn Firebase. In the section about Socket.io, there is an npm command I do not understand, it is</p>

<pre><code>npm install express socket.io 
</code></pre>

<p>What does the ""express"" do here? Or it is just a redundant word? If it does mean something, what is the difference between the command above and that without ""express"":</p>

<pre><code>npm install socket.io
</code></pre>

<p>I have tried both and they both work. Please help explain, thanks a lot!</p>
",<node.js><express><npm><socket.io>,0.0,0,0,1
28350,27822,58123791,1,0,10140829,1.0,4.0,0.0,0.0,2019-09-26T19:48:03.480,-4.0,2888.0,How can I install nodemon on windows 10?,"<p>I am using the bash console in windows 10. I am using node.js and I want to install nodemon, but I get this:</p>

<pre><code>sudo: npm: command not found
</code></pre>

<p>and I'm supposed to have npm</p>
",<javascript><node.js><express><npm><nodemon>,0.0,0,0,1
28387,27859,58153224,1,58153631,10275692,1.0,0.0,0.0,0.0,2019-09-29T07:34:45.837,0.0,483.0,npm error while installing express in nodejs,"<p>I am facing a problem while <code>npm install express</code>. Unexpected end of JSON input while parsing near '...""dist"":{""shasum"":""e84' this is the erroe i am getting.</p>

<pre><code>&gt;  0 info it worked if it ends with ok
&gt;         1 verbose cli [ 'D:\\Program Files\\nodejs\\node.exe',
&gt;         1 verbose cli   'C:\\Users\\Rakshith Rakshak\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js',
&gt;         1 verbose cli   'install',
&gt;         1 verbose cli   '-g',
&gt;         1 verbose cli   'express' ]
&gt;         2 info using npm@6.9.2
&gt;         3 info using node@v10.15.3
&gt;         4 verbose npm-session 203510227a9454ec
&gt;         5 silly install loadCurrentTree
&gt;         6 silly install readGlobalPackageData
&gt;         7 http fetch GET 304 https://registry.npmjs.org/express 346ms (from cache)
&gt;         8 silly fetchPackageMetaData error for express@latest Unexpected end of JSON input while parsing near
&gt; '...""dist"":{""shasum"":""e84'
&gt;         9 timing stage:rollbackFailedOptional Completed in 1ms
&gt;         10 timing stage:runTopLevelLifecycles Completed in 417ms
&gt;         11 verbose stack SyntaxError: Unexpected end of JSON input while parsing near '...""dist"":{""shasum"":""e84'
&gt;         11 verbose stack     at JSON.parse (&lt;anonymous&gt;)
&gt;         11 verbose stack     at parseJson (C:\Users\Rakshith Rakshak\AppData\Roaming\npm\node_modules\npm\node_modules\json-parse-better-errors\index.js:7:17)
&gt;         11 verbose stack     at consumeBody.call.then.buffer (C:\Users\Rakshith
&gt; Rakshak\AppData\Roaming\npm\node_modules\npm\node_modules\node-fetch-npm\src\body.js:96:50)
&gt;         11 verbose stack     at process._tickCallback (internal/process/next_tick.js:68:7)
&gt;         12 verbose cwd D:\My Files\node\role-based-auth
&gt;         13 verbose Windows_NT 10.0.18362
&gt;         14 verbose argv ""D:\\Program Files\\nodejs\\node.exe"" ""C:\\Users\\Rakshith
&gt; Rakshak\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js""
&gt; ""install"" ""-g"" ""express""
&gt;         15 verbose node v10.15.3
&gt;         16 verbose npm  v6.9.2
&gt;         17 error Unexpected end of JSON input while parsing near '...""dist"":{""shasum"":""e84'
&gt;         18 verbose exit [ 1, true ]
</code></pre>
",<node.js><json><express><npm><verbose>,0.0,0,0,1
28510,27982,58288145,1,0,11104149,2.0,3.0,0.0,0.0,2019-10-08T14:12:30.573,1.0,1021.0,How to run a node.js REST API application in production,"<p>Ok, so right off the bat I feel a little dumb asking this question, but I'm a bit new to node.js apps so bear with me.  I've written this REST API in node.js and it runs just fine on my local machine.  But, when I build it using webpack, I am not quite sure how it's supposed to actually run in the wild.  Locally, I have a server.js using Express file that I start using node.  But how would I run the build version?  I'm sure the answer is obvious I'm just not seeing it.</p>

<p>My goal is to be able to run this on a subdomain on my shared hosting solution, so I'd have something like an example endpoint of <a href=""https://myapi.mydomain.com/getAListOfSomething/"" rel=""nofollow noreferrer"">https://myapi.mydomain.com/getAListOfSomething/</a></p>

<p>So bottom line - I wanna use Webpack to build my app, then deploy it somewhere and use it like a normal API.  I'm just not sure how to do about it.  With something like a React app, it's completely obvious to me (an index.html file with a script tag to my app, very simple) but with something like this I'm lost.</p>

<p>So here's some code...</p>

<p><strong><em>SERVER.JS</em></strong></p>

<pre><code>const routes = require('./routes/appRoutes.js');
const express = require('express');
const cors = require('cors');

process.env.NODE_ENV = process.env.NODE_ENV || 'development';
const envPath = process.env.NODE_ENV !== 'production' ? `.env.${process.env.NODE_ENV}` : '.env';
const config = require('dotenv').config({path: envPath});

 bodyParser = require('body-parser');
 app = express();
 port = process.env.PORT || 3001;
 app.use(cors());
 app.listen(port);
 console.log(process.env.APP_NAME + ' started on port ' + port +' (yay!)');

 app.use(bodyParser.urlencoded({ extended: true }));
 app.use(bodyParser.json());

 routes(app); //register the route
</code></pre>

<p><strong>* WEBPACK.CONFIG.JS *</strong></p>

<pre><code>const path = require('path');
const ExtractTextPlugin = require('extract-text-webpack-plugin');
const webpack = require('webpack');
const nodeExternals = require('webpack-node-externals');
process.env.NODE_ENV = process.env.NODE_ENV || 'development';

const envPath = process.env.NODE_ENV !== 'production' ? `.env.${process.env.NODE_ENV}` : '.env';
const config = require('dotenv').config({path: envPath});


module.exports = (env) =&gt; {
    const isProduction = env==='production';

    return {
        entry: './routes/appRoutes.js',
        output: {
            path: path.join(__dirname,'public','dist'),
            filename: 'bundle.js'
        },
        target: 'node',
        node: {
            // Need this when working with express, otherwise the build fails
            __dirname: false,   // if you don't put this is, __dirname
            __filename: false,  // and __filename return blank or /
          },        
        externals: [nodeExternals()],
        module: {
            rules: [{
                loader: 'babel-loader',
                test: /\.js$/,
                exclude: /node_modules/
            }]
        },
        plugins: [
            new webpack.DefinePlugin({
             'process.env.APP_NAME': JSON.stringify(process.env.APP_NAME),
             'process.env.DB_HOST': JSON.stringify(process.env.DB_HOST),
             'process.env.DB_USERNAME': JSON.stringify(process.env.DB_USERNAME),
             'process.env.DB_PASSWORD': JSON.stringify(process.env.DB_PASSWORD),
             'process.env.DB_PASSWORD': JSON.stringify(process.env.DB_PASSWORD),
             'process.env.PORT': JSON.stringify(process.env.PORT)      
            })
         ],
        devtool: isProduction ? 'source-map' : 'inline-source-map',
        devServer: {
            contentBase: path.join(__dirname,'public'),
            port: 3300,
            historyApiFallback: true,
            publicPath: '/dist/'
        }    
    }
};  
</code></pre>

<p><strong><em>PACKAGE.JSON</em></strong></p>

<pre><code>{
    ""name"": ""spinder-api"",
    ""version"": ""1.0.0"",
    ""description"": """",
    ""main"": ""index.js"",
    ""scripts"": {
        ""build:dev"": ""webpack -p --env development"",
        ""build:prod"": ""webpack -p --env production"",
        ""dev-webpack"": ""webpack-dev-server --env development"",
        ""dev-server"": ""node app.js --env development""
    },
    ""keywords"": [],
    ""author"": """",
    ""license"": ""ISC"",
    ""dependencies"": {
        ""@babel/cli"": ""^7.0.0"",
        ""@babel/core"": ""^7.0.0"",
        ""@babel/preset-env"": ""^7.0.0"",
        ""babel-watch"": ""^7.0.0"",
        ""bcrypt"": ""^3.0.4"",
        ""body-parser"": ""^1.18.3"",
        ""cors"": ""^2.8.5"",
        ""db-migrate-mysql"": ""^1.1.10"",
        ""dotenv"": ""^6.2.0"",
        ""express"": ""^4.16.4"",
        ""extract-text-webpack-plugin"": ""^3.0.2"",
        ""multer"": ""^1.4.2"",
        ""mysql"": ""^2.16.0"",
        ""type-of-is"": ""^3.5.1""
    },
    ""devDependencies"": {
        ""@babel/core"": ""^7.6.2"",
        ""@babel/preset-env"": ""^7.6.2"",
        ""babel-loader"": ""^8.0.6"",
        ""html-loader"": ""^0.5.5"",
        ""html-webpack-plugin"": ""^3.2.0"",
        ""nodemon"": ""^1.18.10"",
        ""webpack"": ""^4.41.0"",
        ""webpack-cli"": ""^3.3.9"",
        ""webpack-dev-middleware"": ""^3.7.2"",
        ""webpack-dev-server"": ""^3.8.2"",
        ""webpack-hot-middleware"": ""^2.25.0"",
        ""webpack-node-externals"": ""^1.7.2""
    }
}
</code></pre>

<p><strong><em>.ENV[.DEVELOPMENT] EXAMPLE</em></strong>
(Note: I have a development and a production version, of course...)</p>

<pre><code>APP_NAME=spinder_api
DB_HOST=localhost
DB_USERNAME=db_username
DB_PASSWORD=my_strong_passwrod
DB_DATABASE=my_app_database
PORT=3300
</code></pre>
",<javascript><node.js><express><npm><webpack>,0.0,1,0,1
28650,28122,58439275,1,0,7731085,1.0,0.0,0.0,0.0,2019-10-17T19:09:15.717,0.0,156.0,How does redirecting from a post method to get method work?,"<p>The server doesn't recognize any get request except for the post method after executing some queries in the mongodb.</p>

<p>The express middleware takes the post method and after interacting with the database and using the res.redirect() to get to other get methods, the server doesn't recognize the request at all. I tried using res.all(). This showed that the request was seen but no action was taken.</p>

<pre><code>var express = require('express');
var router = express.Router();

var Product = require('../models/product');

router.get('/', function(req, res, next) {`//homepage
    res.render(""index"");
}

router.post('/add',function(req,res next){  
    //Product model
    var prod = new Product({
        //data here
    });

    prod.save(function(err,res2){
        if(err){
            console.log(err);
            return res.redirect('/error');
        }
        else{
            mongoose.disconnect();
            console.log(""Complete1"");
            return res.redirect('/');
            console.log (""Complete2);
        }
    }); 
}
</code></pre>

<p>After I get to the post method it should redirect to the homepage</p>
",<express><npm><handlebars.js>,0.0,0,0,1
28668,28140,58457828,1,0,7306013,1.0,2.0,0.0,0.0,2019-10-18T20:34:04.483,-1.0,238.0,some vulnerabilities are shown in npm install command,"<p>I'm new to JAVASCRIPT and got this report when invoking <strong>'npm audit command'</strong> after seeing vulnerabilities in npm install command.</p>

<p>what I've done is just adding functionality to my server/client project, added HTTP request(DELETE, POST) in Axios and their respective HTTP response on express.</p>

<p><strong>EDIT</strong> - I've tried using 'npm audit fix' but it says - ""10 vulnerabilities required manual review and could not be updated""</p>

<pre><code>┌──────────────────────────────────────────────────────────────────────────────┐
│                                Manual Review                                 │
│            Some vulnerabilities require your attention to resolve            │
│                                                                              │
│         Visit https://go.npm.me/audit-guide for additional guidance          │
└──────────────────────────────────────────────────────────────────────────────┘
┌───────────────┬──────────────────────────────────────────────────────────────┐
│ High          │ Machine-In-The-Middle                                        │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Package       │ https-proxy-agent                                            │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Patched in    │ &gt;=3.0.0                                                      │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Dependency of │ lerna [dev]                                                  │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Path          │ lerna &gt; @lerna/add &gt; @evocateur/pacote &gt;                     │
│               │ @evocateur/npm-registry-fetch &gt; make-fetch-happen &gt;          │
│               │ https-proxy-agent                                            │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ More info     │ https://npmjs.com/advisories/1184                            │
└───────────────┴──────────────────────────────────────────────────────────────┘
┌───────────────┬──────────────────────────────────────────────────────────────┐
│ High          │ Machine-In-The-Middle                                        │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Package       │ https-proxy-agent                                            │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Patched in    │ &gt;=3.0.0                                                      │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Dependency of │ lerna [dev]                                                  │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Path          │ lerna &gt; @lerna/create &gt; @evocateur/pacote &gt;                  │
│               │ @evocateur/npm-registry-fetch &gt; make-fetch-happen &gt;          │
│               │ https-proxy-agent                                            │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ More info     │ https://npmjs.com/advisories/1184                            │
└───────────────┴──────────────────────────────────────────────────────────────┘
┌───────────────┬──────────────────────────────────────────────────────────────┐
│ High          │ Machine-In-The-Middle                                        │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Package       │ https-proxy-agent                                            │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Patched in    │ &gt;=3.0.0                                                      │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Dependency of │ lerna [dev]                                                  │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Path          │ lerna &gt; @lerna/publish &gt; @evocateur/pacote &gt;                 │
│               │ @evocateur/npm-registry-fetch &gt; make-fetch-happen &gt;          │
│               │ https-proxy-agent                                            │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ More info     │ https://npmjs.com/advisories/1184                            │
└───────────────┴──────────────────────────────────────────────────────────────┘
┌───────────────┬──────────────────────────────────────────────────────────────┐
│ High          │ Machine-In-The-Middle                                        │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Package       │ https-proxy-agent                                            │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Patched in    │ &gt;=3.0.0                                                      │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Dependency of │ lerna [dev]                                                  │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Path          │ lerna &gt; @lerna/publish &gt; @evocateur/libnpmaccess &gt;           │
│               │ @evocateur/npm-registry-fetch &gt; make-fetch-happen &gt;          │
│               │ https-proxy-agent                                            │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ More info     │ https://npmjs.com/advisories/1184                            │
└───────────────┴──────────────────────────────────────────────────────────────┘
┌───────────────┬──────────────────────────────────────────────────────────────┐
│ High          │ Machine-In-The-Middle                                        │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Package       │ https-proxy-agent                                            │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Patched in    │ &gt;=3.0.0                                                      │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Dependency of │ lerna [dev]                                                  │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Path          │ lerna &gt; @lerna/publish &gt; @evocateur/npm-registry-fetch &gt;     │
│               │ make-fetch-happen &gt; https-proxy-agent                        │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ More info     │ https://npmjs.com/advisories/1184                            │
└───────────────┴──────────────────────────────────────────────────────────────┘
┌───────────────┬──────────────────────────────────────────────────────────────┐
│ High          │ Machine-In-The-Middle                                        │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Package       │ https-proxy-agent                                            │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Patched in    │ &gt;=3.0.0                                                      │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Dependency of │ lerna [dev]                                                  │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Path          │ lerna &gt; @lerna/publish &gt; @lerna/npm-dist-tag &gt;               │
│               │ @evocateur/npm-registry-fetch &gt; make-fetch-happen &gt;          │
│               │ https-proxy-agent                                            │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ More info     │ https://npmjs.com/advisories/1184                            │
└───────────────┴──────────────────────────────────────────────────────────────┘
┌───────────────┬──────────────────────────────────────────────────────────────┐
│ High          │ Machine-In-The-Middle                                        │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Package       │ https-proxy-agent                                            │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Patched in    │ &gt;=3.0.0                                                      │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Dependency of │ lerna [dev]                                                  │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Path          │ lerna &gt; @lerna/publish &gt; @lerna/npm-publish &gt;                │
│               │ @evocateur/libnpmpublish &gt; @evocateur/npm-registry-fetch &gt;   │
│               │ make-fetch-happen &gt; https-proxy-agent                        │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ More info     │ https://npmjs.com/advisories/1184                            │
└───────────────┴──────────────────────────────────────────────────────────────┘
┌───────────────┬──────────────────────────────────────────────────────────────┐
│ High          │ Machine-In-The-Middle                                        │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Package       │ https-proxy-agent                                            │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Patched in    │ &gt;=3.0.0                                                      │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Dependency of │ lerna [dev]                                                  │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Path          │ lerna &gt; @lerna/add &gt; @evocateur/pacote &gt; make-fetch-happen &gt; │
│               │ https-proxy-agent                                            │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ More info     │ https://npmjs.com/advisories/1184                            │
└───────────────┴──────────────────────────────────────────────────────────────┘
┌───────────────┬──────────────────────────────────────────────────────────────┐
│ High          │ Machine-In-The-Middle                                        │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Package       │ https-proxy-agent                                            │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Patched in    │ &gt;=3.0.0                                                      │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Dependency of │ lerna [dev]                                                  │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Path          │ lerna &gt; @lerna/create &gt; @evocateur/pacote &gt;                  │
│               │ make-fetch-happen &gt; https-proxy-agent                        │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ More info     │ https://npmjs.com/advisories/1184                            │
└───────────────┴──────────────────────────────────────────────────────────────┘
┌───────────────┬──────────────────────────────────────────────────────────────┐
│ High          │ Machine-In-The-Middle                                        │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Package       │ https-proxy-agent                                            │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Patched in    │ &gt;=3.0.0                                                      │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Dependency of │ lerna [dev]                                                  │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ Path          │ lerna &gt; @lerna/publish &gt; @evocateur/pacote &gt;                 │
│               │ make-fetch-happen &gt; https-proxy-agent                        │
├───────────────┼──────────────────────────────────────────────────────────────┤
│ More info     │ https://npmjs.com/advisories/1184                            │
└───────────────┴──────────────────────────────────────────────────────────────┘
found 10 high severity vulnerabilities in 43519 scanned packages
  10 vulnerabilities require manual review. See the full report for details.
</code></pre>

<p>seem like they are all quite related to one another but I don't quite understand what is happening here.</p>
",<javascript><node.js><express><npm><axios>,0.0,0,0,1
28694,28166,58479293,1,58479498,12249048,1.0,0.0,0.0,0.0,2019-10-21T03:05:33.573,1.0,139.0,Ubuntu 16.04 Can not run npm run / install /rebuild,"<p>what heppens after npm install rebuild or npm install  <a href=""https://i.stack.imgur.com/CfTjM.png"" rel=""nofollow noreferrer"">1</a>
,then it's show Error like this <a href=""https://i.stack.imgur.com/n7obI.png"" rel=""nofollow noreferrer"">2</a><br>
<br>This is the error I get when I run npm run [my project]</p>

<pre><code>Error: uncaughtException: The gRPC binary module was not installed. This may be fixed by running ""npm rebuild""
Original error: Cannot find module '/home/itsaraphap/Documents/blockchainSampran2/api-sampran/node_modules/fabric-network/node_modules/grpc/src/node/extension_binary/node-v72-linux-x64-glibc/grpc_node.node'
Require stack:
</code></pre>
",<node.js><express><npm><npm-install><npm-scripts>,0.0,0,0,1
28711,28183,58492400,1,0,12252681,1.0,2.0,0.0,0.0,2019-10-21T18:45:01.237,0.0,723.0,Error ELIFECYCLE 3228369023 on attempted connection to SQL Server database using Node.js MSSQL,"<p>I'm working on setting up an API for a SQL Server Express database, I'm planning on using mssql in Node.js with express to receive requests and interact with the database. I have tried several approaches to connecting to the DB via node, and believe that the server (running locally) is found, but my node app is unable to connect with it.</p>

<p>The approaches I've made include various different forms of connection strings (some just strings as displayed below, and some attempts using a JSON object). Also, at first I only used the mssql package, but I later added in msnodesqlv8.</p>

<pre><code>function connect(){
var sql = require(""mssql/msnodesqlv8"");

// config for your database
var connString = 'Driver={SQL Server Native Client 11.0};Server={DESKTOP-RJH9ERF\\SQLEXPRESS};Uid={DESKTOP-RJH9ERF\\Jake};Database={MAIC};Trusted_Connection={yes};'

// connect to your database
sql.connect(connString, function (err) {

    if (err) console.log(err);

    // create Request object
    var request = new sql.Request();

    // query to the database and get the records
    request.query('select * from Events', function (err, recordset) {

        if (err) console.log(err)

        // send records as a response
        res.send(recordset);

    });
});
};
</code></pre>

<p>At first, there appeared to be an issue with a user not being recognized. On my more recent approaches to connecting, however, I am getting this error repeatedly.</p>

<p>20 error code ELIFECYCLE
21 error errno 3228369023
22 error maic-api@1.0.0 start: <code>node server.js</code>
22 error Exit status 3228369023</p>

<p>I have seen no additional information regarding what this error means and after some searches online it remains unclear what is causing this. Is anyone familiar with this error and what it might have to do with MSSQL in node?</p>
",<javascript><node.js><sql-server><express><npm>,0.0,0,0,1
28882,28354,58670770,1,58671170,11659016,2.0,0.0,0.0,0.0,2019-11-02T11:49:37.193,0.0,124.0,Cannot set headers after they are sent to the client in Mongoose,"<p>Whenever I delete my orders and try to fetch again with same id 
it returns an proper response that (Order Not Found) but in console it return an error</p>

<pre><code>router.delete(""/:orderID"", (req, res, next) =&gt; {
  const id = req.params.orderID;
  Orders.deleteOne({ _id: id })
    .exec()
    .then(result =&gt; {
      if (!result) {
        res.status(404).json({
          message: ""there is no such Order to Delete, Kindly Check Order ID"",
          fetchAll: ""http://localhost:3000/orders/""
        });
      }
      res.status(200).json({
        message: ""Order Deleted Successfully"",
        request: {
          type: ""POST"",
          url: ""http://localhost:3000/orders/"",
          body: {
            productID: ""Id of the Product"",
            quantity: ""Total Quantity of the Product""
          }
        }
      });
    })
    .catch(err =&gt; {
      console.log(err);
      res.status(500).json({
        error: err
      });
    });
});
</code></pre>
",<node.js><mongodb><express><npm><mongoose>,0.0,0,0,1
28967,28439,58756101,1,61640970,8570546,5.0,9.0,0.0,0.0,2019-11-07T19:59:00.150,15.0,19960.0,"""npm ERR! errno 3221225477"" Error in Node when making a query using oracledb","<p>This is the error itself in the command line:</p>

<pre><code>npm ERR! code ELIFECYCLE
npm ERR! errno 3221225477
npm ERR! versioncenter@0.0.1 start: `node ./bin/www`
npm ERR! Exit status 3221225477
npm ERR!
npm ERR! Failed at the versioncenter@0.0.1 start script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\USERNAME\AppData\Roaming\npm-cache\_logs\2019-11-13T17_17_52_250Z-debug.log
/c/Program Files/nodejs/npm: line 37:  1341 Segmentation fault      ""$NODE_EXE"" ""$NPM_CLI_JS"" ""$@""
</code></pre>

<p>This is the error log:</p>

<pre><code>0 info it worked if it ends with ok
1 verbose cli [
1 verbose cli   'C:\\Program Files\\nodejs\\node.exe',
1 verbose cli   'C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js',
1 verbose cli   'run',
1 verbose cli   'start'
1 verbose cli ]
2 info using npm@6.11.3
3 info using node@v12.11.1
4 verbose run-script [ 'prestart', 'start', 'poststart' ]
5 info lifecycle versioncenter@0.0.1~prestart: versioncenter@0.0.1
6 info lifecycle versioncenter@0.0.1~start: versioncenter@0.0.1
7 verbose lifecycle versioncenter@0.0.1~start: unsafe-perm in lifecycle true
8 verbose lifecycle versioncenter@0.0.1~start: PATH: C:\Program Files\nodejs\node_modules\npm\node_modules\npm-lifecycle\node-gyp-bin;C:\version_center\node_modules\.bin;C:\Users\USERNAME\bin;C:\Program Files\Git\mingw64\bin;C:\Program Files\Git\usr\local\bin;C:\Program Files\Git\usr\bin;C:\Program Files\Git\usr\bin;C:\Program Files\Git\mingw64\bin;C:\Program Files\Git\usr\bin;C:\Users\USERNAME\bin;C:\Python27;C:\Python27\Scripts;C:\app\client\USERNAME\product\12.2.0\client_1;C:\app\client\USERNAME\product\12.2.0\client_1\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0;C:\Program Files\PuTTY;C:\Program Files\Git\cmd;C:\Program Files\nodejs;C:\ProgramData\chocolatey\bin;C:\Users\USERNAME\AppData\Local\Microsoft\WindowsApps;C:\Users\USERNAME\AppData\Local\Programs\Microsoft VS Code\bin;C:\Users\USERNAME\AppData\Local\Programs\Fiddler;C:\Users\USERNAME\AppData\Roaming\npm;C:\app\instantclient_19_3;C:\Program Files\nodejs\node.exe;C:\Program Files\Git\usr\bin\vendor_perl;C:\Program Files\Git\usr\bin\core_perl
9 verbose lifecycle versioncenter@0.0.1~start: CWD: C:\version_center
10 silly lifecycle versioncenter@0.0.1~start: Args: [ '/d /s /c', 'node ./bin/www' ]
11 silly lifecycle versioncenter@0.0.1~start: Returned: code: 3221225477  signal: null
12 info lifecycle versioncenter@0.0.1~start: Failed to exec start script
13 verbose stack Error: versioncenter@0.0.1 start: `node ./bin/www`
13 verbose stack Exit status 3221225477
13 verbose stack     at EventEmitter.&lt;anonymous&gt; (C:\Program Files\nodejs\node_modules\npm\node_modules\npm-lifecycle\index.js:332:16)
13 verbose stack     at EventEmitter.emit (events.js:210:5)
13 verbose stack     at ChildProcess.&lt;anonymous&gt; (C:\Program Files\nodejs\node_modules\npm\node_modules\npm-lifecycle\lib\spawn.js:55:14)
13 verbose stack     at ChildProcess.emit (events.js:210:5)
13 verbose stack     at maybeClose (internal/child_process.js:1021:16)
13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:283:5)
14 verbose pkgid versioncenter@0.0.1
15 verbose cwd C:\version_center
16 verbose Windows_NT 10.0.17134
17 verbose argv ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""run"" ""start""
18 verbose node v12.11.1
19 verbose npm  v6.11.3
20 error code ELIFECYCLE
21 error errno 3221225477
22 error versioncenter@0.0.1 start: `node ./bin/www`
22 error Exit status 3221225477
23 error Failed at the versioncenter@0.0.1 start script.
23 error This is probably not a problem with npm. There is likely additional logging output above.
24 verbose exit [ 3221225477, true ]
</code></pre>

<p>Scripts:</p>

<blockquote>
  <p>""scripts"": {
      ""watch"": ""pm2 logs"",
      ""start"": ""pm2 start ./bin/www --watch --ignore-watch='node_modules' --max-memory-restart 100M &amp; npm run watch"",
      ""startDev"": ""pm2 start ./bin/www"",
      ""stop"": ""pm2 stop 0""   }</p>
</blockquote>

<p>This error is very intermittent.</p>

<p>I have tried cleaning cache, deleting node_modules, package-lock.json, and reinstalling.</p>

<p>I have completely disabled all antivirus and firewall, including network firewalls as I have tested on 3 different networks.</p>

<p>Any ideas as to what is happening?</p>
",<javascript><node.js><express><npm><node-oracledb>,0.0,0,0,1
28978,28450,58768142,1,0,12277422,1.0,1.0,0.0,0.0,2019-11-08T14:08:43.747,1.0,43.0,"I am trying to create a nodejs login system using Express and Passport , I am getting error","<p>I have updated all dependancy in my package.json , and installed all the needed ones. 
And i have tried from youtube and edited my app.js file </p>

<pre><code>var express = require('express');
var path = require('path');
var favicon = require('serve-favicon');
var logger = require('morgan');
var cookieParser = require('cookie-parser');
var bodyParser = require('body-parser');
var session = require('express-session');
var passport = require('passport');
var expressValidator = require('express-validator');
var LocalStrategy = require('passport-local').Strategy;
var multer = require('multer');
var upload = multer({dest: './uploads'});
var flash = require('connect-flash');
var mongo = require('mongodb');
var mongoose = require('mongoose');
var db = mongoose.connection;

var routes = require('./routes/index');
var users = require('./routes/users');

var app = express();

// view engine setup
app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'jade');

// uncomment after placing your favicon in /public
//app.use(favicon(path.join(__dirname, 'public', 'favicon.ico')));
app.use(logger('dev'));
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({ extended: false }));

// Handle Sessions
app.use(session({
  secret:'secret',
  saveUninitialized: true,
  resave: true
}));

// Passport
app.use(passport.initialize());
app.use(passport.session());

// Validator
app.use(expressValidator({
  errorFormatter: function(param, msg, value) {
      var namespace = param.split('.')
      , root    = namespace.shift()
      , formParam = root;

    while(namespace.length) {
      formParam += '[' + namespace.shift() + ']';
    }
    return {
      param : formParam,
      msg   : msg,
      value : value
    };
  }
}));

app.use(cookieParser());
app.use(express.static(path.join(__dirname, 'public')));

app.use(flash());
app.use(function (req, res, next) {
  res.locals.messages = require('express-messages')(req, res);
  next();
});

app.use('/', routes);
app.use('/users', users);

// catch 404 and forward to error handler
app.use(function(req, res, next) {
  var err = new Error('Not Found');
  err.status = 404;
  next(err);
});

// error handlers

// development error handler
// will print stacktrace
if (app.get('env') === 'development') {
  app.use(function(err, req, res, next) {
    res.status(err.status || 500);
    res.render('error', {
      message: err.message,
      error: err
    });
  });
}

// production error handler
// no stacktraces leaked to user
app.use(function(err, req, res, next) {
  res.status(err.status || 500);
  res.render('error', {
    message: err.message,
    error: {}
  });
});


module.exports = app;
</code></pre>

<p>But when i am trying to run the file by putting 
npm start command </p>

<p>These error comes </p>

<pre><code>C:\nodeproject\nodeauth\app.js:45
app.use(expressValidator({
        ^

TypeError: expressValidator is not a function
    at Object.&lt;anonymous&gt; (C:\nodeproject\nodeauth\app.js:45:9)
    at Module._compile (internal/modules/cjs/loader.js:956:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:973:10)
    at Module.load (internal/modules/cjs/loader.js:812:32)
    at Function.Module._load (internal/modules/cjs/loader.js:724:14)
    at Module.require (internal/modules/cjs/loader.js:849:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Object.&lt;anonymous&gt; (C:\nodeproject\nodeauth\bin\www:7:11)
    at Module._compile (internal/modules/cjs/loader.js:956:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:973:10)
    at Module.load (internal/modules/cjs/loader.js:812:32)
    at Function.Module._load (internal/modules/cjs/loader.js:724:14)
    at Function.Module.runMain (internal/modules/cjs/loader.js:1025:10)
    at internal/main/run_main_module.js:17:11
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! nodeauth@0.0.0 start: `node ./bin/www`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the nodeauth@0.0.0 start script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
</code></pre>

<p>I have even checked for the Express Validator module , but it seems nothing is working out.</p>
",<node.js><express><npm><passport.js>,1.0,0,0,1
29203,28675,58988947,1,58989120,4849357,1.0,0.0,0.0,0.0,2019-11-22T06:50:30.050,1.0,495.0,fs.createWriteStream restarts application running on PM2,"<p>I am using PM2 to run the node applications and I am facing an issue using <code>fs.createWriteStream</code> in the application running on PM2, </p>

<p>the case is as below.</p>

<p><strong>Case:</strong></p>

<ul>
<li>My application is running on PM2 (e.g. <code>pm2 start app.js</code>) - either of the way - fork/cluster mode.</li>
<li><p>I am using <code>fs.createWriteStream</code> to write in a file, code is as below    </p>

<pre><code>let myWriteSteram = fs.createWriteStream(path.resolve(publicDir, myCSVFileName))
</code></pre></li>
<li><p>As soon as the script reaches and executes the above line, it immediately restarts the application process.</p></li>
</ul>

<p><strong>Solution:</strong></p>

<ul>
<li>I stopped my application from PM2 and started by using <code>node app.js</code> and <code>fs.createWriteStream</code> started working as expected.</li>
</ul>

<p><strong>Version details:</strong></p>

<ul>
<li><p>npm: <em>6.10.2</em></p></li>
<li><p>node: <em>v10.16.0</em></p></li>
<li><p>pm2: <em>2.10.3</em></p></li>
</ul>

<p>Can someone please explain why PM2 is causing this?</p>

<p>This is just one case that I found, there could be many other cases with the file system when we run the application using PM2.</p>
",<node.js><express><npm><fs><pm2>,0.0,0,0,1
29360,28832,59124194,1,0,5047454,1.0,1.0,0.0,0.0,2019-12-01T09:22:14.803,-1.0,844.0,node start with nodemon,"<p>Learning node with express, downloaded and currently studing a structure template, but forget how to start the nodemon so that any update is automatically applied. I was given the command from where I got the template but lost the locaion and after readying up on some of the commands of npm, node,... I could not come up with how2. Thx</p>

<p>Currnet command to run the app is:</p>

<pre><code>npm start
</code></pre>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>//package.json

{
  ""name"": ""eautoshop"",
  ""version"": ""0.0.0"",
  ""private"": true,
  ""scripts"": {
    ""start"": ""node ./bin/www"",
    ""devstart"": ""nodemon ./bin/www""
  },
  ""dependencies"": {
    ""cookie-parser"": ""~1.4.4"",
    ""debug"": ""~2.6.9"",
    ""express"": ""~4.16.1"",
    ""express-validator"": ""^6.2.0"",
    ""http-errors"": ""~1.6.3"",
    ""morgan"": ""~1.9.1"",
    ""mysql"": ""^2.17.1"",
    ""pug"": ""^2.0.4""
  },
  ""devDependencies"": {
    ""nodemon"": ""^1.19.4""
  }
}</code></pre>
</div>
</div>
</p>

<pre><code>nodemon app
</code></pre>

<p>gives the error:</p>

<blockquote>
  <p>'nodemon' is not recognized as an internal or external command,
  operable program or batch file.</p>
</blockquote>
",<node.js><express><npm>,0.0,0,0,1
29419,28891,59172512,1,0,7704544,2.0,7.0,0.0,0.0,2019-12-04T09:17:01.483,3.0,17802.0,how to update warn deprecated,"<p>I'm trying to learn node and npm, using express for a little project.
When i install it, i got</p>

<pre><code>npm WARN deprecated core-js@2.6.10: core-js@&lt;3.0 is no longer maintained and not recommended for usage due to the number of issues. Please, upgrade your dependencies to the actual version of core-js@3.
</code></pre>

<p>I understood that if everything works, it's not necessary to update everything, but i'm trying to learn and go the extra, unnecessary, mile.</p>

<p>How can i update only core-js?</p>

<pre><code>npm install core-js@^3
</code></pre>

<p>will update it adding it to the dependencies in package.json.</p>

<p>Is this the right way to do it?
Or it's better to update the parent package that use it? If so, how can i understand which is the package that need an update and how to update it?
Or is there a way to update only the modules listed in package-lock.json.</p>

<p>Thanks.</p>
",<node.js><express><npm><deprecated>,0.0,0,0,1
29442,28914,59205358,1,0,11923281,0.0,4.0,0.0,0.0,2019-12-06T00:50:52.267,0.0,94.0,Error deploying express project on heroku,"<p>i'm deploying my first app on heroku, i pushed the code on GitHub, add Heroku keys(because ), created the heroku app on terminal and finally git push heroku master.</p>

<p>The app is very basic, but it doesn't work, and i can't even find a decent log information to work with!</p>

<p>This is the long log that i found.
Hope someone could help me!</p>

<pre><code>2019-12-06T00:11:00.862870+00:00 app[web.1]: at Function.Module.runMain (internal/modules/cjs/loader.js:1047:10) {
2019-12-06T00:11:00.862872+00:00 app[web.1]: code: 'MODULE_NOT_FOUND',
2019-12-06T00:11:00.862874+00:00 app[web.1]: requireStack: [ '/app/src/app.js' ]
2019-12-06T00:11:00.862876+00:00 app[web.1]: }
2019-12-06T00:11:00.870032+00:00 app[web.1]: npm ERR! code ELIFECYCLE
2019-12-06T00:11:00.871330+00:00 app[web.1]: npm ERR! errno 1
2019-12-06T00:11:00.871733+00:00 app[web.1]: npm ERR! 1-Heroku@1.0.0 start: `node src/app.js`
2019-12-06T00:11:00.872684+00:00 app[web.1]: npm ERR! Exit status 1
2019-12-06T00:11:00.872690+00:00 app[web.1]: npm ERR!
2019-12-06T00:11:00.872695+00:00 app[web.1]: npm ERR! Failed at the 1-Heroku@1.0.0 start script.
2019-12-06T00:11:00.872698+00:00 app[web.1]: npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
2019-12-06T00:11:02.538864+00:00 app[web.1]: 
2019-12-06T00:11:02.542433+00:00 app[web.1]: npm ERR! A complete log of this run can be found in:
2019-12-06T00:11:02.542703+00:00 app[web.1]: npm ERR!     /app/.npm/_logs/2019-12-06T00_11_00_875Z-debug.log
2019-12-06T00:11:02.625046+00:00 heroku[web.1]: State changed from starting to crashed
2019-12-06T00:11:02.614891+00:00 heroku[web.1]: Process exited with status 1
2019-12-06T00:18:05.000000+00:00 app[api]: Build started by user cristiano.piscioneri.dev@gmail.com
2019-12-06T00:18:24.105108+00:00 heroku[router]: at=error code=H10 desc=""App crashed"" method=GET path=""/"" host=c-neri-heroku.herokuapp.com request_id=b779201e-bb33-420a-9aea-cd67d026040e fwd=""151.32.4.219"" dyno= connect= service= status=503 bytes= protocol=https
2019-12-06T00:18:48.614900+00:00 app[api]: Deploy c57e0dc3 by user cristiano.piscioneri.dev@gmail.com
2019-12-06T00:18:48.614900+00:00 app[api]: Release v4 created by user cristiano.piscioneri.dev@gmail.com
2019-12-06T00:18:48.892841+00:00 heroku[web.1]: State changed from crashed to starting
2019-12-06T00:18:49.000000+00:00 app[api]: Build succeeded
2019-12-06T00:18:52.277413+00:00 heroku[web.1]: Starting process with command `npm start`
2019-12-06T00:18:55.506035+00:00 app[web.1]: 
2019-12-06T00:18:55.506063+00:00 app[web.1]: &gt; 1-Heroku@1.0.0 start /app
2019-12-06T00:18:55.506065+00:00 app[web.1]: &gt; node src/app.js
2019-12-06T00:18:55.506067+00:00 app[web.1]: 
2019-12-06T00:18:55.809888+00:00 app[web.1]: internal/modules/cjs/loader.js:800
2019-12-06T00:18:55.809932+00:00 app[web.1]: throw err;
2019-12-06T00:18:55.809934+00:00 app[web.1]: ^
2019-12-06T00:18:55.809936+00:00 app[web.1]: 
2019-12-06T00:18:55.809939+00:00 app[web.1]: Error: Cannot find module 'hbs'
2019-12-06T00:18:55.809941+00:00 app[web.1]: Require stack:
2019-12-06T00:18:55.809943+00:00 app[web.1]: - /app/src/app.js
2019-12-06T00:18:55.809945+00:00 app[web.1]: at Function.Module._resolveFilename (internal/modules/cjs/loader.js:797:15)
2019-12-06T00:18:55.809947+00:00 app[web.1]: at Function.Module._load (internal/modules/cjs/loader.js:690:27)
2019-12-06T00:18:55.809950+00:00 app[web.1]: at Module.require (internal/modules/cjs/loader.js:852:19)
2019-12-06T00:18:55.809952+00:00 app[web.1]: at require (internal/modules/cjs/helpers.js:74:18)
2019-12-06T00:18:55.809954+00:00 app[web.1]: at Object.&lt;anonymous&gt; (/app/src/app.js:5:13)
2019-12-06T00:18:55.809956+00:00 app[web.1]: at Module._compile (internal/modules/cjs/loader.js:959:30)
2019-12-06T00:18:55.809958+00:00 app[web.1]: at Object.Module._extensions..js (internal/modules/cjs/loader.js:995:10)
2019-12-06T00:18:55.809960+00:00 app[web.1]: at Module.load (internal/modules/cjs/loader.js:815:32)
2019-12-06T00:18:55.809962+00:00 app[web.1]: at Function.Module._load (internal/modules/cjs/loader.js:727:14)
2019-12-06T00:18:55.809964+00:00 app[web.1]: at Function.Module.runMain (internal/modules/cjs/loader.js:1047:10) {
2019-12-06T00:18:55.809966+00:00 app[web.1]: code: 'MODULE_NOT_FOUND',
2019-12-06T00:18:55.809968+00:00 app[web.1]: requireStack: [ '/app/src/app.js' ]
2019-12-06T00:18:55.809970+00:00 app[web.1]: }
2019-12-06T00:18:55.853916+00:00 app[web.1]: npm ERR! code ELIFECYCLE
2019-12-06T00:18:55.854597+00:00 app[web.1]: npm ERR! errno 1
2019-12-06T00:18:55.858952+00:00 app[web.1]: npm ERR! 1-Heroku@1.0.0 start: `node src/app.js`
2019-12-06T00:18:55.859163+00:00 app[web.1]: npm ERR! Exit status 1
2019-12-06T00:18:55.859694+00:00 app[web.1]: npm ERR!
2019-12-06T00:18:55.859697+00:00 app[web.1]: npm ERR! Failed at the 1-Heroku@1.0.0 start script.
2019-12-06T00:18:55.859764+00:00 app[web.1]: npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
2019-12-06T00:18:55.917128+00:00 app[web.1]: 
2019-12-06T00:18:55.917132+00:00 app[web.1]: npm ERR! A complete log of this run can be found in:
2019-12-06T00:18:55.917135+00:00 app[web.1]: npm ERR!     /app/.npm/_logs/2019-12-06T00_18_55_860Z-debug.log
2019-12-06T00:18:56.015418+00:00 heroku[web.1]: State changed from starting to crashed
2019-12-06T00:18:55.990556+00:00 heroku[web.1]: Process exited with status 1
2019-12-06T00:18:57.272264+00:00 heroku[router]: at=error code=H10 desc=""App crashed"" method=GET path=""/"" host=c-neri-heroku.herokuapp.com request_id=1371d608-aa3d-4ada-94bb-cde5f9edfd69 fwd=""151.32.4.219"" dyno= connect= service= status=503 bytes= protocol=https
2019-12-06T00:21:46.461037+00:00 heroku[web.1]: State changed from crashed to starting
2019-12-06T00:21:49.272673+00:00 heroku[web.1]: Starting process with command `npm start`
2019-12-06T00:21:53.501754+00:00 heroku[web.1]: State changed from starting to crashed
2019-12-06T00:21:53.116284+00:00 app[web.1]: 
2019-12-06T00:21:53.116306+00:00 app[web.1]: &gt; 1-Heroku@1.0.0 start /app
2019-12-06T00:21:53.116308+00:00 app[web.1]: &gt; node src/app.js
2019-12-06T00:21:53.116310+00:00 app[web.1]: 
2019-12-06T00:21:53.306576+00:00 app[web.1]: internal/modules/cjs/loader.js:800
2019-12-06T00:21:53.306580+00:00 app[web.1]: throw err;
2019-12-06T00:21:53.306583+00:00 app[web.1]: ^
2019-12-06T00:21:53.306586+00:00 app[web.1]: 
2019-12-06T00:21:53.306588+00:00 app[web.1]: Error: Cannot find module 'hbs'
2019-12-06T00:21:53.306591+00:00 app[web.1]: Require stack:
2019-12-06T00:21:53.306596+00:00 app[web.1]: - /app/src/app.js
2019-12-06T00:21:53.306598+00:00 app[web.1]: at Function.Module._resolveFilename (internal/modules/cjs/loader.js:797:15)
2019-12-06T00:21:53.306600+00:00 app[web.1]: at Function.Module._load (internal/modules/cjs/loader.js:690:27)
2019-12-06T00:21:53.306603+00:00 app[web.1]: at Module.require (internal/modules/cjs/loader.js:852:19)
2019-12-06T00:21:53.306605+00:00 app[web.1]: at require (internal/modules/cjs/helpers.js:74:18)
2019-12-06T00:21:53.306607+00:00 app[web.1]: at Object.&lt;anonymous&gt; (/app/src/app.js:5:13)
2019-12-06T00:21:53.306609+00:00 app[web.1]: at Module._compile (internal/modules/cjs/loader.js:959:30)
2019-12-06T00:21:53.306611+00:00 app[web.1]: at Object.Module._extensions..js (internal/modules/cjs/loader.js:995:10)
2019-12-06T00:21:53.306613+00:00 app[web.1]: at Module.load (internal/modules/cjs/loader.js:815:32)
2019-12-06T00:21:53.306616+00:00 app[web.1]: at Function.Module._load (internal/modules/cjs/loader.js:727:14)
2019-12-06T00:21:53.306618+00:00 app[web.1]: at Function.Module.runMain (internal/modules/cjs/loader.js:1047:10) {
2019-12-06T00:21:53.306620+00:00 app[web.1]: code: 'MODULE_NOT_FOUND',
2019-12-06T00:21:53.306622+00:00 app[web.1]: requireStack: [ '/app/src/app.js' ]
2019-12-06T00:21:53.306624+00:00 app[web.1]: }
2019-12-06T00:21:53.321267+00:00 app[web.1]: npm ERR! code ELIFECYCLE
2019-12-06T00:21:53.321742+00:00 app[web.1]: npm ERR! errno 1
2019-12-06T00:21:53.324564+00:00 app[web.1]: npm ERR! 1-Heroku@1.0.0 start: `node src/app.js`
2019-12-06T00:21:53.324972+00:00 app[web.1]: npm ERR! Exit status 1
2019-12-06T00:21:53.325528+00:00 app[web.1]: npm ERR!
2019-12-06T00:21:53.326031+00:00 app[web.1]: npm ERR! Failed at the 1-Heroku@1.0.0 start script.
2019-12-06T00:21:53.326436+00:00 app[web.1]: npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
2019-12-06T00:21:53.342561+00:00 app[web.1]: 
2019-12-06T00:21:53.342869+00:00 app[web.1]: npm ERR! A complete log of this run can be found in:
2019-12-06T00:21:53.343077+00:00 app[web.1]: npm ERR!     /app/.npm/_logs/2019-12-06T00_21_53_327Z-debug.log
2019-12-06T00:21:53.479134+00:00 heroku[web.1]: Process exited with status 1
2019-12-06T00:22:24.106302+00:00 heroku[router]: at=error code=H10 desc=""App crashed"" method=GET path=""/"" host=c-neri-heroku.herokuapp.com request_id=fbd6f731-b6f7-49c1-b1ed-2373fd79d7d1 fwd=""151.32.4.219"" dyno= connect= service= status=503 bytes= protocol=https
2019-12-06T00:31:08.844509+00:00 heroku[router]: at=error code=H10 desc=""App crashed"" method=GET path=""/"" host=c-neri-heroku.herokuapp.com request_id=f109e557-116b-4915-8c50-82520f635a42 fwd=""151.32.4.219"" dyno= connect= service= status=503 bytes= protocol=https
</code></pre>

<p>my app.js</p>

<pre class=""lang-js prettyprint-override""><code>const express = require('express')
const path = require('path')
const app = express()
const appRoute = require('./routes/app.js')
const hbs = require( 'hbs')
const port = process.env.PORT||3001

const publicPath = path.join(__dirname + '../../public')
const partialsPath = path.join(__dirname + '/template/partials')
const viewPath = path.join(__dirname + '/template/views')

//HBS
app.set('view engine', 'hbs')
app.set('views', viewPath)
hbs.registerPartials(partialsPath)

app.use(express.static(publicPath))


//ROUTES
app.use(appRoute)

app.listen(port)

</code></pre>

<p>my package.js script</p>

<pre class=""lang-js prettyprint-override""><code>  ""scripts"": {
    ""build"": ""webpack"",
    ""watch"": ""webpack --watch"",
    ""dev"": ""nodemon src/app.js"",
    ""start"": ""node src/app.js""
  },
</code></pre>
",<node.js><express><heroku><npm><deployment>,0.0,0,0,1
29455,28927,59216683,1,0,8418842,1.0,3.0,0.0,0.0,2019-12-06T16:14:12.713,1.0,164.0,"Why does my react app say ""Cannot GET /route"", if the user changes browsers?","<p>I have a React app using React-Router and Express. I added a new route, which accepts an encrypted private key and allows a user to auto-login, via a link to their email inbox.</p>

<p>Here is the route:</p>

<pre><code>&lt;PublicRoute path=""/loader/:user_key"" component={Loader} /&gt;
</code></pre>

<p><code>{Loader}</code> is a React component with a componentWillMount() function, which parses the URL, grabs the ""<code>user_key</code>"", authenticates the user, creates a cookie, and redirects them to a private ""/home"" route. </p>

<p>The link works great -- <em>as long as the user has already logged into the app previously from the <strong>same</strong> browser</em>. However, if the user created their account on one browser (eg laptop) and opens the email link from a different browser (eg mobile phone), the browser returns </p>

<blockquote>
  <p>""Cannot GET /loader/...""</p>
</blockquote>

<p>Do you have any suggestions? What am I doing wrong?</p>

<p><strong>EDIT</strong></p>

<p>Here is the server.js file (containing the key express logic)</p>

<pre><code>const bodyParser = require(""body-parser"");
const expressValidator = require(""express-validator"");
const session = require(""express-session"");
const MongoStore = require(""connect-mongodb-session"")(session);
const mongoose = require(""mongoose"");
const passport = require(""./config/passport/index.js"");
const routes = require(""./routes/index.js"");
const express = require(""express"");
const app = express();
const http = require(""http"");
const path = require(""path"");
const PORT = process.env.PORT || 3001;
const MONGODB_URI =
  process.env.MONGODB_URI || ""mongodb://localhost:27017/sonar"";
mongoose.Promise = Promise;

//Parse application /x-www-form-urlencoded
app.use(bodyParser.urlencoded({ extended: false }));
app.use(bodyParser.json());

//Server instance
const server = http.createServer(app);

//Cronjobs
const cronjob = require(""./cronjob.js"");

// -------------------------- Sessions -----------------------------

//Initiate sessions
app.use(
  session({
    secret: ""Secret"",
    store: new MongoStore({ uri: MONGODB_URI, collection: ""sessions"" }),
    resave: true,
    saveUninitialized: true,
    cookie: {
      maxAge: 3*60*60*1000 // In milliseconds
    }
  })
);

//Initialize passport
app.use(passport.initialize());
app.use(passport.session()); // will call the deserializeUser

// --------------------- Backend Validation---------------------------

//This validates and sanitizes strings
app.use(
  expressValidator({
    errorFormatter: (param, msg, value) =&gt; {
      const namespace = param.split("".""),
        root = namespace.shift(),
        formParam = root;

      while (namespace.length) {
        formParam += ""["" + namespace.shift() + ""]"";
      }
      return {
        param: formParam,
        msg: msg,
        value: value
      };
    }
  })
);

// -------------------------- Routes -----------------------------

//Sets static assets path
app.use(express.static(path.join(__dirname, ""/build"")));

//Sets route to index
app.get(""/"", (req, res) =&gt; {
  // console.log(""Is this firing? '/' "")
  res.sendFile(__dirname, ""/index.html"");
});

//Setting up routes in app
app.use(routes);

// -------------------------- MongoDB -----------------------------

// Connect to the Mongo DB
mongoose.connect(MONGODB_URI, { useNewUrlParser: true }, (err, db) =&gt; {
  if (err) {
    console.log(""Unable to connect to the mongoDB server. Error:"", err);
  } else {
    console.log(""Connection established to"", MONGODB_URI);
  }
});

const db = mongoose.connection;

// Show any mongoose errors
db.on(""error"", error =&gt; {
  console.log(""Mongoose Error: "", error);
});

// Once logged in to the db through mongoose, log a success message
db.once(""open"", () =&gt; {
  console.log(""Mongoose connection successful."");
});

// -------------------------- Listen -----------------------------

// Start the API server
app.listen(PORT, () =&gt; {
  console.log(""App listening on PORT "" + PORT);
});
</code></pre>

<p><strong>EDIT #2</strong></p>

<p>The issue seems to be in loading React-Router, once the <code>server.js</code> returns the <code>index.html</code> file. Adding the <code>index.html</code> file for reference:</p>

<pre><code> &lt;!DOCTYPE html&gt;

&lt;html lang=""en""&gt;
  &lt;head&gt;
    &lt;meta charset=""utf-8""&gt;
    &lt;meta name=""viewport"" content=""width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no""&gt;

    &lt;!-- Global site tag (gtag.js) - Google Analytics --&gt;
    &lt;script async src=""https://www.googletagmanager.com/gtag/js?id=UA-132577862-1""&gt;&lt;/script&gt;

    &lt;!-- Google Analytics --&gt;
    &lt;script&gt;
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-132577862-1');
    &lt;/script&gt;

    &lt;!-- This deactivates browser navigation button: ""Back"" --&gt;
    &lt;script type=""text/javascript"" &gt;
       function preventBack(){window.history.forward();}
        setTimeout(""preventBack()"", 0);
        window.onunload=function(){null};
    &lt;/script&gt;

    &lt;!-- Stripe checkout --&gt;
    &lt;!-- &lt;script src=""https://checkout.stripe.com/checkout.js""&gt;&lt;/script&gt; --&gt;

    &lt;!-- React Script --&gt;
    &lt;script crossorigin src=""https://unpkg.com/react@16/umd/react.production.min.js""&gt;&lt;/script&gt;
    &lt;script crossorigin src=""https://unpkg.com/react-dom@16/umd/react-dom.production.min.js""&gt;&lt;/script&gt;

    &lt;!-- &lt;meta name=""theme-color"" content=""#000000""&gt; --&gt;
    &lt;link rel=""manifest"" href=""manifest.json""&gt;

    &lt;link rel=""shortcut icon"" href=""profilePicture/infinity_preloader.gif""&gt;

    &lt;!-- Bootstrap CDN --&gt;
    &lt;link rel=""stylesheet"" href=""https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"" integrity=""sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"" crossorigin=""anonymous""&gt;
    &lt;link href=""//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css"" rel=""stylesheet"" id=""bootstrap-css""&gt;

    &lt;!-- jquery --&gt;
    &lt;script src=""//code.jquery.com/jquery-1.11.1.min.js""&gt;&lt;/script&gt;

    &lt;!-- Moment.js (I don't think this is necessary - can delete?) --&gt;
    &lt;!-- &lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js""&gt;&lt;/script&gt; --&gt;

    &lt;!-- This is the IE ES6 script work around --&gt;
    &lt;script src=""https://cdn.polyfill.io/v2/polyfill.min.js?features=default,Array.prototype.includes""&gt;&lt;/script&gt;
    &lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.5/bluebird.min.js""&gt;&lt;/script&gt;


    &lt;!-- iPhone PWA icon --&gt;
    &lt;link rel=""apple-touch-icon"" sizes=""180x180"" href=""profilePicture/dummy_profile_Pic2.png""&gt; 

    &lt;!-- iPhone splash screens --&gt;
    &lt;link rel=""apple-touch-startup-image"" href=""profilePicture/dummy_profile_Pic2.png"" media=""(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"" /&gt;

    &lt;link rel=""apple-touch-startup-image"" href=""profilePicture/dummy_profile_Pic2.png"" media=""(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)"" /&gt;

    &lt;link rel=""apple-touch-startup-image"" href=""profilePicture/dummy_profile_Pic2.png"" media=""(device-width: 621px) and (device-height: 1104px) and (-webkit-device-pixel-ratio: 3)"" /&gt;

    &lt;link rel=""apple-touch-startup-image"" href=""profilePicture/dummy_profile_Pic2.png"" media=""(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)"" /&gt;

    &lt;link rel=""apple-touch-startup-image"" href=""profilePicture/dummy_profile_Pic2.png"" media=""(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)"" /&gt;

    &lt;link rel=""apple-touch-startup-image"" href=""profilePicture/dummy_profile_Pic2.png"" media=""(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)"" /&gt;

    &lt;link rel=""apple-touch-startup-image"" href=""profilePicture/dummy_profile_Pic2.png"" media=""(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)"" /&gt;

    &lt;!-- Fonts --&gt;
    &lt;!-- &lt;link href=""https://fonts.googleapis.com/css?family=Nunito+Sans"" rel=""stylesheet""&gt; --&gt;
    &lt;link href=""https://fonts.googleapis.com/css?family=Inconsolata|Lato|Nunito|Montserrat"" rel=""stylesheet""&gt;
    &lt;link href=""https://fonts.googleapis.com/icon?family=Material+Icons"" rel=""stylesheet""&gt;

    &lt;title&gt;Cratic | The Culture Builder&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id=""root"" &gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
",<node.js><reactjs><express><npm><react-router>,0.0,0,1,1
29473,28945,59234919,1,0,12423436,1.0,0.0,0.0,0.0,2019-12-08T11:29:28.437,1.0,375.0,Node.js express-generator - app can't run due to TypeError: app.set is not a function,"<p>While setting up my app using nodejs and express-generator, I ran</p>
<pre><code>npm install multer --save
npm audit fix
</code></pre>
<p>at my terminal. Then when I tried to run</p>
<pre><code>node ./bin/www
</code></pre>
<p>in my terminal it showed me this error:</p>
<blockquote>
<p>app.set('port', port);</p>
<p>^</p>
<p>TypeError: app.set is not a function</p>
</blockquote>
<p>I haven't used multer yet.</p>
<p>As suggested in <a href=""https://stackoverflow.com/questions/37520323/javascript-node-js-app-setport-port-typeerror-app-set-is-not-a-func"">this</a>, I've required express and used &quot;module.exports = app&quot; at the end of my app.js and it worked before I ran the commands above, so I really can't figure out what's wrong with my code.</p>
<p><strong>myapp/bin/www</strong></p>
<pre><code>#!/usr/bin/env node

/**
 * Module dependencies.
 */

var app = require('../app');
var debug = require('debug')('myapp:server');
var http = require('http');

/**
 * Get port from environment and store in Express.
 */

var port = normalizePort(process.env.PORT || '3000');
app.set('port', port);

/**
 * Create HTTP server.
 */

var server = http.createServer(app);

/**
 * Listen on provided port, on all network interfaces.
 */

server.listen(port);
server.on('error', onError);
server.on('listening', onListening);

/**
 * Normalize a port into a number, string, or false.
 */

function normalizePort(val) {
  var port = parseInt(val, 10);

  if (isNaN(port)) {
    // named pipe
    return val;
  }

  if (port &gt;= 0) {
    // port number
    return port;
  }

  return false;
}

/**
 * Event listener for HTTP server &quot;error&quot; event.
 */

function onError(error) {
  if (error.syscall !== 'listen') {
    throw error;
  }

  var bind = typeof port === 'string'
    ? 'Pipe ' + port
    : 'Port ' + port;

  // handle specific listen errors with friendly messages
  switch (error.code) {
    case 'EACCES':
      console.error(bind + ' requires elevated privileges');
      process.exit(1);
      break;
    case 'EADDRINUSE':
      console.error(bind + ' is already in use');
      process.exit(1);
      break;
    default:
      throw error;
  }
}

/**
 * Event listener for HTTP server &quot;listening&quot; event.
 */

function onListening() {
  var addr = server.address();
  var bind = typeof addr === 'string'
    ? 'pipe ' + addr
    : 'port ' + addr.port;
  debug('Listening on ' + bind);
}
</code></pre>
<p><strong>app.js</strong></p>
<pre><code>var createError = require('http-errors');
var express = require('express');
var path = require('path');
var cookieParser = require('cookie-parser');
var bodyParser = require('body-parser');
var logger = require('morgan');

var indexRouter = require('./routes/index');
var usersRouter = require('./routes/users');
var productsRouter = require('./routes/products');
var adminRouter = require('./routes/admin');

var app = express();

// view engine setup
app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'pug');

app.use(logger('dev'));
app.use(express.json());
app.use(express.urlencoded({ extended: false }));
app.use(cookieParser());
app.use(bodyParser.urlencoded({ extended: true }));
app.use(express.static(path.join(__dirname, 'public')));

app.use('/', indexRouter);
app.use('/users', usersRouter);
app.use('/products', productsRouter);
app.use('/admin', adminRouter);

// DataBase 
var mysql = require('mysql');

var db = mysql.createConnection({
    host: 'localhost',
    user: 'root',
    password: '',
    database: 'stylish'
});

db.connect(function(err) {
    if (err) {
        console.log('MySQL connection error: '+err.message);
        return;
    }
    console.log('Connected to the MySQL server');
});

// catch 404 and forward to error handler
app.use(function(req, res, next) {
  next(createError(404));
});

// error handler
app.use(function(err, req, res, next) {
  // set locals, only providing error in development
  res.locals.message = err.message;
  res.locals.error = req.app.get('env') === 'development' ? err : {};

  // render the error page
  res.status(err.status || 500);
  res.render('error');
});


module.exports = app;
module.exports = db;
</code></pre>
",<javascript><node.js><express><npm>,0.0,0,0,1
29496,28968,59254579,1,0,10112153,2.0,2.0,0.0,0.0,2019-12-09T18:22:34.213,1.0,1436.0,I have little problem installing bcrypt to my package.json,"<hr>

<p>I have started my project and I have started installing packages but suddenly I got an error and that error comes when I try to install a bcrypt.</p>

<hr>

<ol>
<li><p>first I try to install bcrypt.</p>

<pre><code>npm install bcrypt
</code></pre></li>
<li><p>I got an error.</p>

<pre><code>&gt; bcrypt@3.0.7 install C:\Users\Abdulsalam\application\clothes_store\node_modules\bcrypt
&gt; node-pre-gyp install --fallback-to-build

node-pre-gyp WARN Using needle for node-pre-gyp https download 
node-pre-gyp WARN Tried to download(404): https://github.com/kelektiv/node.bcrypt.js/releases   /download/v3.0.7/bcrypt_lib-v3.0.7-node-v64-win32-x64-unknown.tar.gz 
node-pre-gyp WARN Pre-built binaries not found for bcrypt@3.0.7 and node@10.15.3 (node-v64 ABI, unknown) (falling back to source compile with node-gyp) 
gyp ERR! configure error 
gyp ERR! stack Error: Command failed: C:\Users\Abdulsalam\AppData\Local\Programs\Python\Python36\python.EXE -c import sys; print ""%s.%s.%s"" % sys.version_info[:3];
gyp ERR! stack   File ""&lt;string&gt;"", line 1
gyp ERR! stack     import sys; print ""%s.%s.%s"" % sys.version_info[:3];
gyp ERR! stack                                ^
gyp ERR! stack SyntaxError: invalid syntax
gyp ERR! stack 
gyp ERR! stack     at ChildProcess.exithandler (child_process.js:294:12)
gyp ERR! stack     at ChildProcess.emit (events.js:189:13)
gyp ERR! stack     at maybeClose (internal/child_process.js:970:16)
gyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:259:5)
gyp ERR! System Windows_NT 10.0.18362
gyp ERR! command ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js"" ""configure"" ""--fallback-to-build"" ""--module=C:\\Users\\Abdulsalam\\application\\clothes_store\\node_modules\\bcrypt\\lib\\binding\\bcrypt_lib.node"" ""--module_name=bcrypt_lib"" ""--module_path=C:\\Users\\Abdulsalam\\application\\clothes_store\\node_modules\\bcrypt\\lib\\binding"" ""--napi_version=3"" ""--node_abi_napi=napi"" ""--napi_build_version=0"" ""--node_napi_label=node-v64""
gyp ERR! cwd C:\Users\Abdulsalam\application\clothes_store\node_modules\bcrypt
gyp ERR! node -v v10.15.3
gyp ERR! node-gyp -v v3.8.0
gyp ERR! not ok 
node-pre-gyp ERR! build error 
node-pre-gyp ERR! stack Error: Failed to execute 'C:\Program Files\nodejs\node.exe C:\Program Files\nodejs\node_modules\npm\node_modules\node-gyp\bin\node-gyp.js configure --fallback-to-build --module=C:\Users\Abdulsalam\application\clothes_store\node_modules\bcrypt\lib\binding\bcrypt_lib.node --module_name=bcrypt_lib --module_path=C:\Users\Abdulsalam\application\clothes_store\node_modules\bcrypt\lib\binding --napi_version=3 --node_abi_napi=napi --napi_build_version=0 --node_napi_label=node-v64' (1)
node-pre-gyp ERR! stack     at ChildProcess.&lt;anonymous&gt; (C:\Users\Abdulsalam\application\clothes_store\node_modules\node-pre-gyp\lib\util\compile.js:83:29)
node-pre-gyp ERR! stack     at ChildProcess.emit (events.js:189:13)
node-pre-gyp ERR! stack     at maybeClose (internal/child_process.js:970:16)
node-pre-gyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:259:5)
node-pre-gyp ERR! System Windows_NT 10.0.18362
node-pre-gyp ERR! command ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Users\\Abdulsalam\\application\\clothes_store\\node_modules\\node-pre-gyp\\bin\\node-pre-gyp"" ""install"" ""--fallback-to-build""
node-pre-gyp ERR! cwd C:\Users\Abdulsalam\application\clothes_store\node_modules\bcrypt
node-pre-gyp ERR! node -v v10.15.3
node-pre-gyp ERR! node-pre-gyp -v v0.13.0
node-pre-gyp ERR! not ok 
Failed to execute 'C:\Program Files\nodejs\node.exe C:\Program Files\nodejs\node_modules\npm\node_modules\node-gyp\bin\node-gyp.js configure --fallback-to-build --module=C:\Users\Abdulsalam\application\clothes_store\node_modules\bcrypt\lib\binding\bcrypt_lib.node --module_name=bcrypt_lib --module_path=C:\Users\Abdulsalam\application\clothes_store\node_modules    \bcrypt\lib\binding --napi_version=3 --node_abi_napi=napi --napi_build_version=0 --node_napi_label=node-v64' (1)
npm WARN clothes_store@1.0.0 No description
npm WARN clothes_store@1.0.0 No repository field.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.1.2 (node_modules\fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.1.2: wanted        {""os"":""darwin"",""arch"":""any""} (current: {""os"":""win32"",""arch"":""x64""})

npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! bcrypt@3.0.7 install: `node-pre-gyp install --fallback-to-build`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the bcrypt@3.0.7 install script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\Abdulsalam\AppData\Roaming\npm-cache\_logs\2019-12-09T18_07_53_927Z-debug.log
</code></pre></li>
</ol>

<hr>

<p>Sorry It's a long error but I hope someone helps me because I have to finish this project very quickly
and I haven't started yet.</p>
",<javascript><express><npm><bcrypt>,0.0,0,0,1
29620,29092,59362207,1,59362447,9276873,2.0,0.0,0.0,0.0,2019-12-16T18:15:44.320,0.0,1136.0,How to use Express with Vue,"<p>First time using Node js, Express and Vue.</p>

<p>I have a pomodoro timer website made with vue (not vue-app/vue-cli) which I'm wanting to upload to Heroku. The website works perfectly locally with Webstorm IDE, but can't manage to make it work with Express.</p>

<p>Github link of project: <a href=""https://github.com/marcelmiro/Pomodoro"" rel=""nofollow noreferrer"">https://github.com/marcelmiro/Pomodoro</a></p>

<p>This is how my files are organized:</p>

<pre><code>+-- node_modules
  -- vue &amp; express modules
+-- scripts
  -- main.css
  -- main.js (where my vue code is)
  -- bundle.js (me testing how to use a webpack. its not being used atm)
+-- assets
  -- all images
+-- index.html
+-- package.json
+-- Procfile
+-- server.js
</code></pre>

<p>server.js:</p>

<pre><code>const express = require('express');
const app = express();
const port = process.env.PORT || 8080;

app.use(""/scripts"", express.static(""scripts""));

app.get('/', (req, res) =&gt; res.sendFile(__dirname + ""/index.html""));

app.listen(port, () =&gt; {
    console.log('Server connected at:',port);
});
</code></pre>

<p>So I can manage to load css (although not all css code), but not main.js (where my vue code is). Images are also not loaded.</p>

<p>How can I solve this?</p>
",<node.js><express><vue.js><heroku><npm>,0.0,0,0,1
29627,29099,59371528,1,65088534,11508252,2.0,0.0,0.0,0.0,2019-12-17T09:49:26.050,0.0,1162.0,Unable to install node modules because 'This is related to npm not being able to find a file.',"<p>So in my recent project I tried to install some node modules, in this case, express and MySQL, which both return the same error:</p>
<blockquote>
<p>npm WARN thecaptain.ga@1.0.0 No repository field.</p>
</blockquote>
<blockquote>
<p>npm ERR! path C:\Users\user\projectroot\node_modules\on-finished
npm ERR! code ENOENT
npm ERR! errno -4058
npm ERR! syscall rename
npm ERR! enoent ENOENT: no such file or directory, rename 'C:\Users\user\projectroot\node_modules\on-
finished' -&gt; 'C:\Users\user\projectroot\node_modules.on-finished.DELETE'
npm ERR! enoent This is related to npm not being able to find a file.
npm ERR! enoent
npm ERR! A complete log of this run can be found in:</p>
</blockquote>
<p>I tried to delete all the related files, then reinstalling it, however that did not change anything. I have run <code>npm init</code> before the install even attempted to fill in the dependency manually, to then run <code>npm install</code>. It happens with every node module in any node project I have.</p>
",<javascript><mysql><node.js><express><npm>,0.0,0,0,1
29730,29202,59450619,1,59450819,1102586,1.0,0.0,0.0,0.0,2019-12-23T05:42:20.510,0.0,66.0,node express-session not saving across pages,"<p>I can't figure out why when i goto localhost:8080 it saves the session (appears to) but then when I goto the next URL localhost:8080/me the session is empty again. </p>

<pre><code>const express = require(""express"");
const app = express();
const port = 8080;
const router = express.Router();
const session = require('express-session');

app.use(session({
  secret: 'work hard',
  resave: true,
  saveUninitialized: false
}))

app.get(""/"", function(req,res, next){
    req.session.myname = ""nathan"";
    console.log(req.session.myname);
});


app.get(""/me"", function(req,res, next){

    console.log(req.session.myname);
});

app.listen(port, () =&gt; console.log(`Example app listening on port ${port}!`))

</code></pre>

<p>when I try the app.sendStatus method as shown by the first contributor below (in the answers), it works, but not if I use ajax???</p>

<pre><code>    $(""#register"").on(""click"", function(){
         $.ajax({url: ""http://localhost:8080/""});
    });


    $(""#me"").on(""click"", function(){
         $.ajax({url: ""http://localhost:8080/me""});
    });
</code></pre>
",<node.js><express><npm><express-session>,0.0,0,0,1
29793,29265,59501143,1,0,7603484,0.0,3.0,0.0,0.0,2019-12-27T12:57:16.510,0.0,191.0,How can I install new npm dependency (Helmet e.g.) in the deployed Node.js Express project in Digital Ocean,"<p>When I open the terminal and get access to the root folder of the deployed project, is there to install a new npm package like Helmet inside that deployed Node.js Express project?
The app is running on Digital Ocean.</p>
",<node.js><express><npm><node-modules><digital-ocean>,0.0,0,0,1
29906,29378,59604738,1,59606871,6723081,1.0,0.0,0.0,0.0,2020-01-05T22:24:21.597,0.0,358.0,Can overly strict ES6 linting settings cause VueJS server to crash?,"<p><strong>Framework: VueJS</strong></p>

<p><strong>OS: Linux Mint 19.2</strong></p>

<p><strong>NPM version 3.5.2</strong></p>

<p><strong>Creating a web app (client and server hosted locally)</strong></p>

<p><strong>Likely cause of error: strict linting?</strong></p>

<p>I'm a Visual C# .NET developer and I'm trying to get caught up with this new wave of web development and have decided to go with VUE for my first framework.</p>

<p>I'm pretty sure that where I went wrong was setting up the linting settings. The instructor was prompted with very different questions than I was during the 'npm install' command.
Linting error keeps causing me to crash.</p>

<p><strong>This is the error log:</strong></p>

<blockquote>
  <p>0 info it worked if it ends with ok</p>
  
  <p>1 verbose cli [ '/usr/bin/node', '/usr/bin/npm', 'run', 'lint' ]</p>
  
  <p>2 info using npm@3.5.2</p>
  
  <p>3 info using node@v8.10.0</p>
  
  <p>4 verbose run-script [ 'prelint', 'lint', 'postlint' ]</p>
  
  <p>5 info lifecycle server@1.0.0~prelint: server@1.0.0</p>
  
  <p>6 silly lifecycle server@1.0.0~prelint: no script for prelint,
  continuing</p>
  
  <p>7 info lifecycle server@1.0.0~lint: server@1.0.0</p>
  
  <p>8 verbose lifecycle server@1.0.0~lint: unsafe-perm in lifecycle true</p>
  
  <p>9 verbose lifecycle server@1.0.0~lint: PATH:
  /usr/share/npm/bin/node-gyp-bin:/home/user/...</p>
  
  <p>10 verbose lifecycle server@1.0.0~lint: CWD:
  /home/user/Documents/Projects/tab-tracker/server</p>
  
  <p>11 silly lifecycle server@1.0.0~lint: Args: [ '-c', 'eslint **/*.js' ]</p>
  
  <p>12 silly lifecycle server@1.0.0~lint: Returned: code: 2  signal: null</p>
  
  <p>13 info lifecycle server@1.0.0~lint: Failed to exec lint script</p>
  
  <p>14 verbose stack Error: server@1.0.0 lint: <code>eslint **/*.js</code></p>
  
  <p>14 verbose stack Exit status 2</p>
  
  <p>...</p>
</blockquote>

<p><strong>The client is running just fine,</strong></p>

<p><strong>This is my 'package.json within the server:</strong></p>

<pre><code>    {
  ""name"": ""server"",
  ""version"": ""1.0.0"",
  ""description"": """",
  ""main"": ""index.js"",
  ""scripts"": {
    ""start"": ""./node_modules/nodemon/bin/nodemon.js src/app.js --exec 'npm run lint &amp;&amp; node'"",
    ""lint"": ""./node_modules/.bin/eslint **/*.js""
  },
  ""keywords"": [],
  ""author"": """",
  ""license"": ""ISC"",
  ""dependencies"": {
    ""body-parser"": ""^1.19.0"",
    ""cors"": ""^2.8.5"",
    ""express"": ""^4.17.1"",
    ""morgan"": ""^1.9.1""
  },
  ""devDependencies"": {
    ""eslint-config-standard"": ""^10.2.1"",
    ""eslint-plugin-import"": ""^2.7.0"",
    ""eslint-plugin-node"": ""^5.1.1"",
    ""eslint-plugin-promise"": ""^3.5.0"",
    ""eslint-plugin-standard"": ""^3.0.1"",
    ""nodemon"": ""^2.0.2"",
    ""eslint"": ""^6.8.0""
  }
}
</code></pre>

<p><strong>The top of my eslint module indicates it is set to strict:</strong></p>

<pre><code>#!/usr/bin/env node

""use strict"";

...
</code></pre>

<hr>

<p><strong>Here is the console output after I run</strong></p>

<pre><code>`sudo npm start`
</code></pre>

<h2><strong>in my server folder</strong></h2>

<p>I guinely spent a lot of time trying to debug this before coming here for help. I feel very confidant that I setuo my linting options to be overly strict.</p>
",<node.js><linux><express><vue.js><npm>,0.0,0,0,1
30004,29476,59693391,1,0,7702174,0.0,7.0,0.0,0.0,2020-01-11T10:01:12.323,0.0,243.0,"Can't start Express.js application with npm start, it starts with Docker, but now Docker doesn't work either","<p>I am developing a Node Express API with a React front end with Docker, I develop on  Win 10, but the prod runs on an Ubuntu VPS.</p>

<p>Everything worked fine until yesterday Docker stopped working with error:</p>

<blockquote>
  <p>'Hyper-V was unable to find a virtual switch with name ""DockerNAT""'.</p>
</blockquote>

<p>After trying all suggestions on related issues on github, stackoverflow, microsoft, etc., nothing worked, so I decided to just go on without using Docker, so I tried running my API with <code>npm start</code>, which worked before, but now it does not. It seems like it's stuck; nothing happens, no error messages, nothing, yet after even hours it simply just doesn't start.</p>

<p>My React front end still runs with <code>npm start</code>. I haven't changed anything in related files since it was running with Docker previously, and now I have NO IDEA what could be the problem.</p>

<p>Here is my start in API package.json:</p>

<pre><code>""scripts"": {
  ""start"": ""node ./bin/www""
},
</code></pre>

<p><code>www</code> is in the right folder, it worked with Docker.</p>

<p>Here is the Docker file of the API:</p>

<pre><code>FROM mhart/alpine-node:8.11.4
WORKDIR /api
COPY package*.json /api/
RUN npm install
COPY . /api/
EXPOSE 9000
CMD [""npm"", ""start""]
</code></pre>

<p>Here is the docker-compose.yml for running both projects together, which worked flawlessly:</p>

<pre><code>version: ""2.1""
networks:
webappnetwork:
    driver: bridge
services:
    website:
         build: ./website
         restart: always
         ports:
              - ""3000:3000""
         volumes:
              - ./website:/website
              - /website/node_modules
         networks:
              - webappnetwork
    api:
         build: ./api
         restart: always
         ports:
              - ""9000:9000""
         volumes:
              - ./api:/api
              - /api/node_modules
         networks:
              - webappnetwork
</code></pre>

<p>There was no Windows update before Docker stopped working, Docker was also already the most recent version and I haven't changed a single line of code.</p>

<p>I checked my Docker log files, at first it said:</p>

<blockquote>
  <p>couldn't get DockerNAT switch</p>
</blockquote>

<p>but I reinstalled different versions multiple times and now it says:</p>

<blockquote>
  <p>MobyLinux does not exist</p>
</blockquote>

<p>At first it existed; I checked it in Hyper-V, but now it's not there. Hyper-V network adapters also disappeared, they cannot be seen in Device Manager.</p>

<p>I would really appreciate if someone could think of something to try, whether in connection with the Docker/Hyper-V error or why <code>npm start</code> could be stuck.</p>
",<node.js><docker><express><npm><hyper-v>,0.0,0,0,1
30046,29518,59726922,1,0,12708121,0.0,2.0,0.0,0.0,2020-01-14T02:55:25.510,2.0,654.0,Cannot find module when deploying angular app to heroku,"<p>When I run it locally on localhost there are no issues when ng build --aot --prod runs, but when I deploy on heroku it no longer recognizes the component imports. It suggested that dependencies may be missing in package.json but i added all the dependencies from devDependencies as this guide has suggested
<a href=""https://itnext.io/how-to-deploy-angular-application-to-heroku-1d56e09c5147"" rel=""nofollow noreferrer"">https://itnext.io/how-to-deploy-angular-application-to-heroku-1d56e09c5147</a>.</p>

<p>I've looked at and tried many solutions that I've found researching but nothing has been working so far. I don't really know where to start debugging this issue any help would be greatly appreciated </p>

<p>edit: gave up trying to fix it so i just created a new angular project and just copied over the src and changing the new apps package.json and now it works, so i don't know what the problem was whatever it was im too frustrated to try and figure it out.</p>

<p>package.json: </p>

<pre><code>  {
    ""name"": ""event-app"",
      ""version"": ""0.0.0"",
      ""scripts"": {
        ""ng"": ""ng"",
        ""start"": ""node server.js"",
        ""build"": ""ng build"",
        ""test"": ""ng test"",
        ""lint"": ""ng lint"",
        ""e2e"": ""ng e2e"",
        ""postinstall"": ""ng build --aot --prod""
      },
      ""private"": true,
      ""dependencies"": {
        ""@angular/animations"": ""~8.2.14"",
        ""@angular/cli"": ""~8.3.20"",
        ""@angular/common"": ""~8.2.14"",
        ""@angular/compiler"": ""~8.2.14"",
        ""@angular/compiler-cli"": ""~8.2.14"",
        ""@angular/core"": ""~8.2.14"",
        ""@angular/forms"": ""~8.2.14"",
        ""@angular/platform-browser"": ""~8.2.14"",
        ""@angular/platform-browser-dynamic"": ""~8.2.14"",
        ""@angular/router"": ""~8.2.14"",
        ""@material-ui/pickers"": ""^3.2.8"",
        ""@ng-bootstrap/ng-bootstrap"": ""^5.1.4"",
        ""bootstrap"": ""^4.4.1"",
        ""dotenv"": ""^8.2.0"",
        ""enhanced-resolve"": ""^4.1.1"",
        ""express"": ""^4.17.1"",
        ""jquery"": ""^3.4.1"",
        ""rxjs"": ""~6.4.0"",
        ""rxjs-compat"": ""^6.5.3"",
        ""tree-kill"": ""^1.2.2"",
        ""tslib"": ""^1.10.0"",
        ""typescript"": ""~3.5.3"",
        ""zone.js"": ""~0.9.1""
      },
      ""devDependencies"": {
        ""@angular-devkit/build-angular"": ""^0.803.22"",
        ""@angular/language-service"": ""~8.2.14"",
        ""@angular/cli"": ""~8.3.20"",
        ""@angular/compiler-cli"": ""~8.2.14"",
        ""@types/jasmine"": ""~3.3.8"",
        ""@types/jasminewd2"": ""~2.0.3"",
        ""@types/node"": ""~8.9.4"",
        ""codelyzer"": ""^5.0.0"",
        ""jasmine-core"": ""~3.4.0"",
        ""jasmine-spec-reporter"": ""~4.2.1"",
        ""karma"": ""~4.1.0"",
        ""karma-chrome-launcher"": ""~2.2.0"",
        ""karma-coverage-istanbul-reporter"": ""~2.0.1"",
        ""karma-jasmine"": ""~2.0.1"",
        ""karma-jasmine-html-reporter"": ""^1.4.0"",
        ""protractor"": ""~5.4.0"",
        ""ts-node"": ""~7.0.0"",
        ""tslint"": ""~5.15.0"",
        ""typescript"": ""~3.5.3""
      },
      ""engines"": {
        ""node"": ""10.16.3"",
        ""npm"": ""6.9.0""
      }
    }
</code></pre>

<p>CLI:</p>

<pre><code>PS C:\Users\Frank\Documents\GitHub\angular-test\lostnFound&gt; git push heroku master 
Enumerating objects: 223, done.
Counting objects: 100% (223/223), done.
Delta compression using up to 8 threads
Compressing objects: 100% (218/218), done.
Writing objects: 100% (223/223), 174.83 KiB | 3.43 MiB/s, done.
Total 223 (delta 117), reused 0 (delta 0)
remote: Compressing source files... done.
remote: Building source:
remote: 
remote: -----&gt; Node.js app detected
remote:        
remote: -----&gt; Creating runtime environment
remote:
remote:        NPM_CONFIG_LOGLEVEL=error
remote:        NODE_ENV=production
remote:        NODE_MODULES_CACHE=false
remote:        NODE_VERBOSE=false
remote:
remote: -----&gt; Installing binaries
remote:        engines.node (package.json):  10.16.3
remote:        engines.npm (package.json):   6.9.0
remote:
remote:        Resolving node version 10.16.3...
remote:        Downloading and installing node 10.16.3...
remote:        npm 6.9.0 already installed with node
remote:        
remote: -----&gt; Restoring cache
remote:        Caching has been disabled because NODE_MODULES_CACHE=false
remote:        
remote: -----&gt; Installing dependencies
remote:        Installing node modules (package.json + package-lock)
remote:        
remote:        &gt; core-js@2.6.11 postinstall /tmp/build_88602988e915eee083edd9f087d17ec5/node_modules/babel-runtime/node_modules/core-js
remote:        &gt; node -e ""try{require('./postinstall')}catch(e){}""
remote:
remote:        
remote:        &gt; core-js@3.2.1 postinstall /tmp/build_88602988e915eee083edd9f087d17ec5/node_modules/core-js
remote:        &gt; node scripts/postinstall || echo ""ignore""
remote:
remote:        
remote:        &gt; core-js-pure@3.4.7 postinstall /tmp/build_88602988e915eee083edd9f087d17ec5/node_modules/core-js-pure
remote:        &gt; node -e ""try{require('./postinstall')}catch(e){}""
remote:
remote:        
remote:        &gt; core-js@2.6.10 postinstall /tmp/build_88602988e915eee083edd9f087d17ec5/node_modules/karma/node_modules/core-js
remote:        &gt; node postinstall || echo ""ignore""
remote:
remote:        
remote:        &gt; @angular/cli@8.3.20 postinstall /tmp/build_88602988e915eee083edd9f087d17ec5/node_modules/@angular/cli
remote:        &gt; node ./bin/postinstall/script.js
remote:
remote:        
remote:        &gt; event-app@0.0.0 postinstall /tmp/build_88602988e915eee083edd9f087d17ec5
remote:        &gt; ng build --aot --prod
remote:
remote:        
remote:        ERROR in src/app/app-routing.module.ts:3:32 - error TS2307: Cannot find module './posts/posts.component'.
remote:
remote:        3 import { PostsComponent } from './posts/posts.component';
remote:                                         ~~~~~~~~~~~~~~~~~~~~~~~~~
remote:        src/app/app.module.ts:10:32 - error TS2307: Cannot find module './posts/posts.component'.
remote:
remote:        10 import { PostsComponent } from './posts/posts.component';
remote:                                          ~~~~~~~~~~~~~~~~~~~~~~~~~
remote:
remote:        ERROR in src/app/app.module.ts(23,5): Error during template compile of 'AppModule'
remote:          Could not resolve ./posts/posts.component relative to [object Object]..
remote:        src/app/app-routing.module.ts(11,25): Error during template compile of 'AppRoutingModule'
remote:          Could not resolve ./posts/posts.component relative to [object Object]..
remote:        src/app/app-routing.module.ts(14,30): Error during template compile of 'AppRoutingModule'
remote:          Could not resolve ./posts/posts.component relative to [object Object]..
remote:        Couldn't resolve resource ./posts.component.css relative to /tmp/build_88602988e915eee083edd9f087d17ec5/src/app/Posts/posts.component.ts
remote:
remote:        npm ERR! code ELIFECYCLE
remote:        npm ERR! errno 1
remote:        npm ERR! event-app@0.0.0 postinstall: `ng build --aot --prod`
remote:        npm ERR! Exit status 1
remote:        npm ERR!
remote:        npm ERR! Failed at the event-app@0.0.0 postinstall script.
remote:        npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
remote:        
remote:        npm ERR! A complete log of this run can be found in:
remote:        npm ERR!     /tmp/npmcache.PK91A/_logs/2020-01-14T02_44_41_751Z-debug.log
remote: 
remote: -----&gt; Build failed
remote:        
remote:        We're sorry this build is failing! You can troubleshoot common issues here:
remote:        https://devcenter.heroku.com/articles/troubleshooting-node-deploys
remote:
remote:        Some possible problems:
remote:
remote:        - A module may be missing from 'dependencies' in package.json
remote:          https://devcenter.heroku.com/articles/troubleshooting-node-deploys#ensure-you-aren-t-relying-on-untracked-dependencies
remote:
remote:        Love,
remote:        Heroku
remote:
remote:  !     Push rejected, failed to compile Node.js app.
remote:
remote:  !     Push failed
remote: Verifying deploy...
remote:
</code></pre>
",<node.js><angular><express><heroku><npm>,0.0,0,0,1
30054,29526,59734310,1,0,4511992,1.0,2.0,0.0,0.0,2020-01-14T13:01:18.400,-4.0,215.0,How to save header in NODE.JS?,"<p>I am new to NODE.JS 
Can anyone help me? When I run the following command:</p>

<pre><code>npm install --save express-handlebars
</code></pre>

<p>It gives following error:</p>

<pre><code>+ express-handlebars@3.1.0
updated 1 package and audited 185 packages in 3.51s
found 4 vulnerabilities (1 moderate, 3 high)
run `npm audit fix` to fix them, or `npm audit` for details
</code></pre>

<p>instead of saving the header file.</p>

<p>Thanks in advance</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
30079,29551,59762924,1,0,0,2.0,3.0,0.0,0.0,2020-01-16T04:11:23.017,-1.0,62.0,Failing at npm start,"<p><img src=""https://i.stack.imgur.com/6JPAT.jpg"" alt=""error image with js and json file""></p>

<p>I am trying to run my index.js through nodemon start, but don't know why and where it is failing.</p>
",<node.js><express><npm><npm-start>,0.0,0,0,1
30122,29594,59797555,1,59853699,6931803,3.0,1.0,0.0,0.0,2020-01-18T04:33:23.350,0.0,1373.0,"I'm getting error, `req.redirect` is not a function","<p>I'm newbie to the node.</p>

<p>I'm getting following error,</p>

<pre><code>TypeError: req.redirect is not a function
    at Post.create (/var/www/html/node_blog/index.js:40:7)
    at /var/www/html/node_blog/node_modules/mongoose/lib/utils.js:276:16
    at Function.&lt;anonymous&gt; (/var/www/html/node_blog/node_modules/mongoose/lib/model.js:4798:21)(/var/www/html/node_blog/node_modules/mongoose/lib/model.js:486:7)
    at /var/www/html/node_blog/node_modules/kareem/index.js:315:21
Emitted 'error' event at:
    at /var/www/html/node_blog/node_modules/mongoose/lib/model.js:4781:13
    at /var/www/html/node_blog/node_modules/mongoose/lib/utils.js:276:16
    [... lines matching original stack trace ...]
    at process._tickCallback (internal/process/next_tick.js:61:11)
</code></pre>

<p>Following is my code</p>

<pre><code>app.post('/post/save', (req, res) =&gt; {
    Post.create(req.body, (err, post) =&gt; {
        req.redirect('/');
    });
});
</code></pre>
",<javascript><node.js><express><npm><backend>,1.0,0,0,1
30259,29731,59903747,1,0,4259015,0.0,5.0,0.0,0.0,2020-01-24T21:12:08.740,0.0,36.0,Creating an NPM module that works on both vue and express side,"<p>So, I'm creating an Auth module for my backend that works with both nodejs/express &amp; vue. I've got the node/express side down but im having trouble also using vue within the module. Maybe I'm just not doing it right? I'm not really sure how to even do it at the moment. Here is my app.js:</p>

<pre class=""lang-js prettyprint-override""><code>const bcrypt = require('bcryptjs');
const db = require('./db/index');
const jwt = require('./jwt')

/**
 * @user User object passed from register form. Requires a username/password
 * @return True / False based on if user was registered or not 
 */
exports.register = function(user) {
  return new Promise(function(resolve, reject){
    bcrypt.hash(user.password, 10)
    .then((hash) =&gt; {
      user.password = hash;
      db.createUser(user).then((res) =&gt; {
        res ? resolve(res) : reject('Error Occured')
      }).catch((err) =&gt; {console.log(err)})
    })
    .catch((err)=&gt; {console.log(err)})
  })
}

/**
 * @username Username from form
 * @password Password from form
 * @return JWT Token applied to username or null
 */
exports.login = function(username, password) {
  return new Promise(function(resolve, reject){
    db.getUserByName(username).then((user) =&gt; {
      bcrypt.compare(password, user.password, function(err, res) {
        if(res) {
          delete user.password
          jwt.assignToken(user).then((token) =&gt; {
            resolve(token)
          }).catch((err)=&gt; { reject(err) })
        } else {
          reject(err)
        }
      });    
    }).catch((err)=&gt;{ reject(err) })    
  })
}

</code></pre>

<p>and this would be my vue.js within the same folder</p>

<pre class=""lang-js prettyprint-override""><code>const app = require('./app')

exports.install = function (Vue, options){
  Vue.prototype.$login = function(){
    app.login()
  }
  Vue.prototype.$register = function(){
    app.register()
  }
}
</code></pre>

<p>Obviously its just basic as i havn't started any work on it yet but it would use functions from app.js. Whats the most efficient way to incorporate this so I can use one module for both my vue/nuxt frontend and my express backend?</p>
",<javascript><express><vue.js><npm><vuejs2>,0.0,0,0,1
30329,29801,59960378,1,59960409,0,1.0,1.0,0.0,0.0,2020-01-29T04:12:30.307,0.0,749.0,.env returns undefined for multiple files,"<p>I  have two files using <strong>.env</strong> , both return <code>undefined</code> for variables, I have tried now to set a root .env for both front-end and backend, but still the .env variables are not loading. </p>

<p>in the front end any .env variables I try to test turn out undefined, I checked the code other people use and modified even further based on advice but its undefined... </p>

<p><a href=""https://i.stack.imgur.com/Emc3r.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Emc3r.png"" alt=""enter image description here""></a></p>

<p>in front end I have </p>

<pre><code>import React from ""react"";
import axios from ""axios"";
import { toast } from ""react-toastify"";
import ""react-toastify/dist/ReactToastify.css"";
import StripeCheckout from ""react-stripe-checkout"";

require('dotenv').config();


toast.configure();

const PaymentButton = ({ name, price, description }) =&gt; {

  console.log(process.env.PRIVATE_KEY);
  console.log(process.env.TESTING)

 const handleToken =   async (token, addresses) =&gt; {
    const response = await axios.post(
      ""http://localhost:3000/checkout"",
      { token, product: { name, price, description } }
    );

   const { status } = response.data;

   console.log(""Response:"", response.data);

    if (status === ""success"") {
      toast(""Success! Check email for details"", { type: ""success"" });
    } else {
      toast(""Something went wrong"", { type: ""error"" });
    }
  }

  return (
    &lt;div className=""container""&gt;
      &lt;div className=""product""&gt;
        &lt;h1&gt;{name}&lt;/h1&gt;
        &lt;h3&gt;Product price:  ${price}&lt;/h3&gt;
      &lt;/div&gt;
      &lt;StripeCheckout
        stripeKey= {process.env.PRIVATE_KEY}
        token={handleToken}
        amount={price * 100}
        name={name}
        // billingAddress
        // shippingAddress
      /&gt;
    &lt;/div&gt;
  );
}


</code></pre>

<p>both return undefined </p>

<p>my .env file </p>

<pre><code>
PRIVATE_KEY = pk_test_FAKERUr

TESTING = Hello

TEST_KEY = sk_test_FAKEHIHI8pGQt


</code></pre>

<p>in backend </p>

<pre><code>require('dotenv').config();
const cors = require('cors');
const express = require('express');
const stripe = require('stripe')(process.env.TEST_KEY);
const uuid = require('uuid/v4');


const app = express();

app.use(express.json());
app.use(cors());



app.post('/checkout', async (req, res) =&gt; {

    }

    res.json({ error, status });
});


</code></pre>

<p>To see file structure </p>

<p><a href=""https://i.stack.imgur.com/Emc3r.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Emc3r.png"" alt=""enter image description here""></a></p>
",<node.js><reactjs><express><npm><environment-variables>,0.0,0,0,1
30379,29851,60008878,1,60009015,8320090,2.0,2.0,0.0,0.0,2020-01-31T17:47:11.077,0.0,808.0,"Color-Thief Node plugin error: ""Image given has not completed loading""","<p>Working in Node/Express, I was trying to get the npm package <a href=""https://lokeshdhakar.com/projects/color-thief/"" rel=""nofollow noreferrer"">color-thief</a> to grab the dominant color from an image, and it failed because ""image given has not completed loading"".</p>

<p>The image was, again, local, so it <em>shouldn't</em> have had this particular problem. And besides that, <code>color-thief</code> returns a promise, and I was using async/await, so it should have waited however long it took for the image <em>to</em> load instead of throwing an error.</p>

<p>Below is my SSCCE code:</p>

<pre><code>const ColorThief = require('color-thief');

let colorThief = new ColorThief();

async function getDominantColor() {
    const img = 'public/img/seed/big-waves-2193828__340.webp';
    const dominantColor = await colorThief.getColor(img);
    console.log(dominantColor);
}

getDominantColor();
</code></pre>
",<javascript><node.js><express><npm><color-thief>,0.0,0,0,1
30419,29891,60049568,1,0,10692531,1.0,0.0,0.0,0.0,2020-02-04T02:00:29.587,0.0,786.0,"NPM Error The value ""4294967295"" is invalid for option ""family""","<p><strong>Problem</strong> </p>

<p>I can't seem to install and packages using npm. It seems to be a DNS query issue. Has anyone found a way to fix this?</p>

<p><strong>Software</strong></p>

<ul>
<li>node --version v10.18.1</li>
<li>npm --version 6.13.4</li>
</ul>

<p><strong>OS</strong></p>

<ul>
<li>Virtualization: qemu   </li>
<li>Operating System: Ubuntu 18.04.3 LTS  </li>
<li>Kernel: Linux 4.15.0-55-generic</li>
<li>Architecture: x86-64</li>
</ul>

<p><strong>Logs</strong></p>

<pre><code>1 verbose cli [ '/usr/bin/node', '/usr/bin/npm', 'install', 'webpack' ]
2 info using npm@6.13.4
3 info using node@v10.18.1
4 verbose npm-session 854255086166d555
5 silly install loadCurrentTree
6 silly install readLocalPackageData
7 silly fetchPackageMetaData error for webpack@^4.17.0 The value ""4294967295"" is invalid for option ""family""
8 timing stage:rollbackFailedOptional Completed in 49ms
9 timing stage:runTopLevelLifecycles Completed in 3593ms
10 verbose stack TypeError [ERR_INVALID_OPT_VALUE]: The value ""4294967295"" is invalid for option ""family""
10 verbose stack     at lookup (dns.js:112:11)
10 verbose stack     at net.js:1004:5
10 verbose stack     at defaultTriggerAsyncIdScope (internal/async_hooks.js:294:19)
10 verbose stack     at lookupAndConnect (net.js:1003:3)
10 verbose stack     at TLSSocket.Socket.connect (net.js:938:5)
10 verbose stack     at Object.connect (_tls_wrap.js:1165:13)
10 verbose stack     at HttpsAgent.createConnection (https.js:120:22)
10 verbose stack     at HttpsAgent.createSocket (/usr/lib/node_modules/npm/node_modules/agentkeepalive/lib/_http_agent.js:265:26)
10 verbose stack     at HttpsAgent.createSocket (/usr/lib/node_modules/npm/node_modules/agentkeepalive/lib/agent.js:77:11)
10 verbose stack     at HttpsAgent.addRequest (/usr/lib/node_modules/npm/node_modules/agentkeepalive/lib/_http_agent.js:239:10)
10 verbose stack     at new ClientRequest (_http_client.js:249:16)
10 verbose stack     at request (https.js:289:10)
10 verbose stack     at fetch.Promise (/usr/lib/node_modules/npm/node_modules/node-fetch-npm/src/index.js:54:17)
10 verbose stack     at new Promise (&lt;anonymous&gt;)
10 verbose stack     at fetch (/usr/lib/node_modules/npm/node_modules/node-fetch-npm/src/index.js:41:10)
10 verbose stack     at retry (/usr/lib/node_modules/npm/node_modules/make-fetch-happen/index.js:332:14)
11 verbose cwd /var/www/magellan/app
12 verbose Linux 4.15.0-55-generic
13 verbose argv ""/usr/bin/node"" ""/usr/bin/npm"" ""install"" ""webpack""
14 verbose node v10.18.1
15 verbose npm  v6.13.4
16 error code ERR_INVALID_OPT_VALUE
17 error The value ""4294967295"" is invalid for option ""family""
18 verbose exit [ 1, true ]
</code></pre>
",<node.js><express><npm><dns><qemu>,0.0,0,0,1
30494,29966,60124177,1,0,11387549,0.0,5.0,0.0,0.0,2020-02-08T05:25:32.127,0.0,344.0,"How to update mongoose version which has come as part of ""express-mvc-platform"" npm module in Node.JS?","<p>I've been using <code>express-mvc-platform</code> npm module to design my application's folder structure. It's working fine. </p>

<p>But now it's giving errors when am using some other modules like <code>mongoose-paginate-v2</code> which are dependent on newest versions of mongoose and mongodb. </p>

<p><code>express-mvc-platform</code> npm module still has older versions of mongoose and mongodb as it wasn't updated in last 2 years. But I've to update the mongoose to the newest version as per my requirements. But I couldn't able to do that. I've got mongoose and mongodb modules as part of this module. How to update both mongo db and mongoose node modules?</p>

<p>Is there any other npm modules for express framework to automatically create mvc type project folder structure with required folders?</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
30546,30018,60172157,1,0,12646783,1.0,2.0,0.0,0.0,2020-02-11T15:20:06.207,-2.0,442.0,"Why is ""start"" script not running?","<p>I've very simple node&amp;express app, work as expected but when I try to run the server from the script there is a problem.</p>

<p>If my script is ""start"", when I run the command it's just open my cmd.
If my script is any other word, I get this error: </p>

<blockquote>
  <p>'start1' is not recognized as an internal or external command,operable
  program or batch file</p>
</blockquote>

<p>How can I solve this problem? It's caused to problem with heroku too.</p>

<p>My package.json file:</p>

<pre><code>{
  ""name"": ""server"",
  ""version"": ""1.0.0"",
  ""description"": """",
  ""main"": ""index.js"",
  ""engines"": {
    ""node"": ""12.2.0"",
    ""npm"": ""6.9.0""
  },
  ""scripts"": {
    ""start1"": ""node index.js""
  },
  ""author"": """",
  ""license"": ""ISC"",
  ""dependencies"": {
    ""express"": ""^4.17.1""
  }
}
</code></pre>
",<javascript><node.js><express><npm>,0.0,0,0,1
30557,30029,60179438,1,0,12882211,0.0,4.0,0.0,0.0,2020-02-12T00:36:46.983,0.0,127.0,I am unable to use npm install again on my windows 10,"<p><a href=""https://i.stack.imgur.com/HpxyG.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/HpxyG.png"" alt=""enter image description here""></a></p>

<p>I have tried a lot of solutions online, but I could not solved this issue. Even if I format my laptop to get rid of this issue, I'm still getting this error. Please help. I have attached an image for the error. Thanks</p>
",<javascript><node.js><express><npm><node-modules>,0.0,0,0,1
30754,30226,60350814,1,60351014,10170796,1.0,0.0,0.0,0.0,2020-02-22T09:37:11.083,1.0,1178.0,Passing in data to my ejs view when redirecting,"<p>I am trying to send data from my login page to my home page when the user is redirecting to the home page, so that i can use in information in the home ejs file.</p>

<p>Here is my code:</p>

<pre><code>
    module.exports = function (app) {

        app.post('/login', function (req, res) {
            var data = {
                ""email"": req.body.email,
                ""password"": req.body.password
            }

            functions.callAPI(""api link"", data, function (error, result) {
                if (error) {
                    var response = {
                        ""status"": 400,
                        ""message"": error,
                        ""data"": null
                    }
                    res.render('login', { response: response });
                } else {
                    var response = result;
                    if (response.status === 400) {
                        res.render('login', { response: response });
                    } else {
                        req.session.token = response.data[0].token;
                        req.session.id = response.data[0].id
                        res.redirect('/home', { response: response }); //this is where i what to pass the data.
                    }
                }
            });


        });

    }

</code></pre>
",<javascript><node.js><express><npm><ejs>,0.0,0,0,1
30769,30241,60365662,1,0,7389137,0.0,3.0,0.0,0.0,2020-02-23T18:53:00.067,1.0,117.0,Using Webpack in Express.js project to bundle Bootstrap installed with npm,"<p>Rough structure of my project:</p>

<pre><code>project
|-- node_modules
|   |-- bootstrap
|   |-- jquery
|   |-- popper.js
|
|-- dist
|
|-- public
|   |-- js
|   |   |-- scripts.js
|   |
|   |-- css
|       |-- styles.css
|
|-- views
|   |-- index.ejs
|
|-- app.js
</code></pre>

<p>I need to include <code>bootstrap</code> and my own <code>public</code> folder contents in my <code>index.ejs</code>. If it comes to bootstrap, I could do it using <code>CDN</code> but I want to specifically use <code>Webpack</code> to bundle everything I might need into one file in <code>dist</code>, and make sure it gets included in my <code>index.ejs</code> file - either automatically (I know webpack has this function) or just make sure <code>bundle.js</code> exists in <code>dist</code> and refer to it in <code>&lt;link&gt;</code> or <code>&lt;script&gt;</code> tags in my <code>index.ejs</code>.</p>

<p>I want to make sure, everything gets bundled - I don't want to have inline scripts or styles in my <code>index.ejs</code>.</p>

<p>I'll appreciate any help, as I couldn't find a guide or any advice, on how to achieve that. I guess the main question here is - how should I structure <code>webpack.config.js</code>?</p>

<p><code>app.js</code> is my entry file, it includes following code:</p>

<pre class=""lang-js prettyprint-override""><code>const bodyParser = require('body-parser');
const express = require('express');
const path = require('path');

const indexRoutes = require('./routes/index');

const app = express();
const port = process.env.PORT || 3000;

app.set('view engine', 'ejs');
app.set('views', path.resolve(__dirname, 'views'));

app.use(bodyParser.json());
app.use(bodyParser.urlencoded({ extended: true }));

app.use(express.static(path.resolve(__dirname, 'public')));

app.use('/', indexRoutes);

app.listen(port);

</code></pre>

<p>current content of <code>webpack.config.js</code>:</p>

<pre class=""lang-js prettyprint-override""><code>const path = require('path');

module.exports = {
  entry: {
    app: path.resolve(__dirname, 'app.js'),
  },
  mode: 'development',
  output: {
    filename: 'bundle.js',
    path: path.resolve(__dirname, 'dist'),
  },
};
</code></pre>
",<node.js><twitter-bootstrap><express><npm><webpack>,0.0,1,0,1
30779,30251,60371844,1,0,12951689,0.0,3.0,0.0,0.0,2020-02-24T08:19:09.010,3.0,1861.0,How can I fix this error :- Error! code ELIFECYCLE errno 130`,"<p>When I stop running the project, the following error is displayed, but it works fine. What should I do?</p>

<pre><code>npm ERR! code ELIFECYCLE
npm ERR! errno 130
npm ERR! expresssocket@1.0.0 dev: `nodemon app`
npm ERR! Exit status 130
</code></pre>

<pre><code>0 info it worked if it ends with ok

13 verbose stack Exit status 130
18 verbose node v12.13.0
19 verbose npm  v6.12.0
20 error code ELIFECYCLE
21 error errno 130
22 error expresssocket@1.0.0 dev: `nodemon app`
22 error Exit status 130
23 error Failed at the expresssocket@1.0.0 dev script.
23 error This is probably not a problem with npm. There is likely additional logging output above.
24 verbose exit [ 130, true ]
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
30806,30278,60392507,1,60392778,11895739,1.0,0.0,0.0,0.0,2020-02-25T10:32:00.287,0.0,221.0,"extend express Response type, and export my new type as a new module","<p>Im tring to create a new 'common' module for my team. 
one of the things it should include is an extension of the response and request object(of express).</p>

<p>we would like to achive 2 things - the first one is to extend Request to have property of user - that will intialize in a middleware that does all the authentication for us.</p>

<p>the second thing - we would like to create convention on how we return error, therfore I want to extend the reponse type of express, to have a method named sendError which will recive exception/ erormsg and will create the response. => i want to do more than just extend an inteface, I want to give it the implmention too.</p>

<p>so far I created a new module, in it I create a file  types.d.ts and added this file to my ""types"" in tsconfig.</p>

<pre><code>import {User} from '../models/user.ts'
declare module 'express'{
    export interface Request {
user: User;
}
}
</code></pre>

<p>in my moudle, I can see the propery user for request, and everything works great.
the problem is when a service of ours install this module from the npm, it does not familiar with this property.</p>

<p>The seconed question, is how I achive my seconed traget ? it more the extending an interface, its more like extending a class, beacuse I want to give the implmention</p>

<p>I thought about somthing like that: </p>

<pre><code>import {User} from '../models/user.ts'
declare module 'express'{
    export interface Response {
sendError: (statusCode : number, error :Error ) =&gt; void;
}
}

express.Response.sendError = //put the logic here 
</code></pre>
",<typescript><express><npm><export>,0.0,0,0,1
30883,30355,60473836,1,0,12793195,0.0,3.0,0.0,0.0,2020-03-01T09:47:08.673,0.0,38.0,'npm start' throws error while 'node main.js' doesn't(express),"<p>So, i'm making an node app and it works fine when i start it by typing <code>node main.js</code>, but when i run <code>npm start</code> it throws an error:</p>

<pre><code>0 info it worked if it ends with ok
1 verbose cli [
1 verbose cli   'C:\\Program Files\\nodejs\\node.exe',
1 verbose cli   'C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js',
1 verbose cli   'start'
1 verbose cli ]
2 info using npm@6.13.4
3 info using node@v12.16.0
4 verbose run-script [ 'prestart', 'start', 'poststart' ]
5 info lifecycle osadnicy-serwer@1.0.0~prestart: osadnicy-serwer@1.0.0
6 info lifecycle osadnicy-serwer@1.0.0~start: osadnicy-serwer@1.0.0
7 verbose lifecycle osadnicy-serwer@1.0.0~start: unsafe-perm in lifecycle true
8 verbose lifecycle osadnicy-serwer@1.0.0~start: PATH: C:\Program Files\nodejs\node_modules\npm\node_modules\npm-lifecycle\node-gyp-bin;C:\HTML\JavaScript\osadnicy-serwer\node_modules\.bin;C:\Program Files\Common Files\Microsoft Shared\Windows Live;C:\Program Files (x86)\Common Files\Microsoft Shared\Windows Live;C:\Program Files (x86)\Intel\iCLS Client\;C:\Program Files\Intel\iCLS Client\;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\Windows Live\Shared;C:\Program Files (x86)\EgisTec MyWinLocker\x64;C:\Program Files (x86)\EgisTec MyWinLocker\;C:\Program Files (x86)\Intel\OpenCL SDK\2.0\bin\x86;C:\Program Files (x86)\Intel\OpenCL SDK\2.0\bin\x64;C:\Program Files\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files (x86)\Skype\Phone\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;;C:\Users\zdzisława\AppData\Local\Programs\Microsoft VS Code\bin;C:\Users\zdzisława\AppData\Roaming\npm;C:\Program Files\heroku\bin
9 verbose lifecycle osadnicy-serwer@1.0.0~start: CWD: C:\HTML\JavaScript\osadnicy-serwer
10 silly lifecycle osadnicy-serwer@1.0.0~start: Args: [ '/d /s /c', 'node main.js' ]
11 silly lifecycle osadnicy-serwer@1.0.0~start: Returned: code: 1  signal: null
12 info lifecycle osadnicy-serwer@1.0.0~start: Failed to exec start script
13 verbose stack Error: osadnicy-serwer@1.0.0 start: `node main.js`
13 verbose stack Exit status 1
13 verbose stack     at EventEmitter.&lt;anonymous&gt; (C:\Program Files\nodejs\node_modules\npm\node_modules\npm-lifecycle\index.js:332:16)
13 verbose stack     at EventEmitter.emit (events.js:321:20)
13 verbose stack     at ChildProcess.&lt;anonymous&gt; (C:\Program Files\nodejs\node_modules\npm\node_modules\npm-lifecycle\lib\spawn.js:55:14)
13 verbose stack     at ChildProcess.emit (events.js:321:20)
13 verbose stack     at maybeClose (internal/child_process.js:1021:16)
13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:286:5)
14 verbose pkgid osadnicy-serwer@1.0.0
15 verbose cwd C:\HTML\JavaScript\osadnicy-serwer
16 verbose Windows_NT 6.1.7601
17 verbose argv ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""start""
18 verbose node v12.16.0
19 verbose npm  v6.13.4
20 error code ELIFECYCLE
21 error errno 1
22 error osadnicy-serwer@1.0.0 start: `node main.js`
22 error Exit status 1
23 error Failed at the osadnicy-serwer@1.0.0 start script.
23 error This is probably not a problem with npm. There is likely additional logging output above.
24 verbose exit [ 1, true ]
</code></pre>

<p>and here's the package.json file:</p>

<pre><code>{
  ""name"": ""osadnicy-serwer"",
  ""config"": {
    ""port"": ""3000""
  },
  ""version"": ""1.0.0"",
  ""description"": """",
  ""main"": ""main.js"",
  ""scripts"": {
    ""test"": ""echo \""Error: no test specified\"" &amp;&amp; exit 1"",
    ""start"": ""node main.js""
  },
  ""author"": """",
  ""license"": ""ISC"",
  ""dependencies"": {
    ""circular-json"": ""file:circular-json"",
    ""express"": ""^4.17.1"",
    ""socket.io"": ""^2.3.0""
  },
  ""engines"": {
    ""node"": ""12.16.0""
  }
}

</code></pre>

<p>and main.js:</p>

<pre><code>const express = require(""express"");
const path = require(""path"");
const fs = require(""fs"");
const app = express();
const http = require(""http"").createServer(app);
global.io = require(""socket.io"")(http);
const Board = require(""./Board"").Board;
const Player = require(""./Player"").Player;
const Market = require(""./Market"").Market;
const Progress = require(""./Progress"").Progress;
const Interface = require(""./Interface"").Interface;
const CircularJSON = require(""circular-json"");
const port = 3000;
global.market = new Market();
global.board = new Board(3, 50);
board.pushNubers();
board.createHexes();
board.createPorts();
global.hexRadius = 50;
global.currentLongestRoad = { playerIndex: null, number: 4 };
global.currentHighestKnightPower = { playerIndex: null, number: 2 };
global.players = [new Player(""red""), new Player(""beige"")];
global.currentRound = 1;
global.diceResult = 0;
global.activePlayerIndex = 0;
global.progress = new Progress();
global.currentPlayer = players[activePlayerIndex];
const interface = new Interface(currentPlayer, board);
let move = {};
// app.configure(function() {
//   app.use(app.router);
// });
app.use(express.json({ limit: ""5mb"" }));
app.use(express.static(""client""));
// app.use(bodyParser.json());

fs.writeFileSync(""./JSON/board.json"", JSON.stringify(board));
fs.writeFileSync(""./JSON/players.json"", JSON.stringify({ players }));
fs.writeFileSync(""./JSON/market.json"", JSON.stringify(market));
fs.writeFileSync(""./JSON/move.json"", """");

app.get(""/"", (req, res) =&gt; {
  res.sendFile(path.join(__dirname, ""client"", ""client.html""));
});
app.get(""/board"", (req, res) =&gt; {
  res.send(CircularJSON.stringify(board));
});
app.put(""/card"", (req, res) =&gt; {
  progress.handleCardPlay(req.body.card, req.body.i);
  res.send(""ok"");
});
app.get(""/monopoly/:i"", (req, res) =&gt; {
  progress.handleMonopoly(req, params.i);
  res.send(""ok"");
});
app.get(""/invention/:i""),
  (req, res) =&gt; {
    progress.handleInvention(req.params.i);
    res.send(""ok"");
  };
app.put(""/progress"", (req, res) =&gt; {
  players[req.body.playerIndex].progressCards.push({
    type: progress.generateCard(),
    age: currentRound
  });
  players[req.body.playerIndex].resources[1] -= 1;
  players[req.body.playerIndex].resources[3] -= 1;
  players[req.body.playerIndex].resources[4] -= 1;
  io.emit(""resources updated"");
  res.send(
    JSON.stringify({
      progressCards: players[req.body.playerIndex].progressCards
    })
  );
});
app.get(""/move"", (req, res) =&gt; {
  res.sendFile(path.join(__dirname, ""JSON"", ""move.json""));
});
app.get(""/players"", (req, res) =&gt; {
  res.send(CircularJSON.stringify({ players }));
});
app.get(""/globals"", (req, res) =&gt; {
  res.send(
    CircularJSON.stringify({
      currentRound,
      diceResult,
      activePlayerIndex,
      currentHighestKnightPower,
      currentLongestRoad
    })
  );
});
app.put(""/globals"", (req, res) =&gt; {
  if (req.body.currentRound === 2) {
    players[req.body.activePlayerIndex].freeSettlement = true;
    players[req.body.activePlayerIndex].freeRoads = 1;
  }
  currentRound = req.body.currentRound;
  diceResult = req.body.diceResult;
  activePlayerIndex = req.body.activePlayerIndex;
  currentHighestKnightPower = req.body.currentHighestKnightPower;
  currentLongestRoad = req.body.currentLongestRoad;
  res.send(""globals updated"");
  io.emit(""globals updated"");
  board.hexes.forEach(hex =&gt; hex.payResources());
  fs.writeFileSync(""./JSON/globals.json"", JSON.stringify(req.body));
  if (diceResult === 7) {
    board.thief.isSet = false;
  }
});
app.put(""/thief"", (req, res) =&gt; {
  board.thief.handleStealing(req.body.steal);
  res.send(""ok"");
  io.emit(""resources updated"");
});
app.get(""/currentPlayer"", (req, res) =&gt; {
  const currentPlayerIndex = players.findIndex(
    player =&gt; player === currentPlayer
  );
  res.send(JSON.stringify({ currentPlayerIndex }));
});
app.put(""/market"", (req, res) =&gt; {
  market.active = req.body.active;
  market.offer = req.body.offer;
  market.demands = req.body.demands;
  market.isOfferSet = req.body.isOfferSet;
  market.tradingPlayerIndex = req.body.tradingPlayerIndex;
  market.activePlayerIndex = req.body.activePlayerIndex;
  market.deal = req.body.deal;
  market.dealWith = req.body.dealWith;
  res.send(""ok"");
  io.emit(""market updated"");
  if (market.deal &amp;&amp; market.dealWith === ""otherPlayer"") {
    market.handleTrade();
    market.closePopup();
    io.emit(""current player updated"");
    io.emit(""resources updated"");
  }
  if (market.deal &amp;&amp; market.dealWith === ""bank"") {
    market.handleExchange();
    market.closePopup();
    io.emit(""resources updated"");
  }
});
app.get(""/resources/:index"", (req, res) =&gt; {
  res.send(JSON.stringify({ resources: players[req.params.index].resources }));
});
app.get(""/progress/:index"", (req, res) =&gt; {
  res.send(
    JSON.stringify({ progressCards: players[req.params.index].progressCards })
  );
});
app.get(""/market"", (req, res) =&gt; {
  res.send(JSON.stringify(market));
});
app.post(""/move"", (req, res) =&gt; {
  fs.writeFileSync(""./JSON/move.json"", JSON.stringify(req.body));
  move = req.body;
  res.send(""move saved"");
  io.emit(""new move"", move);
  interface.player = players[move.playerIndex];
  switch (move.type) {
    case ""settlement build"":
      interface.handleSettlementBuild(move.meeple);
      io.emit(""resources updated"");
      break;
    case ""road build"":
      interface.handleRoadBuild(move.meeple);
      io.emit(""resources updated"");
      break;
    case ""thief setting"":
      board.thief.isSet = true;
      board.thief.x = move.thiefHex.x;
      board.thief.y = move.thiefHex.y;
      break;
    case ""city build"":
      interface.handleCityBuild(move.meeple);
      io.emit(""resources updated"");
      break;
  }
});

http.listen(port, ""0.0.0.0"", () =&gt; {
  console.log(""server is listening at port 3000"");
});
</code></pre>

<p>I don't understand why doesn't it just run the same command, would be grateful for any help.</p>
",<node.js><express><npm>,0.0,0,0,1
30896,30368,60486097,1,0,2031628,1.0,0.0,0.0,0.0,2020-03-02T09:41:46.237,0.0,136.0,Not able to debug Express REST API in WebStorm,"<p>I have created an Express REST API and followed various methods to put debugger inside API callback function, but no luck. I also tried <a href=""https://blog.jetbrains.com/webstorm/2017/09/debugging-node-js-apps-in-webstorm/"" rel=""nofollow noreferrer"">This link</a>. Still I am not able to use debugger on API call. Any help would be appreciated.</p>

<p><a href=""https://i.stack.imgur.com/AJtuU.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/AJtuU.png"" alt=""enter image description here""></a></p>
",<node.js><express><npm><webstorm><javascript-debugger>,0.0,0,0,1
30923,30395,60508637,1,0,11011893,1.0,1.0,0.0,0.0,2020-03-03T13:45:43.793,1.0,231.0,nodemon is not restart after the changes,"<p>nodemon does not restart my server first time it works fine but after changes it does not work.</p>

<pre><code>var http = require('http');

http.createServer (function (request, response){
response.writeHead( 200, {'Content-Type': 'text/plain'} );
response.write(""Hello world"");
response.end();
}).listen(3000, 'localhost');

console.log('http://localhost:3000');
</code></pre>

<p>You can see my console screen.</p>

<pre><code> f:\NodeJS\01 Hello&gt;nodemon app.js
 [nodemon] 2.0.2
 [nodemon] to restart at any time, enter `rs`
 [nodemon] watching dir(s): *.*
 [nodemon] watching extensions: js,mjs,json
 [nodemon] starting `node app.js`
 Running...
 [nodemon] restarting due to changes...
</code></pre>
",<node.js><express><npm><nodemon>,0.0,0,0,1
31080,30552,60653967,1,0,8735580,1.0,7.0,0.0,0.0,2020-03-12T12:14:51.107,0.0,117.0,How can i install node_modules?,"<p>I used <code>npm i</code> command to install node_modules in my vue.js project, but I am getting the error shown below:</p>

<blockquote>
  <pre class=""lang-none prettyprint-override""><code>npm ERR! code E404   
npm ERR! 404 Not Found - GET https://registry.npmjs.org/@fds%2flima-ticket-validator - Not found   
npm ERR! 404   
npm ERR! 404  '@fds/lima-ticket-validator@^2.0.0' is not in the npm registry.   
npm ERR! 404 You should bug the author to publish it (or use the name yourself!)   
npm ERR! 404 It was specified as a dependency of 'cef_frontend'   
npm ERR! 404   
npm ERR! 404 Note that you can also install from a   
npm ERR! 404 tarball, folder, http url, or git url.   
</code></pre>
</blockquote>
",<javascript><node.js><express><vue.js><npm>,0.0,0,0,1
31149,30621,60720735,1,0,10962507,0.0,2.0,0.0,0.0,2020-03-17T10:45:14.397,1.0,2249.0,Get files from ftp and show files directory path in console - Node.js,"<p>I'm new to node.js and trying to get files from FTP with <a href=""https://www.npmjs.com/package/ftp"" rel=""nofollow noreferrer"">ftp module</a> and then I want to show files directory path in console. When I run server with npm start, I get all files(thats nice) but console returns empty array. If I run server again with npm start, console show every path(awesome), but not for new files. I have tried to solve my problem with callbacks and setTimeout with no result :C</p>

<pre><code>var Client = require('ftp');
var c = new Client();
var path = require('path');
var fs = require('fs');
var dir = path.join(__dirname, '../excelTime/');
var files = fs.readdirSync(dir);

const connectionProperties = {
  host: 'localhost',
  user: 'user_geek',
  port: '21'
}
</code></pre>

<p><strong>Get files from ftp</strong></p>

<pre><code>const getFilesFromFTP = () =&gt; {
  c.on('ready', function() {
    c.list('./', function(err, list) {
      if (err) throw err;
      for(var i = 0; i &lt; list.length; i++) {
        (function(i) {
          const name = list[i].name;
          c.get('/' + name, function(err, stream) {
            if (err) console.dir(err);
            if(!err) {
              stream.once('close', function() { c.end();  });
              stream.pipe(fs.createWriteStream('./excelTime/' + name, {flags: 'w'}));
           }
          });
        }).call(this, i);
      }
      c.end();
    });
  });

  c.on('error', function(err) {
    console.log(err)
  });
  c.connect(connectionProperties);
}
</code></pre>

<p><strong>Get file path</strong></p>

<pre><code>const checkFolder = () =&gt; {
  let promises = files.map(file =&gt; path.join(dir, file));
  Promise.all(promises).then(console.log);
}
</code></pre>

<p><strong>Call</strong></p>

<pre><code>setTimeout(function() {
  checkFolder();
}, 3000);

getFilesFromFTP();
</code></pre>
",<javascript><node.js><express><npm><ftp>,0.0,0,0,1
31276,30748,60820835,1,60821162,938711,2.0,0.0,0.0,0.0,2020-03-23T20:06:09.310,1.0,1811.0,Node.js minimist security issue even with v1.2.5,"<p>After installing express-handlebars and running ""npm audit"", I'm getting a ""low severity vulnerability"" warning for minimist. npm says: ""Patched in >=0.2.1 &lt;1.0.0 || >=1.2.3""</p>

<p><a href=""https://npmjs.com/advisories/1179"" rel=""nofollow noreferrer"">https://npmjs.com/advisories/1179</a></p>

<p>So I upgraded to minimist v1.2.5 but I'm still getting the security warning.</p>

<ul>
<li>Windows 10 pro</li>
<li>node:      v13.11.0 </li>
<li>npm:       v6.14.3</li>
<li>express:   v4.17.1</li>
<li>express-handlebars: v4.7.3</li>
<li>minimist:  v1.2.5</li>
</ul>
",<node.js><express><security><npm><minimist>,0.0,0,0,1
31437,30909,60945230,1,60946087,12683457,1.0,2.0,0.0,0.0,2020-03-31T07:16:55.433,1.0,377.0,"npm start throws ELIFECYCLE error , using MongoDB and mongoose","<p>I have been following a guide on setting up a MongoDB server. However, suddenly I was unable to start localhost:3000 by npm start. It loads, and is up for about 5-10 seconds, then I get an error code ELIFECYCLE. I tried every step mentioned by others , npm cache clean --force , npm install , deleting package-lock.json file and npm install after , deleteing node-modules. Nothing seems to fix my problem. </p>

<p>this is the debug log I get : </p>

<pre><code>0 info it worked if it ends with ok
1 verbose cli [
1 verbose cli   'D:\\NodeJS\\node.exe',
1 verbose cli   'C:\\Users\\musta\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js',
1 verbose cli   'start'
1 verbose cli ]
2 info using npm@6.14.4
3 info using node@v12.16.1
4 verbose run-script [ 'prestart', 'start', 'poststart' ]
5 info lifecycle shopping-cart@0.0.0~prestart: shopping-cart@0.0.0
6 info lifecycle shopping-cart@0.0.0~start: shopping-cart@0.0.0
7 verbose lifecycle shopping-cart@0.0.0~start: unsafe-perm in lifecycle true
8 verbose lifecycle shopping-cart@0.0.0~start: PATH: C:\Users\musta\AppData\Roaming\npm\node_modules\npm\node_modules\npm-lifecycle\node-gyp-bin;D:\Other\Projects\Code\Powershell\shopping-cart\node_modules\.bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\iCLS\;C:\Program Files\Intel\Intel(R) Management Engine Components\iCLS\;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files (x86)\dotnet\;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;D:\NodeJS\;C:\Users\musta\AppData\Local\Microsoft\WindowsApps;C:\Users\musta\AppData\Roaming\npm
9 verbose lifecycle shopping-cart@0.0.0~start: CWD: D:\Other\Projects\Code\Powershell\shopping-cart
10 silly lifecycle shopping-cart@0.0.0~start: Args: [ '/d /s /c', 'node ./bin/www' ]
11 silly lifecycle shopping-cart@0.0.0~start: Returned: code: 1  signal: null
12 info lifecycle shopping-cart@0.0.0~start: Failed to exec start script
13 verbose stack Error: shopping-cart@0.0.0 start: `node ./bin/www`
13 verbose stack Exit status 1
13 verbose stack     at EventEmitter.&lt;anonymous&gt; (C:\Users\musta\AppData\Roaming\npm\node_modules\npm\node_modules\npm-lifecycle\index.js:332:16)
13 verbose stack     at EventEmitter.emit (events.js:311:20)
13 verbose stack     at ChildProcess.&lt;anonymous&gt; (C:\Users\musta\AppData\Roaming\npm\node_modules\npm\node_modules\npm-lifecycle\lib\spawn.js:55:14)
13 verbose stack     at ChildProcess.emit (events.js:311:20)
13 verbose stack     at maybeClose (internal/child_process.js:1021:16)
13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:286:5)
14 verbose pkgid shopping-cart@0.0.0
15 verbose cwd D:\Other\Projects\Code\Powershell\shopping-cart
16 verbose Windows_NT 10.0.18363
17 verbose argv ""D:\\NodeJS\\node.exe"" ""C:\\Users\\musta\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js"" ""start""
18 verbose node v12.16.1
19 verbose npm  v6.14.4
20 error code ELIFECYCLE
21 error errno 1
22 error shopping-cart@0.0.0 start: `node ./bin/www`
22 error Exit status 1
23 error Failed at the shopping-cart@0.0.0 start script.
23 error This is probably not a problem with npm. There is likely additional logging output above.
24 verbose exit [ 1, true ]
</code></pre>

<p>Also, the guide i've been following first used a code in the index.js file that looked like this : </p>

<pre><code>var express = require('express');
var router = express.Router();
var Product = require('D:/Other/Projects/Code/Powershell/shopping-cart/models/product');

/* GET home page. */
router.get('/', function(req, res, next) {
  Product.find(function(err, docs) {
    var productChunks = [];
    var chunkSize = 3;
    for (var i = 0; i &lt; docs.length; i += chunkSize) {
           productChunks.push(docs.slice(i, i + chunkSize));
    }
    res.render('shop/index', { title: 'Shopping Cart', products: productChunks });
  });
});
</code></pre>

<p>However, when I use it , the localhost:3000 page just keeps loading until I get the same error as above, so I have been using the code that was used earlier in the guide which worked up until the npm start error. The working code was : </p>

<pre><code>var express = require('express');
var router = express.Router();
var Product = require('D:/Other/Projects/Code/Powershell/shopping-cart/models/product');

/* GET home page. */
router.get('/', function(req, res, next) {
  var products = Product.find();
  res.render('shop/index.hbs', { title: 'Shopping Cart', products });
});


module.exports = router;
</code></pre>

<p>Are these issues related? I have searched all over github and stackoverflow and the comments on the youtube guide, but can not seem to find the issue.</p>

<p>Any help would be appreciated , thanks!</p>
",<node.js><mongodb><express><npm>,0.0,0,0,1
31485,30957,60998697,1,0,7905936,1.0,0.0,0.0,0.0,2020-04-02T18:36:28.040,2.0,1478.0,Generate static html files from express server,"<p>I've got a nodejs web project running with express-js and ejs. After making it, it appered to me that it can be host throught static html files on Netlify instead of an nodejs app on Heroku. Indeed, the data only change each month so I only have to <em>build</em> it once a month. Like that, it will be the best hosting option regarding the price.</p>

<p>Is there a way (npm package, GitHub action, ...) to compile an entire express server + ejs application into a folder of static html/css files in order to be hosted on Netlify ?</p>

<p>I've been looking for a while and I couldn't find anything solving my problem.</p>

<p>Thanks for your help.</p>
",<javascript><node.js><express><npm><netlify>,0.0,0,0,1
31499,30971,61006798,1,61007157,12819108,1.0,0.0,0.0,0.0,2020-04-03T07:14:51.943,1.0,769.0,How to view index page using ejs-templating rather than using express.static content in node.js?,"<p>I can view my restaurant food menu generator with <code>HTML</code> with </p>

<pre><code>app.get('/', function (req, res) {
res.sendFile(__dirname + '/views/index.html');});
</code></pre>

<p>with this <code>express static method</code>. But what if I wanted to view the <code>index page</code> with this <code>ejs-tempalting</code>. Here is my <code>main.js</code> code:</p>

<pre><code>const bodyParser = require(""body-parser"");
var homeController = require(""./Controllers/homeController.js"");
var path = require(""path"");
const port = 3000,

express = require(""express""),

app = express();
app.set(""view engine"", ""ejs"");
app.use(express.static(path.join(__dirname, 'public')));
app.get('/function.js',function(req,res){ res.sendFile(path.join(__dirname + '/javascript/function.js')); });
app.get('/main.css',function(req,res){ res.sendFile(path.join(__dirname + '/css/main.css')); });
app.get('/', function (req, res) {
});
//should this view the index page?//
app.get('/', function(req, res) {
    res.render('index');
});

app.use(bodyParser.urlencoded({ extended: false }));

app.listen(port, () =&gt; {

 console.log(`The Express.js server has started and is listening
➥ on port number: ${port}`);
});
</code></pre>

<p>I have the <code>index.ejs</code>  in <code>views folder</code> but rumor says that you don't have to specify the path for the <code>ejs</code>. If I start the program, there are no errors but the page doesn't show either. So I'd appreciate if you can direct me to the right path, do I need <code>routes</code>? <code>Controllers</code>?</p>
",<node.js><express><npm><ejs>,0.0,0,0,1
31545,31017,61043972,1,61063882,7076052,1.0,0.0,0.0,0.0,2020-04-05T14:13:35.800,0.0,789.0,"Cant build angular universal server, pls help me","<p>When i try to start server, facing this problem:</p>

<blockquote>
  <p>cmsfront@0.0.0 serve:ssr D:\PROGRAMIRANJE\CMSfrontbackup
  node dist/CMSfront/server/main.js</p>
</blockquote>

<p>D:\PROGRAMIRANJE\CMSfrontbackup\dist\CMSfront\server\main.js:196764
        throw new Error(""package.json does not exist at "" + package_json_path);
        ^</p>

<p>Error: package.json does not exist at D:\PROGRAMIRANJE\CMSfrontbackup\dist\CMSfront\package.json
    at Object../node_modules/grpc/node_modules/node-pre-gyp/lib/pre-binding.js.exports.find (D:\PROGRAMIRANJE\CMSfrontbackup\dist\CMSfront\server\main.js:196764:15)
    at Object../node_modules/grpc/src/grpc_extension.js (D:\PROGRAMIRANJE\CMSfrontbackup\dist\CMSfront\server\main.js:211850:12)
    at <strong>webpack_require</strong> (D:\PROGRAMIRANJE\CMSfrontbackup\dist\CMSfront\server\main.js:20:30)
    at Object../node_modules/grpc/src/client_interceptors.js (D:\PROGRAMIRANJE\CMSfrontbackup\dist\CMSfront\server\main.js:209576:12)
    at <strong>webpack_require</strong> (D:\PROGRAMIRANJE\CMSfrontbackup\dist\CMSfront\server\main.js:20:30)
    at Object../node_modules/grpc/src/client.js (D:\PROGRAMIRANJE\CMSfrontbackup\dist\CMSfront\server\main.js:208381:27)
    at <strong>webpack_require</strong> (D:\PROGRAMIRANJE\CMSfrontbackup\dist\CMSfront\server\main.js:20:30)
    at Object../node_modules/grpc/index.js (D:\PROGRAMIRANJE\CMSfrontbackup\dist\CMSfront\server\main.js:191024:14)
    at <strong>webpack_require</strong> (D:\PROGRAMIRANJE\CMSfrontbackup\dist\CMSfront\server\main.js:20:30)
    at Object../node_modules/@firebase/firestore/dist/index.node.cjs.js (D:\PROGRAMIRANJE\CMSfrontbackup\dist\CMSfront\server\main.js:118582:12)<br>
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! cmsfront@0.0.0 serve:ssr: <code>node dist/CMSfront/server/main.js</code>
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the cmsfront@0.0.0 serve:ssr script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.</p>

<p>npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\Lenovo Z50-70\AppData\Roaming\npm-cache_logs\2020-04-05T14_07_24_462Z-debug.log</p>

<p><strong>I see bolded webpack_require but when i install nguniversal i dont get webpack config file. 
This is my timeline:</strong></p>

<ol>
<li>ng add @nguniversal/express-engine</li>
<li>npm run build:ssr</li>
<li>npm run serve:ssr - error from top.</li>
</ol>

<p>Pls help me solve this.</p>

<p>Edit:
package.json</p>

<pre><code>{
  ""name"": ""cmsfront"",
  ""version"": ""0.0.0"",
  ""scripts"": {
    ""ng"": ""ng"",
    ""start"": ""ng serve"",
    ""build"": ""ng build"",
    ""test"": ""ng test"",
    ""lint"": ""ng lint"",
    ""e2e"": ""ng e2e"",
    ""dev:ssr"": ""ng run CMSfront:serve-ssr"",
    ""serve:ssr"": ""node dist/CMSfront/server/main.js"",
    ""build:ssr"": ""ng build --prod &amp;&amp; ng run CMSfront:server:production"",
    ""prerender"": ""ng run CMSfront:prerender""
  },
  ""private"": true,
  ""dependencies"": {
    ""@angular/animations"": ""~9.0.0"",
    ""@angular/cdk"": ""^9.2.0"",
    ""@angular/common"": ""~9.0.0"",
    ""@angular/compiler"": ""~9.0.0"",
    ""@angular/core"": ""~9.0.0"",
    ""@angular/fire"": ""^5.4.2"",
    ""@angular/forms"": ""~9.0.0"",
    ""@angular/material"": ""^9.2.0"",
    ""@angular/platform-browser"": ""~9.0.0"",
    ""@angular/platform-browser-dynamic"": ""~9.0.0"",
    ""@angular/platform-server"": ""~9.0.0"",
    ""@angular/router"": ""~9.0.0"",
    ""@nguniversal/express-engine"": ""^9.0.2"",
    ""express"": ""^4.15.2"",
    ""firebase"": ""^7.13.1"",
    ""hammerjs"": ""^2.0.8"",
    ""rxjs"": ""~6.5.4"",
    ""tslib"": ""^1.10.0"",
    ""zone.js"": ""~0.10.2""
  },
  ""devDependencies"": {
    ""@angular-devkit/build-angular"": ""~0.900.1"",
    ""@angular/cli"": ""~9.0.1"",
    ""@angular/compiler-cli"": ""~9.0.0"",
    ""@angular/language-service"": ""~9.0.0"",
    ""@nguniversal/builders"": ""^9.0.2"",
    ""@types/express"": ""^4.17.0"",
    ""@types/node"": ""^12.11.1"",
    ""@types/jasmine"": ""~3.5.0"",
    ""@types/jasminewd2"": ""~2.0.3"",
    ""codelyzer"": ""^5.1.2"",
    ""jasmine-core"": ""~3.5.0"",
    ""jasmine-spec-reporter"": ""~4.2.1"",
    ""karma"": ""~4.3.0"",
    ""karma-chrome-launcher"": ""~3.1.0"",
    ""karma-coverage-istanbul-reporter"": ""~2.1.0"",
    ""karma-jasmine"": ""~2.0.1"",
    ""karma-jasmine-html-reporter"": ""^1.4.2"",
    ""protractor"": ""~5.4.3"",
    ""ts-node"": ""~8.3.0"",
    ""tslint"": ""~5.18.0"",
    ""typescript"": ""~3.7.5""
  }
}
</code></pre>

<p>angular.json</p>

<pre><code>{
  ""$schema"": ""./node_modules/@angular/cli/lib/config/schema.json"",
  ""version"": 1,
  ""newProjectRoot"": ""projects"",
  ""projects"": {
    ""CMSfront"": {
      ""projectType"": ""application"",
      ""schematics"": {
        ""@schematics/angular:component"": {
          ""style"": ""scss""
        }
      },
      ""root"": """",
      ""sourceRoot"": ""src"",
      ""prefix"": ""app"",
      ""architect"": {
        ""build"": {
          ""builder"": ""@angular-devkit/build-angular:browser"",
          ""options"": {
            ""outputPath"": ""dist/CMSfront/browser"",
            ""index"": ""src/index.html"",
            ""main"": ""src/main.ts"",
            ""polyfills"": ""src/polyfills.ts"",
            ""tsConfig"": ""tsconfig.app.json"",
            ""aot"": true,
            ""assets"": [
              ""src/favicon.ico"",
              ""src/assets""
            ],
            ""styles"": [
              ""./node_modules/@angular/material/prebuilt-themes/indigo-pink.css"",
              ""src/styles.scss""
            ],
            ""scripts"": []
          },
          ""configurations"": {
            ""production"": {
              ""fileReplacements"": [
                {
                  ""replace"": ""src/environments/environment.ts"",
                  ""with"": ""src/environments/environment.prod.ts""
                }
              ],
              ""optimization"": true,
              ""outputHashing"": ""all"",
              ""sourceMap"": false,
              ""extractCss"": true,
              ""namedChunks"": false,
              ""extractLicenses"": true,
              ""vendorChunk"": false,
              ""buildOptimizer"": true,
              ""budgets"": [
                {
                  ""type"": ""initial"",
                  ""maximumWarning"": ""2mb"",
                  ""maximumError"": ""5mb""
                },
                {
                  ""type"": ""anyComponentStyle"",
                  ""maximumWarning"": ""6kb"",
                  ""maximumError"": ""10kb""
                }
              ]
            }
          }
        },
        ""serve"": {
          ""builder"": ""@angular-devkit/build-angular:dev-server"",
          ""options"": {
            ""browserTarget"": ""CMSfront:build""
          },
          ""configurations"": {
            ""production"": {
              ""browserTarget"": ""CMSfront:build:production""
            }
          }
        },
        ""extract-i18n"": {
          ""builder"": ""@angular-devkit/build-angular:extract-i18n"",
          ""options"": {
            ""browserTarget"": ""CMSfront:build""
          }
        },
        ""test"": {
          ""builder"": ""@angular-devkit/build-angular:karma"",
          ""options"": {
            ""main"": ""src/test.ts"",
            ""polyfills"": ""src/polyfills.ts"",
            ""tsConfig"": ""tsconfig.spec.json"",
            ""karmaConfig"": ""karma.conf.js"",
            ""assets"": [
              ""src/favicon.ico"",
              ""src/assets""
            ],
            ""styles"": [
              ""./node_modules/@angular/material/prebuilt-themes/indigo-pink.css"",
              ""src/styles.scss""
            ],
            ""scripts"": []
          }
        },
        ""lint"": {
          ""builder"": ""@angular-devkit/build-angular:tslint"",
          ""options"": {
            ""tsConfig"": [
              ""tsconfig.app.json"",
              ""tsconfig.spec.json"",
              ""e2e/tsconfig.json""
            ],
            ""exclude"": [
              ""**/node_modules/**""
            ]
          }
        },
        ""e2e"": {
          ""builder"": ""@angular-devkit/build-angular:protractor"",
          ""options"": {
            ""protractorConfig"": ""e2e/protractor.conf.js"",
            ""devServerTarget"": ""CMSfront:serve""
          },
          ""configurations"": {
            ""production"": {
              ""devServerTarget"": ""CMSfront:serve:production""
            }
          }
        },
        ""server"": {
          ""builder"": ""@angular-devkit/build-angular:server"",
          ""options"": {
            ""outputPath"": ""dist/CMSfront/server"",
            ""main"": ""server.ts"",
            ""tsConfig"": ""tsconfig.server.json""
          },
          ""configurations"": {
            ""production"": {
              ""outputHashing"": ""media"",
              ""fileReplacements"": [
                {
                  ""replace"": ""src/environments/environment.ts"",
                  ""with"": ""src/environments/environment.prod.ts""
                }
              ],
              ""sourceMap"": false,
              ""optimization"": true
            }
          }
        },
        ""serve-ssr"": {
          ""builder"": ""@nguniversal/builders:ssr-dev-server"",
          ""options"": {
            ""browserTarget"": ""CMSfront:build"",
            ""serverTarget"": ""CMSfront:server""
          },
          ""configurations"": {
            ""production"": {
              ""browserTarget"": ""CMSfront:build:production"",
              ""serverTarget"": ""CMSfront:server:production""
            }
          }
        },
        ""prerender"": {
          ""builder"": ""@nguniversal/builders:prerender"",
          ""options"": {
            ""browserTarget"": ""CMSfront:build:production"",
            ""serverTarget"": ""CMSfront:server:production"",
            ""routes"": [
              ""/""
            ]
          },
          ""configurations"": {
            ""production"": {}
          }
        }
      }
    }
  },
  ""defaultProject"": ""CMSfront""
}
</code></pre>
",<node.js><angular><express><npm><angular-universal>,1.0,0,0,1
31586,31058,61090667,1,61090714,8249560,1.0,0.0,0.0,0.0,2020-04-07T22:52:00.633,1.0,68.0,let films = await response.data.films.map(film =>,"<p>I'm getting this error massage when I run my server.js file.
Error Message:</p>

<blockquote>
  <p>let films = await response.data.films.map(film =>{
              ^^^^^
      SyntaxError: await is only valid in async function
                  at new Script (vm.js:79:7)
                  at createScript (vm.js:251:10)
                  at Object.runInThisContext (vm.js:303:10)
                  at Module._compile (internal/modules/cjs/loader.js:657:28)
                  at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)
                  at Module.load (internal/modules/cjs/loader.js:599:32)
                  at tryModuleLoad (internal/modules/cjs/loader.js:538:12)
                  at Function.Module._load (internal/modules/cjs/loader.js:530:3)
                  at Function.Module.runMain (internal/modules/cjs/loader.js:742:12)
                  at startup (internal/bootstrap/node.js:283:19                    </p>
</blockquote>

<pre><code>    app.get('/api/popular/movies', async (req, res, next)=&gt; {

    axiosInstance.get(`filmsNowShowing/`).then(response=&gt; {
        console.log(response.data.films)
        let films = await response.data.films.map(film =&gt;{
            return {
                id:film.film_id,
                name:film.film_name,
                textLong:film.synopsis_long,
                picimage:film.images.poster
            }
        })
    res.status(200).json(films);
  }).catch(err =&gt; {
      console.log(err);
  });
});
</code></pre>
",<reactjs><express><npm><themoviedb-api>,1.0,0,0,1
31612,31084,61115163,1,61134768,11380167,1.0,2.0,0.0,0.0,2020-04-09T06:26:51.353,2.0,1693.0,; [HPM] Error occurred while trying to proxy request,"<p>I have cloned a GitHub repository and did <code>npm</code> I in the root directory and also in the client then made a file in the config for development. When I run <code>npm run dev</code> nodemon crashes always give result as compiled with a warning.</p>
",<javascript><node.js><mongodb><express><npm>,0.0,0,0,1
31676,31148,61167130,1,0,12451800,1.0,0.0,0.0,0.0,2020-04-12T05:11:15.027,1.0,653.0,Getting error while installing parcel bundler in my node.js application in windows,"<p>Getting error while installing parcel-bundler using npm, my command is follows:
<strong>npm install -g parcel-bundler</strong></p>

<p>Below is error description.</p>

<p>npm WARN deprecated core-js@2.6.11: core-js@&lt;3 is no longer maintained and not recommended for usage due to the number of issues. Please, upgrade your dependencies to the actual version of core-js@3.
npm ERR! Unexpected end of JSON input while parsing near '...Fzsf0KuydGYbbeMJ+WVIy'</p>

<p>npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\warrior\AppData\Roaming\npm-cache_logs\2020-04-12T05_01_07_407Z-debug.log</p>
",<node.js><windows><express><npm><parceljs>,0.0,0,0,1
31707,31179,61189642,1,0,12316340,1.0,0.0,0.0,0.0,2020-04-13T14:05:53.337,0.0,206.0,Express-generator is not working after installing globally,"<p>I install express generator globally by running</p>

<pre><code>npm install express-generator -g
</code></pre>

<p>after successful installation, I tried to test it by running </p>

<pre><code>express -h
</code></pre>

<p>I got an error saying </p>

<pre><code>Cannot find module 'commander' Require stack: - /usr/lib/nodejs/express-generator/bin/express
</code></pre>

<p>See a screenshot:</p>

<p><a href=""https://i.stack.imgur.com/ibWnP.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ibWnP.png"" alt=""enter image description here""></a></p>
",<node.js><express><npm><node-modules><express-generator>,0.0,0,0,1
31708,31180,61192037,1,0,1951176,0.0,4.0,0.0,0.0,2020-04-13T16:14:13.263,0.0,112.0,Typescript import errors,"<p>I am trying to make a simple websockets-based app, where there is a number of components and logic between them, but I'd like to share the state between clients, ie. when one client clicks a button and adds a component, it is added to every client.
I decided to try to do it in Angular+socket.io.
I am stuck at the very beginning, where I took the Angular's <a href=""https://angular.io/guide/setup-local#step-2-create-a-workspace-and-initial-application"" rel=""nofollow noreferrer"">initial app</a> and added:</p>

<pre><code>import * as socketIo from 'socket.io';
const socket = socketIo('http://localhost:4201');
</code></pre>

<p>in <code>main.ts</code>. I successfully opened this port in a separate ""app"". When trying to build the Angular part, I am getting the following error:</p>

<pre><code>WARNING in ./node_modules/socket.io/lib/index.js 113:11-32
Critical dependency: the request of a dependency is an expression

ERROR in ./node_modules/base64id/lib/base64id.js
Module not found: Error: Can't resolve 'crypto' in '..project-path/node_modules/base64id/lib'
...
</code></pre>

<p>I though this is due to some of the modules not being installed, but:
a) I ran <code>npm install --save express socket.io @types/express @types/socket.io</code>, so all the dependencies should be installed I think?
b) I saw some of the missing modules inside <code>..project-path/node_modules</code>.</p>

<p>What am I doing wrong? Is it even the problem with npm, Angular or my typescript understanding? How should I handle the dependencies in the future?</p>
",<node.js><angular><typescript><express><npm-install>,0.0,0,0,1
31718,31190,61201408,1,0,0,1.0,2.0,0.0,0.0,2020-04-14T05:45:41.623,0.0,511.0,Toast in ExpressJS,"<p>I am unable to add a toast using expressjs. I tried using the npm package ""toastr"" but it throws an error that $.extend is not a function, so I tried replacing it with Object.assign but even then it wouldn't work. Can somebody help me.</p>

<p>This is the initial error:</p>

<p><a href=""https://i.stack.imgur.com/YVHP5.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/YVHP5.png"" alt=""enter image description here""></a></p>

<p>This one is after changing $.extend to Object.assign inside toastr.js:</p>

<p><a href=""https://i.stack.imgur.com/zoXRH.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/zoXRH.png"" alt=""enter image description here""></a></p>

<pre><code>   app.post(""/edit/:userId/:quizId/:index"", (req, res) =&gt; {
    User.findOne({ _id: req.params.userId }, (err, foundUser) =&gt; {
    if (!err) {
      foundUser.entry.splice(req.params.index, 1, req.body);
    }

      User.updateOne({ _id: req.params.userId }, { $set: foundUser }, (err) =&gt; {
      if (!err) {
        toastr.success(""Successfully Updated !"");
        console.log(""Successfully Updated !"");
        res.redirect(""/quiz/"" + req.params.userId);
      }
    });
  });
});
</code></pre>

<p>This is my code snippet.</p>
",<jquery><node.js><express><npm><toastr>,0.0,0,0,1
31750,31222,61226336,1,61228412,13206610,1.0,7.0,0.0,0.0,2020-04-15T10:17:28.547,0.0,155.0,npm ERROR after npm start on node / express,"<p>The index.js file has the following code as;</p>

<pre><code>const express = require('express');
const cors = require('cors');
const bodyParser = require('body-parser');
const morgan = require('morgan');
const app = express();

app.use(morgan('tiny'));
app.use(cors());
app.use(bodyParser.json());

app.get('/', (req, res) =&gt; {
    res.json({
        message: 'Welcome!'
    });
});

const port = process.env.PORT || 3000;
app.listen(port, () =&gt; {
    console.log(`Listening on port ${port}...`);
});
</code></pre>

<p>And I edited the package.json</p>

<pre><code>""main"": ""index.js"",
  ""scripts"": {
    ""start"": ""node index.js""
  },
</code></pre>

<p>The dependecies versions are:</p>

<pre><code>""dependencies"": {
    ""body-parser"": ""^1.19.0"",
    ""cors"": ""^2.8.5"",
    ""express"": ""^4.17.1"",
    ""morgan"": ""^1.10.0""
  }
</code></pre>

<p>When I run <code>npm start</code> on terminal, the error shows like this:</p>

<p><code>npm ERR! code ENOENT
npm ERR! syscall open
npm ERR! path E:\.....\package.json
npm ERR! errno -4058
npm ERR! enoent ENOENT: no such file or directory, open 'E:\......\package.json'
npm ERR! enoent This is related to npm not being able to find a file.
npm ERR! enoent
npm ERR! A complete log of this run can be found in:
npm ERR! C:\Users\Mamun\AppData\Roaming\npm-cache\_logs\2020-04-15T10_03_09_445Z-debug.log</code></p>

<p>What can I do? Please help. Thanks in advance!</p>
",<node.js><json><express><body-parser><npm-start>,0.0,0,0,1
31801,31273,61265745,1,0,0,1.0,3.0,0.0,0.0,2020-04-17T06:58:42.613,1.0,174.0,Can't deploy simple node.js app to heroku nor MongoDB,"<p>So im trying to deploy a simple twitter like app to HEROKU or MongoDB and i'm currently nailing either. For mongodb I get one out of two outcomes, either a internal server error or the actual code displaying on the browser instead of the app. Since I have two separate folders for each implementation i'm going to post subsequently.</p>

<p>MONGODB</p>

<p>Index.js (This is the server side node code)</p>

<pre><code>const express = require('express');
//Cors permite que cualquiera se comunique con el server.
const cors = require('cors');
const monk = require('monk');
const Filter = require('bad-words');
const rateLimit = require('express-rate-limit');

const filter = new Filter();
const app = express();
const db = monk(process.env.MONGO_URI || 'localhost/meower');
const mews = db.get('mews');

//ORDER MATTERS, WHAT IS FIRST GETS EXECUTED FIRST
app.enable('trust proxy');
app.use(cors());
//any incoming request that is JSON will pass
app.use(express.json());



//server, when you get a request run this function.
app.get('/',(request,response) =&gt; {
  res.json({
    message: 'Meower!'
  });
});

app.get('/mews', (req,res) =&gt; {
  mews
    .find()
    .then(mews =&gt; {
      res.json(mews);
    });
});

function isvalidmew(mew){
  return mew.name &amp;&amp; mew.name.toString().trim() !== '' &amp;&amp;
    mew.content &amp;&amp; mew.content.toString().trim() !== '';
}

//limit the submit rate

app.use(rateLimit({
  windowMs: 30 * 1000,
  max: 2
}));

//this will wait for incoming data and insert in database
app.post('/mews', (req,res) =&gt; {
  if(isvalidmew(req.body)){
    const mew = {
      name: filter.clean(req.body.name.toString()),
      content: filter.clean(req.body.content.toString()),
      created: new Date()
    };

    mews
    .insert(mew)
    .then(createdMew =&gt; {
      res.json(createdMew);
    });
  } else {
    res.status(422);
    res.json({
      message:'Hey! Name and Content are required!'
    });
  }
});

//abre el server en el puerto 5000

app.listen(5000, () =&gt; {
  console.log('Listening on http://localhost:5000');
});
</code></pre>

<p>Client.js</p>

<pre><code>const form = document.querySelector('form');
const loadingElement = document.querySelector('.loading');
const mewsElement = document.querySelector('.mews');
const API_URL = 'http://localhost:5000/mews';

loadingElement.style.display = '';

console.log('hola')

listallmews();

form.addEventListener('submit', (event) =&gt; {
  event.preventDefault();
  const formData = new FormData(form);
  //We grab the stuff from the form
  const name = formData.get('name');
  const content = formData.get('content');
  //We put it in an object
  const mew = {
    name,
    content
  };
  //We send the data to the server
  form.style.display = 'none';
  loadingElement.style.display = '';

  fetch(API_URL, {
    method: 'POST',
    body: JSON.stringify(mew),
    headers : {
      'content-type':'application/json'
    }
  }).then(response =&gt; response.json())
    .then(createdMew =&gt; {
      form.reset();
      setTimeout(() =&gt; {
        form.style.display = '';
      },30000);
      listallmews();
    });
});

function listallmews(){
  mewsElement.innerHTML = '';
  fetch(API_URL)
    .then(response =&gt; response.json())
    .then(mews =&gt; {
      console.log(mews);
      mews.reverse();
      mews.forEach(mew =&gt;{
        const div = document.createElement('div');

        const header = document.createElement('h3');
        header.textContent= mew.name

        const contents = document.createElement('p')
        contents.textContent= mew.content;

        const date = document.createElement('small');
        date.textContent = new Date(mew.created);

        div.appendChild(header);
        div.appendChild(contents);
        div.appendChild(date);

        mewsElement.appendChild(div);
      });
    loadingElement.style.display = 'none'  
    });
}
</code></pre>

<p>now.json</p>

<pre><code>{
  ""name"": ""camitter-api"",
  ""version"": 2,
  ""builds"": [
    {
      ""src"": ""index.js"",
      ""use"": ""@now/node-server""
    }
  ],
  ""routes"": [
    { ""src"": ""/.*"", ""dest"": ""index.js"" }
  ],
  ""env"": {
    ""MONGO_URI"": ""@camitter-db""
  }
}
</code></pre>

<p>and package.json</p>

<pre><code>{
  ""name"": ""server"",
  ""version"": ""1.0.0"",
  ""description"": """",
  ""main"": ""index.js"",
  ""scripts"": {
    ""start"": ""node index.js"",
    ""dev"": ""nodemon index.js""
  },
  ""keywords"": [],
  ""author"": ""CJ R. &lt;cj@null.computer&gt; (https://w3cj.now.sh)"",
  ""license"": ""MIT"",
  ""dependencies"": {
    ""bad-words"": ""^1.6.3"",
    ""cors"": ""^2.8.4"",
    ""express"": ""^4.16.3"",
    ""express-rate-limit"": ""^3.1.1"",
    ""monk"": ""^6.0.6"",
    ""morgan"": ""^1.9.1""
  },
  ""devDependencies"": {
    ""nodemon"": ""^1.18.4""
  }
}
</code></pre>

<p>And this is the terminal output on implementation. Currently the link shows ""internal server error""</p>

<pre><code>Alejandro@DESKTOP-LOJH5G7 MINGW64 ~/Desktop/Programacion/Meower
$ now secrets add camisite mongodb+srv://alenieto:myactualpassword@camisite-irtu2.mongodb.net/test?retryWrites=true&amp;w=majority
[1] 444
Alejandro@DESKTOP-LOJH5G7 MINGW64 ~/Desktop/Programacion/Meower
$ Now CLI 18.0.0
Success! Secret camisite added under alenieto97 [709ms]        
$ now -e MONGO_URI=@camisite
Now CLI 18.0.0
? Set up and deploy “~\Desktop\Programacion\Meower”? [Y/n] y
? Which scope do you want to deploy to? Alejandro Nieto
? Found project “alenieto97/meower”. Link to it? [Y/n] n
? Link to different existing project? [Y/n] n
? What’s your project’s name? camisite
? In which directory is your code located? ./
No framework detected. Default project settings:
- Build Command: `npm run now-build` or `npm run build`
- Output Directory: `public` if it exists, or `.`
�  Inspect: https://zeit.co/alenieto97/camisite/ei55o9z4q [2s]
✅  Production: https://camisite.now.sh [copied to clipboard] [5s]
�  Deployed to production. Run `now --prod` to overwrite later (https://zeit.ink/2F).
�  To change the domain or build command, go to https://zeit.co/alenieto97/camisite/settings
[1]+  Done                    now secrets add camisite mongodb+srv://alenieto:lapata97@camisite-irtu2.mongodb.net/test?retryWrites=true

Alejandro@DESKTOP-LOJH5G7 MINGW64 ~/Desktop/Programacion/Meower
$ cd server

Alejandro@DESKTOP-LOJH5G7 MINGW64 ~/Desktop/Programacion/Meower/server
$ now -e MONGO_URI=@camisite
Now CLI 18.0.0
❗️  The `name` property in now.json is deprecated (https://zeit.ink/5F)
�  Inspect: https://zeit.co/alenieto97/camitter/6b76zrggu [3s]
✅  Preview: https://camitter.alenieto97.now.sh [copied to clipboard] [20s]
�  To deploy to production (camitter.now.sh), run `now --prod`
❗️  Zero-configuration deployments are recommended instead of a `builds` property in `now.json`. The ""Build and Development Settings"" in your Project will not apply.

Alejandro@DESKTOP-LOJH5G7 MINGW64 ~/Desktop/Programacion/Meower/server
</code></pre>

<p>HEROKU</p>

<p>Here i'm pretty sure im doing something wrong on the index.js or client.js or both. I saw tons of guides and have all the files necesary. When I deploy, the app simply doesn't work. Since I actually tried to adapt the code to work on Heroku I'm pretty sure the problem lies in the code itself. This is The folder:</p>

<pre><code>   node_modules
  .gitignore
   index.js
   package_lock.json
   client.js
   favicon.ico
   index.html
   loading.gif
   styles.css
   Procfile

</code></pre>

<p>Index.js</p>

<pre><code>const express = require('express');
//Cors permite que cualquiera se comunique con el server.
const cors = require('cors');
const Filter = require('bad-words');
const rateLimit = require('express-rate-limit');
const { Pool, Client } = require('pg');
const port = process.env.PORT;

const connectionString = 'postgres://gvvsunuvtdhxpq:e9d3239ab17ea6f38d0b6303dee62b7704b37574e5eb2783ca7edb868cc7192a@ec2-18-235-20-228.compute-1.amazonaws.com:5432/d7df9kofqifk5b'
const pool = new Pool({
  connectionString: connectionString,
})

const filter = new Filter();
const app = express();

//ORDER MATTERS, WHAT IS FIRST GETS EXECUTED FIRST
app.enable('trust proxy');
app.use(cors());
//any incoming request that is JSON will pass
app.use(express.json());

//server, when you get a request run this function.
app.get('/',(request,response) =&gt; {
  res.json({
    message: 'Meower!'
  });
});

app.get('/mews', async (req, res) =&gt; {
    try {
      const client = await pool.connect()
      const result = await client.query('SELECT * FROM test_table');
      const results = { 'results': (result) ? result.rows : null};
      res.render('pages/mews', results );
      client.release();
    } catch (err) {
      console.error(err);
      res.send(""Error "" + err);
    }
  })

function isvalidmew(mew){
  return mew.name &amp;&amp; mew.name.toString().trim() !== '' &amp;&amp;
    mew.content &amp;&amp; mew.content.toString().trim() !== '';
}

//limit the submit rate

app.use(rateLimit({
  windowMs: 30 * 1000,
  max: 2
}));

//this will wait for incoming data and insert in database
app.post('/mews', (req,res) =&gt; {
  if(isvalidmew(req.body)){
    const mew = {
      name: filter.clean(req.body.name.toString()),
      content: filter.clean(req.body.content.toString()),
      created: new Date()
    };

    mews
    .insert(mew)
    .then(createdMew =&gt; {
      res.json(createdMew);
    });
  } else {
    res.status(422);
    res.json({
      message:'Hey! Name and Content are required!'
    });
  }
});


app.listen(port, () =&gt; {
  console.log('Listening on PORT');
});

</code></pre>

<p>Client.js</p>

<pre><code>const form = document.querySelector('form');
const loadingElement = document.querySelector('.loading');
const mewsElement = document.querySelector('.mews');
const API_URL = 'https://camisite.herokuapp.com/mews';

loadingElement.style.display = '';


listallmews();

form.addEventListener('submit', (event) =&gt; {
  event.preventDefault();
  const formData = new FormData(form);
  //We grab the stuff from the form
  const name = formData.get('name');
  const content = formData.get('content');
  //We put it in an object
  const mew = {
    name,
    content
  };
  //We send the data to the server
  form.style.display = 'none';
  loadingElement.style.display = '';

  fetch(API_URL, {
    method: 'POST',
    body: JSON.stringify(mew),
    headers : {
      'content-type':'application/json'
    }
  }).then(response =&gt; response.json())
    .then(createdMew =&gt; {
      form.reset();
      setTimeout(() =&gt; {
        form.style.display = '';
      },30000);
      listallmews();
    });
});

function listallmews(){
  mewsElement.innerHTML = '';
  fetch(API_URL)
    .then(response =&gt; response.json())
    .then(mews =&gt; {
      console.log(mews);
      mews.reverse();
      mews.forEach(mew =&gt;{
        const div = document.createElement('div');

        const header = document.createElement('h3');
        header.textContent= mew.name

        const contents = document.createElement('p')
        contents.textContent= mew.content;

        const date = document.createElement('small');
        date.textContent = new Date(mew.created);

        div.appendChild(header);
        div.appendChild(contents);
        div.appendChild(date);

        mewsElement.appendChild(div);
      });
    loadingElement.style.display = 'none'  
    });
}
</code></pre>

<p>Procfile</p>

<pre><code>web: node index.js

</code></pre>

<p>Package.json</p>

<pre><code>{
  ""name"": ""server"",
  ""version"": ""1.0.0"",
  ""description"": """",
  ""main"": ""index.js"",
  ""scripts"": {
    ""start"": ""node index.js"",
    ""dev"": ""nodemon index.js""
  },
  ""keywords"": [],
  ""author"": ""CJ R. &lt;cj@null.computer&gt; (https://w3cj.now.sh)"",
  ""license"": ""MIT"",
  ""dependencies"": {
    ""bad-words"": ""^1.6.3"",
    ""cors"": ""^2.8.5"",
    ""express"": ""^4.16.3"",
    ""express-rate-limit"": ""^3.1.1"",
    ""monk"": ""^6.0.6"",
    ""morgan"": ""^1.9.1"",
    ""pg"": ""^7.18.2""
  },
  ""devDependencies"": {
    ""nodemon"": ""^1.18.4""
  }
}

</code></pre>

<p>I appreciate a lot any help to deploy on any of the two platforms, im trying to make the most out of this quarantine and have been trying to solve this for twenty hours straight. Cheers to any isolated folks!</p>
",<javascript><node.js><express><heroku><npm>,0.0,0,0,1
31827,31299,61287279,1,0,10386326,0.0,2.0,0.0,0.0,2020-04-18T09:58:50.413,0.0,78.0,Node error (webpack-cli) when running npm dev. Can't figure out what the error message means,"<p>I'm new to node.</p>

<p>I'm using the Node Express Vue Mongo stack on Windows.
Yesterday my program worked just fine running without any errors, but today when I tried to run NPM dev it crashed.</p>

<pre><code>0 info it worked if it ends with ok
1 verbose cli [
1 verbose cli   '\\Program Files\\nodejs\\node.exe',
1 verbose cli   '\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js',
1 verbose cli   'run',
1 verbose cli   'dev'
1 verbose cli ]
2 info using npm@6.14.4
3 info using node@v13.13.0
4 verbose run-script [ 'predev', 'dev', 'postdev' ]
5 info lifecycle client@1.0.0~predev: client@1.0.0
6 info lifecycle client@1.0.0~dev: client@1.0.0
7 verbose lifecycle client@1.0.0~dev: unsafe-perm in lifecycle true
8 verbose lifecycle client@1.0.0~dev: DELETED(privacy)
9 verbose lifecycle client@1.0.0~dev: CWD: \Documents\Projecten\soundboard_school\client
10 silly lifecycle client@1.0.0~dev: Args: [
10 silly lifecycle   '/d /s /c',
10 silly lifecycle   'webpack-dev-server --inline --progress --config build/webpack.dev.conf.js'
10 silly lifecycle ]
11 silly lifecycle client@1.0.0~dev: Returned: code: 1  signal: null
12 info lifecycle client@1.0.0~dev: Failed to exec dev script
13 verbose stack Error: client@1.0.0 dev: `webpack-dev-server --inline --progress --config build/webpack.dev.conf.js`
13 verbose stack Exit status 1
13 verbose stack     at EventEmitter.&lt;anonymous&gt; (\AppData\Roaming\npm\node_modules\npm\node_modules\npm-lifecycle\index.js:332:16)
13 verbose stack     at EventEmitter.emit (events.js:315:20)
13 verbose stack     at ChildProcess.&lt;anonymous&gt; (\AppData\Roaming\npm\node_modules\npm\node_modules\npm-lifecycle\lib\spawn.js:55:14)
13 verbose stack     at ChildProcess.emit (events.js:315:20)
13 verbose stack     at maybeClose (internal/child_process.js:1026:16)
13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:286:5)
14 verbose pkgid client@1.0.0
15 verbose cwd \Documents\Projecten\soundboard_school\client
16 verbose Windows_NT 10.0.18362
17 verbose argv ""\\Program Files\\nodejs\\node.exe"" ""\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js"" ""run"" ""dev""
18 verbose node v13.13.0
19 verbose npm  v6.14.4
20 error code ELIFECYCLE
21 error errno 1
22 error client@1.0.0 dev: `webpack-dev-server --inline --progress --config build/webpack.dev.conf.js`
22 error Exit status 1
23 error Failed at the client@1.0.0 dev script.
23 error This is probably not a problem with npm. There is likely additional logging output above.
24 verbose exit [ 1, true ]
</code></pre>

<p>This is the error message I got, but I can't figure out for the love of me what it means. Googling doesnt give me any answers.
Does anyone have any idea what I could do to fix?
I have tried to clear my cache, delete node_modules and package-lock and use npm-install again multiple times to no avail.</p>
",<node.js><express><vue.js><npm><webpack>,0.0,1,0,1
31857,31329,61312517,1,61321483,12985729,1.0,1.0,0.0,0.0,2020-04-19T22:32:55.940,1.0,913.0,node.js error: req.flash() requires sessions,"<p>I am new to node, can anyone help me with this session issue? It is a simple application that I tried to run it locally. Here are the details of code and error messages</p>

<p>BAPS.js (app.js)</p>

<pre><code>var express = require('express');
var path = require('path');
var favicon = require('serve-favicon');
var logger = require('morgan');
var ConsoleFileLogger = require('./helpers/ConsoleFileLogger');
var cookieParser = require('cookie-parser');
var flash = require('express-flash');
var sess = require('express-session');
var MySQLStore = require('express-mysql-session')(sess);
var expressValidator = require('express-validator');
var nodemailer = require('nodemailer');
var passport = require('passport');
var bodyParser = require('body-parser');
var device = require('express-device');
var helmet = require('helmet');
var acl = require('express-acl');
var async = require('async');
var helpers = require('./routes/config/helpers');
const https = require(""https""),
  fs = require(""fs"");
var mysql = require('mysql');
var app = express();

//get environment variables
const result =  require('dotenv').config({path: '/dotenv/.env'});
if(result.error){
  throw result.error;
}

// View engine setup
app.set('view engine', 'pug');
app.set('views', path.join(__dirname, 'views'));
app.use(express.static(path.join(__dirname, 'public')));
app.use(favicon(__dirname + '/public/images/favicon.ico'));

app.use(device.capture());
app.use(helmet());
app.use(logger('dev'));
app.use(logger('common', {
  stream: fs.createWriteStream(path.join(__dirname, '/logs/access_'+ConsoleFileLogger.createDateTimeFileName()+'.log'), { flags: 'a' })
}));
app.use(bodyParser.json({
  limit: '10mb'
}));
app.use(bodyParser.urlencoded({
  extended: true,
  limit: '10mb'
}));
app.use(flash());
app.use(cookieParser());
app.use(expressValidator());

var connection = require('./connection');

//Store sessions on database
var sessionStore = new MySQLStore({}, connection);

app.use(sess({
  name: 'BAPSSESSION',
  secret: 'BAPSISGREAT',
  secure: true,
  store: sessionStore,
  resave: true,
  saveUninitialized: true,
  cookie: {
    //TODO: CHANGE THIS BACK TO 1000000000!
    maxAge: 365 * 24 * 60 * 60 * 1000 //one year
  }
}));

//Passport config(authentication)
require('./routes/config/passport')(passport);
app.use(passport.initialize());
app.use(passport.session());

//Set default port
var port = process.env.PORT;
if(port == null)
{
  ConsoleFileLogger.error(""didn't read the port"");
}

if(process.env.ENVIRONMENT != ""local"")
{
  const options = {
    key: fs.readFileSync(process.env.KEY_PATH || ""localhost.key""),
    cert: fs.readFileSync(process.env.CERT_PATH || ""localhost.crt""),
    dhparam: fs.readFileSync(process.env.DH_STRONG_PATH || ""dh-strong.pem"")
  };

  https.createServer(options, app).listen(port);
}
else
{
  app.listen(port);
}

//Route files
var userData = require('./routes/userData');
var dashboard = require('./routes/dashboard');
var dashboardNewUser = require('./routes/dashboardNewUser');
var dashboardNewSchool = require('./routes/dashboardNewSchool');
var dashboardNewItem = require('./routes/dashboardNewItem');
var dashboardEditSchool = require('./routes/dashboardEditSchool');
var dashboardEditUser = require('./routes/dashboardEditUser');
var dashboardEditItem = require('./routes/dashboardEditItem');
var dashboardDeleteUser = require('./routes/dashboardDeleteUser');
var dl_database = require('./routes/dl_database');
var dashboardDeleteItem =require('./routes/dashboardDeleteItem');
var dashboardDeleteSchool = require('./routes/dashboardDeleteSchool');



//Set routes
app.use('/userData', userData);
app.use('/dashboard', dashboard);
app.use('/dashboard/dashboardNewUser', dashboardNewUser);
app.use('/dashboard/dashboardNewSchool', dashboardNewSchool);
app.use('/dashboard/dashboardNewItem', dashboardNewItem);
app.use('/dashboard/dashboardEditSchool', dashboardEditSchool);
app.use('/dashboard/dashboardEditUser', dashboardEditUser);
app.use('/dashboard/dl_database', dl_database);
app.use('/dashboard/dashboardEditItem', dashboardEditItem);
app.use('/dashboard/dashboardDeleteUser', dashboardDeleteUser);
app.use('/dashboard/dashboardDeleteItem', dashboardDeleteItem);
app.use('/dashboard/dashboardDeleteSchool', dashboardDeleteSchool);

//Print App Version
ConsoleFileLogger.log(""Running BAPS Version: "" + process.env.npm_package_version);

app.get('/', function(req, res) {
  res.render('login/index');
});

// =============================================================================
// Login
// =============================================================================
app.post('/', function(req, res, next) {
  //Desktop Login
  if (req.device.type == 'desktop') {
    passport.authenticate('local', {
      successRedirect: '/dashboard',
      failureRedirect: '/',
      badRequestMessage: 'Please, provide credentials',
      failureFlash: true
    })(req, res, next);
  } else {
    passport.authenticate('local', {
      successRedirect: '/login_tablet_success',
      failureRedirect: '/failed_login_tablet',
      badRequestMessage: 'Please, provide credentials',
      failureFlash: true
    })(req, res, next);
  }
});

app.get('/login_tablet_success', function(req, res) {
  res.json({
    userData: [{
      'message': 'Succesful login',
      loginSuccess: 1
    }, {
      userId: req.user.id,
      userName: req.user.name,
      userLastName: req.user.lastName,
      userEmail: req.user.email,
      userLabel: req.user.label
    }]
  });
});

app.get('/failed_login_tablet', function(req, res) {
  res.json({
    userData: [{
      message: req.flash().error[0],
      loginSuccess: 0
    }]
  });
});

app.get('/logout', function(req, res) {
  req.session.destroy(function(err) {
    if (err) {
      ConsoleFileLogger.error(""error: "" + err);
    } else {
      if (req.device.type == 'desktop') {
        res.redirect('/');
      } else {
        res.json({
          'message': 'Logged out succesfully'
        });
      }
    }
  });
});

// catch 404 and forward to error handler
app.use(function(req, res, next) {
  var err = new Error('Not Found');
  err.status = 404;
  next(err);
});

// error handler
app.use(function(err, req, res, next) {
  // set locals, only providing error in development
  res.locals.message = err.message;
  res.locals.error = req.app.get('env') === 'development' ? err : {};

  // render the error page
  res.status(err.status || 500);
  res.render('error');
});

module.exports = app;
</code></pre>

<p>Error message from terminal:  </p>

<p>Running BAPS Version: 3.2.4
GET / 500 5.523 ms - 1396
Error: req.flash() requires sessions
    at IncomingMessage._flash [as flash] (/Users/chrischen/Documents/BAPS/baps_rest/node_modules/connect-flash/lib/flash.js:60:41)
    at ServerResponse.res.render (/Users/chrischen/Documents/BAPS/baps_rest/node_modules/express-flash/lib/express-flash.js:28:35)
    at /Users/chrischen/Documents/BAPS/baps_rest/BAPS.js:239:7
    at Layer.handle_error (/Users/chrischen/Documents/BAPS/baps_rest/node_modules/express/lib/router/layer.js:71:5)
    at trim_prefix (/Users/chrischen/Documents/BAPS/baps_rest/node_modules/express/lib/router/index.js:315:13)
    at /Users/chrischen/Documents/BAPS/baps_rest/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/chrischen/Documents/BAPS/baps_rest/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/chrischen/Documents/BAPS/baps_rest/node_modules/express/lib/router/index.js:275:10)
    at Layer.handle_error (/Users/chrischen/Documents/BAPS/baps_rest/node_modules/express/lib/router/layer.js:67:12)
    at trim_prefix (/Users/chrischen/Documents/BAPS/baps_rest/node_modules/express/lib/router/index.js:315:13)</p>
",<javascript><node.js><express><session><npm>,1.0,0,0,1
32029,31501,61478501,1,0,11455862,1.0,4.0,0.0,0.0,2020-04-28T10:54:31.720,1.0,474.0,"npm not working, shows Response timeout while trying to fetch https://registry.npmjs.org/","<p>Every time I try to install a package I get the error message shown below.</p>

<p>I have tried everything, please help me.</p>

<blockquote>
  <pre class=""lang-none prettyprint-override""><code>npm ERR! Response timeout while trying to fetch https://registry.npmjs.org/base-config-process (over 30000ms)
</code></pre>
</blockquote>
",<node.js><express><vue.js><npm>,0.0,0,0,1
32049,31521,61506511,1,0,13434447,1.0,2.0,0.0,0.0,2020-04-29T16:16:50.687,1.0,4499.0,"Does not work with ""type"": ""module"" in ""package.json""","<p>i run npm start</p>

<p>get the error</p>

<pre><code>(node:1079) Warning: To load an ES module, set ""type"": ""module"" in the package.json or use the .mjs extension.
/Users/sangkuoh/Desktop/Udacity_FEND_TravelApp-master/src/server/server.js:61
export default { app };
^^^^^^
</code></pre>

<p>why this don't work? :)</p>
",<node.js><express><npm><webpack>,0.0,1,0,1
32120,31592,61565265,1,0,7753227,2.0,1.0,0.0,0.0,2020-05-02T19:39:33.157,1.0,564.0,Cannot send PNG via express route,"<p>I have an png image which I am serving from my express endpoint, the image should be readable as an image source. I have currently got the image as a buffer in node and I am trying to render it however I cannot seem to get the image to appear.</p>

<p><strong>Outcome</strong></p>

<p><a href=""https://i.stack.imgur.com/vRQjB.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/vRQjB.png"" alt=""Outcome of code""></a></p>

<p><strong>Expected</strong></p>

<p><a href=""https://i.stack.imgur.com/2ztgp.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/2ztgp.png"" alt=""enter image description here""></a></p>

<p><strong>Express JS Code</strong></p>

<pre class=""lang-js prettyprint-override""><code>publicController.get('/avatar', async (req, res, next) =&gt; {
  const image = await PUBLIC.avatar();
  res.writeHead(200, {
      'Content-Type': 'image/png',
      'Content-Length': image.toString(""binary"").length
    });
  res.charset = 'binary';
  res.write(image.toString(""binary""));
  res.end()
})
</code></pre>

<p><strong>Tried Methods:</strong></p>

<ul>
<li>Piping from a readable stream</li>
<li>Convert to base 64 and render</li>
<li>Convert to binary and pipe</li>
<li>Convert to binary and render</li>
<li>Dump raw png file</li>
</ul>

<p><strong>Considerations:</strong></p>

<ul>
<li>I have checked and the PNG file is correct, I created a file from the buffer and the PNG renders perfectly.</li>
<li>The png image is dynamic dependant on several factors hence why I cannot place in an object storage like s3.</li>
</ul>
",<node.js><image><express><npm><sharp>,0.0,0,0,1
32187,31659,61636100,1,0,13326574,0.0,6.0,0.0,0.0,2020-05-06T13:11:34.730,0.0,129.0,Unable to make Http Requests,"<p>I am trying to access data from BitcoinAverage using their API. I am following a tutorial and I should be getting a JSON file console-logged in the terminal but in my case it shows undefined(as you can see in the picture)[</p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const express = require('express');
const bodyParser = require('body-parser');
const request = require('request');

const app = express();

app.use(bodyParser.urlencoded({extended: true}));

app.get(""/"", function(req, res){
  res.sendFile(__dirname + ""/index.html"");
});

app.post(""/"", function(req,res){
    url = ""https://apiv2.bitcoinaverage.com/indices/global/ticker/BTCUSD"";
    request(url,function(error,response,body){
        console.log(body);
    });
});

app.listen(3000, function() {
  console.log(""Server is running at port 3000"");
});</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;!DOCTYPE html&gt;
&lt;html lang=""en""&gt;
&lt;head&gt;
    &lt;meta charset=""UTF-8""&gt;
    &lt;meta name=""viewport"" content=""width=device-width, initial-scale=1.0""&gt;
    &lt;title&gt;Bitcoin Ticker&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Bitcoin Ticker&lt;/h1&gt;

    &lt;form action=""/"" method=""post""&gt;
    &lt;select name=""crypto"" id=""""&gt;
        &lt;option value=""BTC""&gt;Bitcoin&lt;/option&gt;
        &lt;option value=""ETH""&gt;Ethereum&lt;/option&gt;
        &lt;option value=""LTC""&gt;Litecoin&lt;/option&gt;
    &lt;/select&gt;

    &lt;select name=""fiat"" id=""""&gt;
        &lt;option value=""USD""&gt;Bitcoin&lt;/option&gt;
        &lt;option value=""GBP""&gt;Ethereum&lt;/option&gt;
        &lt;option value=""EUR""&gt;Litecoin&lt;/option&gt;
    &lt;/select&gt;
    
    &lt;button type=""submit"" name=""button""&gt;Check&lt;/button&gt;

    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
</p>

<p><a href=""https://i.stack.imgur.com/k8STc.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/k8STc.png"" alt=""Nodejs Output""></a></p>
",<javascript><node.js><api><express><npm>,0.0,0,0,1
32227,31699,61672231,1,61848353,9667918,1.0,0.0,0.0,0.0,2020-05-08T04:48:15.963,0.0,838.0,How do I solve an nexe compilation code 2 error?,"<p>I am trying to compile my node server using nexe (3.3.2) but it keeps failing. When I first tried, it said I needed to use the --build flag which I included in my script. The process kicked off again, compiled for over two hours and then failed.</p>

<p>I upgraded my node and npm versions using Homebrew, it didn't work. I thought it might be the size of the folders I've included but even if I just include my server.js, it fails.</p>

<p>Does anyone have any ideas for me please? Below is a copy of the latest log file.</p>

<pre><code>0 info it worked if it ends with ok
1 verbose cli [
1 verbose cli   '/usr/local/lib/node_modules/node/bin/node',
1 verbose cli   '/usr/local/bin/npm',
1 verbose cli   'run',
1 verbose cli   'build'
1 verbose cli ]
2 info using npm@6.14.4
3 info using node@v13.8.0
4 verbose run-script [ 'prebuild', 'build', 'postbuild' ]
5 info lifecycle robson-callcentre@0.1.0~prebuild: robson-callcentre@0.1.0
6 info lifecycle robson-callcentre@0.1.0~build: robson-callcentre@0.1.0
7 verbose lifecycle robson-callcentre@0.1.0~build: unsafe-perm in lifecycle true
8 verbose lifecycle robson-callcentre@0.1.0~build: PATH: /usr/local/lib/node_modules/npm/node_modules/npm-lifecycle/node-gyp-bin:/Users/darryllrobinson/Documents/projects/Source/fonebookeohcollections/server/node_modules/.bin:/usr/local/opt/openssl/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin
9 verbose lifecycle robson-callcentre@0.1.0~build: CWD: /Users/darryllrobinson/Documents/projects/Source/fonebookeohcollections/server
10 silly lifecycle robson-callcentre@0.1.0~build: Args: [ '-c', 'nexe server.js --build' ]
11 silly lifecycle robson-callcentre@0.1.0~build: Returned: code: 1  signal: null
12 info lifecycle robson-callcentre@0.1.0~build: Failed to exec build script
13 verbose stack Error: robson-callcentre@0.1.0 build: `nexe server.js --build`
13 verbose stack Exit status 1
13 verbose stack     at EventEmitter.&lt;anonymous&gt; (/usr/local/lib/node_modules/npm/node_modules/npm-lifecycle/index.js:332:16)
13 verbose stack     at EventEmitter.emit (events.js:321:20)
13 verbose stack     at ChildProcess.&lt;anonymous&gt; (/usr/local/lib/node_modules/npm/node_modules/npm-lifecycle/lib/spawn.js:55:14)
13 verbose stack     at ChildProcess.emit (events.js:321:20)
13 verbose stack     at maybeClose (internal/child_process.js:1026:16)
13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:286:5)
14 verbose pkgid robson-callcentre@0.1.0
15 verbose cwd /Users/darryllrobinson/Documents/projects/Source/fonebookeohcollections/server
16 verbose Darwin 19.4.0
17 verbose argv ""/usr/local/lib/node_modules/node/bin/node"" ""/usr/local/bin/npm"" ""run"" ""build""
18 verbose node v13.8.0
19 verbose npm  v6.14.4
20 error code ELIFECYCLE
21 error errno 1
22 error robson-callcentre@0.1.0 build: `nexe server.js --build`
22 error Exit status 1
23 error Failed at the robson-callcentre@0.1.0 build script.
23 error This is probably not a problem with npm. There is likely additional logging output above.
24 verbose exit [ 1, true ]

</code></pre>
",<node.js><express><npm><compiler-errors><nexe>,0.0,0,0,1
32237,31709,61691212,1,61691294,11766857,1.0,0.0,0.0,0.0,2020-05-09T02:57:56.280,6.0,22938.0,"NodeJS and Express: ""Error: self signed certificate""","<p>I'm a beginner in NodeJS, and I have a very simple Node/Express application that uses PostGreSQL as the database. My ""db.js"" file looks like this:</p>

<pre><code>const { Pool } = require('pg');

module.exports = new Pool({
    user: 'postgres',
    password: 'xxxx',
    host: 'localhost',
    port: 5432,
    database:'gymmanager'
});
</code></pre>

<p>When I was only running locally, everything was working fine, so I decided do deploy the app to Heroku. In order to do so, I've created a .env file with my environment variables for development. Here is the .env file:</p>

<pre><code>NODE_ENV=dev
DB_USER='postgres'
DB_PASS='xxxx'
DB_HOST='localhost'
DB_PORT=5432
DB_DATABASE='gymmanager'
</code></pre>

<p>And I have changed my ""db.js"" file, that now looks like this:</p>

<pre><code>if(process.env.NODE_ENV !== 'dev') {

    const { Client } = require('pg');

    const client = new Client({  
        connectionString: process.env.DATABASE_URL,
        ssl: true
    });

    client.connect();
    module.exports = client;

} else {

    require('dotenv').config();
    const { Pool } = require('pg');

    module.exports = new Pool({
        user: process.env.DB_USER,
        password: process.env.DB_PASS,
        host: process.env.DB_HOST,
        port: process.env.DB_PORT,
        database: process.env.DB_DATABASE,
        rejectUnauthorized: false
    });    
}
</code></pre>

<p>My app was deployed and is running smoothly on Heroku, but now, when I run 'npm start' locally, I get the following Error:</p>

<pre><code>(node:12989) UnhandledPromiseRejectionWarning: Error: self signed certificate
    at TLSSocket.onConnectSecure (_tls_wrap.js:1491:34)
    at TLSSocket.emit (events.js:315:20)
    at TLSSocket._finishInit (_tls_wrap.js:933:8)
    at TLSWrap.ssl.onhandshakedone (_tls_wrap.js:691:12)
</code></pre>

<p>I have tried several solutions...</p>

<p><a href=""https://stackoverflow.com/questions/10888610/ignore-invalid-self-signed-ssl-certificate-in-node-js-with-https-request"">Ignore invalid self-signed ssl certificate in node.js with https.request?</a></p>

<p><a href=""https://stackoverflow.com/questions/45088006/nodejs-error-self-signed-certificate-in-certificate-chain"">nodejs - error self signed certificate in certificate chain</a></p>

<p>But none of them seems to work.
Can anyone help me?</p>

<p>Thanks in advance. :)</p>
",<node.js><postgresql><express><npm>,1.0,0,0,1
32290,31762,61737242,1,0,12149246,2.0,0.0,0.0,0.0,2020-05-11T18:57:31.767,6.0,11155.0,how to increase memory heap in nest.js application ? how to use --max-old-space-size in cli?,"<p>I am working on node.js project with nest.js framework and I had the error ""JavaScript heap out of memory"" 
my question is how to allocate more memory to my app?. Also I found some people say that I should use 
[--max-old-space-size] to allocate memory so I tried to add this option to package.json scripts to have <strong>""start"" : ""nest start --max-old-space-size=4096""</strong>   but it didn't work </p>
",<javascript><node.js><express><nestjs><npm-scripts>,0.0,0,0,1
32338,31810,61785970,1,0,13423900,0.0,5.0,0.0,0.0,2020-05-13T22:25:34.777,0.0,248.0,"How to keep ""Session"" active after restarting NodeJS server?","<p>Since I am using nodemon. After a tiny change on my source code, the server gets restart and I have to login again and again.
Is there any solution to keep the session alive after restarting the server?</p>
",<node.js><express><npm><ejs><nodemon>,0.0,0,0,1
32571,32043,61980173,1,0,1253717,1.0,0.0,0.0,0.0,2020-05-24T00:19:57.617,0.0,75.0,How to share a library in client and server packages,"<p>I am developing a full stack application with expressjs on the server and react on the front end.</p>

<p>Currently my code structure looks like this</p>

<pre><code>project
--client
----src/
----package.json
----tsconfig.json

--server
----src/
----package.json
----tsconfig.json
</code></pre>

<p>I want to create a new library that holds all the common interfaces between client and server into a separate third package. </p>

<p>What is the right way to create this package? I tried using npm link and path references but both times I got errors.</p>
",<reactjs><express><npm>,0.0,0,0,1
32589,32061,61999830,1,62000432,1133919,1.0,4.0,0.0,0.0,2020-05-25T09:46:32.287,0.0,2051.0,Dynamic BaseUrl in ExpressJs,"<p>I'm trying to set the base URL for an Express app on startup.</p>

<p>I can hardcode the base URL and it works just fine:</p>

<pre><code>app.use(""/mybaseurl"", routes);
</code></pre>

<p>However, if I try to use a variable instead which I can export on startup, it fails:</p>

<pre><code>const baseUrl = ""/mybaseurl"";
app.use(baseUrl, routes);
</code></pre>

<p>The above doesn't work.</p>

<p>What am I missing?</p>
",<node.js><express><npm>,0.0,0,0,1
32713,32185,62107315,1,62107990,12301024,2.0,3.0,0.0,0.0,2020-05-30T18:57:39.123,0.0,5421.0,"How do I fix a node server error, npm ERR! code ELIFECYCLE npm ERR! errno 1?","<blockquote>
  <p>npm ERR! code ELIFECYCLE
  npm ERR! errno 1
  npm ERR! node-express@1.0.0 start: <code>node server</code>
  npm ERR! Exit status 1
  npm ERR! 
  npm ERR! Failed at the node-express@1.0.0 start script.
  npm ERR! This is probably not a problem with npm. There is likely additional logging output above.</p>
  
  <p>npm ERR! A complete log of this run can be found in:
  npm ERR!     /Users/teevee/.npm/_logs/2020-05-30T18_42_30_526Z-debug.log</p>
</blockquote>

<p>I haven't had any issues until I had to add routes for partners and promotions in my project.  I don't know how to debug this type of error in order to make the needed changes. What can possibly be the issue? I'm still learning.  Here is a link: <a href=""https://github.com/TanishaV842/node-express/tree/master/routes"" rel=""nofollow noreferrer"">https://github.com/TanishaV842/node-express/tree/master/routes</a></p>
",<javascript><node.js><express><npm>,0.0,0,0,1
32714,32186,62107595,1,62107886,13536908,3.0,4.0,0.0,0.0,2020-05-30T19:19:21.837,0.0,1036.0,Get data from request npm,"<p>I'm building an app using express js and using request(v-2.88.2) to get data from an api</p>

<pre><code>request(url, function(error, request, body) {
    var data = JSON.parse(body);
});
</code></pre>

<p>I want to use var data in other functions.</p>

<p>Are there any ways to do this?</p>
",<javascript><node.js><express><npm-request>,0.0,0,0,1
32807,32279,62199974,1,62208637,13681029,1.0,1.0,0.0,0.0,2020-06-04T16:47:23.443,0.0,78.0,Installing the Express Application Generator using npm,"<p><strong>unable to install these package using npm: npm install eslint --save-dev  , npm install -g express-generator</strong> 
Both time give same error :**</p>

<pre><code>npm ERR! Unexpected end of JSON input while parsing near '...0.2.13"":{""name"":""mini'
</code></pre>

<p>npm ERR! A complete log of this run can be found in:
npm ERR! /home/user/.npm/_logs/2020-06-04T15_20_40_810Z-debug.log</p>

<p>but while installing another package npm install express  it successfully installed </p>
",<node.js><json><express><npm>,0.0,0,0,1
32808,32280,62201020,1,0,12139448,2.0,7.0,0.0,0.0,2020-06-04T17:48:02.503,0.0,1295.0,"""Error: ValidationError: duration: Cast to Number failed for value \""NaN\"" at path \""duration\""","<p>im trying to update a data from database(mongoodb), but when im trying to check it on Postman, i get this error: 
""Error: ValidationError: duration: Cast to Number failed for value \""NaN\"" at path \""duration\"", date: Cast to date failed for value \""NaN\"" at path \""date\"", username: Path <code>username</code> is required., description: Path <code>description</code> is required.""</p>

<p>This is my route:</p>

<pre><code>const router = require('express').Router();
let Exercise = require('../models/exercise.model');

router.route('/').get((req, res) =&gt;{
Exercise.find()
    .then(exercises =&gt; res.json(exercises))
    .catch(err =&gt; res.status(400).json('Error: ' + err));
});

router.route('/add').post((req, res) =&gt;{
const   username    = req.body.username,
        description = req.body.description,
        duration    = Number(req.body.duration),
        date        = Date.parse(req.body.date);

const newExercise = new Exercise({
    username,
    description,
    duration,
    date,
});

newExercise.save()
    .then(() =&gt; res.json('Exercise added!'))
    .catch(err =&gt; res.status(400).json('Error: ' + err));
});

// See the Information of exercises in the database
router.route('/:id').get((req, res) =&gt;{
Exercise.findById(req.params.id)
    .then(exercises =&gt; res.json(exercises))
    .catch(err =&gt; res.status(400).json('Error: ' + err));
});

// Delete exercises from the database
router.route('/:id').delete((req, res) =&gt;{
Exercise.findByIdAndDelete(req.params.id)
    .then(() =&gt;res.json('Exercise was deleted!'))
    .catch(err =&gt;  res.status(400).json('Error: ' + err));
});

// Update the exercise to the database
router.route('/update/:id').post((req, res) =&gt; {
Exercise.findByIdAndUpdate(req.params.id)
  .then(exercise =&gt; {
    exercise.username = req.body.username;
    exercise.description = req.body.description;
    exercise.duration = Number(req.body.duration);
    exercise.date = Date.parse(req.body.date);
    console.log(typeof(exercise.date));

    exercise.save()
      .then(() =&gt; res.json('Exercise updated!'))
      .catch(err =&gt; res.status(400).json('Error: ' + err));
  })
  .catch(err =&gt; res.status(400).json('Error: ' + err));
 });

 // Export the route
 module.exports = router;
</code></pre>

<p>And this is my Schema:</p>

<pre><code>const mongoose = require('mongoose');

const Schema = mongoose.Schema;

const exerciseSchema = new Schema({
username: {type: String, required: true},
description: {type: String, required: true},
duration: {type: Number, required: true},
date: {type: Date, required: true},
}, {
timestamps: true,
});

const Exercise = mongoose.model('Exercise', exerciseSchema);

module.exports = Exercise;
</code></pre>

<p>Please help me to solve this problem, Thank you</p>
",<javascript><node.js><express><npm><mongoose>,0.0,0,0,1
32849,32321,62229541,1,62229594,13606342,1.0,0.0,0.0,0.0,2020-06-06T09:01:23.647,0.0,30.0,Trying to install express mysql in the directory but not able to do so,"<ul>
<li>I am trying to install express mysql in the directory.</li>
<li>But I am getting the error ""Sorry, name can only contain URL-friendly characters.""</li>
<li>I am not able to understand what I am doing wrong.</li>
<li>Thanks!!!
<a href=""https://i.stack.imgur.com/O7lBl.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/O7lBl.png"" alt=""enter image description here""></a></li>
</ul>
",<linux><express><ubuntu><npm>,0.0,0,0,1
32944,32416,62315376,1,62326434,13724360,1.0,5.0,0.0,0.0,2020-06-11T00:52:16.353,0.0,1815.0,Cannot find module 'js',"<p>After adding a request I've got such error. I tried <em>npm install js</em> and adding <em>var js = require(""js"")</em> in my app.js file, but it didn't help at all. I run an express server on my localhost.</p>

<pre><code>Error: Cannot find module 'js'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:611:15)
    at Function.Module._load (internal/modules/cjs/loader.js:537:25)
    at Module.require (internal/modules/cjs/loader.js:665:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at new View (E:\me\univercity\ais_node\cashdesk\node_modules\express\lib\view.js:81:14)
    at Function.render (E:\me\univercity\ais_node\cashdesk\node_modules\express\lib\application.js:570:12)
    at ServerResponse.render (E:\me\univercity\ais_node\cashdesk\node_modules\express\lib\response.js:1012:7)
    at E:\me\univercity\ais_node\cashdesk\app.js:201:9
    at Layer.handle [as handle_request] (E:\me\univercity\ais_node\cashdesk\node_modules\express\lib\router\layer.js:95:5)
    at next (E:\me\univercity\ais_node\cashdesk\node_modules\express\lib\router\route.js:137:13)
</code></pre>

<p>This is the request I've added</p>

<pre><code>app.get(""/category/:id"", function(req, res){
    var id = parseInt(req.params.id.charAt(1));
    itemsCopy = items.filter(function(el){
        console.log(el);
        return el.category.find(c =&gt; c == id);
    });

    console.log(itemsCopy);
    res.render(""index.js"", {items: itemsCopy});
});
</code></pre>

<p>npm install js didn't help.
Here is my <em>package.json</em></p>

<pre><code>{
  ""name"": ""blog"",
  ""version"": ""1.0.0"",
  ""description"": """",
  ""main"": ""app.js"",
  ""scripts"": {
    ""test"": ""echo \""Error: no test specified\"" &amp;&amp; exit 1""
  },
  ""author"": """",
  ""license"": ""ISC"",
  ""dependencies"": {
    ""body-parser"": ""^1.19.0"",
    ""ejs"": ""^3.1.3"",
    ""express"": ""^4.17.1"",
    ""js"": ""^0.1.0""
  }
}
</code></pre>

<p>It seems that the problem in those js functions <em>filter</em> and <em>find</em>, but I have no idea how to make them understandable for Node.</p>

<p><strong>UPDATE:</strong>
It is how items look like. I need to filter them by category. I want to show only those ones, who have filtering value in field <em>category</em>.</p>

<pre><code>items = [
    {
        name: ""Lorem"",
        price: 16,
        descr: ""This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer."",
        warranity: true,
        warranity_length: 6,
        warranity_rules: ""Do not put under water"",
        category: [0]
    },
    {
        name: ""ipsum"",
        price: 67,
        descr: ""This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer."",
        warranity: true,
        warranity_length: 6,
        category: [0,1]

    }
] 
</code></pre>
",<javascript><node.js><express><npm-install>,1.0,0,0,1
33031,32503,62379889,1,0,13511608,1.0,0.0,0.0,0.0,2020-06-15T01:02:02.457,0.0,268.0,postman is not rendering my HTML pages i write in express,"<p>im trying to link my HTML page with my express app and preview it through postman , but postman doesnt show my HTML content , i just get blank page , but when i just test using res.get(""this is an example"")it works perfectly fine and shows my text plus i have no errors in my code , anyone can help me identifying what the problem could be ? <a href=""https://i.stack.imgur.com/Ftchu.jpg"" rel=""nofollow noreferrer"">in here i tried pretty tab and as you can see no preview</a></p>

<p><a href=""https://i.stack.imgur.com/efI75.jpg"" rel=""nofollow noreferrer"">and in here i tried preview tab and still nothing</a></p>

<p><a href=""https://i.stack.imgur.com/KdY9Z.jpg"" rel=""nofollow noreferrer"">visualize as well doesnt show any content</a></p>

<p>and this is my code for the express app:</p>

<pre><code>var express = require('express');
var app = express();

app.get(""/"", function(req,res){
res.render(""home.ejs"");
});

app.listen(3000, function(){
console.log(""server is listening!"");
});
</code></pre>

<p>and i have a code as well in my home.ejs and this is it :</p>

<pre><code>&lt;h1&gt;This is the home page&lt;/h1&gt;
</code></pre>
",<node.js><express><npm><postman><ejs>,0.0,0,0,1
33041,32513,62392440,1,0,2908112,1.0,0.0,0.0,0.0,2020-06-15T16:13:56.007,1.0,270.0,How to package server side JavaScript for Node,"<p>I have been using webpack to build a server side app using express. This code is harder to debug since I don't have the immediate comfort of a web browser and if I use something like VS Code to debug, it won't accept breakpoints inside request handlers when using source maps. Besides it takes no time to compile if I just stick to Node compatible JS and skip all transpiling and whatnot. Further, if I use treeshaking, I can reduce the size, but what is the point of that when it is running on the server (no client will ever download it).</p>

<p>My point is that I don't see why one would want to create a bundle of server side code if the server don't have any issues with memory or other limiting factors. It's easier to read, takes no time to compile and is easier to debug.</p>

<p>So a question. Is it ok to have the server app as an npm package and deploy that? Is that what is common or what do people do?</p>
",<node.js><express><npm><webpack><tree-shaking>,0.0,1,0,1
33128,32600,62486097,1,62496956,10012446,2.0,0.0,0.0,0.0,2020-06-20T12:57:04.520,0.0,34.0,Why is it that I can't use react and express library from global space(installed via npm i -g pkgName) but I can use react-scripts from global space,"<p>Is there something I do not know, I guess there's something that prevents this import though I we can access other global installed modules from anywhere like jest, live-server, react-scripts, http-server, etc. Any help in this area is appreciated.</p>
",<reactjs><express><npm>,0.0,0,0,1
33136,32608,62491030,1,62491146,8565551,2.0,5.0,0.0,0.0,2020-06-20T20:01:49.503,0.0,126.0,Running http module in express route - NodeJS,"<p>I want to render some HTML text within my express route. I know one of the options is using the npm-needle module but I was unsure if we there is any way to use npm-express and npm-http within the same route defined.</p>
<p>What I want is something like:</p>
<pre><code>var http = require(&quot;http&quot;);
var express = require(&quot;express&quot;);
var app = express();

app.get(&quot;/&quot;, function (req, res) {
  var params = req.params;
  var url = req.query[&quot;url&quot;];
  let handleRequest = (request, response) =&gt; {
    response.writeHead(200, {
      &quot;Content-Type&quot;: &quot;text/plain&quot;,
    });
    response.write(&quot;Hi There! &quot; + url);
    response.end();
  };
});
app.listen(5000);
//http.createServer(handleRequest).listen(8000); ---&gt; not using this in the code
</code></pre>
<p>Is something of this type possible? Thanks!</p>
",<node.js><express><http><npm><needle.js>,0.0,0,0,1
33166,32638,62514304,1,0,10299192,0.0,2.0,0.0,0.0,2020-06-22T12:19:18.067,0.0,150.0,npm not installing ExpressJS but installs other packs,"<p><strong>however npm works fine when installing other packages like react or nodemon, but <code>npm install express</code> returns the error below:</strong></p>
<pre><code>npm WARN registry Unexpected warning for http://registry.npmjs.org/: Miscellaneous Warning ENODATA: Cache input stream was empty
npm WARN registry Using stale data from http://registry.npmjs.org/ due to a request error during revalidation.
npm ERR! code EINTEGRITY
npm ERR! errno EINTEGRITY
npm ERR! Invalid response body while trying to fetch http://registry.npmjs.org/express: Integrity verification failed for sha512-IlDTZ/IQdocau79XvXdhI1aadp4XE5TKSPeXqNVHSvWHJJaKN78uBdK+aE+G728z3ZxJBUPLFZgSnBLzwXr5fQ== (/home/thisissahand/.npm/_cacache/content-v2/sha512/22/50/d367f21076871abbbf57bd776123569a769e171394ca48f797a8d5474af58724968a37bf2e05d2be684f86ef6f33dd9c490543cb1598129c12f3c17af97d)

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/thisissahand/.npm/_logs/2020-06-22T12_01_05_922Z-debug.log
</code></pre>
<p><strong>By the way, the project name isn't express or anything similar and my OS is ubuntu 18.04</strong></p>
<p>Thanks</p>
",<node.js><express><npm>,0.0,0,0,1
33282,32754,62620729,1,0,13828187,3.0,7.0,0.0,0.0,2020-06-28T09:36:19.850,2.0,4082.0,nodemon is showing restarting the server but not working when doing changes on files,"<p>I am using the <code>nodemon</code> package, but it is not restarting the server. It is only showing &quot;restarting due to changes&quot;. But in youtube videos, I saw that it was showing &quot;server running&quot; status after that.</p>
<p>In my case, that was not showing. It simply shows &quot;restarting due to changes&quot;, my work also does not update when I view it in a browser.</p>
<p>I read lots of related stack overflow questions but none of them helped me ... Installing them locally on my project as devdependent.noting also does not work.</p>
<p>I also tried changing the script tags in the <code>package.json</code> file.</p>
<p>While running, I used <code>nodemon</code>, <code>npm start</code>, <code>nodemon app.js</code>,  <code>nodemon lib/dev-server.js --delay 1</code>, <code>nodemon -L</code>, and many more, but nothing helped.</p>
<p>=================================================================================
edited question:</p>
<p>i am using vs code. trying to run my javascript code with express framework .
i am using git bash terminal. whatever basic hello world code also cannot run with nodemon.
the steps i have followed:
<code>node -v</code> and <code>npm -v</code> is working on my bash terminal.
i have created a basic hello world express app . using <code>npm init</code> <code> npm install express --save</code></p>
<p>i am attaching my github repository of this testApp <a href=""https://github.com/webdevshiv/testApp.git"" rel=""nofollow noreferrer"">https://github.com/webdevshiv/testApp.git</a>
then the main problem is about nodemon..
installing nodemon: <code>npm install nodemon --save-dev</code>,also <code>nodemon install -g</code>
in script tag : <code>&quot;scripts&quot;: { &quot;start&quot;: &quot;node app.js&quot; },</code>
code for running nodemon: <code>nodemon app.js</code>
in my terminal while running this i am getting:
(bash: nodemon: command not found)</p>
<p>but <code>node app.js</code> is working....
then using <code>npx nodemon app.js</code> it was showing-----</p>
<p><code>([nodemon] 2.0.4 [nodemon] to restart at any time, enter</code>rs<code>[nodemon] watching path(s): *.* [nodemon] watching extensions: js,mjs,json [nodemon] starting</code>node app.js<code> Example app listening at http://localhost:3000 [nodemon] restarting due to changes... [nodemon] restarting due to changes... [nodemon] restarting due to changes... [nodemon] restarting due to changes.)</code></p>
<p>you can clearly see on first time it was listening to port but on next times when i do any changes it showing restarting. but not restarting..
before when i am posting this this was the case for using <code>nodemon</code> normally but now <code>nodemon</code> is not working ...</p>
<p>i am attaching my system environment variable path: <code>C:\Program Files\MongoDB\Server\4.2\bin;C:\Program Files\Git\cmd; C:\Program Files\nodejs; C:\Program Files\nodejs\node_modules\npm</code></p>
<p>i am giving link for my vs code screenshots <a href=""https://i.stack.imgur.com/7cslK.jpg"" rel=""nofollow noreferrer"">https://i.stack.imgur.com/7cslK.jpg</a>
<a href=""https://i.stack.imgur.com/HaFOf.jpg"" rel=""nofollow noreferrer"">https://i.stack.imgur.com/HaFOf.jpg</a></p>
",<javascript><express><npm><visual-studio-code><nodemon>,0.0,0,0,1
33339,32811,62665636,1,62665751,10863400,7.0,1.0,0.0,0.0,2020-06-30T20:25:49.663,47.0,23124.0,if (!options.algorithms) throw new Error('algorithms should be set'); Error: algorithms should be set,"<p>I started learning Nodejs and i am stuck somewhere in the middle. I installed a new library from npm  and that was <strong>express-jwt</strong>, its showing some kind of error after running. Attached the code and the logs of the error, please help me out!</p>
<pre><code>const jwt = require('jsonwebtoken');
require('dotenv').config()
const expressJwt =  require('express-jwt');
const User = require('../models/user');




exports.requireSignin =  expressJwt({ secret:  process.env.JWT_SECRET});
</code></pre>
<p>The below thing is  the logs of the error.</p>
<pre><code>[nodemon] starting `node app.js`
D:\shubh\proj\Nodejs\nodeapi\node_modules\express-jwt\lib\index.js:22
  if (!options.algorithms) throw new Error('algorithms should be set');
                           ^

**Error: algorithms should be set**
    at module.exports (D:\shubh\proj\Nodejs\nodeapi\node_modules\express-jwt\lib\index.js:22:34)
    at Object.&lt;anonymous&gt; (D:\shubh\proj\Nodejs\nodeapi\controllers\auth.js:64:26)
    at Module._compile (internal/modules/cjs/loader.js:1138:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1158:10)
 
</code></pre>
",<javascript><node.js><npm><express-jwt>,1.0,0,0,1
33370,32842,62694550,1,62694601,9202001,2.0,0.0,0.0,0.0,2020-07-02T10:44:29.900,0.0,272.0,Issue with body-parser,"<p>my console shows output as <code>undefined</code> even though tried with content type as application/json</p>
<p>app.js</p>
<pre><code>const bodyParser = require('body-parser')
app.use('/posts', postRoute)
app.use(bodyParser.json())
</code></pre>
<p>models</p>
<pre><code>const PostSchema = mongoose.Schema({
    title: {
        type: String,
        required: true
    },
    description: {
        type: String,
        required: true
    },
    date: {
        type: Date,
        default: Date.now
    }
})

module.exports = mongoose.model('Posts', PostSchema)
</code></pre>
<p>routes</p>
<pre><code>router.post('/post', (req, res) =&gt; {

    console.log(req.body) //It displays undefined
})
</code></pre>
<p>Postman
<a href=""https://i.stack.imgur.com/PLLNk.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/PLLNk.png"" alt=""enter image description here"" /></a></p>
<p>Tried to include content type in headers but coudnt display the output</p>
",<node.js><express><npm><body-parser>,0.0,0,0,1
33419,32891,62744895,1,0,13872428,0.0,4.0,0.0,0.0,2020-07-05T18:39:38.937,0.0,287.0,Why I can't start my node/express server?,"<p>Hi I am new to node/express and I am following the express tutorial on mdn (<a href=""https://developer.mozilla.org/en-US/docs/Learn/Server-side/Express_Nodejs/routes"" rel=""nofollow noreferrer"">https://developer.mozilla.org/en-US/docs/Learn/Server-side/Express_Nodejs/routes</a>).  I added the routes and dummy controller functions and was ready to start the server for testing but I am getting the following error:</p>
<pre><code>C:\test-node\libraryapp\express-locallibrary-tutorial&gt;SET DEBUG=express-locallibrary-tutorial:* &amp; npm 
run 
devstart

&gt; express-locallibrary-tutorial@0.0.0 devstart C:\test-node\libraryapp\express-locallibrary-tutorial
&gt; nodemon ./bin/www

[nodemon] 2.0.4
[nodemon] to restart at any time, enter `rs`
[nodemon] watching path(s): *.*
[nodemon] watching extensions: js,mjs,json
[nodemon] starting `node ./bin/www`
C:\test-node\libraryapp\express-locallibrary-tutorial\app.js:16
var mongoDB = mongodb+srv://user:password@cluster0.d7lji.mongodb.net/local_library?
                         ^
retryWrites=true&amp;w=majority;
                     

SyntaxError: Unexpected token ':'
at wrapSafe (internal/modules/cjs/loader.js:1054:16)
at Module._compile (internal/modules/cjs/loader.js:1102:27)
at Object.Module._extensions..js (internal/modules/cjs/loader.js:1158:10)
at Module.load (internal/modules/cjs/loader.js:986:32)
at Function.Module._load (internal/modules/cjs/loader.js:879:14)
at Module.require (internal/modules/cjs/loader.js:1026:19)
at require (internal/modules/cjs/helpers.js:72:18)
at Object.&lt;anonymous&gt; (C:\test-node\libraryapp\express-locallibrary-tutorial\bin\www:7:11)
at Module._compile (internal/modules/cjs/loader.js:1138:30)
at Object.Module._extensions..js (internal/modules/cjs/loader.js:1158:10)
[nodemon] app crashed - waiting for file changes before starting...
</code></pre>
<p>The above message seems to indicate something wrong with the mongoDB URL but i tripled checked it and it looks correct.  I am not sure what the error referring to bin\www is referring to however.  I had ran the server yesterday successfully after adding the models for the database, but after adding the routes and controllers today I am getting this message.  Thanks</p>
",<node.js><mongodb><express><npm>,1.0,0,0,1
33528,33000,62845896,1,0,12145852,1.0,5.0,0.0,0.0,2020-07-11T06:21:09.453,0.0,399.0,Unexpected token C in JSON at position 0,"<p>im new to this so please bear with me! :)</p>
<p>I have found a project on GitHub I want to learn and work on to produce my own solution. It can be found here: <a href=""https://github.com/bradtraversy/chatcord"" rel=""nofollow noreferrer"">https://github.com/bradtraversy/chatcord</a></p>
<p>When I have created the files locally I am trying to run &quot;npm install&quot; as suggested by the author. When I do that i get the following error messages:</p>
<p>npm ERR! Unexpected token C in JSON at position 0 while parsing near
'ChatCord App
npm ERR! Realti...'</p>
<p>Whats wrong?</p>
<p>Thank you very much! Love this place.</p>
",<javascript><express><github><npm><socket.io>,0.0,0,0,1
33545,33017,62859986,1,0,12458945,2.0,0.0,0.0,0.0,2020-07-12T10:34:40.893,5.0,19934.0,Error when install express-generator using npm,"<p>I tried to install express-generator using the command npm install express-generator but I get the following error. I searched in the web and could not find any helpful answers for this.</p>
<pre><code>npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm ERR! Unexpected end of JSON input while parsing near '...DHZShvBYWKIIktsiBUuRD'

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\ASUS\AppData\Roaming\npm-cache\_logs\2020-07-12T10_29_10_754Z-debug.log
</code></pre>
",<node.js><express><npm><npm-install><express-generator>,0.0,0,0,1
33558,33030,62866733,1,62875408,9099077,5.0,1.0,0.0,0.0,2020-07-12T21:41:26.500,0.0,220.0,API call works fine after npm start but crashes at refresh,"<p>There is an API call on <code>http://localhost:9000/testAPI</code>.</p>
<p>In <strong>bin/www</strong>:</p>
<pre><code>var port = normalizePort(process.env.PORT || '9000');
app.set('port', port);
</code></pre>
<p>in <strong>routes/index.js</strong>:</p>
<pre><code>var express = require('express');
var router = express.Router();

/* GET home page. */
router.get('/', function(req, res, next) {
  res.render('index', { title: 'Express' });
});

module.exports = router;
</code></pre>
<p>in <strong>routes/testAPI.js</strong>:</p>
<pre><code>var express = require('express');
var router = express.Router();
var sqlite3 = require('sqlite3').verbose();
var db = new sqlite3.Database('./db/ocs_athletes.db');

router.get('/', function (req, res, next) {
  db.serialize(function () {
    db.all('SELECT athlete_id, name, surname FROM Athlete', function (
      err,
      row
    ) {
     return res.send(row);
    });
  });

  db.close();
});

module.exports = router;
</code></pre>
<p>When the command <code>npm start</code> is run, the API works, going to <code>http://localhost:9000/testAPI</code> shows a JSON containing the data.</p>
<p>The problem appears when the page is refreshed. It says <strong>Page cannot be reached</strong> and in terminal it throws this error:</p>
<pre><code>GET /testAPI 304 20.628 ms - -
undefined:0



Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client
    at ServerResponse.setHeader (_http_outgoing.js:526:11)
    at ServerResponse.header (/home/rares/Documents/Projects/ocsApp/api/node_modules/express/lib/response.js:767:10)
    at ServerResponse.json (/home/rares/Documents/Projects/ocsApp/api/node_modules/express/lib/response.js:264:10)
    at ServerResponse.send (/home/rares/Documents/Projects/ocsApp/api/node_modules/express/lib/response.js:158:21)
    at Statement.&lt;anonymous&gt; (/home/rares/Documents/Projects/ocsApp/api/routes/testAPI.js:12:11)
    at Statement.replacement (/home/rares/Documents/Projects/ocsApp/api/node_modules/sqlite3/lib/trace.js:25:27) {
  code: 'ERR_HTTP_HEADERS_SENT'
}
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! api@0.0.0 start: `node ./bin/www`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the api@0.0.0 start script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
</code></pre>
<p>Is there a way to solve this problem?</p>
",<javascript><node.js><api><express><npm>,1.0,0,0,1
33589,33061,62894297,1,0,10307302,0.0,4.0,0.0,0.0,2020-07-14T11:37:28.670,0.0,178.0,"Why does this error pops up, express not defined?","<pre><code>const express = require(&quot;express&quot;);
const app = express(); 
</code></pre>
<p>This is the code I am trying to run. I am running into this error:</p>
<pre><code>&quot;ReferenceError: express is not defined at Object.&quot;
</code></pre>
<p>I am sure this is the right way to import the package. I am not using it anywhere else in the codebase.</p>
<p>I have tried the following things:</p>
<ol>
<li>Deleting <code>node_modules</code>, <code>package-lock.json</code> and running <code>npm install</code></li>
<li>Tried using <code>yarn</code> inplace of <code>npm</code></li>
</ol>
",<javascript><node.js><express><npm><node-modules>,0.0,0,0,1
33630,33102,62931210,1,0,7178913,1.0,1.0,0.0,0.0,2020-07-16T09:04:53.223,-2.0,192.0,Why I get window is not defined error on NODE JS after I install watermarkJS,"<p>I just install watermarkjs (npm i watermarkjs) and I get error <a href=""https://i.stack.imgur.com/RkvAG.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/RkvAG.png"" alt=""Watermark JS error"" /></a></p>
<p>Does anyone know maybe any other service that I can use with NODEJS and Sharp that can allow me to put watermark on image</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
33649,33121,62946263,1,0,13945523,1.0,0.0,0.0,0.0,2020-07-17T02:38:53.993,8.0,8274.0,verdaccio Error: 413 Payload Too Large - PUT request entity too large,"<p>i was use  Verdaccio which is a lightweight private npm proxy registry built in Node.js</p>
<p>when i publish my code to verdaccio ,it always have a Error:</p>
<p><img src=""https://i.stack.imgur.com/RQzKC.png"" alt=""enter image description here"" /></p>
<p>the logs file key word:
15 notice === Tarball Details ===
16 notice name:          canwin-viewer3d
16 notice version:       1.0.0
16 notice package size:  21.9 MB
16 notice unpacked size: 50.4 MB
16 notice shasum:        63d555be03e0c7a7b6dcdfb662d29c48b21d8c53
16 notice integrity:     sha512-KFz0gTPJusdfV[...]VIeII6rrcv4IA==
16 notice total files:   733
17 notice
18 http fetch PUT 413 http://localhost:4873/canwin-viewer3d 677ms
19 verbose stack Error: 413 Payload Too Large - PUT http://localhost:4873/canwin-viewer3d - request entity too large
19 verbose stack     at C:\Program Files\nodejs\node_modules\npm\node_modules\npm-registry-fetch\check-response.js:104:15
19 verbose stack     at processTicksAndRejections (internal/process/task_queues.js:97:5)
20 verbose statusCode 413
21 verbose pkgid canwin-viewer3d@1.0.0
22 verbose cwd C:\work\viewer3d
23 verbose Windows_NT 10.0.18363
24 verbose argv &quot;C:\Program Files\nodejs\node.exe&quot; &quot;C:\Program Files\nodejs\node_modules\npm\bin\npm-cli.js&quot; &quot;publish&quot;
25 verbose node v13.10.1
26 verbose npm  v6.13.7
27 error code E413</p>
<p>it seems that the PUT Quest PayLoad was Large ,so i try to find the verdaccio config file,but i have nothing ,verdaccio it code maybe use node express to run ,how can i setting  the Put Payload size?</p>
",<node.js><express><npm><verdaccio>,0.0,0,0,1
33690,33162,62981085,1,0,7477670,4.0,0.0,0.0,0.0,2020-07-19T13:44:13.710,6.0,4065.0,Error When Running BrowserSync from Package.json Scripts,"<p>I have set up Browser Sync to work with nodemon and express.  I am <strong>not</strong> using gulp or grunt, but rather running everything through npm scripts in my package.json file.</p>
<p>Now, everything works, but I get an error when running my scripts and would like to know what the error is about and how I can fix it.</p>
<p>First, here is my setup:</p>
<pre><code>{
  &quot;scripts&quot;: {
    &quot;dev&quot;: &quot;npm run development&quot;,
    &quot;dev:css&quot;: &quot;postcss assets/css/style.css -o public/assets/css/style.css&quot;,
    &quot;dev:sync&quot;: &quot;browser-sync start --proxy 'localhost:3000' --files='./views/**/*.html' --no-ui --no-notify&quot;,
    &quot;development&quot;: &quot;cross-env NODE_ENV=development concurrently \&quot;npm:dev:css\&quot; \&quot;nodemon app.js -e js,html\&quot; \&quot;npm:dev:sync\&quot;&quot;,
  },
  &quot;dependencies&quot;: {
    &quot;concurrently&quot;: &quot;^5.2.0&quot;,
    &quot;express&quot;: &quot;^4.17.1&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;browser-sync&quot;: &quot;^2.26.10&quot;,
    &quot;cross-env&quot;: &quot;^7.0.2&quot;
  }
}

</code></pre>
<p>And here is the error message:</p>
<pre><code> YError: Invalid first argument. Expected boolean or string but received function.
[dev:sync]     at argumentTypeError (C:\laragon\www\projects\startup-reporter--node\node_modules\yargs\build\lib\argsert.js:64:11)
[dev:sync]     at C:\laragon\www\projects\startup-reporter--node\node_modules\yargs\build\lib\argsert.js:45:17
[dev:sync]     at Array.forEach (&lt;anonymous&gt;)
[dev:sync]     at Object.argsert (C:\laragon\www\projects\startup-reporter--node\node_modules\yargs\build\lib\argsert.js:38:25)
[dev:sync]     at Object.version (C:\laragon\www\projects\startup-reporter--node\node_modules\yargs\build\lib\yargs.js:796:19)
[dev:sync]     at runFromCli (C:\laragon\www\projects\startup-reporter--node\node_modules\browser-sync\dist\bin.js:46:10)
[dev:sync]     at Object.&lt;anonymous&gt; (C:\laragon\www\projects\startup-reporter--node\node_modules\browser-sync\dist\bin.js:38:5)
[dev:sync]     at Module._compile (internal/modules/cjs/loader.js:776:30)
[dev:sync]     at Object.Module._extensions..js (internal/modules/cjs/loader.js:787:10)
[dev:sync]     at Module.load (internal/modules/cjs/loader.js:643:32)
</code></pre>
<p>Any idea what this message is about and how I can fix it?</p>
<p>Thanks.</p>
",<node.js><express><package.json><browser-sync><npm-scripts>,0.0,0,0,1
33781,33253,63065540,1,0,13420440,0.0,0.0,0.0,0.0,2020-07-24T01:43:29.223,1.0,411.0,npm get-video-duration Error: Could not find ffprobe executable,"<p>this package does'nt work and this error appear anyone know why</p>
<pre><code> Error: Could not find ffprobe executable, tried
 &quot;C:\Users\amgad\Desktop\upload-videos\node_modules\@ffprobe-installer\win32-x64\ffprobe.exe&quot;
 and &quot;C:\Users\amgad\Desktop\upload-videos\node_modules\@ffprobe-installer\ffprobe\node_modules
\@ffprobe-installer\win32-x64\ffprobe.exe&quot; 
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
33814,33286,63096038,1,0,13759695,0.0,2.0,0.0,0.0,2020-07-26T04:15:42.293,0.0,119.0,"How to solve NPM ejs-mate - Error: Failed to lookup view ""error"" in views directory","<p>package.json</p>
<pre><code>&quot;dependencies&quot;: {
&quot;body-parser&quot;: &quot;^1.19.0&quot;,
&quot;connect-flash&quot;: &quot;^0.1.1&quot;,
&quot;consign&quot;: &quot;^0.1.6&quot;,
&quot;dotenv&quot;: &quot;^8.2.0&quot;,
&quot;ejs&quot;: &quot;^2.4.1&quot;,
&quot;ejs-mate&quot;: &quot;^3.0.0&quot;,
&quot;express&quot;: &quot;^4.17.1&quot;,
&quot;express-session&quot;: &quot;^1.17.1&quot;,
&quot;mongoose&quot;: &quot;^5.9.25&quot;,
&quot;passport&quot;: &quot;^0.4.1&quot;,
&quot;passport-local&quot;: &quot;^1.0.0&quot;,
&quot;passport-local-mongoose&quot;: &quot;^6.0.1&quot;
}
</code></pre>
<p>app.js</p>
<pre><code>app.use(bodyParser.urlencoded({ extended: true }));

app.use(session({
secret: 'vw9CGbidDQuqJgq',
resave: false,
saveUninitialized: false
}));

app.engine('ejs', engine);
app.set('views', __dirname + '/views');
app.set('view engine', 'ejs');

app.use(express.static(__dirname + '/public'));
app.use(flash());

consign().include('routes').into(app);
</code></pre>
<p>auth.js</p>
<pre><code>module.exports = function(app){

app.use(passport.initialize());
app.use(passport.session());

passport.use(new LocalStrategy(User.authenticate()));
passport.serializeUser(User.serializeUser());
passport.deserializeUser(User.deserializeUser());

app.route('/')
.get((req, res) =&gt; {
    res.render(&quot;index&quot;, { message: req.flash() }); 
})
.post(passport.authenticate(&quot;local&quot;, {
    successRedirect: &quot;/users&quot;,
    failureRedirect: &quot;/&quot;,
    failureFlash: &quot;Username or Password invalid&quot;
}));
</code></pre>
<p>index.ejs</p>
<pre><code>&lt;% layout('base-login') -%&gt;
&lt;div class=&quot;logo-login&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;panel&quot;&gt;
&lt;div class=&quot;panel-body box-login&quot;&gt;
    &lt;h3 class=&quot;title-login&quot;&gt;Login&lt;/h3&gt;
    &lt;% if(message.success) { %&gt;
        &lt;div class=&quot;alert alert-success&quot;&gt;&lt;%= message.success %&gt;&lt;/div&gt;
    &lt;% } %&gt;
    ...
</code></pre>
<p>I suspect the problem is when loading ejs-mate.
I would like to continue using it in order to better adjust the default layout.
This error appears only at the terminal, the rest works normal.
I tried in many ways to get around this error, but I couldn't.</p>
",<node.js><express><npm>,0.0,0,0,1
33890,33362,63152698,1,0,11272449,1.0,1.0,0.0,0.0,2020-07-29T11:34:31.727,1.0,1663.0,What is the difference the npm packages @types/express and express,"<p>I am trying to build node server, I am confused whether to use @types/express or express.</p>
<p>This is my server that I want to build</p>
<pre><code>'use strict';
const express = require('express');
const http = require('http');
const path = require('path');
const genuid = require(&quot;gen-uid&quot;);
const morgan = require('morgan');
const morganBody = require('morgan-body');
const bodyParser = require('body-parser');
const moment = require('moment');
const routes = require('./server/index.route');
//const config = require('./server/config/config') ;
const app = express();
morgan.token('user', (req, res) =&gt; {
  if (req.user) {
    return req.user.id;
  } else {
    return &quot;Guest&quot;;
  }
});
morgan.token('timestamp', (req, res) =&gt; {
  return moment().format();
});
morgan.token('token', (req, res) =&gt; {
  if (!req.requestId) {
    req.requestId = &quot;[&quot; + genuid.token(true).substr(0, 8) + &quot;]&quot;;
  }
  return req.requestId;
});

app.use(morgan(':token :timestamp :method HTTP/:http-version :user-agent :url :user :remote-addr ', {
  immediate: true
}));

app.use(morgan(':token :timestamp :method HTTP/:http-version :user-agent :url :user :remote-addr :status :response-time'));
app.use(bodyParser.json({ limit: '50mb' }));
morganBody(app);
app.use(bodyParser.urlencoded({ extended : false }));

app.use(express.static(path.join(__dirname, '/dist')));

const logRequestStart = (req, res, next) =&gt; {
  //console.info(`${req.requestId} ${req.method} ${req.originalUrl}`);
  console.info(`${req.requestId} ${JSON.stringify(req.body)}`); 
  res.on('finish', () =&gt; {
      //console.info(`${req.requestId} ${res.statusCode} ${res.statusMessage}; ${res.get('Content-Length') || 0}b sent`);
      //console.log(res.body); 
  })
  next()
}

app.use(logRequestStart);


let port = 4440;

function onError(error) {
  if (error.syscall !== 'listen') {
    throw error;
  }

  var bind = typeof port === 'string'?'Pipe ' + port:'Port ' + port;

  switch (error.code) {
    case 'EACCES':
      console.error(bind + ' requires elevated privileges');
      process.exit(1);
      break;
    case 'EADDRINUSE':
      console.error(bind + ' is already in use');
      process.exit(1);
      break;
    default:
      throw error;
  }
}

function onListening() {
  var addr = server.address();
  var bind = typeof addr === 'string'?'pipe ' + addr: 'port ' + addr.port;
  console.log('Listening on ' + bind);
}


let server;
server = http.createServer(app);



app.set('port', port);
app.set('view engine', 'ejs');


server.on('error', onError);
server.on('listening', onListening);

server.listen(port);
routes(app);
module.exports = app;

</code></pre>
",<javascript><node.js><express><npm>,0.0,0,0,1
33901,33373,63160850,1,0,12226506,1.0,0.0,0.0,0.0,2020-07-29T19:11:56.527,0.0,72.0,React project not autoloading after npm start,"<p>I have a local copy of a react project and project still loads with npm start however I have to manually type in localhost:/8080.</p>
<p>1.Before It would automatically load up a webpage
2. Before it would automatically reload page when I made changes and saved.</p>
<p>The project still works but it is annoying to have to manually restart and make new build to see changes.  What happened?</p>
",<reactjs><express><npm>,0.0,0,0,1
33931,33403,63189497,1,63189857,11328938,2.0,0.0,0.0,0.0,2020-07-31T09:48:57.083,0.0,936.0,error starting npm: node_modules not present in root directory of web app,"<p>so I'm just starting to learn how to create a node.js web app and I have both node and npm installed already but for some reason I can't run <code>npm start</code> in my website directory after running <code>npm init</code>.</p>
<p>Checked other questions related to this and none of the answers worked for me so far.</p>
<p>kindly see the error message below.</p>
<pre><code>&gt; portfolio@1.0.0 start /Users/macintosh/Documents/Portfolio
&gt; node server.js

internal/modules/cjs/loader.js:968
  throw err;
  ^

Error: Cannot find module 'express'
Require stack:
- /Users/macintosh/Documents/Portfolio/server.js
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:965:15)
    at Function.Module._load (internal/modules/cjs/loader.js:841:27)
    at Module.require (internal/modules/cjs/loader.js:1025:19)
    at require (internal/modules/cjs/helpers.js:72:18)
    at Object.&lt;anonymous&gt; (/Users/macintosh/Documents/Portfolio/server.js:2:15)
    at Module._compile (internal/modules/cjs/loader.js:1137:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1157:10)
    at Module.load (internal/modules/cjs/loader.js:985:32)
    at Function.Module._load (internal/modules/cjs/loader.js:878:14)
    at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:71:12) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [ '/Users/macintosh/Documents/Portfolio/server.js' ]
}
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! portfolio@1.0.0 start: `node server.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the portfolio@1.0.0 start script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /Users/macintosh/.npm/_logs/2020-07-31T09_30_20_392Z-debug.log
</code></pre>
<p>this is the log file below.</p>
<pre><code>0 info it worked if it ends with ok
1 verbose cli [ '/usr/local/bin/node', '/usr/local/bin/npm', 'start' ]
2 info using npm@6.14.6
3 info using node@v12.18.3
4 verbose run-script [ 'prestart', 'start', 'poststart' ]
5 info lifecycle portfolio@1.0.0~prestart: portfolio@1.0.0
6 info lifecycle portfolio@1.0.0~start: portfolio@1.0.0
7 verbose lifecycle portfolio@1.0.0~start: unsafe-perm in lifecycle true
8 verbose lifecycle portfolio@1.0.0~start: PATH: /usr/local/lib/node_modules/npm/node_modules/npm-lifecycle/node-gyp-bin:/Users/macintosh/Documents/Portfolio/node_modules/.bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/Apple/usr/bin
9 verbose lifecycle portfolio@1.0.0~start: CWD: /Users/macintosh/Documents/Portfolio
10 silly lifecycle portfolio@1.0.0~start: Args: [ '-c', 'node server.js' ]
11 silly lifecycle portfolio@1.0.0~start: Returned: code: 1  signal: null
12 info lifecycle portfolio@1.0.0~start: Failed to exec start script
13 verbose stack Error: portfolio@1.0.0 start: node server.js
13 verbose stack Exit status 1
13 verbose stack     at EventEmitter.&lt;anonymous&gt; (/usr/local/lib/node_modules/npm/node_modules/npm-lifecycle/index.js:332:16)
13 verbose stack     at EventEmitter.emit (events.js:315:20)
13 verbose stack     at ChildProcess.&lt;anonymous&gt; (/usr/local/lib/node_modules/npm/node_modules/npm-lifecycle/lib/spawn.js:55:14)
13 verbose stack     at ChildProcess.emit (events.js:315:20)
13 verbose stack     at maybeClose (internal/child_process.js:1021:16)
13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:286:5)
14 verbose pkgid portfolio@1.0.0
15 verbose cwd /Users/macintosh/Documents/Portfolio
16 verbose Darwin 19.6.0
17 verbose argv &quot;/usr/local/bin/node&quot; &quot;/usr/local/bin/npm&quot; &quot;start&quot;
18 verbose node v12.18.3
19 verbose npm  v6.14.6
20 error code ELIFECYCLE
21 error errno 1
22 error portfolio@1.0.0 start: node server.js
22 error Exit status 1
23 error Failed at the portfolio@1.0.0 start script.
23 error This is probably not a problem with npm. There is likely additional logging output above.
24 verbose exit [ 1, true ]

</code></pre>
",<node.js><express><npm>,0.0,0,0,1
34002,33474,63247838,1,0,11085284,0.0,8.0,0.0,0.0,2020-08-04T13:22:13.090,0.0,92.0,Integrated SQL-Server in NodeJS Application,"<p>is it possible to integrate a sql-server (don't really care what sql-server(mssql,mysql, mongodb, oracledb)) into a nodejs application?</p>
<p>so when i start the nodejs app it starts the integrated sql server which i then can use.</p>
<p>something like this(pseudocode):</p>
<pre class=""lang-js prettyprint-override""><code>const sqlServer = require('embedded-sql-server');
var sqlserverInstance = sqlServer('rootUser', 'rootPassword'); // startup with root username+password
sqlserverInstance.setup({
dataStore: './sql-storage/', /* where to store files */
encoding: 'utf8mb4'}); // setup default tables
sqlserverInstance.start();

sqlserverInstance.database['AccountsAndUsers'].query('SELECT * FROM userAccounts', (result, err) =&gt; {});

</code></pre>
<p>does something like this exist? or would this even be a good idea to think about or just garbage?</p>
<p>( got the idea from Microsoft Azure <em>MySQL in App</em> )</p>
",<node.js><sql-server><express><npm>,0.0,0,0,1
34167,33639,63390234,1,0,8303793,2.0,0.0,0.0,0.0,2020-08-13T07:32:54.667,2.0,298.0,Has expressValidator changed in nodejs?,"<p>This is a nodejs file
The code takes in email name and other things validates it and stores it in the database. Now as far as i know we can use app.use(expressValidator()) but here the definition has changed and its a little confusing</p>
<pre><code>const express =require(&quot;express&quot;)
const bodyParser = require(&quot;body-parser&quot;)
const path = require('path')
const expressValidator = require('express-validator')
const mongojs = require('mongojs')
const db = mongojs('studentdata', ['users'])


const app = express()

const Port = 3000

//view engine
app.set('view engine','ejs')
app.set('views',path.join(__dirname,'views'))

//middleware bodyParser
app.use(bodyParser.json())
app.use(bodyParser.urlencoded({extended:false}))

app.use(express.static(path.join(__dirname,'public')))


app.use( (req,res,next) =&gt; {
    res.locals.errors = null;
    next()
})

app.use(expressValidator({
    errorFormatter: function(param, msg, value) {
        var namespace = param.split('.')
        , root    = namespace.shift()
        , formParam = root;
  
      while(namespace.length) {
        formParam += '[' + namespace.shift() + ']';
      }
      return {
        param : formParam,
        msg   : msg,
        value : value
      };
    }
  }));
  
const users = []


app.get('/', (req,res) =&gt; {
    db.users.find( (err,docs) =&gt; {
        res.render(&quot;index&quot;, {
            title:'Students',
            users: docs
        })
    })
   
})

app.post('/users/add', (req,res) =&gt; {
    req.checkBody('first_name','First Name is Required').notEmpty()
    req.checkBody('last_name','last Name is Required').notEmpty()
    req.checkBody('email','email is Required').notEmpty()
    req.checkBody('d_o_b','Date of birth is Required').notEmpty()

    var errors = req.validationErrors()

    if(errors){
        res.render(&quot;index&quot;, {
            title:'Students',
            users: users,
            errors: errors
    
        })

    }else{
        var newUser = {
            email : req.body.email,
            first_name : req.body.first_name,
            last_name : req.body.last_name,
            d_o_b :req.body.d_o_b
        }
        db.users.insert(newUser, (err,result) =&gt; {
            if(err){
                console.log(err)
            }
            res.redirect('/')
        })

    }
        
      
    } )


app.listen(Port, () =&gt; {
    console.log('Server conned on '+Port)
})
</code></pre>
<p>I am confused on with this part of the code</p>
<pre><code>app.use(expressValidator({
    errorFormatter: function(param, msg, value) {
        var namespace = param.split('.')
        , root    = namespace.shift()
        , formParam = root;
  
      while(namespace.length) {
        formParam += '[' + namespace.shift() + ']';
      }
      return {
        param : formParam,
        msg   : msg,
        value : value
      };
    }
  }));

</code></pre>
<p>I searched the internet and I was unable to understand the parameters of this expressValidators.
And also is there a documentation of this expressValidator?</p>
",<javascript><node.js><express><npm><express-validator>,0.0,0,0,1
34214,33686,63435627,1,0,14095407,0.0,2.0,0.0,0.0,2020-08-16T10:14:14.617,0.0,45.0,how to resolve this error while installing express in node.js?,"<p>C:\Users\MOM\Desktop\projects\See You&gt;npm install --save express</p>
<p>npm ERR! Unexpected end of JSON input while parsing near '...&quot;:{&quot;eslint&quot;:&quot;5.12.1&quot;,'</p>
<p>npm ERR! A complete log of this run can be found in:</p>
<p>npm ERR!     C:\Users\MOM\AppData\Roaming\npm-cache_logs\2020-08-16T10_08_46_594Z-debug.log</p>
<p>*the above-mentioned code was the error I'm getting please help me, guys.</p>
",<node.js><express><npm><visual-studio-code>,0.0,0,0,1
34226,33698,63444805,1,0,12271960,1.0,2.0,0.0,0.0,2020-08-17T05:02:11.343,1.0,27.0,-bash: ... command not found npm,"<p>I’m getting that message after installing <code>express</code> globally.</p>
<p>I went through most of the solutions related to the /.bash_profile file and about exporting the correct PATH, but it still nothing works.</p>
<p>I tried this solution <a href=""https://superuser.com/a/1081802"">https://superuser.com/a/1081802</a> and it worked on the terminal, but when I close it and tried to execute the command <code>express</code>  followed by the file I wanted to use, it ended up showing the same message.</p>
<p>Please help!</p>
",<express><global><npm-install>,0.0,0,0,1
34322,33794,63530052,1,0,14145405,0.0,2.0,0.0,0.0,2020-08-21T21:05:18.947,0.0,447.0,Missing dependencies when installing the Tedious Node.js package,"<p>I am trying to create an API using Node.js, Express, Tedious, and MSSQL Server. When I run the command 'npm install tedious' everything seems to run fine and install. But if I run try and run the program using 'node server.js' I get an  error saying that I am missing some dependencies. If I use the command 'npm list' I can see the missing dependencies, here is some of the output from 'npm list':</p>
<pre><code>npm ERR! extraneous: ms@2.1.1 C:\node\demo\node_modules\send\node_modules\ms
npm ERR! missing: @azure/ms-rest-nodeauth@2.0.2, required by tedious@9.1.0
npm ERR! missing: @js-joda/core@2.0.0, required by tedious@9.1.0
npm ERR! missing: @azure/ms-rest-azure-env@1.1.2, required by @azure/ms-rest-nodeauth@2.0.2
npm ERR! missing: @azure/ms-rest-js@1.8.15, required by @azure/ms-rest-nodeauth@2.0.2
npm ERR! missing: @types/tunnel@0.0.0, required by @azure/ms-rest-js@1.8.15
npm ERR! missing: @types/node@14.6.0, required by @types/tunnel@0.0.0
npm ERR! extraneous: debug@3.1.0 C:\node\demo\node_modules\follow-redirects\node_modules\debug
npm ERR! missing: @types/node@8.10.62, required by adal-node@0.1.28
npm ERR! extraneous: @types/node@8.10.62 C:\node\demo\node_modules\adal-node\node_modules\@types\node    
npm ERR! extraneous: form-data@2.3.3 C:\node\demo\node_modules\request\node_modules\form-data
npm ERR! extraneous: qs@6.5.2 C:\node\demo\node_modules\request\node_modules\qs
npm ERR! extraneous: safe-buffer@5.2.1 C:\node\demo\node_modules\string_decoder\node_modules\safe-buffer 
npm ERR! extraneous: depd@2.0.0 C:\node\demo\node_modules\tedious\node_modules\depd
npm ERR! extraneous: iconv-lite@0.5.2 C:\node\demo\node_modules\tedious\node_modules\iconv-lite
</code></pre>
<p>All I have done in the environment is install express and tedious using npm, the SQL server was already installed on my machine when I started. I have never ran into this problem with npm before, usually the install command is enough to get it to work properly. I have tried using the node package 'npm-install-missing' but that didn't seem to work. Any help resolving this would be greatly appreciated.</p>
",<node.js><express><npm><tedious>,0.0,0,0,1
34461,33933,63655025,1,0,14190344,0.0,0.0,0.0,0.0,2020-08-30T07:28:06.867,1.0,84.0,Unable to verify leaf signature npm,"<pre><code>const express = require('express');
const https = require('https');                       
const app = express();


app.get(&quot;/&quot; , function(req, res) {
  const url = &quot;https://api.openweathermap.org/data/2.5/weather?q=Bhubaneswar&amp;appid=5b1ee8df0720f3eca886c9ca1cb03385&amp;units=metric&quot;;

  https.get(url, function(request, response){
    console.log(response);
  });

  res.send(&quot;Server is up &amp; running&quot;);
});

app.listen(5000, function() {
  console.log(&quot;Server is running at port 5000&quot;);
});
</code></pre>
<p>[Nodemon app getting crashed][1]
[1]: https://i.stack.imgur.com/rka1M.jpg</p>
<p>When ever am running the nodemon, error is arising as UNABLE_TO_VERIFY_LEAF_SIGNATURE. Even tried several ways provided bu Stack Overflow &amp; GitHub. Still none of them worked out.</p>
",<javascript><express><npm>,0.0,0,0,1
34463,33935,63655699,1,63655792,14038160,1.0,1.0,0.0,0.0,2020-08-30T08:56:50.450,0.0,26.0,"I created a blockchain api and ran it, I verified it in postman and it's working fine but while parsing the body its giving me numerous errors","<p><a href=""https://i.stack.imgur.com/MqNjF.png"" rel=""nofollow noreferrer"">This image is of the api.js file I've created.</a></p>
<p><a href=""https://i.stack.imgur.com/rFCLL.png"" rel=""nofollow noreferrer"">In Postman i am providing body part</a></p>
<p><a href=""https://i.stack.imgur.com/lPToh.png"" rel=""nofollow noreferrer"">Then everything is printed in console but even I change console.log to res.send its giving me same error</a></p>
",<json><express><npm>,0.0,0,0,1
34486,33958,63675617,1,0,13037132,0.0,2.0,0.0,0.0,2020-08-31T17:40:02.933,0.0,299.0,Error in running 'npm install' after creating an express app,"<p>I ran: <code>npm install npm install -g express-generator</code>
-&gt;  <code>express &lt;name&gt;</code> -&gt; <code>npm install</code> which gave me this error:</p>
<pre><code>npm WARN deprecated jade@1.11.0: Jade has been renamed to pug, please install the latest version of pug instead of jade
npm WARN deprecated transformers@2.1.0: Deprecated, use jstransformer
npm WARN deprecated constantinople@3.0.2: Please update to at least constantinople 3.1.1
npm ERR! code EPERM
npm ERR! syscall rename
npm ERR! path &lt;path&gt;
npm ERR! dest &lt;path&gt;
npm ERR! errno -4048
npm ERR! Error: EPERM: operation not permitted, rename '&lt;path&gt;' -&gt; '&lt;path&gt;'
npm ERR!  [OperationalError: EPERM: operation not permitted, rename '&lt;path&gt;' -&gt; '&lt;path&gt;'] {
npm ERR!   cause: [Error: EPERM: operation not permitted, rename '&lt;path&gt;' -&gt; '&lt;path&gt;'] {
npm ERR!     errno: -4048,
npm ERR!     code: 'EPERM',
npm ERR!     syscall: 'rename',
npm ERR!     path: '&lt;path&gt;',
npm ERR!     dest: '&lt;path&gt;'
npm ERR!   },
npm ERR!   errno: -4048,
npm ERR!   code: 'EPERM',
npm ERR!   syscall: 'rename',
npm ERR!   dest: '&lt;path&gt;',
npm ERR!   parent: '&lt;name&gt;'
npm ERR! }
npm ERR!
npm ERR! It's possible that the file was already in use (by a text editor or antivirus),
npm ERR! or that you lack permissions to access it.
npm ERR!
npm ERR! If you believe this might be a permissions issue, please double-check the
npm ERR! permissions of the file and its containing directories, or try running
npm ERR! the command again as root/Administrator.
</code></pre>
<p>package-lock.json has been created. Is this an error to worry about? If yes how to solve this issue? I did <code>npm install pug --save</code> which too gave me <code>4 vulnerabilities (3 low, 1 critical)</code>
. But when I created an express app using express name, it scaffold out a views folder with files such as: 'error.jade', etc. Now after installing 'pug', do I need to change something else in my files too, since those initial codes were default in the app created by latest express-generator?</p>
",<node.js><express><npm>,0.0,0,0,1
34492,33964,63680457,1,0,14199846,1.0,0.0,0.0,0.0,2020-09-01T02:21:54.983,-1.0,60.0,Unable to run the front end of an application developed using reactjs,"<p>I opened an existing project through visual studio code. Front end of that following system has been developed using &quot;React&quot;. Now i have problem in how to run that and see its interfaces.
(I dont use any html files)</p>
<p>I did these two command in command prompt:
npm install
npm start</p>
<p>after npm start command instead of running the app in the browser, i got some errors.
the below error occurred.</p>
<pre><code>0 info it worked if it ends with ok
1 verbose cli [
1 verbose cli   'C:\\Program Files\\nodejs\\node.exe',
1 verbose cli   'C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js',
1 verbose cli   'start'
1 verbose cli ]
2 info using npm@6.14.5
3 info using node@v14.5.0
4 verbose run-script [ 'prestart', 'start', 'poststart' ]
5 info lifecycle front-end@0.1.0~prestart: front-end@0.1.0
6 info lifecycle front-end@0.1.0~start: front-end@0.1.0
7 verbose lifecycle front-end@0.1.0~start: unsafe-perm in lifecycle true
8 verbose lifecycle front-end@0.1.0~start: PATH: C:\Program Files\nodejs\node_modules\npm\node_modules\npm-lifecycle\node-gyp-bin;F:\Upulka\SLIIT_Campus\Year_2\2nd_Semester\ITP_Project\WijesingheJewellers_system\RW-Jewellery-Automated-System-React-SpringBoot\itp-project\front-end\node_modules\.bin;C:\Program Files\Java\jdk1.8.0_181\bin;C:\Program Files\nodejs\;C:\Program Files\Git\cmd;;C:\Users\NAYOMI\AppData\Local\Programs\Microsoft VS Code\bin;C:\Users\NAYOMI\AppData\Roaming\npm
9 verbose lifecycle front-end@0.1.0~start: CWD: F:\Upulka\SLIIT_Campus\Year_2\2nd_Semester\ITP_Project\WijesingheJewellers_system\RW-Jewellery-Automated-System-React-SpringBoot\itp-project\front-end
10 silly lifecycle front-end@0.1.0~start: Args: [ '/d /s /c', 'react-scripts start' ]
11 silly lifecycle front-end@0.1.0~start: Returned: code: 1  signal: null
12 info lifecycle front-end@0.1.0~start: Failed to exec start script
13 verbose stack Error: front-end@0.1.0 start: `react-scripts start`
13 verbose stack Exit status 1
13 verbose stack     at EventEmitter.&lt;anonymous&gt; (C:\Program Files\nodejs\node_modules\npm\node_modules\npm-lifecycle\index.js:332:16)
13 verbose stack     at EventEmitter.emit (events.js:314:20)
13 verbose stack     at ChildProcess.&lt;anonymous&gt; (C:\Program Files\nodejs\node_modules\npm\node_modules\npm-lifecycle\lib\spawn.js:55:14)
13 verbose stack     at ChildProcess.emit (events.js:314:20)
13 verbose stack     at maybeClose (internal/child_process.js:1051:16)
13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:287:5)
14 verbose pkgid front-end@0.1.0
15 verbose cwd F:\Upulka\SLIIT_Campus\Year_2\2nd_Semester\ITP_Project\WijesingheJewellers_system\RW-Jewellery-Automated-System-React-SpringBoot\itp-project\front-end
16 verbose Windows_NT 6.3.9600
17 verbose argv &quot;C:\\Program Files\\nodejs\\node.exe&quot; &quot;C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js&quot; &quot;start&quot;

18 verbose node v14.5.0
19 verbose npm  v6.14.5
20 error code ELIFECYCLE
21 error errno 1
22 error front-end@0.1.0 start: `react-scripts start`
22 error Exit status 1
23 error Failed at the front-end@0.1.0 start script.
23 error This is probably not a problem with npm. There is likely additional logging output above.
24 verbose exit [ 1, true ]
</code></pre>
",<node.js><reactjs><angular><express><npm>,0.0,0,0,1
34539,34011,63720762,1,0,9018573,0.0,7.0,0.0,0.0,2020-09-03T09:31:44.553,3.0,148.0,How do i start my express server from the root folder package.json?,"<p>I have a repo with the following format:</p>
<pre><code>-&gt; /
   -&gt; client/
   -&gt; server/
      -&gt; package.json
      -&gt; index.js
   -&gt; package.json
</code></pre>
<p>In the package.json of the root folder, I have a start script as the following:</p>
<pre><code>&quot;start&quot;: &quot;node server/index.js&quot;
</code></pre>
<p>In the package.json under the server folder, I have a start script as the following:</p>
<pre><code>&quot;start&quot;: &quot;nodemon --exec node index.js&quot;
</code></pre>
<p>When I cd into the server folder and run the start command, nothing breaks. But the moment i run the
start command from the root level package.json, i get the following error:</p>
<pre><code>internal/fs/utils.js:425
    throw new ERR_INVALID_ARG_TYPE(propName, ['string', 'Buffer', 'URL'], path);
    ^

TypeError [ERR_INVALID_ARG_TYPE]: The &quot;path&quot; argument must be one of type string, Buffer, or URL. Received type undefined
    at Object.openSync (fs.js:446:3)
    at Object.readFileSync (fs.js:354:35)
    at Object.&lt;anonymous&gt; (I:\datum_mui\server\index.js:131:13)
    at Module._compile (internal/modules/cjs/loader.js:759:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:770:10)
    at Module.load (internal/modules/cjs/loader.js:628:32)
    at Function.Module._load (internal/modules/cjs/loader.js:555:12)
    at Function.Module.runMain (internal/modules/cjs/loader.js:824:10)
    at internal/main/run_main_module.js:17:11
npm ERR! code ELIFECYCLE
npm ERR! errno 1
</code></pre>
<p>I am not sure what is causing this. could someone enlighten me about what is happening behind the scenes?</p>
<p><em><strong>EDIT</strong></em></p>
<p>I have narrowed down the error to my index.js</p>
<pre><code> if (nodeEnv === 'local'){
  app.listen(getPort(nodeEnv));
} else{
  https.createServer({
    key: fs.readFileSync(getKeyFilePath(nodeEnv)),
    cert: fs.readFileSync(getCertFilePath(nodeEnv))
  }, app).listen(getPort(nodeEnv));
}
</code></pre>
<p>Turns out that the methods <code>getKeyFilePath()</code> and <code>getCertFilePath()</code> returns null and that causes the fs module to trip.</p>
<p>I automatically assume that because there is an if-else statement, I will never encounter such an issue. But it turns out that i will.</p>
<p>Strange though as it works normally when I am in the server folder but when I am outside the server folder this error crops up.</p>
",<javascript><reactjs><express><npm-scripts><npm-start>,1.0,0,0,1
34581,34053,63755471,1,0,10275879,2.0,1.0,0.0,0.0,2020-09-05T15:16:47.627,0.0,679.0,How to change PORT number and run serve forever?,"<p>I'm building an app with create-react-app and I'm serving the production version via serve. I would like to run it on port 80 and run it forever even after I log out of the terminal.</p>
",<node.js><express><npm><create-react-app><serve>,0.0,0,1,1
34928,34400,64109095,1,64109568,14245269,1.0,2.0,0.0,0.0,2020-09-28T20:21:10.833,0.0,750.0,How can I allow users download files using node js,"<p>I am creating a website for my school and I want to allow the students to be able to download files (pdfs)
using node js. So basically, they would see a bunch of different links and when they click any link the downloading would start.</p>
",<node.js><express><npm><download>,0.0,0,0,1
34934,34406,64114141,1,64114358,13398682,1.0,0.0,0.0,0.0,2020-09-29T06:37:03.477,1.0,1348.0,How to generate and download pdf with dynamic image path from database using any npm packages,"<p>I'm building a software using express-mongodb-ejs. I've tried some of the npm packages to generate and download pdf. But, I cant generate pdf which having the dynamic image path.</p>
<p>I've used html-pdf package, which seems pretty good. But, It can't render the dynamic image path from database.
<a href=""https://i.stack.imgur.com/Io1Jg.png"" rel=""nofollow noreferrer"">Here is the screenshot where I used the html-pdf package.</a></p>
<p><a href=""https://stackoverflow.com/questions/64105166/image-is-not-rendering-from-dynamic-image-path-while-using-express-html-pdf-pack"">Here is the detailed problem link where I asked about this package related question.</a></p>
<p>Can anyone provide me any detailed solution regarding the problem? Any npm package should be fine as long as it can help me to download pdf using express.</p>
",<node.js><mongodb><express><pdf><npm>,0.0,0,0,1
34966,34438,64146863,1,0,11886531,2.0,0.0,0.0,0.0,2020-09-30T22:56:40.780,1.0,2952.0,how can i import package from node_modules when use express node js,"<p><strong>when import a package this error appear:</strong></p>
<blockquote>
<p>Uncaught TypeError: Failed to resolve module specifier &quot;axios&quot;.
Relative references must start with either &quot;/&quot;, &quot;./&quot;, or &quot;../&quot;.</p>
</blockquote>
<p><strong>and when add <strong>&quot; ./ &quot; , &quot; ../ &quot;</strong> this error appear</strong></p>
<blockquote>
<p>GET http://localhost:8080/js/axios net:: ERR_ABORTED 404 (Not Found)</p>
</blockquote>
<p>package.json</p>
<pre><code>{
  &quot;type&quot;: &quot;module&quot;,
  &quot;name&quot;: &quot;fives&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;game&quot;,
  &quot;main&quot;: &quot;app.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,
    &quot;start&quot;: &quot;node ./app.js&quot;
  },
  &quot;author&quot;: &quot;ayah alrifai&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;devDependencies&quot;: {
    &quot;babel-cli&quot;: &quot;^6.26.0&quot;,
    &quot;babel-preset-es2015&quot;: &quot;^6.0.15&quot;,
    &quot;rimraf&quot;: &quot;^3.0.2&quot;
  },
  &quot;dependencies&quot;: {
    &quot;axios&quot;: &quot;^0.19.2&quot;,
    &quot;express&quot;: &quot;^4.17.1&quot;,
    &quot;socket.io&quot;: &quot;^2.3.0&quot;,
    &quot;socket.io-client&quot;: &quot;^2.3.0&quot;
  }
}
</code></pre>
<p>app.js</p>
<pre><code>import http from &quot;http&quot;;
import express from &quot;express&quot;;
import io from &quot;socket.io-client&quot;;
import path from 'path';

const app=express();
const port=&quot;8080&quot;;

app.use('/image', express.static('./public/img'));
app.use('/css', express.static('./public/css'));
app.use('/js', express.static('./js'));

app.get('/wait', (req, res)=&gt; {
    res.sendFile(path.join(path.resolve()+'/html/await.html'));
});

app.get('/play', (req, res)=&gt; {
    res.sendFile(path.join(path.resolve()+'/html/play.html'));
});

app.listen(port);
</code></pre>
<p>wait.js</p>
<pre><code>import {getWaitedPlayers,createUser,deleteUser,isSelected,action} from &quot;./fivesApi.js&quot;;
//code
</code></pre>
<p>fivesApi.js</p>
<pre><code>import axios from &quot;axios&quot;;
//code
</code></pre>
<p>tree</p>
<pre><code>.
├── html
│   ├── wait.html
│   └── play.html
├── app.js
├── js
│   ├── wait.js
│   ├── fivesApi.js
│   └── play.js
├── node_modules
├── package.json
├── package-lock.json
└── public
    ├── css
    │   └── fives.css
    └── img
        ├── 2.png
        ├── 5.png
        └── ayah.png
</code></pre>
",<javascript><node.js><express><npm><import>,0.0,0,0,1
34972,34444,64152776,1,0,2529159,0.0,0.0,0.0,0.0,2020-10-01T09:42:12.687,1.0,57.0,How to send SMS using routee.net in express app for authentication of phone no,"<p>Is there any NPM package available for using services of routee.net</p>
",<node.js><express><npm>,0.0,0,0,1
34997,34469,64172339,1,0,12175464,2.0,0.0,0.0,0.0,2020-10-02T13:23:46.273,0.0,1101.0,Mongo-express | Patch file found for package mongodb-query-parser,"<p>I am trying to get rid of the following error message.</p>
<pre><code>patch-package 6.2.2
Applying patches...
Error: Patch file found for package mongodb-query-parser which is not present at node_modules/mongodb-query-parser
</code></pre>
<p>This message appears when I try to install mongo-express. Locally this is no problem, because <code>npm install</code> keeps progressing after the error message.</p>
<p>But when I try to run it on gitlab-pipeline it exits the job.</p>
<p>Is there any workaround?</p>
",<gitlab-ci><npm-install><mongo-express>,0.0,0,0,1
35066,34538,64243031,1,0,5562674,0.0,7.0,0.0,0.0,2020-10-07T11:25:05.883,1.0,159.0,can't install node express on windows 10,"<p>I am trying to set up a node express development environment on windows 10. I have successfully installed node.js and npm but when I try to install express using:</p>
<pre><code>npm init
npm install express
</code></pre>
<p>I get the following error:</p>
<pre><code>npm WARN myapp@1.0.0 No description
npm WARN myapp@1.0.0 No repository field.

npm ERR! code ENOENT
npm ERR! syscall rename
npm ERR! path C:\Users\mi292519\Dropbox\selfLearning\nodeJs\myapp\node_modules\bytes
npm ERR! dest C:\Users\mi292519\Dropbox\selfLearning\nodeJs\myapp\node_modules\.bytes.DELETE
npm ERR! errno -4058
npm ERR! enoent ENOENT: no such file or directory, rename 'C:\Users\mi292519\Dropbox\selfLearning\nodeJs\myapp\node_modules\bytes' -&gt; 'C:\Users\mi292519\Dropbox\selfLearning\nodeJs\myapp\node_modules\.bytes.DELETE'
npm ERR! enoent This is related to npm not being able to find a file.
npm ERR! enoent

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\mi292519\AppData\Roaming\npm-cache\_logs\2020-10-07T11_17_07_099Z-debug.log

</code></pre>
<p>I tried removing node_modules and package.json also tried deleting npm-cache and npm install again but none of that worked</p>
<p>any help would be appreciated</p>
<p>Thanks!</p>
",<node.js><express><npm><web-frameworks>,0.0,0,0,1
35149,34621,64331634,1,64331954,5939067,1.0,0.0,0.0,0.0,2020-10-13T08:38:53.767,1.0,454.0,What are the differences between the processes run by npm command:,"<p>Recently I made a simple API server using node.js+express. And the script below is a part of my package.json file I use to run with npm commands.</p>
<pre><code>&quot;scripts&quot;: {
  ...
  &quot;release&quot;: &quot;cross-env NODE_ENV=production MODE=release node server/app.js&quot;,
}
</code></pre>
<p>After I starts the server with <em><strong>npm run release</strong></em>, I can see multiple processes such as below are running on my Linux server.</p>
<pre><code>/bin/sh /api/node_modules/.bin/cross-env NODE_ENV=development MODE=test node server/app.js
node /api/node_modules/.bin/../cross-env/bin/cross-env.js NODE_ENV=development MODE=test node server/app.js
node server/app.js
</code></pre>
<p>I read a related documentation <a href=""https://docs.npmjs.com/cli-commands/run-script.html"" rel=""nofollow noreferrer"">here</a>, but I don't understand what actually happens in background.</p>
<ol>
<li>What is the order of creating processes? npm =&gt; /bin/sh =&gt; node /api/.. =&gt; node server/app.js ?</li>
<li>What does each process do? All three processes are necessary to run my server?</li>
<li>If I wants to kill the server with pid, which process id should I use?</li>
</ol>
",<node.js><express><npm><npm-run>,0.0,0,0,1
35180,34652,64366178,1,0,5698411,0.0,3.0,0.0,0.0,2020-10-15T06:44:16.967,0.0,475.0,I am getting 403 error while running npm login command?,"<p>Getting error after running npm login command.
I have set no_proxy, proxy and registry. But when i am hitting npm login command its asking for username and password and email and after entering its throwing 403 error.</p>
<pre><code>npm ERR! E403
npm ERR!registry returned 403
</code></pre>
<p>In log file error is :
http 403 &lt;- Forbidden  <a href=""http://registry.npmjs.org/-/v1/login/"" rel=""nofollow noreferrer"">http://registry.npmjs.org/-/v1/login/</a></p>
",<node.js><express><npm><npm-install>,0.0,0,0,1
35234,34706,64424386,1,64424527,7933031,1.0,2.0,0.0,0.0,2020-10-19T09:15:17.690,0.0,73.0,Unable to display the data in Javascript,"<p>This is my code:</p>
<pre><code>if(data.error) {
        msg1.textContent=data.error
}
else {
        msg1.textContent=data.location
        msg2.textContent=data.forecast
        console.log(data.forecast)            
}
})
</code></pre>
<p>However, I'm not getting output for <code>msg2</code>. It displays <code>[object Object]</code>. But the same when used with <code>console.log(data.forecast)</code> displays the below:</p>
<p><a href=""https://i.stack.imgur.com/ivjv3.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ivjv3.png"" alt=""enter image description here"" /></a></p>
<p>How can I display the values in <code>data[0]</code> ie. partly cloudy</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
35253,34725,64448504,1,0,11707999,4.0,2.0,0.0,0.0,2020-10-20T15:34:26.127,3.0,17192.0,"npm ERR! network request to http://registry.npmjs.org/express failed, reason: connect ETIMEDOUT","<p>when i trying to install express or any npm packeges getting this type of error(without proxy)(node -v 10.14.2)(npm -v 6.4.1)</p>
<pre><code>npm ERR! code ETIMEDOUT
npm ERR! errno ETIMEDOUT
npm ERR! network request to http://registry.npmjs.org/express/express failed, reason: connect ETIMEDOUT 104.16.21.35:80
npm ERR! network This is a problem related to network connectivity.
npm ERR! network In most cases you are behind a proxy or have bad network settings.
npm ERR! network
npm ERR! network If you are behind a proxy, please make sure that the
npm ERR! network 'proxy' config is set properly.  See: 'npm help config'

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\ankit\AppData\Roaming\npm-cache\_logs\2020-10-20T15_26_19_314Z-debug.log
</code></pre>
<p>please help me, thank you in advance.</p>
",<node.js><express><npm>,0.0,0,0,1
35342,34814,64526949,1,0,7537454,1.0,0.0,0.0,0.0,2020-10-25T17:54:37.060,0.0,706.0,Is it possible to start nodemon and browser-sync with one npm script in an Express app?,"<p>In my Express app I use <code>nodemon</code> and <code>browser-sync</code> together. I have those npm scripts in my <code>package.json</code> :</p>
<pre><code>  &quot;scripts&quot;: {
    &quot;start&quot;: &quot;node  ./bin/www&quot;,
    &quot;start:nodemon&quot;: &quot;nodemon ./bin/www&quot;,
    &quot;start:debug&quot;: &quot;SET DEBUG=img:* &amp; npm run start:nodemon&quot;,
    &quot;start:browser-sync&quot;: &quot; browser-sync start --proxy 'localhost:3000' --files 'public,views'&quot;,
    &quot;test&quot;: &quot;npm run start:debug &amp; npm run start:browser-sync&quot;
  }
</code></pre>
<p>Currently, I open two <code>cmd</code> windows and in the first one I run <code>start:debug</code>, and in the other one I run <code>start:browser-sync</code> . Everything works just fine.</p>
<p>I thought I could combine those scripts and run them as it is done in my <code>test</code> script, however, it doesn't work that way. It looks like it starts <code>nodemon</code> and ignores <code>browser-sync</code>.  So, can I start those two scripts somehow together with one npm script, or it is technically impossible and I have to run two <code>cmds</code> for it to work?  Thank you.</p>
",<javascript><express><browser-sync><nodemon><npm-scripts>,0.0,0,0,1
35373,34845,64551771,1,0,14099849,0.0,1.0,0.0,0.0,2020-10-27T09:45:16.483,1.0,469.0,I tried to install express generator but I am getting this error,"<pre class=""lang-none prettyprint-override""><code>$ npm install -g express-generator

npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 10 packages, and audited 10 packages in 5s

3 low severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
</code></pre>
",<javascript><node.js><express><npm-install>,0.0,0,0,1
35517,34989,64681535,1,64749209,13924757,1.0,0.0,0.0,0.0,2020-11-04T14:02:41.857,0.0,368.0,Why Typeorm does always fail when trying to insert to 2 tables and Math.random() returns always same number?,"<p>So i have following code:</p>
<pre class=""lang-js prettyprint-override""><code>import { getRepository } from &quot;typeorm&quot;;
import { NextFunction, Request, Response } from &quot;express&quot;;
import { Users } from &quot;../entity/Users&quot;;
import { Verify } from &quot;../entity/Verify&quot;;
import { VerifyController } from &quot;./VerifyController&quot;;

export class UserController {

    private userRepository = getRepository(Users);
    private verifyRepository = getRepository(Verify);

    // async all(request: Request, response: Response, next: NextFunction) {
    //     return this.userRepository.find();
    // }

    // async one(request: Request, response: Response, next: NextFunction) {
    //     var user = await this.userRepository.findOne(request.params.id);
    //     if(user) {
    //         return user;
    //     }
    //     return {Error: &quot;Couldn't find user&quot;};
    // }

    // async save(request: Request, response: Response, next: NextFunction) {
    //     return this.userRepository.save(request.body);
    // }

    // async remove(request: Request, response: Response, next: NextFunction) {
    //     let userToRemove = await this.userRepository.findOne(request.params.id);
    //     await this.userRepository.remove(userToRemove);
    // }

    async register(request: Request, response: Response, next: NextFunction) {
        var body = request.body;
        var isUsername = await this.userRepository.count({username: body.username});
        if(isUsername &gt; 0) {
            return {Status: &quot;ERROR&quot;, ERR: &quot;Username already exists!&quot;}
        }
        var isEmail = await this.userRepository.count({email: body.email});
        if(isEmail &gt; 0) {
            return {Status: &quot;ERROR&quot;, ERR: &quot;Email already exists!&quot;}
        }
        var loop = true;
        var UserID = this.generate(10);
        while(loop) {
            var isUserID = await this.userRepository.count({userID: UserID});
            if(isUserID &gt; 0) {
                UserID = this.generate(10);
            } else {
                loop = false;
            }
        }
        body.userID = UserID;
        this.userRepository.save(body);
        var tomorrow = new Date();
        tomorrow.setDate(tomorrow.getDate() + 1);
        var verifyID = this.generate(20);
        loop = true;
        while(loop) {
            var verifyCount = await this.verifyRepository.count({verify_id: verifyID});
            if(verifyCount &gt; 0) {
                loop = false;
            } else {
                verifyCount = this.generate(20);
            }
        }
        this.verifyRepository.save({account_id: body.userID, verify_id: verifyID, validUntil: tomorrow });
        return {Status: &quot;OK&quot;, UserID: body.userID};
    }

    async nameCheck(request: Request, response: Response, next: NextFunction) {
        var isUsername = await this.userRepository.count({username: request.body.name});
        if(isUsername &gt; 0) {
            return {Status: &quot;ERROR&quot;};
        }
        return {Status: &quot;OK&quot;};
    }

    generate(n) {
        var rN = &quot;&quot;;
        while(n &gt; 0) {
            rN += Math.floor(Math.random() * 10).toString();     // returns a random integer from 0 to 9
            n--;  
        }
        return parseInt(rN);
    }


}
</code></pre>
<p>This is a function inside a TypeORM Controller. I've started with the default express template from <a href=""https://github.com/typeorm/typeorm"" rel=""nofollow noreferrer"">TypeORM</a> and added this function. I commented the other functions out because i dont use the default ones.
Anyway the function that doesn't seem to work as intended is register.
The problems i have with this function are the following:</p>
<ol>
<li>I try to insert into two tables but it just inserts into the first one named &quot;users&quot; and the second one seems to be empty even after multiple atempts.</li>
<li>I use the function &quot;generate&quot; to genrate random user ids of length 10 and 20. But every time i restart my typeorm server and drop the database, the id is the same. Every time. The function always returns &quot;2147483647&quot; but when i try to debug it with console.log() i get a real random number. Also when trying to make a second number with length 20 it returns the same number 2147483647. And i dont know why</li>
</ol>
<p>I realy hope someone could help me.
For better understanding i will also post the entity classes:</p>
<p>Users.ts:</p>
<pre class=""lang-js prettyprint-override""><code>import {Entity, PrimaryGeneratedColumn, Column} from &quot;typeorm&quot;;

@Entity()
export class Users {

    @PrimaryGeneratedColumn()
    id: number;

    @Column()
    username: string;

    @Column()
    userID: number

    @Column()
    email: string;

    @Column()
    firstName: string;

    @Column()
    lastName: string;

    @Column()
    birthday: Date;

    @Column()
    ipAdress: string;

    @Column()
    verified: boolean;
}
</code></pre>
<p>Verify.ts:</p>
<pre class=""lang-js prettyprint-override""><code>import { Col } from &quot;react-bootstrap&quot;;
import {Entity, PrimaryGeneratedColumn, Column} from &quot;typeorm&quot;;

@Entity()
export class Verify {

    @PrimaryGeneratedColumn()
    id: number;

    @Column()
    verify_id: number;

    @Column()
    account_id: number;

    @Column()
    validUntil: Date;
}
</code></pre>
",<node.js><typescript><express><npm><typeorm>,0.0,0,0,1
35593,35065,64753645,1,64788695,11764298,1.0,0.0,0.0,0.0,2020-11-09T14:35:47.233,3.0,1283.0,"Getting ""SyntaxError: Unexpected token '/' in...index.ejs while compiling ejs"" error after updating npm packages","<p>I just updated <code>EJS</code> from <code>2.7.4 to 3.1.5</code> and some other packages in my project. Upon doing it, I can't access any of the webpages but getting an error instead. Apparently all of the pages throws the same error. Besides that I get VS Code errors in some of the code in my ejs template which didn't matter before. I mean the errors were there before I updated all the npm packages and the app worked perfectly fine.</p>
<p>This is the endpoint:</p>
<pre><code>router.get(&quot;/&quot;, async (req, res) =&gt; {

    try{
        const url           = `http://api.example.co/?key=${process.env.API_KEY}`;
        const fullData      = await axios.get(url);
        
        res.render(&quot;../views/index&quot;, {data: fullData});
    }catch(err) {
        res.render(&quot;../views/index&quot;, {data: null});
    }
    
});
</code></pre>
<p>This is the error:
<a href=""https://i.stack.imgur.com/DqfIJ.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/DqfIJ.jpg"" alt=""enter image description here"" /></a></p>
<p>This is how I get data in my ejs template:</p>
<pre><code>&lt;% if(data){ %&gt; 
    Name &lt;%= data.name %&gt;        
&lt;% } %&gt;
</code></pre>
<p>This is the code in my script tags in my ejs template which shows red underline:
<a href=""https://i.stack.imgur.com/YjCpZ.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/YjCpZ.jpg"" alt=""enter image description here"" /></a></p>
<pre><code>&lt;script type=&quot;text/javascript&quot; &gt;
    &lt;% if(data) { %&gt;
    var map = L.map('map').setView([&lt;%= data.latitude %&gt;, &lt;%= data.longitude %&gt;], 11);
    var marker = L.marker([&lt;%= data.latitude %&gt;, &lt;%= data.longitude %&gt;]).addTo(map);

    L.tileLayer('https://api.maptiler.com/maps/streets/{z}/{x}/{y}.png?key=boomBoomBoomm', {
    attribution: '&lt;a href=&quot;https://www.maptiler.com/copyright/&quot; target=&quot;_blank&quot;&gt;&amp;copy; MapTiler&lt;/a&gt; &lt;a href=&quot;https://www.openstreetmap.org/copyright&quot; target=&quot;_blank&quot;&gt;&amp;copy; OpenStreetMap contributors&lt;/a&gt;'
}).addTo(map);
    &lt;% } %&gt;
&lt;/script&gt;
</code></pre>
<p>What could be the issue? Am I doing something wrong? Is the update of something clashing with something else? Please help!</p>
",<javascript><node.js><express><npm><ejs>,0.0,0,0,1
35903,35375,65046813,1,65047281,11163977,1.0,1.0,0.0,0.0,2020-11-28T05:47:03.440,1.0,312.0,How to add JWT token authentication to protect routes,"<p>I've added the required code but still I'm getting:</p>
<blockquote>
<p>Cannot GET /api/login</p>
</blockquote>
<p>I'm testing this on Postman as well as directly on browser. However I still haven't fully implemented JWT authentication. But other api end points like <code>api/articles</code>, <code>api/update</code>, <code>api/delete</code> etc are working fine. Here is my code.</p>
<p><strong>server.js</strong></p>
<pre><code>const express = require('express');
const bodyParser = require('body-parser');

const port = (process.env.PORT || 3000);
const app = express();

const api = require('./routes/api');
const cors = require('cors');

app.use(bodyParser.json());
app.use(cors());

app.use('/api', api);
app.get('/', function(req, res) {
    res.send('Server is up and running!');
})

app.listen((3000), function() {
    console.log('Server listening on PORT ' + port)
});
</code></pre>
<p><strong>api.js</strong></p>
<pre><code>...
const jwt = require('jsonwebtoken');

router.post('/login', (req, res) =&gt; {
    const user = {
        id: 1,
        username: 'tanzeel',
        email: 'tanzeel@fakemail.com',
        password: 'fakepassword' 
    }

    jwt.sign({ user }, 'secretKey', (err, token) =&gt; {
        res.json({
            token
        })
    })
})
</code></pre>
<p><strong>package.json</strong></p>
<pre><code>...
&quot;dependencies&quot;: {
    &quot;body-parser&quot;: &quot;^1.19.0&quot;,
    &quot;cors&quot;: &quot;^2.8.5&quot;,
    &quot;express&quot;: &quot;^4.17.1&quot;,
    &quot;jsonwebtoken&quot;: &quot;^8.5.1&quot;,
    &quot;mongoose&quot;: &quot;^5.6.13&quot;,
    &quot;serve&quot;: &quot;^11.3.2&quot;
}
</code></pre>
<p>I've other routes as well but I'm not mentioning here as they are working perfectly and returning the right json response.</p>
<p>Please point out my mistake.</p>
",<node.js><express><npm><jwt>,0.0,0,0,1
35927,35399,65068431,1,65068594,11163977,2.0,9.0,0.0,0.0,2020-11-30T05:17:58.300,0.0,852.0,How to post some json data to a route in api,"<p>I've created a very simple API in NodeJs. Here is the code:</p>
<pre><code>const Post = require('../models/article');
...
router.post('/contribute', (req, res) =&gt; {
    console.log('Pushing new article');
    let userPost = req.body;
    let post = new Post(userPost);
    post.save((error, registeredPost) =&gt; {
        if (error) {
            console.log(error);
        } else {
            res.status(200).send(registeredPost);
        }
    })
})
...
module.exports = router;
</code></pre>
<p>The structure of a Post is this:</p>
<pre><code>const mongoose = require('mongoose');
const Schema = mongoose.Schema;
const articleSchema = new Schema({
    articleid: String,
    title: String,
    content: String,
    date: String,
    contributor: String,
    upvotes: Number,
    upvoters: [String],
    downvotes: Number,
    downvoters: [String]
})
module.exports = mongoose.model('article', articleSchema, 'articles');
</code></pre>
<p>Here is <strong>server.js</strong></p>
<pre><code>const express = require('express');
const bodyParser = require('body-parser');

const app = express();

const api = require('./routes/api');
const cors = require('cors');

app.use(bodyParser.json());
app.use(cors());

app.use('/api', api);
app.get('/', function(req, res) {
    res.send('Server is up and running!');
})

app.listen((3000), function() {
    console.log('Server listening on heroku environment port');
});
</code></pre>
<p>Ideally the data should come from an angular form/template but before pushing the code I wanted to test this on Postman. Here is the screenshot:</p>
<p><a href=""https://i.stack.imgur.com/A4zII.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/A4zII.png"" alt=""enter image description here"" /></a></p>
<p>I'm getting:</p>
<blockquote>
<p>Cannot POST /contribute</p>
</blockquote>
<p>Please point out my mistake.</p>
",<node.js><angular><express><npm><postman>,0.0,0,0,1
36028,35500,65158021,1,65158224,13406093,2.0,1.0,0.0,0.0,2020-12-05T14:31:44.107,0.0,1434.0,Error when displaying something in a port with Express,"<p>I was going through an ExpressJS course and I went to the website and went to the &quot;hello world&quot; section. I copied and pasted the below-given code.</p>
<pre><code>const express = require('express')
const app = express()
const port = 3000

app.get('/', (req, res) =&gt; {
  res.send('Hello World!')
})

app.listen(port, () =&gt; {
  console.log(`Example app listening at http://localhost:${port}`)
})
</code></pre>
<p>Yes exactly that, but when I try to run it with Node it shows the following error</p>
<pre><code>C:\Users\blue fury\my-express-server\app.js:1
��c


SyntaxError: Invalid or unexpected token
    at wrapSafe (internal/modules/cjs/loader.js:979:16)
    at Module._compile (internal/modules/cjs/loader.js:1027:27)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1092:10)
    at Module.load (internal/modules/cjs/loader.js:928:32)
    at Function.Module._load (internal/modules/cjs/loader.js:769:14)
    at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:72:12)
    at internal/main/run_main_module.js:17:47
</code></pre>
<p>I tried searching Google but found only one thread on Github which just says to restart everything (I tried but it did not work)</p>
",<javascript><node.js><express><npm>,1.0,0,0,1
36293,35765,65410450,1,0,14840072,3.0,0.0,0.0,0.0,2020-12-22T14:28:29.703,2.0,5970.0,"Express port is undefined when running with ""node .""","<p>I've been following the tutorial here and it's been fine up until the part where I had to run the server: <a href=""https://www.digitalocean.com/community/tutorials/setting-up-a-node-project-with-typescript"" rel=""nofollow noreferrer"">https://www.digitalocean.com/community/tutorials/setting-up-a-node-project-with-typescript</a></p>
<p>If I try and run the code below I get <code>server is listening on undefined</code></p>
<pre><code>const app = express();
const port = 8080;

app.get(&quot;/&quot;, (req, res) =&gt; {
    res.send(&quot;Hello&quot;);
})

app.listen((port, err) =&gt; {
    if (err) {
        return console.error(err);
    }
    return console.log(`server is listening on ${port}`);
});
</code></pre>
<p>I even tried to set the port beforehand using <code>app.set('port', port);</code></p>
<pre><code>const app = express();
const port = 8080;

app.set('port', port);

app.get(&quot;/&quot;, (req, res) =&gt; {
    res.send(&quot;Hello&quot;);
})

app.listen((port, err) =&gt; {
    if (err) {
        return console.error(err);
    }
    return console.log(`server is listening on ${port}`);
});
</code></pre>
<p>But the same thing happens.</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
36323,35795,65436936,1,0,13324334,5.0,8.0,0.0,0.0,2020-12-24T10:20:46.637,8.0,37638.0,localhost:3000 is not working in the browser,"<p>Backend: Express server, with npx create-express-api backend</p>
<p>Frontend: Next.js, with npx create-react-app frontend</p>
<p>I have implemented these command in my root folder and trying to run npm start xxx to check if they are still working or not. But they are not working in my http://localhost:3000
Though they are working in this link <a href=""http://172.27.178.192:3000"" rel=""noreferrer"">http://172.27.178.192:3000</a> (on my network)
<a href=""https://i.stack.imgur.com/axdOo.png"" rel=""noreferrer"">This is the image showing the problem</a></p>
<p>I have changed browsers and still the same problem is appearing. On the browser it says
Unable to connect
Firefox can’t establish a connection to the server at localhost:3000.</p>
",<javascript><node.js><reactjs><express><npm>,0.0,0,0,1
36349,35821,65455041,1,65535821,11140862,1.0,5.0,0.0,0.0,2020-12-26T09:30:00.350,0.0,187.0,How to use n-readline along with Express - During first request the data is not available,"<p>I'm using <code>n-readline</code> npm package to read text files from the server.<br>
I have a use case, where I had to read at least <strong>300MB</strong> of data from those text files and will be using <code>Redis</code> or <code>Mongoose</code> to save around <strong>40mb</strong> of data to be transferred to the <strong>browser</strong> where I use <code>vue</code> to process that or load data whenever needed.</p>
<p>Now I'm running into a problem where I'm unable to get the results when I call that function for the first time, if I call that again, the function provides me with results.</p>
<pre><code>const express = require('express');
const multer = require('multer');
const fs = require('fs');
const NreadLine = require('n-readline');

const app = express();

var asyncres = [];
var lines = []

const upload = multer({ storage });

async function nreadline(){
    let linenumbers = [];
    var rl = new NreadLine({
        filepath: './uploads/6789765/serverout1.txt',
        limit: 50
    });
    await rl.start();
    await rl.on('line', (line, linenumer) =&gt; {
        linenumbers.push(linenumer);
    });   
    await rl.on('end', () =&gt; {
        console.log('done');
        asyncres = [...linenumbers];
    });
    //This is where I'm expecting the results to be returned
    return asyncres;   
}

function getresults() {
    let ress = nreadline();
    console.log(ress);
    return ress;
}

// Express APIs defined below
app.post('/upload', upload.single('file'), (req, res) =&gt; {
    res.json({ &quot;status&quot;: &quot;success&quot;, file: req.file });
});

// API for multiple form upload
app.post('/multiple', upload.array('files'), (req, res) =&gt; {
    // ticket = req.body.ticket
    res.json({ &quot;status&quot;: &quot;success&quot;, files: req.files });
});

//Get Request for reading the files
app.get('/reader', (req, res) =&gt; {
    let results = getresults();
    res.json({ &quot;status&quot;: results });
});

app.listen(port, () =&gt; { 
    console.log(&quot;running on 3344 port&quot;);
});
</code></pre>
<p>Please Help. I am not sure what I'm doing wrong.</p>
",<javascript><node.js><api><express><npm>,0.0,0,0,1
36530,36002,65597884,1,0,10632570,0.0,6.0,0.0,0.0,2021-01-06T14:44:06.020,0.0,131.0,NPM install bootstrap 4 not working with JS files,"<p>I have installed bootstrap with NPM and got the css to work fine with the following syntax:</p>
<pre><code>//server side 
const path = require('path');
expressApp.use(express.static(path.join(__dirname, '/node_modules/bootstrap/dist/css')));

//client side 
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;bootstrap.css&quot;&gt;
</code></pre>
<p>However, when I try to do the same thing for adding the js from bootstrap 4 I'm not able to success. I have tried the following way:</p>
<pre><code>expressApp.use(express.static(path.join(__dirname, '/node_modules/bootstrap/dist/js')));

&lt;script src=&quot;bootstrap.bundle.js&quot;&gt;&lt;/script&gt;
</code></pre>
<p>Can anyone help me out with this one? Thank you in advance.</p>
",<node.js><express><npm><bootstrap-4>,0.0,0,0,1
36535,36007,65602290,1,0,10569519,3.0,0.0,0.0,0.0,2021-01-06T19:34:15.100,11.0,16217.0,I can't execute npm scripts in node why is this happening and how can i solve it,"<p>I need help fixing this problem I hope this can help and I tried running other commands in my terminal but it did not work 15.5.1</p>
<p>My version of node is the latest one.</p>
<ul>
<li><p>The code says three things</p>
<ul>
<li><p>Commmand failed at ChildProcess. (C:\Program Files\nodejs\node_modules\npm\node_modules@npmcli\promise-spawn\index.js:64:27)</p>
</li>
<li><p>verbose argv &quot;C:\Program Files\nodejs\node.exe&quot; &quot;C:\Program Files\nodejs\node_modules\npm\bin\npm-cli.js&quot; &quot;run-script&quot; &quot;dev&quot;</p>
</li>
<li><p>error command C:\WINDOWS\system32\cmd.exe /d /s /c concurrently &quot;nodemon dist/server.js&quot; tsc -w</p>
</li>
</ul>
</li>
</ul>
<pre><code>
0 verbose cli [
0 verbose cli   'C:\\Program Files\\nodejs\\node.exe',
0 verbose cli   'C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js',
0 verbose cli   'run-script',
0 verbose cli   'dev'
0 verbose cli ]
1 info using npm@7.3.0
2 info using node@v15.5.1
3 timing config:load:defaults Completed in 1ms
4 timing config:load:file:C:\Program Files\nodejs\node_modules\npm\npmrc Completed in 2ms
5 timing config:load:builtin Completed in 2ms
6 timing config:load:cli Completed in 1ms
7 timing config:load:env Completed in 0ms
8 timing config:load:file:C:\Users\louis\Desktop\web-projects\natours\.npmrc Completed in 1ms
9 timing config:load:project Completed in 2ms
10 timing config:load:file:C:\Users\louis\.npmrc Completed in 0ms
11 timing config:load:user Completed in 0ms
12 timing config:load:file:C:\Users\louis\AppData\Roaming\npm\etc\npmrc Completed in 0ms
13 timing config:load:global Completed in 0ms
14 timing config:load:cafile Completed in 0ms
15 timing config:load:validate Completed in 1ms
16 timing config:load:setUserAgent Completed in 0ms
17 timing config:load:setEnvs Completed in 1ms
18 timing config:load Completed in 8ms
19 verbose npm-session 09d944228c5c6035
20 timing npm:load Completed in 18ms
21 timing command:run-script Completed in 464ms
22 verbose stack Error: command failed
22 verbose stack     at ChildProcess.&lt;anonymous&gt; (C:\Program Files\nodejs\node_modules\npm\node_modules\@npmcli\promise-spawn\index.js:64:27)
22 verbose stack     at ChildProcess.emit (node:events:376:20)
22 verbose stack     at maybeClose (node:internal/child_process:1063:16)
22 verbose stack     at Process.ChildProcess._handle.onexit (node:internal/child_process:295:5)
23 verbose pkgid natours@1.0.0
24 verbose cwd C:\Users\louis\Desktop\web-projects\natours
25 verbose Windows_NT 10.0.19041
26 verbose argv &quot;C:\\Program Files\\nodejs\\node.exe&quot; &quot;C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js&quot; &quot;run-script&quot; &quot;dev&quot;
27 verbose node v15.5.1
28 verbose npm  v7.3.0
29 error code 1
30 error path C:\Users\louis\Desktop\web-projects\natours
31 error command failed
32 error command C:\WINDOWS\system32\cmd.exe /d /s /c concurrently &quot;nodemon dist/server.js&quot; tsc -w
33 verbose exit 1



</code></pre>
",<node.js><express><npm>,0.0,0,0,1
36547,36019,65609749,1,0,14957600,1.0,0.0,0.0,0.0,2021-01-07T09:30:46.013,0.0,156.0,How to upload and read large files line by line in ExpressJS?,"<p>I am trying to upload a large file to Express and I am able to read the files object successfully using <code>express-fileupload</code> <em>middleware</em>, like below.</p>
<pre class=""lang-js prettyprint-override""><code>{
  myfile: {
    name: 'somelargefile.txt',
    data: &lt;Buffer /* details truncated */ ... 110075790 more bytes&gt;,
    size: 110075840,
    encoding: '7bit',
    tempFilePath: '',
    truncated: false,
    mimetype: 'text/plain',
    md5: '/* details truncated */',
    mv: [Function: mv]
  }
}
</code></pre>
<p>However, express might take up a <strong>lot of memory</strong> if I save the entire file into the files object. How can I read the file line by line, like using stream, from the request object?</p>
",<javascript><node.js><typescript><express><npm>,0.0,0,0,1
36558,36030,65622126,1,0,8583390,0.0,2.0,0.0,0.0,2021-01-08T01:09:28.300,0.0,155.0,Not sure how to use express-zip to download multiple files as a zip file,"<p>I tried to have a button in the front end and when the button is clicked, multiple files are downloaded. I found the <a href=""https://github.com/thrackle/express-zip"" rel=""nofollow noreferrer""><code>express-js</code></a> package, but it seemed not working for me because no files were downloaded when I used the <code>/download</code> in the front end. Could someone see what did I miss? Thank you!</p>
<pre><code>var app = require('express')();
var zip = require('express-zip');
app.post(&quot;/download&quot;, function (req, res) {
  res.zip(
    [
      {
        path: &quot;/path1&quot;,
        name: &quot;filename1&quot;,
      },
      {
        path: &quot;/path2&quot;,
        name: &quot;filename2&quot;,
      },
    ],
    &quot;test.zip&quot;
  );
  console.log(&quot;finish!&quot;);
});
</code></pre>
",<javascript><express><npm>,0.0,0,0,1
36625,36097,65671390,1,65671604,14985084,1.0,2.0,0.0,0.0,2021-01-11T17:05:44.290,0.0,1172.0,TypeError: Cannot read property 'case sensitive routing' of undefined,"<p>Using node.js nodemon, express, and lib.</p>
<p>OS: Windows 10 Home x64
Node.JS Version: Lts</p>
<p>What I want to accomplish: ExpressJS port running.
What's going wrong: an internal file, but most of the time its one of my code files going wrong (i dont know yet)</p>
<p>Console error:</p>
<pre class=""lang-js prettyprint-override""><code>C:\Users\Aawesome\Documents\Coding\Stripe App\Stripe-Server&gt;npm start

&gt; stripe-server@1.0.0 start C:\Users\Aawesome\Documents\Coding\Stripe App\Stripe-Server
&gt; node lib/index.js

C:\Users\Aawesome\Documents\Coding\Stripe App\Stripe-Server\node_modules\express\lib\application.js:355
    return this.settings[setting];
                        ^

TypeError: Cannot read property 'case sensitive routing' of undefined
    at Object.set (C:\Users\Aawesome\Documents\Coding\Stripe App\Stripe-Server\node_modules\express\lib\application.js:355:25)    
    at Object.enabled (C:\Users\Aawesome\Documents\Coding\Stripe App\Stripe-Server\node_modules\express\lib\application.js:422:23)    at Object.lazyrouter (C:\Users\Aawesome\Documents\Coding\Stripe App\Stripe-Server\node_modules\express\lib\application.js:140:27)
    at Object.use (C:\Users\Aawesome\Documents\Coding\Stripe App\Stripe-Server\node_modules\express\lib\application.js:214:8)     
    at Object.&lt;anonymous&gt; (C:\Users\Aawesome\Documents\Coding\Stripe App\Stripe-Server\lib\api.js:28:23)
    at Module._compile (internal/modules/cjs/loader.js:1138:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1158:10)
    at Module.load (internal/modules/cjs/loader.js:986:32)
    at Function.Module._load (internal/modules/cjs/loader.js:879:14)
    at Module.require (internal/modules/cjs/loader.js:1026:19)
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! stripe-server@1.0.0 start: `node lib/index.js`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the stripe-server@1.0.0 start script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\Aawesome\AppData\Roaming\npm-cache\_logs\2021-01-11T16_57_07_076Z-debug.log

C:\Users\Aawesome\Documents\Coding\Stripe App\Stripe-Server&gt;
</code></pre>
<p>Directory image:</p>
<p><a href=""https://i.stack.imgur.com/il4Nc.png"" rel=""nofollow noreferrer"">(Imugur Image)</a></p>
<p>Package.json:</p>
<pre class=""lang-json prettyprint-override""><code>{
  &quot;name&quot;: &quot;stripe-server&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;build&quot;: &quot;tsc&quot;,
    &quot;start&quot;: &quot;node lib/index.js&quot;,
    &quot;dev&quot;: &quot;concurrently \&quot;tsc -w\&quot; \&quot;nodemon lib/index.js\&quot;&quot;
  },
  &quot;keywords&quot;: [],
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: {
    &quot;cors&quot;: &quot;^2.8.5&quot;,
    &quot;dotenv&quot;: &quot;^8.2.0&quot;,
    &quot;express&quot;: &quot;^4.17.1&quot;,
    &quot;firebase-admin&quot;: &quot;^8.6.0&quot;,
    &quot;stripe&quot;: &quot;^8.43.0&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;@types/express&quot;: &quot;^4.17.6&quot;,
    &quot;@types/cors&quot;: &quot;^2.8.6&quot;,
    &quot;concurrently&quot;: &quot;^5.2.0&quot;,
    &quot;nodemon&quot;: &quot;^2.0.3&quot;,
    &quot;tslint&quot;: &quot;^5.12.0&quot;,
    &quot;typescript&quot;: &quot;^3.2.2&quot;
  }
}

</code></pre>
",<javascript><node.js><express><npm><stripe-payments>,1.0,0,0,1
36642,36114,65685493,1,0,14991345,1.0,1.0,0.0,0.0,2021-01-12T14:01:40.507,-1.0,97.0,"I'm facing a heroku doployment problem, npm start not working","<p>I need your help in some heroku stuff, I'm facing a problem, And my logs in heroku says: npm ERR! Failed at the blog@0.0.0 start script.
• I'm building an express NodeJS app.</p>
<p>Npm start fails, Any help please ?
Thank you so much !!</p>
",<node.js><express><heroku><deployment><npm-start>,0.0,0,0,1
36663,36135,65712161,1,0,8183167,2.0,4.0,0.0,0.0,2021-01-14T01:33:34.443,0.0,2192.0,how to install jsonwebtoken package,"<p><a href=""https://i.stack.imgur.com/XEwsC.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/XEwsC.png"" alt=""1"" /></a></p>
<p>I don't know why <code>jsonwebtoken</code> package is not installing. I installed other packages also like express and other but <code>jsonwebtoken</code> package didn't download. Please tell me the reason</p>
",<node.js><express><npm><jwt>,0.0,0,0,1
36747,36219,65786834,1,66201257,15034962,2.0,1.0,0.0,0.0,2021-01-19T07:05:19.830,1.0,2457.0,"React app won't start on ""npm start"" command - ""process out of memory"" error","<p>I have a React app that I'm trying to start via running <code>npm start</code>. This app currently is part of a Firebase project and using Firebase Cloud Functions as its backend, but previously was using a node server as the backend. When I was using the node server, I had no problems start the app and developing locally by running <code>npm run dev</code> in the node app and <code>npm start</code> in the React app. Somewhere along the way of transitioning from a node app to a Firebase app I am no longer able to start my React app locally, which I want to do to be able to develop locally. Here's the error I get in my console when I try running the command:</p>
<pre><code>
[28951:0x158008000]     4427 ms: Scavenge 66.2 (95.0) -&gt; 56.5 (95.0) MB, 15.8 / 0.0 ms  (average mu = 0.997, current mu = 0.997) allocation failure 


&lt;--- JS stacktrace ---&gt;

FATAL ERROR: wasm code commit Allocation failed - process out of memory
 1: 0x1007ff344 node::Abort() [/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node]
 2: 0x1007ff4c4 node::errors::TryCatchScope::~TryCatchScope() [/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node]
 3: 0x10091eb98 v8::Utils::ReportOOMFailure(v8::internal::Isolate*, char const*, bool) [/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node]
 4: 0x10091eb2c v8::internal::V8::FatalProcessOutOfMemory(v8::internal::Isolate*, char const*, bool) [/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node]
 5: 0x100e572dc v8::internal::wasm::WasmCodeAllocator::AllocateForCodeInRegion(v8::internal::wasm::NativeModule*, unsigned long, v8::base::AddressRegion) [/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node]
 6: 0x100e581b8 v8::internal::wasm::NativeModule::CreateEmptyJumpTableInRegion(unsigned int, v8::base::AddressRegion) [/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node]
 7: 0x100e57680 v8::internal::wasm::NativeModule::AddCodeSpace(v8::base::AddressRegion) [/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node]
 8: 0x100e57ff4 v8::internal::wasm::NativeModule::NativeModule(v8::internal::wasm::WasmEngine*, v8::internal::wasm::WasmFeatures const&amp;, bool, v8::internal::VirtualMemory, std::__1::shared_ptr&lt;v8::internal::wasm::WasmModule const&gt;, std::__1::shared_ptr&lt;v8::internal::Counters&gt;, std::__1::shared_ptr&lt;v8::internal::wasm::NativeModule&gt;*) [/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node]
 9: 0x100e5a234 v8::internal::wasm::WasmCodeManager::NewNativeModule(v8::internal::wasm::WasmEngine*, v8::internal::Isolate*, v8::internal::wasm::WasmFeatures const&amp;, unsigned long, bool, std::__1::shared_ptr&lt;v8::internal::wasm::WasmModule const&gt;) [/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node]
10: 0x100e60b3c v8::internal::wasm::WasmEngine::NewNativeModule(v8::internal::Isolate*, v8::internal::wasm::WasmFeatures const&amp;, unsigned long, bool, std::__1::shared_ptr&lt;v8::internal::wasm::WasmModule const&gt;) [/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node]
11: 0x100e60a84 v8::internal::wasm::WasmEngine::NewNativeModule(v8::internal::Isolate*, v8::internal::wasm::WasmFeatures const&amp;, std::__1::shared_ptr&lt;v8::internal::wasm::WasmModule const&gt;) [/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node]
12: 0x100e39464 v8::internal::wasm::AsyncCompileJob::CreateNativeModule(std::__1::shared_ptr&lt;v8::internal::wasm::WasmModule const&gt;) [/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node]
13: 0x100e42178 v8::internal::wasm::AsyncCompileJob::PrepareAndStartCompile::RunInForeground(v8::internal::wasm::AsyncCompileJob*) [/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node]
14: 0x100e42a08 v8::internal::wasm::AsyncCompileJob::CompileTask::RunInternal() [/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node]
15: 0x10085efa4 node::PerIsolatePlatformData::RunForegroundTask(std::__1::unique_ptr&lt;v8::Task, std::__1::default_delete&lt;v8::Task&gt; &gt;) [/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node]
16: 0x10085dfbc node::PerIsolatePlatformData::FlushForegroundTasksInternal() [/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node]
17: 0x100fb3ac8 uv__async_io [/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node]
18: 0x100fc5688 uv__io_poll [/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node]
19: 0x100fb3f58 uv_run [/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node]
20: 0x10083a8b4 node::NodeMainInstance::Run() [/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node]
21: 0x1007d9604 node::Start(int, char**) [/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node]
22: 0x182718f54 start [/usr/lib/system/libdyld.dylib]
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! personal-site@0.1.0 start: `react-scripts start`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the personal-site@0.1.0 start script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /Users/salinawu/.npm/_logs/2021-01-19T07_02_03_221Z-debug.log
</code></pre>
<p>And here's the contents of the log file:</p>
<pre><code>1 verbose cli [
1 verbose cli   '/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node',
1 verbose cli   '/Users/salinawu/.nvm/versions/node/v12.20.1/bin/npm',
1 verbose cli   'start'
1 verbose cli ]
2 info using npm@6.14.11
3 info using node@v12.20.1
4 verbose run-script [ 'prestart', 'start', 'poststart' ]
5 info lifecycle personal-site-backend@0.1.0~prestart: personal-site-backend@0.1.0
6 info lifecycle personal-site-backend@0.1.0~start: personal-site-backend@0.1.0
7 verbose lifecycle personal-site-backend@0.1.0~start: unsafe-perm in lifecycle true
8 verbose lifecycle personal-site-backend@0.1.0~start: PATH: /Users/salinawu/.nvm/versions/node/v12.20.1/lib/node_modules/npm/node_modules/npm-lifecycle/node-gyp-bin:/Users/salinawu/projects/website/app/node_modules/.bin:/Users/salinawu/Downloads/google-cloud-sdk/bin:/Users/salinawu/.nvm/versions/node/v12.20.1/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin
9 verbose lifecycle personal-site-backend@0.1.0~start: CWD: /Users/salinawu/projects/website/app
10 silly lifecycle personal-site-backend@0.1.0~start: Args: [ '-c', 'react-scripts start' ]
11 silly lifecycle personal-site-backend@0.1.0~start: Returned: code: 1  signal: null
12 info lifecycle personal-site-backend@0.1.0~start: Failed to exec start script
13 verbose stack Error: personal-site-backend@0.1.0 start: `react-scripts start`
13 verbose stack Exit status 1
13 verbose stack     at EventEmitter.&lt;anonymous&gt; (/Users/salinawu/.nvm/versions/node/v12.20.1/lib/node_modules/npm/node_modules/npm-lifecycle/index.js:332:16)
13 verbose stack     at EventEmitter.emit (events.js:314:20)
13 verbose stack     at ChildProcess.&lt;anonymous&gt; (/Users/salinawu/.nvm/versions/node/v12.20.1/lib/node_modules/npm/node_modules/npm-lifecycle/lib/spawn.js:55:14)
13 verbose stack     at ChildProcess.emit (events.js:314:20)
13 verbose stack     at maybeClose (internal/child_process.js:1022:16)
13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:287:5)
14 verbose pkgid personal-site-backend@0.1.0
15 verbose cwd /Users/salinawu/projects/website/app
16 verbose Darwin 20.1.0
17 verbose argv &quot;/Users/salinawu/.nvm/versions/node/v12.20.1/bin/node&quot; &quot;/Users/salinawu/.nvm/versions/node/v12.20.1/bin/npm&quot; &quot;start&quot;
18 verbose node v12.20.1
19 verbose npm  v6.14.11
20 error code ELIFECYCLE
21 error errno 1
22 error personal-site-backend@0.1.0 start: `react-scripts start`
22 error Exit status 1
23 error Failed at the personal-site-backend@0.1.0 start script.
23 error This is probably not a problem with npm. There is likely additional logging output above.
24 verbose exit [ 1, true ]
</code></pre>
<p>I'm really unsure of how to approach this and why it's happening. I've tried deleting my node modules and cache and running <code>npm install</code>, but I get the same thing. Thanks in advance!</p>
",<node.js><reactjs><firebase><express><npm>,0.0,0,0,1
36776,36248,65810344,1,0,10094111,0.0,0.0,0.0,0.0,2021-01-20T13:19:27.000,1.0,513.0,React and Express: TypeError: Cannot read property 'prototype' of undefined,"<p>Good afternoon,</p>
<p>I am trying to integrate this project <a href=""https://github.com/pimterry/pi-cam"" rel=""nofollow noreferrer"">https://github.com/pimterry/pi-cam</a> into a React app on my Raspberry Pi Zero W. This project uses express and express-ws.</p>
<p>But it fails with the following error:</p>
<pre><code>TypeError: Cannot read property 'prototype' of undefined
(anonymous function)
node_modules/express/lib/response.js:42
39 | * @public
40 | */
41 |
&gt; 42 | var res = Object.create(http.ServerResponse.prototype)
</code></pre>
<p>(Full log joined).</p>
<p>Along with a compilation warning:</p>
<pre><code>./node_modules/express/lib/view.js
Critical dependency: the request of a dependency is an expression
</code></pre>
<p>I have node v10 and npm v6, steps to reproduce:</p>
<ul>
<li>Create new app with npm: <code>npm init react-app my-app</code></li>
<li>Move to it: <code>cd my-app</code></li>
<li>Install express modules: <code>npm i express express-ws</code></li>
<li>Add express reference in index.js: <code>const express = require('express')</code></li>
<li>Start the application: <code>npm start</code></li>
<li>The error pops up when connecting to IP_ADDRESS:3000</li>
</ul>
<p>What I tried:</p>
<ul>
<li>If I clone the linked project, then <code>npm install</code> and <code>node index.js</code>, everything works just fine.</li>
<li>I tried copying the package.json references to express and express-ws and then <code>npm install</code> to have the exact same versions in my React app, but still the error shows.</li>
<li>This post <a href=""https://stackoverflow.com/questions/59903475/typeerror-cannot-read-property-prototype-of-undefined-react-express"">TypeError: Cannot read property &#39;prototype&#39; of undefined React Express</a> suggests that updating to node v12 should fix it, as Raspberry Pi Zero W (ARMv6), is no supported by node &gt;= 12, I need to compile it on the Raspberry which takes ages.</li>
</ul>
<p>EDIT: Managed to install with <code> NVM_NODEJS_ORG_MIRROR=https://unofficial-builds.nodejs.org/download/release nvm install 12.20.1</code>
-&gt; Does not solve</p>
<ul>
<li>Tried editing webpack.config.js but without success.</li>
</ul>
<p>EDIT: Tried editing
node_modules/react-scripts/config/webpack.config.js
by adding</p>
<pre class=""lang-js prettyprint-override""><code>      }),
    ].filter(Boolean),
    // Some libraries import Node modules but don't use them in the browser.
    // Tell webpack to provide empty mocks for them so importing them works.
    // in order to ignore built-in modules like path, fs, etc.
    // Here I added
    target: 'node',
    externals: [nodeExternals()],
    // End of modification
    node: {
      module: 'empty',
      dgram: 'empty',
      dns: 'mock',
</code></pre>
<p>The warning disappears, but then nothing show up, as if there was nothing left on the client side, I tried to allow <code>react</code> and <code>react-dom</code> with webpacks but still nothing.</p>
<p>On the other way I removed the extra statements, but added</p>
<pre><code>    node: {
      module: 'empty',
      dgram: 'empty',
      dns: 'mock',
      fs: 'empty',
      http2: 'empty',
      net: 'empty',
      tls: 'empty',
      child_process: 'empty',
      fs: 'empty',
      express: 'empty' // Here
    },
</code></pre>
<p>But the error still shows.</p>
<p>Can somebody please direct me?</p>
<p>Thanks in advance</p>
",<javascript><node.js><reactjs><express><npm>,0.0,0,0,1
36856,36328,65880555,1,65880618,14836942,1.0,1.0,0.0,0.0,2021-01-25T07:29:49.683,7.0,7738.0,How to run the server simultaneously with the client in a nodeJS application using concurently when the files are in different folders,"<p>My project is split into 2 folders
client and server
in the client folder the usual
<code>react-create-app package.json</code>
in sever folder
<code>package.json</code> with trace script</p>
<pre><code>scripts: {
 start: node app.js
server: nodemon app.js
}
</code></pre>
<p>how can I run the script through npm start to run both the backend and the frontend at the same time</p>
<pre><code>client
  -app.js
  -package.json
server
  -app.js
  -package.json
</code></pre>
<p>I found a solution that you can start from the server folder as follows</p>
<pre><code>dev: &quot;concurently&quot; npm run server &quot;&quot; npm run client &quot;
</code></pre>
<p>but how to start if package.json is in different folders</p>
",<node.js><reactjs><express><npm>,0.0,0,0,1
36956,36428,65959875,1,0,14795200,1.0,6.0,0.0,0.0,2021-01-29T18:28:03.930,8.0,3512.0,npm concurrently error? when running both frontend and backend together?,"<pre><code>&quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,
    &quot;server&quot;: &quot;nodemon backend/server.js&quot;,
    &quot;client&quot;: &quot;npm start --prefix frontend&quot;,
    &quot;dev&quot;: &quot;concurrently \&quot;npm run server\&quot; \&quot;npm run client\&quot;&quot;
  }
</code></pre>
<p>here's my scripts for the package.json file that's outside the frontend and backend folders (in the root folder). and when I run the command <code>npm run dev</code> it doesn't work for some reason. note that <code>npm run server</code> and <code>npm run client</code> work prefectly but the issue is when I run the command <code>npm run dev</code> which has the <code>concurrently</code> in it, I don't know what's the issue, is there something I can do to fix this? here's the error message that I get:</p>
<pre><code>npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! ecommerce_shop@1.0.0 dev: `concurrently &quot;npm run server&quot; &quot;npm run client&quot;`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the ecommerce_shop@1.0.0 dev script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/user/.npm/_logs/2021-01-29T18_24_43_756Z-debug.log

</code></pre>
",<node.js><reactjs><react-native><express><npm>,0.0,0,1,1
36969,36441,65978862,1,0,14806829,1.0,3.0,0.0,0.0,2021-01-31T12:01:50.890,-1.0,416.0,Node.js Package.json file error while running Express.js,"<p>I am new to using Node.js</p>
<p>I have a project folder structure <code>C:\A\B\C\</code></p>
<p>I have <code>C:\A\B\C\html_pages\index.html</code> in which I have React.js code having CDN</p>
<p>and <code>C:\A\B\C\server.js</code> which has Express.js code which I want to run.</p>
<ol>
<li><p>I installed nvm then installed Node.js using command
<code>nvm install 4.5</code></p>
</li>
<li><p>In windows PowerShell, I went to project directory
<code>C:\A\B\C</code> and used <code>npm init</code>  (node_modules were not created in this step)</p>
</li>
<li><p>Did <code>npm install express --save</code> to use the express module (now node_modules folder was created but package.json was inside express folder)</p>
</li>
<li><p>Used <code>npm start</code> to start the web server but it gave following error.</p>
</li>
</ol>
<p><code>ENOENT: no such file or directory, open 'C:\A\B\C\package.json'</code>
I checked the posts on Stackoverflow for this error but was not able to solve it.
Should the package.json be generated directly under <code>'C:\A\B\C\</code> ?
I have installed Node.js in <code>C:\Program Files\nodejs</code> while project is not under Program Files, is this related to this?</p>
<p>P.S. : Used npm init --yes so that it installs node_modules inside my project folder and got the request processed but port 3000 gives error that it did not get GET request</p>
",<node.js><express><npm><package.json><nvm>,0.0,0,0,1
37070,36542,66066324,1,0,12201042,1.0,4.0,0.0,0.0,2021-02-05T15:48:53.880,0.0,898.0,How do I access node modules client-side when building an Express app?,"<p>I'm trying to use <a href=""https://www.npmjs.com/package/intl-tel-input"" rel=""nofollow noreferrer"">intl-tel-input</a> in a project I'm building using <a href=""https://www.npmjs.com/package/express"" rel=""nofollow noreferrer"">express</a> and <a href=""https://www.npmjs.com/package/ejs"" rel=""nofollow noreferrer"">ejs</a>.</p>
<p>I have <code>app.use(express.static(path.join(__dirname, 'public')));</code> in my <strong>app.js</strong> which means Express serves all static files from the public directory in my project.</p>
<p>I am unable to integrate <a href=""https://www.npmjs.com/package/intl-tel-input"" rel=""nofollow noreferrer"">intl-tel-input</a> as it's a node module and the relevant css and js files are located in <code>/node_modules/intl-tel-input/build/...</code> and they are not served by Express at all. Thus, when I try to link to them in my Ejs template, I get a 404 error.</p>
<p>How do I solve this? All the ideas I have seem like the wrong approach.</p>
",<node.js><express><npm><ejs><intl-tel-input>,0.0,0,0,1
37102,36574,66102187,1,66152117,15168903,1.0,4.0,0.0,0.0,2021-02-08T13:02:02.137,2.0,1117.0,Sharing mongoose models via npm package,"<p>I'm writing a few applications that use the same DB and schemas.
I need to share the mongoose model between all application- each application has her own express server.</p>
<p>I tried to create a models server and requesting the JSONs useing mongoose-gen npm, it worked but not completely so I have to look for another solution.</p>
<p>I found some answers here about creating an npm package for that, I did so but still, something is missing-I published the package and imported it to my code, but when I actually try to query the schema-nothing is happened, and the server returns 500 with the error:</p>
<p>MongooseError: Operation <code>examples.insertOne()</code> buffering timed out after 10000ms.</p>
<p>I think that something is missing in my package but I don't know what.</p>
<p>This is what the package includes:</p>
<p>./index.js</p>
<pre><code>    const example =require(&quot;./SystemWave&quot;)
    
    module.exports.Example=example
</code></pre>
<p>./SystemWave.js</p>
<pre><code>    const mongoose = require('mongoose')

    const systenWaveSchema = mongoose.Schema({
        timestamp: { type: Date, default: Date.now },
        subject: {type:String, require: true},
    
    })
    
    module.exports = mongoose.model('example', systenWaveSchema)
</code></pre>
<p>./package.json</p>
<pre><code>    {
      &quot;name&quot;: &quot;modelsnpm&quot;,
      &quot;version&quot;: &quot;1.0.6&quot;,
      &quot;description&quot;: &quot;&quot;,
      &quot;main&quot;: &quot;index.js&quot;,
      &quot;scripts&quot;: {
        &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
      },
      &quot;author&quot;: &quot;&quot;,
      &quot;license&quot;: &quot;ISC&quot;,
      &quot;dependencies&quot;: {
        &quot;mongoose&quot;: &quot;^5.11.15&quot;
      }
    }
</code></pre>
<pre><code>./node_modules

./package-lock.json

./README.md
</code></pre>
<p>I don't know if I should add the DB URL or anything else.</p>
<p><strong>Update</strong> :</p>
<p>I found another solution here:</p>
<p><a href=""https://stackoverflow.com/questions/26825186/schemas-in-external-module-not-working-in-node-js"">Schemas in external module not working in Node.js</a></p>
<p>but it seems to return the same error...</p>
",<node.js><express><mongoose><mongoose-schema><npm-publish>,0.0,0,0,1
37298,36770,66253252,1,0,13990503,0.0,0.0,0.0,0.0,2021-02-18T03:38:03.297,1.0,137.0,electron and react with expressjs build issues,"<p>I have an app almost ready to package, I've been using express, react, bootstrap and electron. I can run the app file using npm start, But i cant package it. Build completes and when i run application file electron open but neither react runs on localhost nor express.</p>
<p>My directory structure is as follows</p>
<pre><code>
     - api
       - containes expressjs (package.json)
     - client
       - containes react and electron (package.json)

</code></pre>
<p>*let me know if you need more detailed structure</p>
<p>This is my procfile</p>
<pre><code>
    react: npm run react-start
    electron: npm run electron-start
    express: npm start --prefix ../api/

</code></pre>
<p>This is my package.json</p>
<pre><code>
    {
      &quot;name&quot;: &quot;POSifier&quot;,
      &quot;version&quot;: &quot;0.1.0&quot;,
      &quot;description&quot;: &quot;system&quot;,
      &quot;private&quot;: true,
      &quot;homepage&quot;: &quot;../&quot;,
      &quot;dependencies&quot;: {
        &quot;@date-io/date-fns&quot;: &quot;^1.3.13&quot;,
        &quot;@material-ui/core&quot;: &quot;^4.11.0&quot;,
        &quot;@material-ui/icons&quot;: &quot;^4.9.1&quot;,
        &quot;@material-ui/pickers&quot;: &quot;^3.2.10&quot;,
        &quot;@testing-library/jest-dom&quot;: &quot;^4.2.4&quot;,
        &quot;@testing-library/react&quot;: &quot;^9.5.0&quot;,
        &quot;@testing-library/user-event&quot;: &quot;^7.2.1&quot;,
        &quot;@wojtekmaj/react-datetimerange-picker&quot;: &quot;^3.0.0&quot;,
        &quot;bootstrap&quot;: &quot;^4.5.2&quot;,
        &quot;canvasjs&quot;: &quot;^1.8.3&quot;,
        &quot;custom-electron-titlebar&quot;: &quot;^3.2.5&quot;,
        &quot;date-fns&quot;: &quot;^2.16.1&quot;,
        &quot;jquery&quot;: &quot;^3.5.1&quot;,
        &quot;jsbarcode&quot;: &quot;^3.11.3&quot;,
        &quot;moment&quot;: &quot;^2.29.1&quot;,
        &quot;mysql&quot;: &quot;^2.18.1&quot;,
        &quot;pouchdb&quot;: &quot;^7.2.2&quot;,
        &quot;pouchdb-authentication&quot;: &quot;^1.1.3&quot;,
        &quot;pouchdb-browser&quot;: &quot;^7.2.2&quot;,
        &quot;pouchdb-find&quot;: &quot;^7.2.2&quot;,
        &quot;pouchdb-react-native&quot;: &quot;^6.4.1&quot;,
        &quot;react&quot;: &quot;^16.13.1&quot;,
        &quot;react-bootstrap&quot;: &quot;^1.3.0&quot;,
        &quot;react-bootstrap-date-picker&quot;: &quot;^5.1.0&quot;,
        &quot;react-dom&quot;: &quot;^16.13.1&quot;,
        &quot;react-fade-in&quot;: &quot;^1.1.1&quot;,
        &quot;react-native&quot;: &quot;^0.63.2&quot;,
        &quot;react-pouchdb&quot;: &quot;^2.0.1&quot;,
        &quot;react-router-dom&quot;: &quot;^5.2.0&quot;,
        &quot;react-scripts&quot;: &quot;3.4.3&quot;,
        &quot;web-vitals&quot;: &quot;^0.2.4&quot;
      },
      &quot;build&quot;: {
        &quot;appId&quot;: &quot;com.Posifier.app&quot;,
        &quot;files&quot;: [
          &quot;build/**/*&quot;,
          &quot;node_modules/**/*&quot;
        ],
        &quot;directories&quot;: {
          &quot;buildResources&quot;: &quot;assets&quot;
        }
      },
      &quot;scripts&quot;: {
        &quot;start&quot;: &quot;nf start -p 3000&quot;,
        &quot;electron-start&quot;: &quot;node src/wait-for-react&quot;,
        &quot;electron-pack&quot;: &quot;build --em.main=build/electron.js&quot;,
        &quot;preelectron-pack&quot;: &quot;yarn build&quot;,
        &quot;react-start&quot;: &quot;react-scripts start&quot;,
        &quot;build&quot;: &quot;react-scripts build&quot;,
        &quot;test&quot;: &quot;react-scripts test&quot;,
        &quot;eject&quot;: &quot;react-scripts eject&quot;,
        &quot;electron&quot;: &quot;electron .&quot;,
        &quot;pack&quot;: &quot;electron-builder --dir&quot;,
        &quot;dist&quot;: &quot;electron-builder&quot;,
        &quot;new&quot;:&quot;react-scripts build &amp;&amp; electron-builder --publish=always&quot;
      },
      &quot;eslintConfig&quot;: {
        &quot;extends&quot;: [
          &quot;react-app&quot;,
          &quot;react-app/jest&quot;
        ]
      },
      &quot;browserslist&quot;: {
        &quot;production&quot;: [
          &quot;&gt;0.2%&quot;,
          &quot;not dead&quot;,
          &quot;not op_mini all&quot;
        ],
        &quot;development&quot;: [
          &quot;last 1 chrome version&quot;,
          &quot;last 1 firefox version&quot;,
          &quot;last 1 safari version&quot;
        ]
      },
      &quot;devDependencies&quot;: {
        &quot;electron&quot;: &quot;^11.1.1&quot;,
        &quot;electron-builder&quot;: &quot;^22.9.1&quot;,
        &quot;foreman&quot;: &quot;^3.0.1&quot;
      },
      &quot;main&quot;: &quot;public/electron.js&quot;
    }

</code></pre>
",<reactjs><express><npm><electron>,0.0,0,0,1
37304,36776,66259319,1,0,0,0.0,5.0,0.0,0.0,2021-02-18T11:47:13.690,0.0,32.0,How to get data from callback function that returns a promise?,"<p>I am using npm libraries to</p>
<ol>
<li>Download a pdf file</li>
<li>After it's downloaded, convert it to png</li>
</ol>
<p>Both libraries provide callbacks. Here is my code :</p>
<pre><code>download(url,{directory, filename: filename(day) }  , function(err){
        if (err) throw err;
        converter({
            input: `${day}.pdf`,
            output: 'output.png',
            scale: '1'
        }, () =&gt; {
            let formData = new FormData();
            let headers;
            formData.append(&quot;files&quot;, fs.createReadStream('./output.png'), { knownLength: fs.statSync('./output.png').size });
            headers = {
                ...formData.getHeaders(),
                &quot;Content-Length&quot;: formData.getLengthSync()
            };
            const telegraphData = axios.post(&quot;https://telegra.ph/upload&quot;, formData, {headers}).then((result) =&gt; {
                url = `https://telegra.ph${result.data[0].src}`;
                typeof data !== 'string' ? ctx.replyWithPhoto(url, { caption: `${data.message}${data.additionalData}#koronavirus` }) : ctx.replyWithPhoto(url, { caption: `${message}` });
                return url;
            });
            return telegraphData
        })
    });
</code></pre>
<p>My problem is as follows : I am returning a promise inside of callback of <code>converter</code> function called <code>telegraphData</code>. And I want access that promise, outside the <code>converter</code> funtion. The <code>converter</code> function returns <code>undefined</code> when I try console.log it to see if promise if fulfilled or not. Attaching <code>.then()</code> to <code>converter</code> does not work. And it may be a simple thing, but I don't know what I am missing here. Please, point me in the right direction.</p>
",<javascript><node.js><express><npm><es6-promise>,0.0,0,0,1
37310,36782,66261462,1,66273082,9433545,1.0,1.0,0.0,0.0,2021-02-18T13:57:03.740,-1.0,506.0,IIS Node express project down after the user logs out of the server,"<p>I'm deploying my node express project with iis and start pm2 start command. The project down when the user logs out server. it ups when the user logs in server. how does it up when the user logs out of the server? what should I do?</p>
",<node.js><express><iis><pm2><npm-scripts>,0.0,0,0,1
37334,36806,66281738,1,66282156,13338897,2.0,2.0,0.0,0.0,2021-02-19T16:50:20.563,5.0,18531.0,"Dockerized Node JS project getting: ""command failed signal SIGTERM"" error","<p>I had a express application and I used this application in my Kubernetes cluster.</p>
<p>This application is auth service for my micro service architecture study.</p>
<p>I use Skaffold dev command for applying Kubernetes for this app.</p>
<p>My Dockerfile is like that:</p>
<pre><code>FROM node:alpine

WORKDIR /app
COPY package.json .
RUN npm install

COPY . .

CMD [&quot;npm&quot;, &quot;start&quot;]
</code></pre>
<p>And I run it with &quot;Scaffold dev&quot; command</p>
<p>And I getting error like that:</p>
<pre><code>...
...    
Deployments stabilized in 3.752 seconds
Watching for changes...
[auth] npm notice 
[auth] npm notice New patch version of npm available! 7.5.1 -&gt; 7.5.4
[auth] npm notice Changelog: &lt;https://github.com/npm/cli/releases/tag/v7.5.4&gt;
[auth] npm notice Run `npm install -g npm@7.5.4` to update!
[auth] npm notice 
[auth] npm ERR! path /app
[auth] npm ERR! command failed
[auth] npm ERR! signal SIGTERM
[auth] npm ERR! command sh -c node server.js
[auth] 
[auth] npm ERR! A complete log of this run can be found in:
[auth] npm ERR!     /root/.npm/_logs/2021-02-19T16_46_28_956Z-debug.log
</code></pre>
<p>And my package.json file :</p>
<pre><code>    {
  &quot;name&quot;: &quot;authservice&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;Auth Service&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,
    &quot;start&quot;: &quot;node server.js&quot;
  },
  &quot;keywords&quot;: [
    &quot;auth&quot;,
    &quot;user&quot;
  ],
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: {
    &quot;bcrypt&quot;: &quot;^5.0.0&quot;,
    &quot;body-parser&quot;: &quot;^1.19.0&quot;,
    &quot;dotenv&quot;: &quot;^8.2.0&quot;,
    &quot;express&quot;: &quot;^4.17.1&quot;,
    &quot;express-rate-limit&quot;: &quot;^5.2.3&quot;,
    &quot;jsonwebtoken&quot;: &quot;^8.5.1&quot;,
    &quot;mongoose&quot;: &quot;5.10.19&quot;,
    &quot;morgan&quot;: &quot;^1.10.0&quot;,
    &quot;multer&quot;: &quot;^1.4.2&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;nodemon&quot;: &quot;^2.0.6&quot;
  }
}
</code></pre>
<p>How can I solve this error?</p>
",<node.js><docker><express><npm><kubernetes>,0.0,0,0,1
37390,36862,66326408,1,0,15171970,0.0,4.0,0.0,0.0,2021-02-23T02:55:19.323,1.0,28.0,Node JS use all files in folder,"<p>server.js</p>
<pre><code>// Imports
const express = require('express')
const expressLayouts = require('express-ejs-layouts')
const app = express()
const port = 5000
app.use(express.static('utils'))
app.use('/css', express.static(__dirname + 'utils/css'))
app.use(expressLayouts)
app.set('layout', './layouts/full-width')
app.set('view engine', 'ejs')
app.get('', (req, res) =&gt; {
    res.render('index', { title: 'Home Page'})})
app.get('/about', (req, res) =&gt; {
    res.render('about', { title: 'About Page'})})
app.listen(port, () =&gt; console.info(`App listening on port http://127.0.0.1:${port}`))
</code></pre>
<p>How can i make node use all the .ejs files in 1 folder, without having to add them in every time? i cant seem to figure out how.</p>
<p>Folder layout:</p>
<pre><code>--utils
---css
---js
---img
--------
--views
---layouts (folder)
---partials (folder, head and foot)
---index.ejs
---about.ejs
--------
--server.js
</code></pre>
<p>What my goal is, you add <em>something</em>.ejs and node automatically adds an app.get request (also accounting for if one is in a folder, like /views/link/index.ejs will go to /link/index.ejs etc)</p>
",<node.js><express><npm><ejs>,0.0,0,0,1
37517,36989,66428868,1,0,9157013,2.0,0.0,0.0,0.0,2021-03-01T20:02:10.847,0.0,107.0,How to run Express-React project,"<p>I`m trying to understand how to run this project, published on GitHub <a href=""https://github.com/haimHadad/ReactExpressProj.git"" rel=""nofollow noreferrer"">here</a></p>
<p>No idea how. I ran npm i, and then npm start, but I got these messages:</p>
<pre><code>npm start

&gt; fed-entry-level-exam-root@1.0.0 start C:\entry-level-exam_19\entry-level-exam
&gt; lerna run start --parallel

lerna notice cli v3.22.1
lerna info Executing command in 2 packages: &quot;npm run start&quot;
@fed-exam/client: &gt; @fed-exam/client@1.0.0 start C:\entry-level-exam_19\entry-level-exam\client
@fed-exam/client: &gt; set CI=true &amp;&amp; react-scripts start
@fed-exam/server: &gt; @fed-exam/server@1.0.0 start C:\entry-level-exam_19\entry-level-exam\server
@fed-exam/server: &gt; ts-node-dev index.ts
@fed-exam/server: [INFO] 21:51:34 ts-node-dev ver. 1.1.0 (using ts-node ver. 9.1.1, typescript    ver. 3.9.9)
@fed-exam/server: starting server { serverAPIPort: 3232, APIPath: '/api/tickets' }
@fed-exam/server: server running 3232
@fed-exam/client: i ｢wds｣: Project is running at http://192.168.0.108/
@fed-exam/client: i ｢wds｣: webpack output is served from 
@fed-exam/client: i ｢wds｣: Content not from webpack is served from C:\entry-level-exam_19\entry-level-exam\client\public
@fed-exam/client: i ｢wds｣: 404s will fallback to /
@fed-exam/client: Starting the development server...
</code></pre>
<p>I tried to open http://localhost:3232/ but I getting this error:</p>
<pre><code>Cannot GET /
</code></pre>
<p>Also tried :
http://localhost:3000</p>
<p>Which is known for React localhost.</p>
<p>So far I don't know how to make it work.
Any help will be appreciated.</p>
",<reactjs><express><npm>,0.0,0,0,1
37626,37098,66502542,1,0,4683776,1.0,2.0,0.0,0.0,2021-03-06T04:58:30.457,0.0,111.0,"SyntaxError: missing ) after argument list, when running babel-node on windows","<p>I am trying to run server.js file (node-express server) using babel-node using following command</p>
<pre><code>&gt;nodemon ./node_modules/.bin/babel-node src/server.js
</code></pre>
<p>This throws the error</p>
<pre><code>basedir=$(dirname &quot;$(echo &quot;$0&quot; | sed -e 's,\\,/,g')&quot;)
          ^^^^^^^    
SyntaxError: missing ) after argument list
</code></pre>
<p>content of babel-node script is</p>
<pre><code>#!/bin/sh
basedir=$(dirname &quot;$(echo &quot;$0&quot; | sed -e 's,\\,/,g')&quot;)

case `uname` in
    *CYGWIN*|*MINGW*|*MSYS*) basedir=`cygpath -w &quot;$basedir&quot;`;;
esac

if [ -x &quot;$basedir/node&quot; ]; then
  &quot;$basedir/node&quot;  &quot;$basedir/../@babel/node/bin/babel-node.js&quot; &quot;$@&quot;
  ret=$?
else 
  node  &quot;$basedir/../@babel/node/bin/babel-node.js&quot; &quot;$@&quot;
  ret=$?
fi
exit $ret
</code></pre>
<p>Few answers suggest on windows we should run babel-node.cmd instead of babel-node so i tried so</p>
<pre><code>&gt;nodemon --delay 1 ./node_modules/.bin/babel-node.cmd src/server.js
</code></pre>
<p>but then i ran into this error</p>
<pre><code>@ECHO off
^

SyntaxError: Invalid or unexpected token
</code></pre>
<p>Content in babel-node.cmd</p>
<pre><code>@ECHO off
SETLOCAL
CALL :find_dp0

IF EXIST &quot;%dp0%\node.exe&quot; (
  SET &quot;_prog=%dp0%\node.exe&quot;
) ELSE (
  SET &quot;_prog=node&quot;
  SET PATHEXT=%PATHEXT:;.JS;=;%
)

&quot;%_prog%&quot;  &quot;%dp0%\..\@babel\node\bin\babel-node.js&quot; %*
ENDLOCAL
EXIT /b %errorlevel%
:find_dp0
SET dp0=%~dp0
EXIT /b
</code></pre>
",<javascript><node.js><express><npm><babeljs>,0.0,0,0,1
37635,37107,66507354,1,0,4751023,1.0,0.0,0.0,0.0,2021-03-06T15:28:58.087,1.0,160.0,Typescript extends express request object and export it,"<p>Using typescript, I am looking to extend the Request object from express to add my custom fields.</p>
<p>Following <a href=""https://dev.to/kwabenberko/extend-express-s-request-object-with-typescript-declaration-merging-1nn5"" rel=""nofollow noreferrer"">this source</a> I created a <code>@types/express/index.d.ts</code> file with this content :</p>
<pre><code>import { MyClass } from &quot;../../src/MyClass&quot;;

declare global {
    namespace Express {
        export interface Request {
            myField?: MyClass;
        }
    }
}
</code></pre>
<p>And add in tsconfig.json :</p>
<pre><code>&quot;typeRoots&quot;: [
  &quot;@types&quot;,
  &quot;./node_modules/@types&quot;
],
</code></pre>
<p>It works fine.
But I am working on an homemade npm module which I install on an other node application.</p>
<p>And I would like to &quot;export&quot; this new Request type in order for the application to be able to use it</p>
<pre><code>import { MyClass } from 'mymodule';

app.use((req: express.Request, res: express.Response, next: express.NextFunction) =&gt; {
    req.myField = new MyClass(); // &lt;= Typescript doesn't know myField in Request
});
</code></pre>
",<node.js><typescript><express><npm>,0.0,0,0,1
37651,37123,66520344,1,66520543,14195643,2.0,1.0,0.0,0.0,2021-03-07T19:10:14.933,0.0,352.0,Installation of expressJS using npm,"<p>What's the difference between these  What does <em>--save</em> do in the command</p>
<p><em>$ npm install express --save</em></p>
<p><em>$ npm install express</em></p>
",<node.js><express><npm><terminal><npm-install>,0.0,0,0,1
37673,37145,66533155,1,0,7486313,0.0,8.0,0.0,0.0,2021-03-08T16:04:19.180,2.0,746.0,NPM: npm update is not changing the version in package.json,"<p>I have an <code>express</code> project. One of the dependencies is updating in <code>package-lock.json</code> and installing the new version, but the one in <code>package.json</code> is not changing.</p>
<p><strong>package.json</strong></p>
<pre><code>&quot;x-dependency&quot;: &quot;^1.73.0&quot;,
</code></pre>
<p><strong>package-lock.json</strong></p>
<pre><code>&quot;x-dependency&quot;: {
  &quot;version&quot;: &quot;1.73.1&quot;,
  &quot;resolved&quot;: &quot;&quot;,
  &quot;integrity&quot;: &quot;&quot;,
  &quot;requires&quot;: {
    &quot;lodash&quot;: &quot;^4.17.11&quot;
  }
},
</code></pre>
<p><strong>Notes:</strong></p>
<p>This is a custom dependency that I manage in my registry.</p>
<p>NPM version is 6.14.8</p>
<p>Both files have the same permissions.</p>
",<node.js><express><npm><semantic-versioning>,0.0,0,0,1
37697,37169,66546320,1,0,5698411,0.0,1.0,0.0,0.0,2021-03-09T11:49:15.677,1.0,254.0,TWISTLOCK Issue for lodash package while deploying,"<p>While deploying NODE code getting package vulnerability issue for lodash.
I have updated lodash package version to latest version 4.17.21 but, still showing vulnerability issue .
Below is the error.</p>
<p>lodash 4.17.19 High Fixed IN 4.17.21</p>
",<node.js><express><npm><jenkins-pipeline><lodash>,0.0,0,0,1
37798,37270,66618068,1,0,13862860,1.0,0.0,0.0,0.0,2021-03-13T20:09:14.707,0.0,299.0,How to create an npm package that can be imported and wrapped around existing functionality?,"<p>I am new to creating node npm packages.</p>
<p>I am trying to create a package that can wrap around an existing express route and then import route into my npm package main js file to manipulate.</p>
<p>Example below:</p>
<pre><code>const samplePackage = require('samplePackage');

&lt;samplePackage&gt;
app.use('/graphql', graphqlHTTP({schema});
&lt;/samplePackage&gt;
</code></pre>
<p>The intention of the package is to provide additional functionality to the endpoint.</p>
<p>Would this be possible at all? Thank you!</p>
",<node.js><express><npm><node-modules>,0.0,0,0,1
37935,37407,66729025,1,66779518,9614249,2.0,1.0,0.0,0.0,2021-03-21T05:05:04.740,6.0,3876.0,npm ERR! semver.simplifyRange is not a function,"<p>Trying to follow the <a href=""http://expressjs.com/en/starter/generator.html"" rel=""noreferrer"">Express</a> getting started tutorial.</p>
<p>I generated an app and ran <code>npm install</code> following the provided instructions.</p>
<pre><code>&gt; npx express-generator --view=pug myapp
&gt; npm install
npm ERR! semver.simplifyRange is not a function
npm ERR! A complete log of this run can be found in:
npm ERR!     /home/user/.npm/_logs/2021-03-21T04_58_39_577Z-debug.log
</code></pre>
<p>The relevant portion from the log</p>
<pre><code>555 http fetch GET 200 https://registry.npmjs.org/longest/-/longest-1.0.1.tgz 706ms
556 timing reifyNode:node_modules/longest Completed in 751ms
557 timing metavuln:cache:get:security-advisory:transformers:qlM2fO34VL+rWNeim/6QsbBJFfHtRf4Z7FAoL1JLqVXlvg5FMRxw1WstcKR09WDDJCiJsPPrdRJugEOTZ6eGZA== Completed in 22ms
558 verbose stack TypeError: semver.simplifyRange is not a function
558 verbose stack     at Advisory.[calculateRange] (/usr/lib/node_modules/npm/node_modules/@npmcli/metavuln-calculator/lib/advisory.js:191:16)
558 verbose stack     at Advisory.load (/usr/lib/node_modules/npm/node_modules/@npmcli/metavuln-calculator/lib/advisory.js:148:28)
558 verbose stack     at Calculator.[calculate] (/usr/lib/node_modules/npm/node_modules/@npmcli/metavuln-calculator/lib/index.js:59:14)
558 verbose stack     at async Promise.all (index 0)
558 verbose stack     at async Map.[init] (/usr/lib/node_modules/npm/node_modules/@npmcli/arborist/lib/audit-report.js:177:7)
558 verbose stack     at async Map.run (/usr/lib/node_modules/npm/node_modules/@npmcli/arborist/lib/audit-report.js:105:7)
</code></pre>
<p>New to node and I have no idea what this means. Looks to be a problem with npm and not Express?</p>
<p>I tried running <code>npm cache clean --force</code> and deleting <code>node_modules</code> but neither helped.</p>
<p>If it is relevant, npm version 7.6.3 and node version 15.11.0.</p>
",<javascript><node.js><express><npm><express-generator>,0.0,0,0,1
37993,37465,66775782,1,0,6347891,0.0,2.0,0.0,0.0,2021-03-24T06:27:14.880,1.0,164.0,"Node / Docker: ""Cannot mind module"" for server.js","<p>I am trying to Dockerize a node application that has a client subfolder with a vue application. I keep getting an error, <code>Cannot find module '/app/dist/server.js'</code> when I run <code>npm start</code> in the main directory. Some relevant information:</p>
<p>Project Directory:</p>
<p><a href=""https://i.stack.imgur.com/0hb98.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/0hb98.png"" alt=""enter image description here"" /></a></p>
<p>When running <code>npm run build-server</code> typescript compiles the <code>.ts</code> files into a <code>dist</code> folder:</p>
<p><a href=""https://i.stack.imgur.com/61EQ6.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/61EQ6.png"" alt=""enter image description here"" /></a></p>
<p><code>Dockerfile</code>:</p>
<pre><code>FROM node:15-alpine

WORKDIR /app

COPY . .

# CD into client directory and npm install

RUN cd client &amp;&amp; npm install

# CD back into main directory and npm install

RUN cd ..
RUN npm install
RUN npm run build-server

ENTRYPOINT [&quot;npm&quot;, &quot;start&quot;]
</code></pre>
<p><code>docker-compose.yml</code>:</p>
<pre><code>version: '3.9'
services:
  app:
    build: .
    image: url-shortener
    volumes:
      - ./:/app
    ports:
      - 3001:3001
</code></pre>
<p>I am getting the following error when running <code>docker-compose.yml</code>. I can verify that <code>/app/dist/server.js</code> exists in the container but for some reason <code>ENTRYPOINT [&quot;npm&quot;, &quot;start&quot;]</code> is triggering the error.</p>
<pre><code>app_1    | Error: Cannot find module '/app/dist/server.js'
app_1    |     at Function.Module._resolveFilename (node:internal/modules/cjs/loader:924:15)
app_1    |     at Function.Module._load (node:internal/modules/cjs/loader:769:27)
app_1    |     at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:76:12)
app_1    |     at node:internal/main/run_main_module:17:47 {
app_1    |   code: 'MODULE_NOT_FOUND',
app_1    |   requireStack: []
app_1    | }
</code></pre>
",<node.js><docker><express><npm>,0.0,0,0,1
38068,37540,66844130,1,0,15500701,0.0,3.0,0.0,0.0,2021-03-28T17:19:58.627,0.0,1193.0,MERN stack: Exit status 137,"<p>I'm building my first MERN stack project and have run across a frustrating issue. After about 5-10 minutes of my script running, the site becomes unreachable. Checking my pm2 logs doesn't help me much either, as it only tells me <code>Exit status 137</code> and <code>errno 137</code>.</p>
<p>After doing some research it could be multiple things. Some suggest it could be CPU/RAM usage, others say it could be the node version. Does anyone know for sure what it could be as it shouldn't be using much RAM or CPU because it's currently only being accessed by myself, however if it is to do with the RAM i was already planning on upgrading after development anyways.</p>
<p>Let me know if you want more info, thanks in advance.</p>
<p>I'm on the $5.00 a month droplet on digital ocean at the moment.</p>
<ul>
<li>1 GB RAM</li>
<li>1 CPU</li>
<li>25 GB SSD Disk</li>
</ul>
<p><strong>2021-03-28T16_45_09_047Z-debug.log</strong></p>
<pre><code>0 info it worked if it ends with ok
1 verbose cli [
1 verbose cli   '/usr/bin/node',
1 verbose cli   '/usr/local/lib/node_modules/pm2/lib/ProcessContainerFork.js',
1 verbose cli   'run',
1 verbose cli   'start'
1 verbose cli ]
2 info using npm@6.14.8
3 info using node@v12.18.2
4 verbose run-script [ 'prestart', 'start', 'poststart' ]
5 info lifecycle frontend@0.1.0~prestart: frontend@0.1.0
6 info lifecycle frontend@0.1.0~start: frontend@0.1.0
7 verbose lifecycle frontend@0.1.0~start: unsafe-perm in lifecycle true
8 verbose lifecycle frontend@0.1.0~start: PATH: /usr/share/npm/node_modules/npm-lifecycle/node-gyp-bin:/var/www/app/client/node_modules/.bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
9 verbose lifecycle frontend@0.1.0~start: CWD: /var/www/app/client
10 silly lifecycle frontend@0.1.0~start: Args: [ '-c', 'node scripts/start.js' ]
11 silly lifecycle frontend@0.1.0~start: Returned: code: 137  signal: null
12 info lifecycle frontend@0.1.0~start: Failed to exec start script
13 verbose stack Error: frontend@0.1.0 start: `node scripts/start.js`
13 verbose stack Exit status 137
13 verbose stack     at EventEmitter.&lt;anonymous&gt; (/usr/share/npm/node_modules/npm-lifecycle/index.js:332:16)
13 verbose stack     at EventEmitter.emit (events.js:315:20)
13 verbose stack     at ChildProcess.&lt;anonymous&gt; (/usr/share/npm/node_modules/npm-lifecycle/lib/spawn.js:55:14)
13 verbose stack     at ChildProcess.emit (events.js:315:20)
13 verbose stack     at maybeClose (internal/child_process.js:1021:16)
13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:286:5)
14 verbose pkgid frontend@0.1.0
15 verbose cwd /var/www/app/client
16 verbose Linux 5.8.0-48-generic
17 verbose argv &quot;/usr/bin/node&quot; &quot;/usr/local/lib/node_modules/pm2/lib/ProcessContainerFork.js&quot; &quot;run&quot; &quot;start&quot;
18 verbose node v12.18.2
19 verbose npm  v6.14.8
20 error code ELIFECYCLE
21 error errno 137
22 error frontend@0.1.0 start: `node scripts/start.js`
22 error Exit status 137
23 error Failed at the frontend@0.1.0 start script.
23 error This is probably not a problem with npm. There is likely additional logging output above.
24 verbose exit [ 137, true ]
</code></pre>
",<javascript><node.js><reactjs><express><npm>,0.0,0,0,1
38080,37552,66857239,1,66857747,2240409,1.0,2.0,0.0,0.0,2021-03-29T15:42:50.350,0.0,1443.0,Node import module not found when running inside docker,"<p>I have a small react app with a node js server with the following imports:</p>
<pre><code>import express from 'express'
import compression from 'compression'
import cookieParser from 'cookie-parser'
import bodyParser from 'body-parser'
import * as path from 'path'
import * as _ from 'lodash'
import { CloudConfigOptions, Config, ConfigObject } from 'spring-cloud-config'

import { ApiService } from './src/service/ApiService'
import { BackendEnum } from './src/service/BackendEnum'
</code></pre>
<p>And then several endpoints, for example:</p>
<pre><code>server.put('/data', keycloak.protect('user'), (req: any, res: any) =&gt; { 
    ApiService.runSomeLogic();

    return res
})
</code></pre>
<p>On my local machine when I run: <code>npm run dev:express</code> the server starts up just fine.</p>
<p>Now the issue is, when I build the docker image and try to run it I get the following error:</p>
<pre><code>$ docker run my-container:1.0

&gt; my-app@0.1.0 start /app
&gt; cross-env NODE_ENV=production node server.js

internal/modules/cjs/loader.js:985
  throw err;
  ^

Error: Cannot find module './src/service/ApiService'
Require stack:
- /app/server.js
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:982:15)
    at Function.Module._load (internal/modules/cjs/loader.js:864:27)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (internal/modules/cjs/helpers.js:77:18)
    at Object.&lt;anonymous&gt; (/app/server.js:58:20)
    at Module._compile (internal/modules/cjs/loader.js:1158:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:74:12) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [ '/app/server.js' ]
}
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! my-app@0.1.0 start: `cross-env NODE_ENV=production node server.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the my-app@0.1.0 start script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /root/.npm/_logs/2021-03-29T15_29_46_508Z-debug.log
</code></pre>
<p>The docker image is built using <code>npm -q install</code>, <code>npm -q install</code> and then <code>npm run build</code></p>
<p>And this is the output of npm <code>-debug.log</code> file:</p>
<pre><code>0 info it worked if it ends with ok
1 verbose cli [ '/usr/local/bin/node', '/usr/local/bin/npm', 'start' ]
2 info using npm@6.13.4
3 info using node@v12.16.1
4 verbose run-script [ 'prestart', 'start', 'poststart' ]
5 info lifecycle my-app@0.1.0~prestart: my-app@0.1.0
6 info lifecycle my-app@0.1.0~start: my-app@0.1.0
7 verbose lifecycle my-app@0.1.0~start: unsafe-perm in lifecycle true
8 verbose lifecycle my-app@0.1.0~start: PATH: /usr/local/lib/node_modules/npm/node_modules/npm-lifecycle/node-gyp-bin:/app/node_modules/.bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
9 verbose lifecycle my-app@0.1.0~start: CWD: /app
10 silly lifecycle my-app@0.1.0~start: Args: [ '-c', 'cross-env NODE_ENV=production node server.js' ]
11 silly lifecycle my-app@0.1.0~start: Returned: code: 1  signal: null
12 info lifecycle my-app@0.1.0~start: Failed to exec start script
13 verbose stack Error: my-app@0.1.0 start: `cross-env NODE_ENV=production node server.js`
13 verbose stack Exit status 1
13 verbose stack     at EventEmitter.&lt;anonymous&gt; (/usr/local/lib/node_modules/npm/node_modules/npm-lifecycle/index.js:332:16)
13 verbose stack     at EventEmitter.emit (events.js:311:20)
13 verbose stack     at ChildProcess.&lt;anonymous&gt; (/usr/local/lib/node_modules/npm/node_modules/npm-lifecycle/lib/spawn.js:55:14)
13 verbose stack     at ChildProcess.emit (events.js:311:20)
13 verbose stack     at maybeClose (internal/child_process.js:1021:16)
13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:286:5)
14 verbose pkgid my-app@0.1.0
15 verbose cwd /app
16 verbose Linux 5.8.0-48-generic
17 verbose argv &quot;/usr/local/bin/node&quot; &quot;/usr/local/bin/npm&quot; &quot;start&quot;
18 verbose node v12.16.1
19 verbose npm  v6.13.4
20 error code ELIFECYCLE
21 error errno 1
22 error my-app@0.1.0 start: `cross-env NODE_ENV=production node server.js`
22 error Exit status 1
23 error Failed at the my-app@0.1.0 start script.
23 error This is probably not a problem with npm. There is likely additional logging output above.
24 verbose exit [ 1, true ]
</code></pre>
<p>EDIT: The <code>Dockerfile</code> content is:</p>
<pre><code>FROM node:12.16.1-alpine as node

### WEB
FROM node as web-builder

WORKDIR /src
COPY ./my-app/package*.json ./
COPY ./my-app/.npmrc ./
RUN apk add --no-cache git openssh
RUN npm -q install

COPY ./my-app ./

# specify ARG as late as possible to take advantage of docker layer caching across dockerfiles
ARG BUILD_ID
RUN BUILD_ID=${BUILD_ID} npm run build


FROM node as web-release

WORKDIR /app
RUN apk add --no-cache git openssh
COPY ./my-app/package*.json ./
COPY ./my-app/.npmrc ./
RUN npm install -q --only=prod &amp;&amp; \
    npm cache clean --force

COPY --from=web-builder /src/build ./build/
COPY --from=web-builder /src/server.js ./
COPY --from=web-builder /src/config ./config/

CMD [&quot;npm&quot;, &quot;start&quot;]
</code></pre>
<p>EDIT2: <code>package.json</code> (for privacy reasons I removed the version of each library) content is:</p>
<pre><code>{
    &quot;name&quot;: &quot;my-app&quot;,
    &quot;version&quot;: &quot;0.1.0&quot;,
    &quot;private&quot;: true,
    &quot;scripts&quot;: {
        &quot;start&quot;: &quot;cross-env NODE_ENV=production node server.js&quot;,
        &quot;dev&quot;: &quot;react-scripts start&quot;,
        &quot;build&quot;: &quot;npm run lint &amp;&amp; npm run build:frontend &amp;&amp; npm run build:backend&quot;,
        &quot;build:frontend&quot;: &quot;react-scripts build&quot;,
        &quot;build:backend&quot;: &quot;tsc -p tsconfig.server.json&quot;,
        &quot;lint&quot;: &quot;tsc --noEmit &amp;&amp; tslint -c tslint.json -p .&quot;,
        &quot;dev:express&quot;: &quot;cross-env SPRING_PROFILES=local NODE_ENV=development ENVIRONMENT=local nodemon server.ts -p tsconfig.server.json&quot;
    },
    &quot;eslintConfig&quot;: {
        &quot;extends&quot;: &quot;react-app&quot;
    },
    &quot;husky&quot;: {
        &quot;hooks&quot;: {
            &quot;pre-commit&quot;: &quot;lint-staged&quot;
        }
    },
    &quot;lint-staged&quot;: {
        &quot;*.{js,md,json,css,md,html}&quot;: [
            &quot;prettier --write&quot;,
            &quot;git add&quot;
        ],
        &quot;*.{ts,tsx}&quot;: [
            &quot;prettier --write&quot;,
            &quot;tslint --fix&quot;,
            &quot;git add&quot;
        ]
    },
    &quot;dependencies&quot;: {
        &quot;@martin_hotell/rex-tils&quot;: &quot;&quot;,
        &quot;@types/express-session&quot;: &quot;&quot;,
        &quot;axios&quot;: &quot;&quot;,
        &quot;compression&quot;: &quot;&quot;,
        &quot;cookie-parser&quot;: &quot;&quot;,
        &quot;cookie-session&quot;: &quot;&quot;,
        &quot;cross-env&quot;: &quot;&quot;,
        &quot;express&quot;: &quot;&quot;,
        &quot;express-basic-auth&quot;: &quot;&quot;,
        &quot;express-session&quot;: &quot;&quot;,
        &quot;fork-ts-checker-webpack-plugin&quot;: &quot;&quot;,
        &quot;keycloak-connect&quot;: &quot;&quot;,
        &quot;lodash&quot;: &quot;&quot;,
        &quot;react&quot;: &quot;&quot;,
        &quot;react-dom&quot;: &quot;&quot;,
        &quot;react-dropzone&quot;: &quot;&quot;,
        &quot;react-dual-listbox&quot;: &quot;&quot;,
        &quot;react-popper&quot;: &quot;&quot;,
        &quot;react-redux&quot;: &quot;&quot;,
        &quot;react-scripts&quot;: &quot;&quot;,
        &quot;react-sortable-tree&quot;: &quot;&quot;,
        &quot;react-transition-group&quot;: &quot;&quot;,
        &quot;redux&quot;: &quot;&quot;,
        &quot;redux-devtools-extension&quot;: &quot;&quot;,
        &quot;redux-thunk&quot;: &quot;&quot;,
        &quot;spring-cloud-config&quot;: &quot;&quot;,
        &quot;styled-components&quot;: &quot;&quot;,
        &quot;typescript&quot;: &quot;&quot;,
        &quot;uuid&quot;: &quot;&quot;
    },
    &quot;devDependencies&quot;: {
        &quot;@types/compression&quot;: &quot;&quot;,
        &quot;@types/cookie-parser&quot;: &quot;&quot;,
        &quot;@types/express&quot;: &quot;&quot;,
        &quot;@types/lodash&quot;: &quot;&quot;,
        &quot;@types/node&quot;: &quot;&quot;,
        &quot;@types/react&quot;: &quot;&quot;,
        &quot;@types/react-dom&quot;: &quot;&quot;,
        &quot;@types/react-redux&quot;: &quot;&quot;,
        &quot;@types/react-sortable-tree&quot;: &quot;&quot;,
        &quot;@types/redux-mock-store&quot;: &quot;&quot;,
        &quot;@types/styled-components&quot;: &quot;&quot;,
        &quot;@types/uuid&quot;: &quot;&quot;,
        &quot;husky&quot;: &quot;&quot;,
        &quot;lint-staged&quot;: &quot;&quot;,
        &quot;nodemon&quot;: &quot;&quot;,
        &quot;prettier&quot;: &quot;&quot;,
        &quot;react-dnd&quot;: &quot;&quot;,
        &quot;redux-mock-store&quot;: &quot;&quot;,
        &quot;ts-node&quot;: &quot;&quot;,
        &quot;tslint&quot;: &quot;&quot;,
        &quot;tslint-config-prettier&quot;: &quot;&quot;,
        &quot;tslint-react&quot;: &quot;&quot;,
        &quot;typescript&quot;: &quot;&quot;
    },
    &quot;browserslist&quot;: {
        &quot;production&quot;: [
            (...)
        ],
        &quot;development&quot;: [
            (...)
        ]
    }
}
</code></pre>
<p>I am pretty sure the issue is how the import of <code>ApiService</code> and <code>BackendEnum</code> is defined but my lack of node/javascript knowledge is preventing me from figuring out how to fix this import.</p>
<p>Can someone spot what is wrong with my import and why the app is crashing when running inside a docker container?</p>
",<javascript><node.js><reactjs><express><npm>,0.0,0,0,1
38105,37577,66883828,1,66884004,485743,1.0,0.0,0.0,0.0,2021-03-31T07:56:32.617,1.0,45.0,REST endpoint simulation via ExpressJS,"<p>If I have the below endpoints configured in my ExpresssJS config file server.js</p>
<pre><code>// Generic    
app.post('/mycontext/:_version/:_controller/:_file', (req, res) =&gt; {
      const {_version,_controller,_file} = req.params;
      const mockDataFile = path.normalize(path.join(mockRoot,`${_version}/${_controller}/${_file}.json`));
    });

// Specific    
    app.post('/mycontext/v1/mycontroller/myendpoint', (req, res) =&gt; {
    
    });
</code></pre>
<p>For an endpoint invoked from UI as say /mycontext/v1/mycontroller/myendpoint, which of these 2 would get mapped ? Does the order of defining these configs matter in any way ?</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
38120,37592,66894609,1,0,14813430,0.0,1.0,0.0,0.0,2021-03-31T20:03:30.110,1.0,912.0,importing npm package to public folder in Express.js application,"<p>I have a simple Express.js application. Problem is that I can't import any npm package (axios in this case) in client javascript code which is in <code>/public</code> folder.
This package is installed using <code>npm install axios</code>. Folder structure of my application is following:</p>
<pre><code>node_modules
public
  |-- main.js // here i want to use axios
  |-- style.css
views
  |-- index.ejs
package-lock.json
package.json
server.js
</code></pre>
<p>server.js file:</p>
<pre><code>const express = require('express');

const app = express();

app.set('view engine', 'ejs');
app.use(express.json());
app.use(express.urlencoded({ extended: false }));
app.use(express.static('public'));

app.get('/', (req, res) =&gt; {
  res.render('index');
})

const PORT = process.env.PORT || 3000;
app.listen(PORT, () =&gt; console.log(`Server is running on port ${PORT}...`));
</code></pre>
<p>package.json file:</p>
<pre><code>&quot;dependencies&quot;: {
    &quot;axios&quot;: &quot;^0.21.1&quot;, // not working
    &quot;ejs&quot;: &quot;^3.1.6&quot;, // working
    &quot;express&quot;: &quot;^4.17.1&quot; // working
  },
  &quot;devDependencies&quot;: {
    &quot;nodemon&quot;: &quot;^2.0.7&quot; // working
  }
</code></pre>
<p>main.js file is linked in index.ejs with following script:</p>
<pre><code>&lt;script type=&quot;module&quot; defer src=&quot;main.js&quot;&gt;&lt;/script&gt;
</code></pre>
<p>And main.js file:</p>
<pre><code>import axios from &quot;axios&quot;; // not working, can't import
//import axios from &quot;../node_modules/axios/dist/axios&quot;; // i also tried this, but not working too

console.log('hey!'); // working, so file is successfully loaded in browser

axios.get('https://jsonplaceholder.typicode.com/posts')
  .then(res =&gt; console.log(res.data)) // error
</code></pre>
<p>In the browser console is an error:
<code>Uncaught TypeError: Failed to resolve module specifier &quot;axios&quot;. Relative references must start with either &quot;/&quot;, &quot;./&quot;, or &quot;../&quot;.</code>
If I use import <code>&quot;../node_modules/axios/dist/axios&quot;</code> error change on: <code>GET http://localhost:3000/node_modules/axios/dist/axios net::ERR_ABORTED 404 (Not Found)</code>. So what's the problem with this? How can I solve this? This is quite similar like this <a href=""https://stackoverflow.com/questions/55886312/syntaxerror-import-declarations-may-only-appear-at-top-level-of-a-module-using"">question</a>. But I don't want to use any module bundler or axios added via url for this.</p>
",<javascript><node.js><express><npm><import>,0.0,0,0,1
38156,37628,66917054,1,0,9562746,0.0,6.0,0.0,0.0,2021-04-02T09:14:39.127,0.0,177.0,How to programmatically embed a canned service with Express generator app in node js?,"<p>I am new to NodeJS and I am trying to implement canned library (<a href=""http://sideshowcoder.github.io/canned/"" rel=""nofollow noreferrer"">http://sideshowcoder.github.io/canned/</a>) with Express Generator. But I after reading the docs, I can't understand how to embed it with an app generated by express generator?</p>
<p>Following is a way described in the docs to embed it.</p>
<pre><code> var canned = require('canned')
 ,   http = require('http')
 ,   opts = { logger: process.stdout }

can = canned('/path/to/canned/response/folder', opts)

http.createServer(can).listen(3000)    //This line is confusing
</code></pre>
<p>Now when I created an app using express-generator, i found the following line in <code>bin\www</code> :</p>
<pre><code>var server = http.createServer(app);
server.listen(port);  
</code></pre>
<p>Where app is the default app created by express-generator. Now I am confused because in canned library docs, we are supposed to send <code>can</code> app to the <code>createServer</code> function but in express generator it is already sending <code>app</code> to the same function.</p>
<p>I have a canned(mock) api <code>/profile/index.get.json</code> which I need to access.</p>
<p>Now, How can I embed it in this app?</p>
<p>Any help is appreciated.</p>
",<javascript><node.js><api><express><npm>,0.0,0,0,1
38165,37637,66924485,1,0,15150535,1.0,4.0,0.0,0.0,2021-04-02T19:46:17.257,1.0,351.0,Refreshing the page using Node.js / Express?,"<p>I need to refresh the page in my small Node and Express app as soon as the user connects. I have tried <code>res.redirect('index.html')</code> in the second snippet, but it throws an error when I try to connect to the root URL.</p>
<p>The following code is run when the user connects to the root URL:</p>
<pre><code>app.get('/', (req, res) =&gt; {
  res.redirect('/index.html')
  app.use(express.static(path.join(__dirname, 'public')))
});
</code></pre>
<p>and I detect when the user connects with:</p>
<pre><code>io.on('connection', (socket) =&gt; {}
</code></pre>
<p>Thanks in advance!</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
38169,37641,66929104,1,66933494,13963466,2.0,5.0,0.0,0.0,2021-04-03T08:29:01.297,0.0,1856.0,cannot find module in node express,"<p>cannot find module in node express</p>
<p>Actual code</p>
<pre><code>const express = require('express')
const app = express()
const port = 3000

app.get('/', (req, res) =&gt; {
  res.send('Hello World!')
})

app.listen(port, () =&gt; {
  console.log(`Example app listening at http://localhost:${port}`)
})
</code></pre>
<p>error code in cmd</p>
<p>C:\Users\user\Desktop\project&gt;npm express -v</p>
<pre><code>7.5.3
</code></pre>
<p>C:\Users\user\Desktop\project&gt;npm utils -v</p>
<pre><code>7.5.3
</code></pre>
<p>C:\Users\user\Desktop\project&gt;node server</p>
<pre><code>node:internal/modules/cjs/loader:928
  throw err;
  ^

Error: Cannot find module './utils'
Require stack:
- C:\Users\user\Desktop\project\node_modules\qs\lib\stringify.js
- C:\Users\user\Desktop\project\node_modules\qs\lib\index.js
- C:\Users\user\Desktop\project\node_modules\express\lib\middleware\query.js
- C:\Users\user\Desktop\project\node_modules\express\lib\application.js
- C:\Users\user\Desktop\project\node_modules\express\lib\express.js
- C:\Users\user\Desktop\project\node_modules\express\index.js
- C:\Users\user\Desktop\project\server.js
    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:925:15)
    at Function.Module._load (node:internal/modules/cjs/loader:769:27)
    at Module.require (node:internal/modules/cjs/loader:997:19)
    at require (node:internal/modules/cjs/helpers:92:18)
    at Object.&lt;anonymous&gt; (C:\Users\user\Desktop\project\node_modules\qs\lib\stringify.js:3:13)
    at Module._compile (node:internal/modules/cjs/loader:1108:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1137:10)
    at Module.load (node:internal/modules/cjs/loader:973:32)
    at Function.Module._load (node:internal/modules/cjs/loader:813:14)
    at Module.require (node:internal/modules/cjs/loader:997:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    'C:\\Users\\user\\Desktop\\project\\node_modules\\qs\\lib\\stringify.js',
    'C:\\Users\\user\\Desktop\\project\\node_modules\\qs\\lib\\index.js',
    'C:\\Users\\user\\Desktop\\project\\node_modules\\express\\lib\\middleware\\query.js',
    'C:\\Users\\user\\Desktop\\project\\node_modules\\express\\lib\\application.js',
    'C:\\Users\\user\\Desktop\\project\\node_modules\\express\\lib\\express.js',
    'C:\\Users\\user\\Desktop\\project\\node_modules\\express\\index.js',
    'C:\\Users\\user\\Desktop\\project\\server.js'
  ]
}
</code></pre>
",<javascript><express><npm>,0.0,0,0,1
38213,37685,66973232,1,0,6877970,1.0,1.0,0.0,0.0,2021-04-06T17:05:32.467,0.0,376.0,ReferenceError: describe is not defined WHEN run npm run dev,"<p>Any something wrong with my package.json? The test is green when I run npm run test. But when I run npm run dev, the test is also run. There is no command config I write that it should run test when I run npm run dev</p>
<p><a href=""https://i.stack.imgur.com/0kO1h.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/0kO1h.png"" alt=""project structure"" /></a></p>
<p>here is my package.json</p>
<pre><code>  &quot;name&quot;: &quot;domundotech-cashier&quot;,
  &quot;version&quot;: &quot;0.0.0&quot;,
  &quot;private&quot;: true,
  &quot;scripts&quot;: {
    &quot;start&quot;: &quot;node ./bin/www&quot;,
    &quot;dev&quot;: &quot;set DEBUG=domundotech-cashier:* &amp; nodemon --exec &amp; npm start&quot;,
    &quot;test&quot;: &quot;node ./node_modules/mocha/bin/mocha \&quot;*/*.spec.js\&quot;&quot;
  },
  &quot;dependencies&quot;: {
    &quot;acorn&quot;: &quot;^8.1.0&quot;,
    &quot;body-parser&quot;: &quot;^1.19.0&quot;,
    &quot;cookie-parser&quot;: &quot;~1.4.4&quot;,
    &quot;cors&quot;: &quot;^2.8.5&quot;,
    &quot;debug&quot;: &quot;~2.6.9&quot;,
    &quot;dotenv&quot;: &quot;^8.2.0&quot;,
    &quot;eslint-plugin-jest&quot;: &quot;^24.3.3&quot;,
    &quot;express&quot;: &quot;~4.16.1&quot;,
    &quot;express-useragent&quot;: &quot;^1.0.15&quot;,
    &quot;http-errors&quot;: &quot;~1.6.3&quot;,
    &quot;install&quot;: &quot;^0.13.0&quot;,
    &quot;jade&quot;: &quot;~1.11.0&quot;,
    &quot;moment-timezone&quot;: &quot;^0.5.33&quot;,
    &quot;morgan&quot;: &quot;~1.9.1&quot;,
    &quot;mysql2&quot;: &quot;^2.2.5&quot;,
    &quot;node-device-detector&quot;: &quot;^1.3.4&quot;,
    &quot;npm&quot;: &quot;^7.8.0&quot;,
    &quot;request&quot;: &quot;^2.88.2&quot;,
    &quot;sequelize&quot;: &quot;^6.6.2&quot;,
    &quot;typescript&quot;: &quot;^4.2.3&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;sequelize-test-helpers&quot;: &quot;^1.3.2&quot;,
    &quot;proxyquire&quot;: &quot;^2.1.3&quot;,
    &quot;mocha&quot;: &quot;^8.3.2&quot;,
    &quot;chai&quot;: &quot;^4.3.4&quot;,
    &quot;sinon&quot;: &quot;^10.0.0&quot;,
    &quot;sinon-chai&quot;: &quot;^3.6.0&quot;,
    &quot;supertest&quot;: &quot;^6.1.3&quot;,
    &quot;@typescript-eslint/eslint-plugin&quot;: &quot;^4.20.0&quot;,
    &quot;@typescript-eslint/parser&quot;: &quot;^4.20.0&quot;,
    &quot;eslint&quot;: &quot;^7.23.0&quot;,
    &quot;eslint-config-standard&quot;: &quot;^16.0.2&quot;,
    &quot;eslint-plugin-import&quot;: &quot;^2.22.1&quot;,
    &quot;eslint-plugin-node&quot;: &quot;^11.1.0&quot;,
    &quot;eslint-plugin-promise&quot;: &quot;^4.3.1&quot;,
    &quot;sequelize-cli&quot;: &quot;^6.2.0&quot;
  }
}
</code></pre>
<p>and this for the error logs
<a href=""https://i.stack.imgur.com/6LyBO.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/6LyBO.png"" alt=""error logs"" /></a></p>
",<javascript><express><npm>,0.0,0,0,1
38285,37757,67042812,1,67042870,13261410,2.0,0.0,0.0,0.0,2021-04-11T08:20:09.007,0.0,1885.0,How can I remove dependency on body-parser?,"<p>I already installed express module and body-parser now I can use express to get all the things I required from the user and there's no need of body-parser anymore, so how do I remove it?
<a href=""https://i.stack.imgur.com/hEEyP.png"" rel=""nofollow noreferrer"">when i start my server</a></p>
",<node.js><express><npm><backend>,0.0,0,0,1
38442,37914,67190262,1,0,518973,1.0,0.0,0.0,0.0,2021-04-21T06:19:41.480,0.0,175.0,Unexpected identifier in express app on npm start,"<p>I have a node application using Express and has the following code in <code>app.js</code> file</p>
<pre><code>import express from 'express'

const app = express()

module.exports = app
</code></pre>
<p>and I have another <code>js</code> file which is stored in <code>bin/www</code> and it has following content.</p>
<pre><code>#!/usr/bin/env node

/**
 * Module dependencies.
 */

import app from '../app'
import http from 'http'
import DEBUG from 'debug'

const debug = DEBUG('tmp:server')


/**
 * Get port from environment and store in Express.
 */

const port = '3000';
app.set('port', port);

/**
 * Create HTTP server.
 */

const server = http.createServer(app);

/**
 * Listen on provided port, on all network interfaces.
 */

server.listen(port);
server.on('error', onError);
server.on('listening', onListening);
</code></pre>
<p>Now in my <code>package.json</code> file, I have the npm start command as follows:</p>
<pre><code>&quot;scripts&quot;: {
    &quot;start&quot;: &quot;node ./bin/www&quot;,
</code></pre>
<p>But when I run <code>npm start</code>, I am getting the following error:</p>
<pre><code>import app from '../app'
       ^^^

SyntaxError: Unexpected identifier
    at Module._compile (internal/modules/cjs/loader.js:703:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:770:10)
    at Module.load (internal/modules/cjs/loader.js:628:32)
    at Function.Module._load (internal/modules/cjs/loader.js:555:12)
    at Function.Module.runMain (internal/modules/cjs/loader.js:826:10)
    at internal/main/run_main_module.js:17:11
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! cloud-search-server@1.0.0 start: `node ./bin/www`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the cloud-search-server@1.0.0 start script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
</code></pre>
<p>Actually, the <code>app.js</code> file had more code, but I have removed most of it for debugging. It is not working even with this code. How can I fix this?</p>
",<node.js><express><npm>,1.0,0,0,1
38632,38104,67362709,1,67362753,0,1.0,0.0,0.0,0.0,2021-05-03T02:02:39.020,0.0,99.0,"How to store uploaded files using multer , Nodejs , JS?","<p>I have multi part form data with one file input and several other text inputs , i have a dir named as ' public ' in which i have a dir named ' uploads ' i want to store all my multer uploads there , but can't figure out why they aren't uploading there , Below is my code (at last i will mention a ss of my file hirarchy)
<strong>app.js</strong> file</p>
<pre><code>const express = require('express')
const app = express()
const path = require('path');
const port = process.env.PORT || 3000;
const multer = require('multer');
let publicPath = path.join(__dirname , &quot;../public&quot;);
app.set('view engine','ejs');
app.use(express.static(publicPath));

var storage = multer.diskStorage({
  destination: function(req, file, cb) {
      cb(null, '/uploads');
   },
  filename: function (req, file, cb) {
      cb(null , file.originalname);
  }
});
var upload = multer({ storage: storage })
app.get('/', (req, res) =&gt; {
    res.redirect('/login');
    
})
app.get('/login',(req,res)=&gt;{
  res.render('login-register/login');
})
app.get('/register',(req,res)=&gt;{
  res.render('login-register/register');
})
// POST 
app.post('/login',(req,res)=&gt;{

})
app.post('/register',upload.single('imageInput'),(req,res)=&gt;{
  console.log(req.body);
  console.log(&quot;file size:&quot;+req.file.size);
  console.log(req.file.path);
})
app.listen(port, () =&gt; {
  console.log(`Example app listening at http://localhost:${port}`)
})

</code></pre>
<p>I can see everything like file size , file name but just i cant see where the files are being uploaded and i want them to go in ' <em><strong>uploads</strong></em> ' directory
Below is code for <strong>reg.ejs</strong> file</p>
<pre><code> &lt;form class=&quot;row g-3 needs-validation login-form&quot; method=&quot;POST&quot; action=&quot;/register&quot; enctype=&quot;multipart/form-data&quot;&gt;
        &lt;div class=&quot;profileImage&quot;&gt;
          &lt;img id=&quot;profileImage&quot; src=&quot;/images/placeholder.jpg&quot; alt=&quot;&quot;&gt;
          &lt;input type=&quot;file&quot; name=&quot;imageInput&quot; id=&quot;FileUpload1&quot; style=&quot;display: none&quot; /&gt;
        &lt;/div&gt;
        &lt;div class=&quot;col-md-4&quot;&gt;
          &lt;label for=&quot;validationCustom01&quot; class=&quot;form-label&quot;&gt;Email&lt;/label&gt;
          &lt;input type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;validationCustom01&quot; name=&quot;email&quot; required&gt;
          &lt;div class=&quot;valid-feedback&quot;&gt;
            Looks good!
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class=&quot;col-md-4&quot;&gt;
          &lt;label for=&quot;validationCustom02&quot; class=&quot;form-label&quot;&gt;Password&lt;/label&gt;
          &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;validationCustom02&quot; name=&quot;password&quot; placeholder=&quot;atleast 6&quot; required&gt;
          &lt;div class=&quot;valid-feedback&quot;&gt;
            Looks good!
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class=&quot;col-md-4&quot;&gt;
          &lt;label for=&quot;validationCustomUsername&quot; class=&quot;form-label&quot;&gt;Username&lt;/label&gt;
          &lt;div class=&quot;input-group has-validation&quot;&gt;
            &lt;span class=&quot;input-group-text&quot; id=&quot;inputGroupPrepend&quot;&gt;@&lt;/span&gt;
            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;validationCustomUsername&quot; aria-describedby=&quot;inputGroupPrepend&quot; name=&quot;username&quot; required&gt;
            &lt;div class=&quot;invalid-feedback&quot;&gt;
              Please choose a username.
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class=&quot;col-md-6&quot;&gt;
          &lt;label for=&quot;validationCustom03&quot; class=&quot;form-label&quot;&gt;CollegeName&lt;/label&gt;
          &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;validationCustom03&quot; name=&quot;collegeName&quot; required&gt;
          &lt;div class=&quot;invalid-feedback&quot;&gt;
            Please provide a valid city.
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class=&quot;col-md-3&quot;&gt;
          &lt;label for=&quot;validationCustom04&quot; class=&quot;form-label&quot;&gt;Branch&lt;/label&gt;
          &lt;select class=&quot;form-select&quot; name=&quot;branch&quot; id=&quot;validationCustom04&quot; required&gt;
            &lt;option selected disabled value=&quot;&quot;&gt;Choose...&lt;/option&gt;
            &lt;option&gt;Mech/AutoMobile&lt;/option&gt;
            &lt;option&gt;Electrical/Entc&lt;/option&gt;
            &lt;option&gt;COMP/IT&lt;/option&gt;
            &lt;option&gt;Civil&lt;/option&gt;
            &lt;option&gt;Aerospace/Aeronautical&lt;/option&gt;
            &lt;option&gt;Biotech&lt;/option&gt;
            &lt;option&gt;Other&lt;/option&gt;
          &lt;/select&gt;
          &lt;div class=&quot;invalid-feedback&quot;&gt;
            Please select a valid state.
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class=&quot;col-md-3&quot;&gt;
          &lt;label for=&quot;validationCustom05&quot; class=&quot;form-label&quot;&gt;Sem&lt;/label&gt;
          &lt;input type=&quot;text&quot; name=&quot;sem&quot; class=&quot;form-control&quot; id=&quot;validationCustom05&quot; &gt;
          &lt;div class=&quot;invalid-feedback&quot;&gt;
            Provide a sem (optional)
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class=&quot;col-12&quot;&gt;
          &lt;div class=&quot;form-check&quot;&gt;
            &lt;input class=&quot;form-check-input&quot; type=&quot;checkbox&quot; value=&quot;&quot; id=&quot;invalidCheck&quot; required&gt;
            &lt;label class=&quot;form-check-label&quot; for=&quot;invalidCheck&quot;&gt;
              Agree to terms and conditions
            &lt;/label&gt;
            &lt;div class=&quot;invalid-feedback&quot;&gt;
              You must agree before submitting.
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class=&quot;col-12&quot;&gt;
          &lt;button class=&quot;btn btn-primary&quot; type=&quot;submit&quot;&gt;Submit form&lt;/button&gt;
        &lt;/div&gt;
      &lt;/form&gt;
</code></pre>
<p>ss for my file hirarchy , as you can see the folder for named '<strong>uploads</strong> ' is empty , uploads is located inside the ' <strong>public</strong> ' folder
<a href=""https://i.stack.imgur.com/JGApv.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/JGApv.png"" alt=""HIRARCHY"" /></a></p>
",<javascript><node.js><express><npm><multer>,0.0,0,0,1
38633,38105,67362872,1,0,15819122,1.0,0.0,0.0,0.0,2021-05-03T02:35:50.483,2.0,157.0,How can I change a hardcoded parameter into an input value by user and then render the result of the function to a new page?,"<p>I am trying to create a really simple web app to search for books using ISBN. The site will have a text input for ISBN and a submit button. So basically a user can input an ISBN in the input box, hit submit and render a display page displaying the isbn, title, author, description, etc. I am using node-isbn from npm to help me link my code to isbn APIs. I just don't know how to implement node-isbn into my code.</p>
<p>Here's a link to node-isbn (<a href=""https://www.npmjs.com/package/node-isbn"" rel=""nofollow noreferrer"">https://www.npmjs.com/package/node-isbn</a>).</p>
<pre><code>//schema
const mongoose = require('mongoose');
const Schema = mongoose.Schema;
const BookSchema = new Schema ({

    isbn: Number,
    title: String,
    author: String,
    description: String
    });

module.exports = mongoose.model('Book', BookSchema);
</code></pre>
<pre><code>//ejs
&lt;form action=&quot;/display&quot; methods=&quot;POST&quot;&gt;
        &lt;div&gt;
            &lt;label for=&quot;isbn&quot;&gt;Enter ISBN&lt;/label&gt;
            &lt;input type=&quot;text&quot; name=&quot;isbn&quot; id=&quot;isbn&quot; placeholder=&quot;enter ISBN&quot;&gt;
            &lt;button&gt;Submit&lt;/button&gt;
        &lt;/div&gt;
    &lt;/form&gt;
</code></pre>
<pre><code>//app.js with hardcoded isbn# as parameter. How can I render the result of the code below (using app.get) to /display page?

isbn.resolve('0735619670', function (err, book) {
            if (err) {
                console.log('Book not found', err);
            } else {
                console.log('Book found ', book);
            }
        });
</code></pre>
",<javascript><node.js><express><npm><mongoose>,0.0,0,0,1
38644,38116,67378837,1,0,12892752,1.0,0.0,0.0,0.0,2021-05-04T04:32:14.740,0.0,361.0,"After making a route for sitemap using 'sitemap' module at the backend, what to do next so that it is discoverable at the frontend?","<p>This is the sitemap route I created to dynamically generate a sitemap. Now what to do next so that I can see sitema.xml full of links</p>
<p>sitemap.js</p>
<pre><code>const { SitemapStream, streamToPromise } = require ('sitemap');
const express = require ('express');
const router = express.Router();
const Job = require ('../models/Job');
const PrivateJob =require ('../models/PrivateJob');




let sitemap;

router.get('/sitemap.xml',async(req,res)=&gt;{
    try {
        const list= Job.find().select('slug');
        const listPvt= PrivateJob.find().select('slug');



        const jobs = list.map( ({ slug }) =&gt; `/jobs/${slug}`);
        const privateJobs = listPvt.map( ({ slug }) =&gt; `/privateJobs/${slug}`);

        const smStream = new SitemapStream({ hostname: 'http://localhost:3000/' })
        const pipeline = smStream.pipe(createGzip());

        jobs.forEach(function(item1) {
            // Update as required
            smStream.write({ url: item1, changefreq: 'weekly', priority: 0.8})
        });

        privateJobs.forEach(function(item2) {
            // Update as required
            smStream.write({ url: item2, changefreq: 'weekly', priority: 0.6})
        });

        streamToPromise(pipeline).then(sm =&gt; sitemap = sm)
        
        smStream.end()

        // Show errors and response
        pipeline.pipe(res).on('error', (e) =&gt; {throw e})

        
    } catch (err) {
        console.error(e)
        res.status(500).end()
    }
})

module.exports = router;
</code></pre>
<p>What to do next so that it can be discoverable at the frontend as I am using next.js at the frontend</p>
",<express><npm><next.js><sitemap>,0.0,0,0,1
38667,38139,67394734,1,0,11704842,1.0,2.0,0.0,0.0,2021-05-05T03:15:31.517,0.0,721.0,"""npm run build"" Command in an Express App Colliding on Imports with Typescript and React Native","<p>I have an Express app that I build and run using <code>npm run serve</code> which I define in my <code>package.json</code> scripts serve section as: 'npm run build &amp;&amp; node lib/index.js'. Recently, I installed React Native for another project, however, when I return to my express project and attempt to build it with <code>npm run build</code>, I recieve multiple duplicate declaration errors in the terminal:</p>
<p><a href=""https://i.stack.imgur.com/wJUYL.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/wJUYL.png"" alt=""enter image description here"" /></a></p>
<p><a href=""https://i.stack.imgur.com/Oxs12.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Oxs12.png"" alt=""enter image description here"" /></a></p>
<p>React Native is not defined anywhere in my Express project, when I examine my node modules, there is no react-native package even installed. Before installing React Native in another project this command worked fine, the Express project has not been changed since it last compiled succefully.</p>
",<node.js><react-native><express><npm><node-modules>,0.0,0,1,1
38761,38233,67460781,1,0,974925,0.0,1.0,0.0,0.0,2021-05-09T17:51:33.473,1.0,35.0,ExpressJS webseite works local but returns 403 Forbidden online,"<p>I'm trying to get <a href=""https://github.com/yTakkar/Vue-Mini-Social-Network"" rel=""nofollow noreferrer"">this example</a> <a href=""https://expressjs.com/"" rel=""nofollow noreferrer"">ExpressJS</a> app running on my server.
Offline (on localhost) it is working correctly after running <code>npm start</code>.</p>
<p>I uploaded all files, installed everything through <em>npm install</em>, started the <em>nodemon</em> through SSH <code>npm start</code>and got the <code>App Running</code> response.</p>
<p>If I try now to open the URL of the website it returns <strong>403 Forbidden</strong>.</p>
<p>What do I need to change to make it work?</p>
<p>(It's my first time working with ExpressJS - maybe it's just a noob issue. Could this be a HOST or PORT issue?)</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
38762,38234,67461343,1,0,12353305,0.0,3.0,0.0,0.0,2021-05-09T18:57:42.117,0.0,67.0,This is an inquiry to use npm pkg module,"<p>I created an exe file using the pkg module.
The project is an express server, and an exe file was created using pkg.
But when I run it, it ends immediately.</p>
<p>Install with npm install pkg -g
created with pkg app.js</p>
<p>Immediately exit after executing the exe file</p>
<p>I don't know what the problem is.
Please help, thank you.</p>
",<node.js><express><npm>,0.0,0,0,1
38820,38292,67511168,1,67713470,4846598,1.0,5.0,0.0,0.0,2021-05-12T21:26:18.160,3.0,334.0,Express pre remove triggers another pre remove on remove,"<p>Let's say I have 4 models like so:</p>
<pre class=""lang-text prettyprint-override""><code>┌────────────┐      ┌────────────┐
│    User    │      │    Goal    │
├────────────┤ 1    ├────────────┤ 1
│    _id     │◄──┐  │    _id     │◄──┐
└────────────┘   └──┤  ref_user  │   │
                1..*└────────────┘   │
                                     │
┌───────────┐     ┌───────────────┐  │
│   Date    │     │     Data      │  │
├───────────┤ 1   ├───────────────┤  │
│ _id: date │◄─┐  │     _id       │  │
└───────────┘  └──┤    ref_date   │  │
                1 │    ref_goal   ├──┘
                  └───────────────┘ *
</code></pre>
<p>I created a <code>pre remove</code> when deleting a data it automatically removes the date associated.</p>
<pre><code>DataSchema.pre('remove', async function (next) {
    try {
        await DateModel.findByIdAndRemove(this.ref_date);
        console.log(&quot;Date removed&quot;);
        next();
    } catch (err) {
        console.log(err);
        next(err);
    }
});
</code></pre>
<p>The issue I am facing is that when I remove a goal, I want all the Data associated to be deleted (it works) BUT I want the DataModel.remove to triggers its <code>pre remove</code> and remove its Date.
In a logical perspective, when removing data on the <code>pre remove</code> hook in Goal, this also should trigger the <code>pre remove</code> in Data since Data data are removed. Why when removing a data from another <code>pre remove</code> hook it doesn't trigger its <code>pre remove</code> ?</p>
<p>From Goal, I can retreive an array of Data, but I don't think that looping through the array and removing one by one the date is a good practrice.</p>
<p>Is there a way to triggeres the pre remove from Data, from the pre remove from Goal ? Or a way to remove all the Date from an array of Data ?</p>
<p>ps: in the futur, I want the same thing again when deleting a user (deleting all its goals that deletes all the data and the date).</p>
<p>Edit :</p>
<p>As requested, he is my goal pre-remove hook</p>
<pre><code>GoalSchema.pre('remove', async function (next) {
    try {
        await DataModel.deleteMany({ 'ref_goal': this._id });
        console.log(&quot;Data removed&quot;);
        next();
    } catch (err) {
        console.log(err);
        next(err);
    }
});
</code></pre>
<p>I tried <code>deleteMany</code>, <code>remove</code>, etc. but none seems to trigger the <code>Data</code> pre-remove hook</p>
<p>Env:</p>
<pre><code>&quot;express&quot;: &quot;^4.17.1&quot;,
&quot;mongoose&quot;: &quot;^5.12.2&quot;,
</code></pre>
",<javascript><api><express><npm><mongoose>,0.0,0,0,1
38877,38349,67557404,1,0,15605539,1.0,0.0,0.0,0.0,2021-05-16T13:44:59.480,-1.0,379.0,How to read and compare the contents of files (check if the lenght of the strings the same),"<p>I have a web application that allows me to upload files(text, code) and then saves them in a local folder.
What I'm trying to do is to read the files and then compare if the length of the files is the same and print out a report saying it is or it isn't. Down bellow is the code I am trying to implement but currently its not working.</p>
<pre><code>

const fileStorageEngine = multer.diskStorage({
     destination: (req,file , cb) =&gt;{
         cb(null,'./db');
     },
    filename: (req,file,cb)=&gt;{
         cb(null, file.originalname);
    },
});
const upload = multer({storage:fileStorageEngine});

application.post('/uploads', upload.array(&quot;file&quot;, 28), (req, res) =&gt; {
    let files = req.files;

    for (let file of files){
        files.shift();
    //    --------------------------
        function readFile(name){
            return new Promise(resolve =&gt;{
                fs.readFile(name,function (err,data){

            } );
        });
        Promise.all(readFile(file),readFile(files).then(data =&gt;{
            let file1 = data[0];
            let file2 = data[1];

        }));






    }

    // Send compare result
    res.send(&quot;Files successfully uploaded&quot;);


});

----------------------------------------------------------

let fileData = new FormData();
    const inpFile = document.getElementById(&quot;inpFile&quot;);
    const btnUpload = document.getElementById(&quot;btnUpload&quot;);


    btnUpload.addEventListener(&quot;click&quot;, function () {
        for (let file of inpFile.files) {
            fileData.append('file', file);
        }

        fetch('http://localhost:8080/uploads', {
            method: 'post',
            body: fileData,
        }).then((response) =&gt; {
            console.log(response);
        //     Compare results




        }).catch(console.error);
</code></pre>
",<javascript><node.js><express><npm>,0.0,0,0,1
39028,38500,67672605,1,67672970,14750064,1.0,0.0,0.0,0.0,2021-05-24T13:07:44.527,1.0,254.0,body-parser doesn't function for express,"<p>so, i got that &quot;body-parser is deprecated&quot; error when using <code>app.use(bodyParser.urlencoded({extended:true}))</code> and i think i fixed that using
<code>app.use(express.json)</code>
<code>app.use(express.urlencoded({ extended: true }))</code> but now my site won't load. I don't know exactly how this works, but this is all my nodejs code</p>
<pre><code>const express = require('express')
const app = express()
const bodyParser = require('body-parser')
const path = require('path')
const session = require('express-session')


app.use(express.json)
app.use(express.urlencoded({ extended: true }))
app.use(express.static('static'));

app.get('/', (req, res) =&gt; {
    res.sendFile(&quot;static/showcase.html&quot;, { root: __dirname });
});
</code></pre>
<p>so what's the problem and how can i fix it?</p>
",<node.js><express><npm><body-parser>,0.0,0,0,1
39046,38518,67681324,1,0,15850620,0.0,7.0,0.0,0.0,2021-05-25T03:19:44.090,0.0,232.0,How to make session data available to all templates in Node.js Express,"<p>I want access <code>user_name</code> data after login to HTML templates. Since I am using <code>sess.user_name</code> in <code>app.post('/login', (req, res)</code> which render to <em>home_main.html</em>. Hence, after redirecting to different HTML pages from <em>home_main.html</em> <code>user_name</code> is not accessible. How to make this available in all templates?</p>
<p><strong>index.js</strong></p>
<pre><code>// Import all function modules
...
// Define Express app settings
...
app.set('views', __dirname + '/template/demo');
app.engine('html', require('ejs').renderFile);
app.set('view engine', 'html');
app.use(express.static(__dirname + '/template')); 
app.use(express.static(__dirname + '/template/demo')); 

const session = require('express-session');

app.use(session({
    resave: false, 
    saveUninitialized: true,
    secret: 'Educhain app', 
    cookie: {maxAge: 60 * 1000 * 30}
}));
var sess;

app.post('/login', (req, res) =&gt; {
        login.execute(req.body.username)
                .then(() =&gt; {
                    console.log('Logged in successfully');
                    sess=req.session;
                    sess.user_name= req.body.username;
                    
                    console.log(req.session.user_name);
    
                    const result = {
                        status: 'success',
                        message: 'Logged in successfully',
                        username: sess.user_name
                    };
                    
                    res.render( __dirname + &quot;/template/demo/&quot; + &quot;home_main.html&quot;, {result:result}); 
                })
                .catch((e) =&gt; {
                    const result = {
                        status: 'error',
                        message: 'Login failed. Enter valid credentials',
                        error: e
                    };
                    console.log(e);
                    res.render( __dirname + &quot;/template/demo/&quot; + &quot;login.html&quot;, {result:result});
                });
    });
</code></pre>
<p>This <code>sess.user_name</code> data is only available in <em>home_main.html</em>. As I have sent it in <code>res.render(&quot;home_main.html&quot;, {result:result});</code> . It is in result object. But how do I make this user_name available to further HTML views?</p>
<p>For example, on <em>home_main.html</em> there are 2 buttons - <strong>Register for exam</strong> and <strong>View Transactions</strong>, which open a HTML forms. After clicking on any of these buttons, <code>sess.user_name</code> is not available on HTML templates. Please advise.</p>
",<javascript><node.js><session><npm><express-session>,0.0,0,0,1
39064,38536,67697529,1,0,6365949,0.0,1.0,0.0,0.0,2021-05-26T01:45:40.120,1.0,619.0,nodejs spotify web api cant authenticate with access_token,"<p><strong><a href=""https://github.com/MartinBarker/nodejs-express-template/tree/spotifyAPI"" rel=""nofollow noreferrer"">[My code is on the 'spotifyAPI' branch of this repo]</a></strong>
Hello, I am trying to make a nodejs website where somebody can login to their spotify account, and I can make api calls like get their top tracks / get info on an artist / edit playlists etc...</p>
<p>I've been trying to use this npm library: <a href=""https://github.com/thelinmichael/spotify-web-api-node"" rel=""nofollow noreferrer"">https://github.com/thelinmichael/spotify-web-api-node</a>
And a couple other methods but have yet to successfully do so. The workflow I'm trying to get working looks like this:</p>
<ol>
<li>User goes to http://localhost:3000/login route which will redirect you to spotify login page</li>
<li>once user logs in, spotify will redirect them back to http://localhost:3000/callback
The url will look something like this:</li>
</ol>
<pre><code>http://localhost:3000/callback?code=AQC6MROz21231321231231231231231231231231231231231-EXAMPLE-CODE-3212123123123YcBz8VyvtSe#_=_
</code></pre>
<ol start=""3"">
<li>nodejs project gets access_code from the redirected url, uses it to authenticate and start making api requests</li>
</ol>
<p>The problem is with step 3, I can authenticate and get the access_code, but havent been able to make any api requests, on the backend, in my app.js nodejs server file,  I run this function in order to use the spotify api:</p>
<pre><code>function useSpotifyApi(access_token){
  var SpotifyWebApi = require('spotify-web-api-node');

  // credentials are optional
  var spotifyApi = new SpotifyWebApi({
  //  clientId: 'zzz',
  //  clientSecret: 'zzz',
    redirectUri: 'http://localhost:3000/callback'
  });

  spotifyApi.setAccessToken(access_token);

  // Get Elvis' albums
  spotifyApi.getArtistAlbums('43ZHCT0cAZBISjO8DG9PnE').then(
    function(data) {
      console.log('Artist albums', data.body);
    },
    function(err) {
      console.error(&quot;err=&quot;,err);
    }
  );

}
</code></pre>
<p>But I always get an error saying the token is invalid:</p>
<pre><code>err= WebapiRegularError: An error occurred while communicating with Spotify's Web API.
Details: Invalid access token.
    at _toError (C:\Users\marti\Documents\projects\nodejs-express-template\node_modules\spotify-web-api-node\src\http-manager.js:39:12)
    at C:\Users\marti\Documents\projects\nodejs-express-template\node_modules\spotify-web-api-node\src\http-manager.js:71:25
    at Request.callback (C:\Users\marti\Documents\projects\nodejs-express-template\node_modules\superagent\lib\node\index.js:905:3)
    at C:\Users\marti\Documents\projects\nodejs-express-template\node_modules\superagent\lib\node\index.js:1127:20
    at IncomingMessage.&lt;anonymous&gt; (C:\Users\marti\Documents\projects\nodejs-express-template\node_modules\superagent\lib\node\parsers\json.js:22:7)
    at Stream.emit (events.js:315:20)
    at Unzip.&lt;anonymous&gt; (C:\Users\marti\Documents\projects\nodejs-express-template\node_modules\superagent\lib\node\unzip.js:53:12)
    at Unzip.emit (events.js:327:22)
    at endReadableNT (_stream_readable.js:1220:12)
    at processTicksAndRejections (internal/process/task_queues.js:84:21) {
  body: { error: { status: 401, message: 'Invalid access token' } },
  headers: {
    'www-authenticate': 'Bearer realm=&quot;spotify&quot;, error=&quot;invalid_token&quot;, error_description=&quot;Invalid access token&quot;',
    'access-control-allow-origin': '*',
    'access-control-allow-headers': 'Accept, App-Platform, Authorization, Content-Type, Origin, Retry-After, Spotify-App-Version, X-Cloud-Trace-Context, client-token, content-access-token',
    'access-control-allow-methods': 'GET, POST, OPTIONS, PUT, DELETE, PATCH',
    'access-control-allow-credentials': 'true',
    'access-control-max-age': '604800',
    'content-type': 'application/json',
    'content-encoding': 'gzip',
    'strict-transport-security': 'max-age=31536000',
    'x-content-type-options': 'nosniff',
    date: 'Wed, 26 May 2021 01:42:45 GMT',
    server: 'envoy',
    via: 'HTTP/2 edgeproxy, 1.1 google',
    'alt-svc': 'clear',
    connection: 'close',
    'transfer-encoding': 'chunked'
  },
  statusCode: 401
}
</code></pre>
<p>Am I doing something wrong? how can i authenticate with the spotify web api using nodejs/express and make api requests ?</p>
",<node.js><express><npm><oauth-2.0><spotify>,1.0,0,0,1
39083,38555,67710262,1,0,14514880,0.0,1.0,0.0,0.0,2021-05-26T17:53:26.483,2.0,180.0,pm2 indicates an error when sudo npm start,"<p>package.json - part of scripts</p>
<pre class=""lang-json prettyprint-override""><code>&quot;main&quot;: &quot;app.js&quot;,
  &quot;scripts&quot;: {
    &quot;start&quot;: &quot;cross-env NODE_ENV=production PORT=80 pm2 start app.js -i 0&quot;,
    &quot;dev&quot;: &quot;nodemon app&quot;
  },
</code></pre>
<p>excute</p>
<pre><code>% sudo npm start
</code></pre>
<pre><code>&gt; api@0.0.0 start
&gt; cross-env NODE_ENV=production PORT=80 pm2 start app.js -i 0

Error: EACCES: permission denied, mkdir '/root/.pm2/logs'
    at Object.mkdirSync (fs.js:1009:3)
    at mkdirpNativeSync (/home/registry/api-npm/node_modules/pm2/node_modules/mkdirp/lib/mkdirp-native.js:29:10)
    at Function.mkdirpSync [as sync] (/home/registry/api-npm/node_modules/pm2/node_modules/mkdirp/index.js:21:7)
    at module.exports.Client.initFileStructure (/home/registry/api-npm/node_modules/pm2/lib/Client.js:133:25)
    at new module.exports (/home/registry/api-npm/node_modules/pm2/lib/Client.js:38:8)
    at new API (/home/registry/api-npm/node_modules/pm2/lib/API.js:108:19)
    at Object.&lt;anonymous&gt; (/home/registry/api-npm/node_modules/pm2/lib/binaries/CLI.js:22:11)
    at Module._compile (internal/modules/cjs/loader.js:1068:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1097:10)
    at Module.load (internal/modules/cjs/loader.js:933:32)
Error: EACCES: permission denied, mkdir '/root/.pm2/pids'
    at Object.mkdirSync (fs.js:1009:3)
    at mkdirpNativeSync (/home/registry/api-npm/node_modules/pm2/node_modules/mkdirp/lib/mkdirp-native.js:29:10)
    at Function.mkdirpSync [as sync] (/home/registry/api-npm/node_modules/pm2/node_modules/mkdirp/index.js:21:7)
    at module.exports.Client.initFileStructure (/home/registry/api-npm/node_modules/pm2/lib/Client.js:141:25)
    at new module.exports (/home/registry/api-npm/node_modules/pm2/lib/Client.js:38:8)
    at new API (/home/registry/api-npm/node_modules/pm2/lib/API.js:108:19)
    at Object.&lt;anonymous&gt; (/home/registry/api-npm/node_modules/pm2/lib/binaries/CLI.js:22:11)
    at Module._compile (internal/modules/cjs/loader.js:1068:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1097:10)
    at Module.load (internal/modules/cjs/loader.js:933:32)
Error: EACCES: permission denied, open '/root/.pm2/module_conf.json'
    at Object.openSync (fs.js:498:3)
    at Object.writeFileSync (fs.js:1524:35)
    at module.exports.Client.initFileStructure (/home/registry/api-npm/node_modules/pm2/lib/Client.js:149:10)
    at new module.exports (/home/registry/api-npm/node_modules/pm2/lib/Client.js:38:8)
    at new API (/home/registry/api-npm/node_modules/pm2/lib/API.js:108:19)
    at Object.&lt;anonymous&gt; (/home/registry/api-npm/node_modules/pm2/lib/binaries/CLI.js:22:11)
    at Module._compile (internal/modules/cjs/loader.js:1068:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1097:10)
    at Module.load (internal/modules/cjs/loader.js:933:32)
    at Function.Module._load (internal/modules/cjs/loader.js:774:14)
Error: EACCES: permission denied, mkdir '/root/.pm2/modules'
    at Object.mkdirSync (fs.js:1009:3)
    at mkdirpNativeSync (/home/registry/api-npm/node_modules/pm2/node_modules/mkdirp/lib/mkdirp-native.js:29:10)
    at Function.mkdirpSync [as sync] (/home/registry/api-npm/node_modules/pm2/node_modules/mkdirp/index.js:21:7)
    at module.exports.Client.initFileStructure (/home/registry/api-npm/node_modules/pm2/lib/Client.js:157:25)
    at new module.exports (/home/registry/api-npm/node_modules/pm2/lib/Client.js:38:8)
    at new API (/home/registry/api-npm/node_modules/pm2/lib/API.js:108:19)
    at Object.&lt;anonymous&gt; (/home/registry/api-npm/node_modules/pm2/lib/binaries/CLI.js:22:11)
    at Module._compile (internal/modules/cjs/loader.js:1068:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1097:10)
    at Module.load (internal/modules/cjs/loader.js:933:32)

                        -------------
                        Omitted below
</code></pre>
<p>how can i solve this problem?</p>
<p>how i did it</p>
<ul>
<li>first. i reinstall node and npm</li>
<li>second. excute <code>sudo npm i -g pm2@latest</code></li>
</ul>
<p>I use node v14.17.0 &amp;&amp; npm v7.14.0 with n.</p>
<p>this problem to occur at ec2 and wsl2 (they use ubuntu 20.04 LTS).</p>
",<node.js><express><npm><pm2>,1.0,0,0,1
39089,38561,67716929,1,0,9246940,0.0,2.0,0.0,0.0,2021-05-27T06:41:15.880,0.0,15.0,How to parse the string in javascript (NodeJs)?,"<p>I want to parse the string:</p>
<pre><code>https:&amp;#x2F;&amp;#x2F;google.com, https:&amp;#x2F;&amp;#x2F;www.youtube.com&amp;#x2F;
</code></pre>
<p>into the normal text like:</p>
<pre><code>https://google.com, https://www.youtube.com/
</code></pre>
<p>In there any npm package available out there to do this job? Please help.
Thanks :)</p>
",<javascript><node.js><express><npm><html-parsing>,0.0,0,0,1
39269,38741,67855497,1,67855860,15565410,1.0,0.0,0.0,0.0,2021-06-06T03:13:32.297,-5.0,337.0,storing variables in webserver with nodejs and express,"<p>i'm trying to create a web server that saves variables to a webserver on each situation, due to caching is it possible?,
like res.send(data)
i'm trying to make something like webdb(not sure if works)</p>
<blockquote>
<p>This Webserver Uses Express
edit:
SOLVED
<strong>_</strong></p>
</blockquote>
",<node.js><json><express><npm>,0.0,0,0,1
39323,38795,67900246,1,0,16172889,1.0,0.0,0.0,0.0,2021-06-09T08:20:48.833,0.0,764.0,Stream a video from another server to the client through my nodejs server,"<p>I have videos stored on a server (server1) that some clients have no access to, and I have another server (server2) that has access to server1 and the clients have access to.</p>
<p>I want those clients to be able to watch those videos through server2 on their browsers.</p>
<ul>
<li>I can't just redirect them to server1 cuz they can't access it.</li>
<li>I can't download and save the videos on server2 cuz I don't have that much of space on it.</li>
<li>I know how  to stream a <strong>local</strong> video to a client using chunks.</li>
<li>I know how to download and save a video using http.</li>
</ul>
<p>Is there any way I can stream those videos from server1 to the clients using nodejs on server2?</p>
",<node.js><express><npm><video-streaming><nodejs-stream>,0.0,0,0,1
39370,38842,67933085,1,0,14844834,1.0,0.0,0.0,0.0,2021-06-11T07:42:42.423,0.0,545.0,Sandbox Bypass Leading to Arbitrary Code Execution - Jade has been renamed to pug,"<p>I wanna try to make a todo app with node.js, express.js and mongoDb. I install express and I followed these steps:</p>
<pre><code>npm install -g express-generator

cd todo_api

npm install
</code></pre>
<p>got an error npm install.</p>
<p>npm WARN deprecated jade@1.11.0: Jade has been renamed to pug, please install the latest version of pug instead of jade
npm WARN deprecated transformers@2.1.0: Deprecated, use jstransformer
npm notice created a lockfile as package-lock.json. You should commit this file.
added 100 packages from 139 contributors and audited 101 packages in 5.432s
found 4 vulnerabilities (3 low, 1 critical)
run <code>npm audit fix</code> to fix them, or <code>npm audit</code> for details</p>
<pre><code>npm audit fix

npm audit
</code></pre>
<p>I tried npm audit fix and npm audit but problem is continue.</p>
<p>These are the audit outputs:
Critical        Sandbox Bypass Leading to Arbitrary Code Execution</p>
<p>Package         constantinople</p>
<p>Patched in      &gt;=3.1.1</p>
<p>Dependency of   jade</p>
<p>Path            jade &gt; constantinople</p>
<p>More info       <a href=""https://npmjs.com/advisories/568"" rel=""nofollow noreferrer"">https://npmjs.com/advisories/568</a></p>
<p>Low             Regular Expression Denial of Service</p>
<p>Package         clean-css</p>
<p>Dependency of   jade</p>
<p>Path            jade &gt; clean-css</p>
<p>More info       <a href=""https://npmjs.com/advisories/785"" rel=""nofollow noreferrer"">https://npmjs.com/advisories/785</a></p>
",<node.js><mongodb><express><npm><visual-studio-code>,0.0,0,0,1
39677,39149,68167852,1,0,10199303,0.0,5.0,0.0,0.0,2021-06-28T17:40:33.373,0.0,32.0,Array.push not adding data to an array,"<p>Hi guys im new to nodejs and web development in general, can anyone smarter then me please explain why my 'vResult = vResult.push(rows[e].label);' is not working as intented?</p>
<p>When i console the array after the block i get an empty array?
Whilst rows[e].label has a value in the for loop itself.</p>
<p>Am i overlooking something?</p>
<pre><code>const proc = require('../config/db_config');

function findMatch(vLabel){
    vToFind = vLabel;
    vResult = new Array();  

    proc.vPool.getConnection()
    .then(conn =&gt; {
        conn.query(`SELECT * FROM ${process.env.DB_N}.Panels WHERE label = '${vToFind}';`)
        .then(rows =&gt; {

            for (var e = 0; e &lt; rows.length; e++){

                console.log(rows[e].url)
                vResult = vResult.push(rows[e].label);
            }
        })
        .catch(err =&gt; {console.log(err), conn.end})
    })
    .catch(err =&gt; {console.log(err), conn.end})

    return vResult;
}
module.exports = {findMatch};```
</code></pre>
",<javascript><node.js><express><npm>,0.0,0,0,1
39684,39156,68172194,1,0,14145913,2.0,2.0,0.0,0.0,2021-06-29T03:15:07.087,0.0,88.0,"Npm Start not running node.js, not running scripts","<p>I am setting up a project with node &amp; express. I am running the same error message.
I've read multiple help articles suggesting to clear the cache and create new .json files. I've also edited the scripts in the package.json file and had no luck clearing the error.</p>
<pre class=""lang-none prettyprint-override""><code>npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! package@1.0.0 start: `node ./bin/www`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the package@1.0.0 start script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
39706,39178,68189400,1,0,16206697,0.0,4.0,0.0,0.0,2021-06-30T06:23:15.053,0.0,1036.0,How to execute SQL database with chrome extension?,"<p>I have a react app with a connected SQL database running on local host, this works fine. I have now moved my react app into a chrome extension, which also works fine with my database.</p>
<p>My problem is that every time I open the chrome up app I need to run <code>npm run devStart</code> in the console of my SQL server so that the app is able to send and get data.</p>
<p>Is there a way I can automatically start the SQL server when I use the chrome app?</p>
<p>manifest.json</p>
<pre><code>{
&quot;manifest_version&quot;: 2,
&quot;name&quot;: &quot;Study Buddy&quot;,
&quot;author&quot;: &quot;dave&quot;,
&quot;version&quot;:&quot;1.0.1&quot;,
&quot;description&quot;: &quot;All in one app for all your studying needs!&quot;,
&quot;icons&quot;:{
  &quot;16&quot;: &quot;favicon.ico&quot;,
  &quot;48&quot;: &quot;favicon.ico&quot;,
  &quot;128&quot;: &quot;favicon.ico&quot;
},
&quot;browser_action&quot;:{
  &quot;default_popup&quot;:&quot;index.html&quot;,
  &quot;default_title&quot;: &quot;Study Buddy&quot;
},
&quot;background&quot;: {
  &quot;scripts&quot;: [&quot;newbackground.js&quot;],
  &quot;persistent&quot;: false
}
}

</code></pre>
<p>SQLserver.js</p>
<pre><code>const express = require('express'); 
const app = express() 
const mysql = require('mysql'); 
const cors = require('cors') 

const db = mysql.createConnection({
    host:'localhost',
    user: 'root',
    password: '******',
    database: 'calendardb',
});


var currentDate = &quot;&quot;

app.use(cors());
app.use(express.json()); 

// insert information in to DB
app.post('/send',(req,res) =&gt;{
    const userEvent = req.body.userEvent
    const userDate = req.body.userDate
    currentDate = req.body.userDate
    console.log(&quot;FROM DB ADD&quot;,userDate,&quot;d&quot;,currentDate)
    db.query('INSERT INTO calevent (userEvent, userDate) VALUES (?,?)', 
    [userEvent,userDate], (err,result) =&gt;{
        if(err){
            console.log(err)
        } else{
            res.send(&quot;Data send to DB&quot;)
        }
    }
    );
  });

//Getting Specific  data from DB
app.get(&quot;/getData&quot;,(req, res) =&gt;{
    const userDate = req.query.userDate
    console.log(userDate)
    //console.log(req.params.event)
    db.query(&quot;SELECT * FROM calevent WHERE userDate = ?&quot;, userDate, (err, result) =&gt; {
        if(err){
            console.log(err)
        }else{
            res.send(result)
        }
        console.log(result)
    });
});

//Getting ALL data from DB
app.get(&quot;/getAllData&quot;,(req, res) =&gt;{
    const userDate  = currentDate
    console.log(&quot;FROM DB GET&quot;,userDate)
    db.query(&quot;SELECT * FROM calevent&quot;, (err, result) =&gt; {
        if(err){
            console.log(err)
        }else{
            res.send(result)
        }
        console.log(result)
    });
});

//Update data
app.put('/update', (req,res) =&gt; {
    const newUserEvent = req.body.userEvent;
    const id = req.body.id;
    db.query(&quot;UPDATE calevent SET userEvent = ? WHERE id = ?&quot;, [newUserEvent, id],(err, result) =&gt; {
        if(err){
            console.log(err)
        }else{
            res.send(result)
        }
    });
});

app.delete('/delete/:id',(req,res) =&gt;{
    const id = req.params.id;
    db.query(&quot;DELETE FROM calevent WHERE id = ?&quot;,id,(err, result) =&gt; {
        if(err){
            console.log(err)
        } else{
            res.send(result)
        }
    }
        )
})

app.listen(3001, () =&gt;{
    console.log('bonger');
});

</code></pre>
<p>package.json</p>
<pre><code>{
  &quot;name&quot;: &quot;server&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;start&quot;: &quot;node serverIndex.js&quot;,
    &quot;devStart&quot;: &quot;nodemon serverIndex.js&quot;,
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  },
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: {
    &quot;body-parser&quot;: &quot;^1.19.0&quot;,
    &quot;cors&quot;: &quot;^2.8.5&quot;,
    &quot;express&quot;: &quot;^4.17.1&quot;,
    &quot;mysql&quot;: &quot;^2.18.1&quot;,
    &quot;nodemon&quot;: &quot;^2.0.7&quot;
  }
}


</code></pre>
",<mysql><node.js><express><npm><google-chrome-extension>,0.0,0,0,1
39710,39182,68195966,1,0,15808173,0.0,2.0,0.0,0.0,2021-06-30T13:42:44.557,0.0,43.0,Node App not Running in the proper port with npm start. Shows random port,"<p>I want to deploy this node app and while <code>npm start</code> and the app started successfully, though I changed the default node port from <code>3000</code> to <code>3003</code>, I was able to access the app from my <code>localhost:port</code> and then but it only displays the random port and file paths as shown below.</p>
<p>The error message
<code>{&quot;message&quot;:&quot; - Not Found - /&quot;,&quot;stack&quot;:&quot;Error:  - Not Found - /\n    at notFound (/home/dareomotosho/main/middlewares/notFound.js:3:17)\n    at Layer.handle [as handle_request] (/home/dareomotosho/main/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/dareomotosho/main/node_modules/express/lib/router/index.js:317:13)\n    at /home/dareomotosho/main/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/dareomotosho/main/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/dareomotosho/main/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/home/dareomotosho/main/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/home/dareomotosho/main/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/dareomotosho/main/node_modules/express/lib/router/index.js:317:13)\n    at /home/dareomotosho/main/node_modules/express/lib/router/index.js:284:7&quot;}</code></p>
<p>I am confused and don't know what else to do. Thank you for your kind response.</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
39739,39211,68217541,1,0,7033580,1.0,4.0,0.0,0.0,2021-07-01T22:17:44.557,0.0,1330.0,Run NestJS application using app.js (express),"<p>I have a NestJS application that starts fine with:</p>
<p><em>npm start</em> (npm run start:prod)
or
<em>node dist/main</em></p>
<p>However, I want to use app.js and can't figure out how to configure the app.js file to accomplish this.</p>
<p>app.js file</p>
<pre><code>var serverType = 'AM-API-MDD';
var express = require('express');
var http = require('http');
var path = require('path');
var bodyParser = require('body-parser');
var app = express();
var port = process.env.PORT || 3030;

app.use(function(req,res,next){
    res.header(&quot;Access-Control-Allow-Origin&quot;,&quot;*&quot;);
    res.header(&quot;Access-Control-Allow-Methods&quot;, &quot;GET,HEAD,OPTIONS,POST,PUT&quot;);
    res.header(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, X-Requested-With, Content-Type, Accept, x-client-key, x-client-token, x-client-secret, Authorization&quot;);
    next();
    });


app.use(express.static(__dirname + '/dist/'));

//body parse
// parse application/x-www-form-urlencoded
app.use(bodyParser.urlencoded({ limit: '50mb',extended: true }))

// parse application/json
app.use(bodyParser.json({limit: '50mb', extended: true}))
app.all('/*', function(req, res, next) {
    res.sendFile('dist/main.js', { root: __dirname });
});

// Handle 404
app.use(function(req, res) {
    //res.send(‘404: Page not Found’, 404);
    res.status(404).send({status:404, message: '404 Not Found', type:'client'}); 
   });

// Handle 500
app.use(function(error, req, res, next) {
    res.status(500).send({status:500, message: 'internal error', type:'internal'}); 
   });

//listen
var httpServer = http.createServer(app);
httpServer.listen(port,() =&gt; console.log(serverType +' server running on port: '+ port));
</code></pre>
",<node.js><express><npm><nestjs>,0.0,0,0,1
39740,39212,68217875,1,0,9830516,1.0,7.0,0.0,0.0,2021-07-01T23:14:42.567,0.0,35.0,"Why does npm run result in the error: ""Router.use() requires a middleware function but a ' + gettype(fn)""?","<p>This is my server.js file where I have defined routes for my application.</p>
<pre><code>//modules
var express = require('express');
var secure = require('express-force-https');
var app = express();
var path = require('path');
var cfenv = require(&quot;cfenv&quot;);
var bodyParser = require('body-parser');
var secureKeys = require('dotenv').config()
const cors = require('cors');


app.use(secure);
// app.use(bodyParser.json());
app.use(cors());
app.options('*', cors());
// Parse URL-encoded bodies (as sent by HTML forms)
app.use(express.urlencoded({ extended: false }));
// Parse JSON bodies (as sent by API clients)
app.use(express.json());

//routers for recycling company
var cHomepageRouter = require(&quot;./routes/recyclingCompanyHomepage&quot;);
var cWasteAuditRouter = require(&quot;./routes/recyclingCompanyWasteAudit&quot;);
var cRegisterRouter = require(&quot;./routes/recyclingCompanyRegister&quot;);
var cLoginRouter = require(&quot;./routes/recyclingCompanyLogin&quot;);
var cInfomationRouter = require(&quot;./routes/recyclingCompanyInformation&quot;);
var cForgotRouter = require(&quot;./routes/wasteEntitiesForgotPassword&quot;);
var cResetRouter = require(&quot;./routes/recyclingCompanyResetPassword&quot;);
//routers for waste entities
var wHomepageRouter = require(&quot;./routes/wasteEntitiesHomepage&quot;);
var wWasteAuditRouter = require(&quot;./routes/wasteEntitiesWasteAudit&quot;);
var wRegisterRouter = require(&quot;./routes/wasteEntitiesRegister&quot;);
var wLoginRouter = require(&quot;./routes/wasteEntitiesLogin&quot;);
var wInfomationRouter = require(&quot;./routes/wasteEntitiesInformation&quot;);
var wForgotRouter = require(&quot;./routes/wasteEntitiesForgotPassword&quot;);
var wResetRouter = require(&quot;./routes/wasteEntitiesResetPassword&quot;);

// view engine setup
app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'html');

//recycling company routes
app.use('/', cHomepageRouter);
app.use(&quot;/company-register&quot;, cRegisterRouter);
app.use(&quot;/company-login&quot;, cLoginRouter);
app.use(&quot;company-reset&quot;, cResetRouter);
app.use(&quot;/comapny-audit-waste&quot;, cWasteAuditRouter);
app.use(&quot;/comapany-forgot-password&quot;, cForgotRouter);
app.use(&quot;/comapny-information&quot;, cInfomationRouter);
// waste entities routes
app.use(&quot;/w-entity&quot;, wHomepageRouter);
app.use(&quot;entity-register&quot;,wRegisterRouter);
app.use(&quot;/entity-login&quot;, wLoginRouter);
app.use(&quot;/entity-reset&quot;, wResetRouter);
app.use(&quot;/entity-waste-audit&quot;, wWasteAuditRouter);
app.use(&quot;/entity-forgot-password&quot;, wForgotRouter);
app.use(&quot;/entity-information&quot;, wInfomationRouter);

//nodemon server.js to run the server
var port = process.env.PORT || 8000
app.listen(port, function () {
    console.log(&quot;To view your app, open this link in your browser: http://localhost:&quot; + port);
});

module.exports = app;

</code></pre>
<p>This is the error that I get</p>
<pre><code>PS C:\Users\User\Documents\GitHub\project\server&gt; npm start

&gt; cloudant-nodejs-crud@1.0.0 start C:\Users\User\Documents\GitHub\project\server
&gt; node server.js

C:\Users\User\Documents\GitHub\project\server\node_modules\express\lib\router\index.js:458
      throw new TypeError('Router.use() requires a middleware function but got a ' + gettype(fn))
      ^

TypeError: Router.use() requires a middleware function but got a Object
    at Function.use (C:\Users\User\Documents\GitHub\project\server\node_modules\express\lib\router\index.js:458:13)
    at Function.&lt;anonymous&gt; (C:\Users\User\Documents\GitHub\project\server\node_modules\express\lib\application.js:220:21)
    at Array.forEach (&lt;anonymous&gt;)
    at Function.use (C:\Users\User\Documents\GitHub\project\server\node_modules\express\lib\application.js:217:7)
    at Object.&lt;anonymous&gt; (C:\Users\Usr\Documents\GitHub\project\server\server.js:43:5)
    at Module._compile (internal/modules/cjs/loader.js:1137:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1157:10)
    at Module.load (internal/modules/cjs/loader.js:985:32)
    at Function.Module._load (internal/modules/cjs/loader.js:878:14)
    at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:71:12)
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! cloudant-nodejs-crud@1.0.0 start: `node server.js`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the cloudant-nodejs-crud@1.0.0 start script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\User\AppData\Roaming\npm-cache\_logs\2021-07-01T22_31_17_562Z-debug.log
PS C:\Users\User\Documents\GitHub\project\server&gt;
</code></pre>
",<javascript><node.js><express><npm>,1.0,0,0,1
39782,39254,68250987,1,68321036,11315551,6.0,0.0,0.0,0.0,2021-07-05T05:14:33.333,4.0,3190.0,Command failed: wmic process after updating npm in Express app,"<p>In my app.js,</p>
<pre><code>const app = require(&quot;express&quot;)();

const port = 3000;

app.get(&quot;/&quot;, (req, res) =&gt; {
  res.send(&quot;hello world&quot;);
});

app.listen(port, () =&gt; {
  console.log(&quot;server running!&quot;);
});
</code></pre>
<p>This error generated after I save / update the app.js file,</p>
<pre class=""lang-none prettyprint-override""><code>(node:4196) UnhandledPromiseRejectionWarning: Error: Command failed: wmic process where (ParentProcessId=5740) get ProcessId 2&gt; nul
    at checkExecSyncError (child_process.js:630:11)
    at execSync (child_process.js:666:15)
    at kill (C:\Users\SANTOSH\Desktop\nodesql\node_modules\nodemon\lib\monitor\run.js:337:26)
    at Function.run.kill (C:\Users\SANTOSH\Desktop\nodesql\node_modules\nodemon\lib\monitor\run.js:425:7)
    at Bus.&lt;anonymous&gt; (C:\Users\SANTOSH\Desktop\nodesql\node_modules\nodemon\lib\monitor\run.js:495:7)
    at Bus.emit (events.js:327:22)
    at restartBus (C:\Users\SANTOSH\Desktop\nodesql\node_modules\nodemon\lib\monitor\watch.js:228:7)
    at FSWatcher.filterAndRestart (C:\Users\SANTOSH\Desktop\nodesql\node_modules\nodemon\lib\monitor\watch.js:212:16)
    at FSWatcher.emit (events.js:315:20)
    at FSWatcher.emitWithAll (C:\Users\SANTOSH\Desktop\nodesql\node_modules\chokidar\index.js:540:8)
(node:4196) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 2)
</code></pre>
<p>Package.json file,</p>
<pre><code>{
  &quot;name&quot;: &quot;nodesql&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;app.js&quot;,
  &quot;scripts&quot;: {
    &quot;start&quot;: &quot;nodemon app.js&quot;
  },
  &quot;keywords&quot;: [],
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: {
    &quot;body-parser&quot;: &quot;^1.19.0&quot;,
    &quot;express&quot;: &quot;^4.17.1&quot;,
    &quot;mysql2&quot;: &quot;^2.2.5&quot;,
    &quot;sequelize&quot;: &quot;^6.6.4&quot;,
    &quot;sequelize-cli&quot;: &quot;^6.2.0&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;nodemon&quot;: &quot;^2.0.9&quot;
  }
}
</code></pre>
<p>Today I updated my npm to 7.19.1, after that I am getting this error. Otherwise, it has to do something with nodemon.</p>
",<node.js><express><npm><nodemon>,1.0,0,0,1
39817,39289,68274252,1,0,13126651,1.0,2.0,0.0,0.0,2021-07-06T16:29:55.180,2.0,1824.0,Is there a chance the uid's genrated from uuid package can be same?,"<p>I want to generate <code>unique</code> uid for objects which will be stored in database.
I am using <a href=""https://www.npmjs.com/package/uuid"" rel=""nofollow noreferrer"">UUID npm package</a> to generate unique id.
I want to know is there a chance that any of the id's generated by this package can repeat themselves? like the following answer <a href=""https://stackoverflow.com/a/38944736/13126651"">https://stackoverflow.com/a/38944736/13126651</a> speaks about nano id package and how it doesnt generate duplicates, is there same conviction for uuid package too?</p>
<p>ofcourse there can be solution to check database before storing but since this will I/o operation i want to avoid this and since this will be in REST API so i cant even maintain state.</p>
<p>Note :- i am specualting that my API will hit around 1000 times in a day so is there chance of repeating uid's?</p>
<p>Update :- <a href=""https://stackoverflow.com/questions/1155008/how-unique-is-uuid"">How unique is UUID?</a> this question talks about how UUID are unique but if someone can explain does UUID npm package does something extra to ensure it never repeats?</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
39860,39332,68321049,1,0,2635210,1.0,0.0,0.0,0.0,2021-07-09T18:00:50.527,0.0,113.0,Run development or production builds in Heroku according to NODE_ENV,"<p>I have a react + express project where I do server side rendering. My folder structure is like this</p>
<pre><code>root
 client
   build
   node_modules
   public
   src
   package.json
 node_modules
 routes
 server.js
 package.json
</code></pre>
<p>I have two Heroku dynos app-dev and app-prod and I use app-dev for development and app-prod for production and their environments have been set to dev and prod accordingly. My package.json looks like this</p>
<pre class=""lang-json prettyprint-override""><code>{
  &quot;name&quot;: &quot;name&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;server.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,
    &quot;start&quot;: &quot;node server&quot;,
    &quot;server&quot;: &quot;nodemon server&quot;,
    &quot;client&quot;: &quot;npm start --prefix client&quot;,
    &quot;build&quot;: &quot;cd client/ &amp;&amp; npm install &amp;&amp; npm run build&quot;,
    &quot;dev&quot;: &quot;concurrently \&quot;npm run server\&quot; \&quot;npm run client\&quot;&quot;
  },
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: {
    &quot;body-parser&quot;: &quot;^1.18.3&quot;,
    &quot;chalk&quot;: &quot;^4.1.1&quot;,
    &quot;concurrently&quot;: &quot;^6.1.0&quot;,
    &quot;connect-mongo&quot;: &quot;^3.2.0&quot;,
    &quot;cookie-parser&quot;: &quot;^1.4.3&quot;,
    &quot;cookie-session&quot;: &quot;^2.0.0-beta.3&quot;,
    &quot;cors&quot;: &quot;^2.8.5&quot;,
    &quot;dotenv&quot;: &quot;^10.0.0&quot;,
    &quot;express&quot;: &quot;^4.16.4&quot;,
    &quot;express-session&quot;: &quot;^1.15.6&quot;,
    &quot;express-validator&quot;: &quot;^6.11.1&quot;,
    &quot;mongoose&quot;: &quot;^5.4.1&quot;,
    &quot;mongoose-findorcreate&quot;: &quot;^3.0.0&quot;,
    &quot;morgan&quot;: &quot;^1.10.0&quot;,
    &quot;passport&quot;: &quot;^0.4.0&quot;,
    &quot;passport-google-oauth&quot;: &quot;^2.0.0&quot;,
    &quot;passport-google-oauth20&quot;: &quot;^2.0.0&quot;,
    &quot;passport-twitter&quot;: &quot;^1.0.4&quot;,
    &quot;redux-thunk&quot;: &quot;^2.3.0&quot;,
    &quot;http-proxy-middleware&quot;: &quot;^2.0.0&quot;
  }
}
</code></pre>
<p>Now I have got a constants file in my client/src folder that had these</p>
<pre><code>// Constants.js
const prod = {
     url: {
        SS_API_URL: 'https://prod.example.com',
     },
     keys:{
        SS_CLIENT_ID: 'prodClientId',
        SS_X_API_KEY: 'prodApiKey',
     }
};

const dev = {
     url: {
        SS_API_URL: 'https://dev.example.com',  
     },
     keys:{
        SS_CLIENT_ID: 'devClientId',
        SS_X_API_KEY: 'devApiKey',
     } 
};

export const config = process.env.NODE_ENV === 'development' ? dev : prod;
</code></pre>
<p>Now when I upload to Heroku (app-dev) and it builds it, after that it seems to be using the prod.example.com instead of dev.example.com API endpoint. Since the NODE_ENV is development I thought it would take the SS_API_URL for dev but it is taking the SS_API_URL for prod</p>
",<node.js><express><heroku><npm><environment-variables>,0.0,0,0,1
39997,39469,68438439,1,0,12943627,1.0,5.0,0.0,0.0,2021-07-19T09:49:55.857,1.0,2007.0,How to Stop NodeJS process gracefully from npm script,"<p>I've a scenario to run <strong>cypress E2E</strong> test and for which , I need <strong>NodeJS</strong> application to be up. So, I'm using <code>wait-on</code> library and i'm able to run the <strong>cypress E2E</strong> test but it leaves my <strong>NodeJS</strong> application running in background.</p>
<p>I want to end the <strong>NodeJS</strong> process running in background as part of my <code>cypress:e2e</code>  npm script.</p>
<hr />
<p><em><strong>Question</strong></em>:  How can I send <strong>SIGINT</strong> signal from npm script because in my <strong>server.ts</strong>, I'm exiting the process with <strong>SIGINT</strong>. <strong>(no ctrl+c would help)</strong></p>
<hr />
<p><strong>server.ts :</strong></p>
<pre><code>/****************************/
/* Start Up The Node Server */
/****************************/
APP.listen(PORT, () =&gt; {
  logger.info(
    `Node application has started their node server on port ${PORT}`,
  )
})

process.on('SIGINT', () =&gt; process.exit(1))
</code></pre>
<p><strong>npm scripts:</strong></p>
<pre><code>{
    &quot;start&quot;: &quot;node dist/server&quot;,
    &quot;test:e2e&quot;: &quot;ng e2e&quot;,
    &quot;stop&quot;: &quot;&quot;
    &quot;cypress:e2e&quot;: &quot;npm run start &amp; wait-on http://localhost:8080 &amp;&amp; npm run test:e2e &amp;&amp; npm run stop&quot;
}
</code></pre>
<p>Please help to write npm script <strong>&quot;stop&quot;</strong>.</p>
<p>Better solutions or approaches would be appreciated.</p>
<hr />
<p><strong>Solutions tried:</strong></p>
<pre><code>&quot;stop&quot;: &quot;kill -SIGINT %1&quot;
</code></pre>
<p>I still have the process running :</p>
<p><a href=""https://i.stack.imgur.com/aQ41i.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/aQ41i.png"" alt=""enter image description here"" /></a></p>
",<node.js><express><npm><package.json>,0.0,0,0,1
40022,39494,68455331,1,0,10903940,2.0,0.0,0.0,0.0,2021-07-20T12:59:19.773,1.0,703.0,Why is X-Powered-By Header not disabled after using helmet?,"<p>I've installed Helmet on my Express app and integrated it in my app.js using</p>
<pre><code>app.use(helmet());
const helmet = require('helmet');
</code></pre>
<p>When I restarted my app, the X-Powered-by header, however, still is not disabled. <code>app.use(helmet.hidePoweredBy());</code> is not working either.
When looking at my <code>npm list</code> in the console I see helmet@4.6.0 appearing.
My goal is to use other functions from helmet as well, so simply doing <code>app.disable('x-powered-by');</code> is no option..</p>
",<javascript><node.js><express><npm><node-modules>,0.0,0,0,1
40064,39536,68489310,1,0,0,1.0,1.0,0.0,0.0,2021-07-22T17:39:16.977,1.0,31.0,why some module creation require us to include () and some don't in node js?,"<p>if I want to create a module named 'a' for superheroes npm, I can just declare it without parenthesis</p>
<pre><code>

var a = superheroes; //no parenthesis


var randomSuperHero = a.random();
</code></pre>
<p>where if I want to create a module named app for express npm, I need  to include a set of parenthesis.</p>
<pre><code>const express = require('express')
 

const app = express(); //parenthesis


app.get(&quot;/&quot;,function(req,res){

res.send(&quot;Hello World!&quot;)

})
</code></pre>
<p>why is this happening?</p>
<p>also, on this particular line of code,</p>
<pre><code>app.get(&quot;/&quot;,function(req,res){
</code></pre>
<p>how does it know that the first parameter is the request and second parameter is response?
I am new to this and all this small things are confusing me like anything.</p>
",<node.js><express><npm>,0.0,0,0,1
40092,39564,68519159,1,0,11225536,1.0,0.0,0.0,0.0,2021-07-25T13:42:14.740,1.0,967.0,Remote users audio and video not displaying in Peerjs WebRTC,"<p>I am pretty much new to PeerJs and WebRTC. Recently started to learn and develop and app for my school for remote classes due to Covid time.</p>
<p>When connection is established user who created can see him in video but remote persons audio/video doesn't show up.</p>
<p>Server code:</p>
<pre><code>io.on('connection', (socket) =&gt; {
    socket.on('room-joined', (roomId, userId) =&gt; {
        socket.join(roomId)
        socket.broadcast.to(roomId).emit('new-user-connected', userId)

        socket.on('disconnect', () =&gt; {
            socket.broadcast.to(roomId).emit('user-disconnected', userId)
        })
        
        socket.on(&quot;offer&quot;, payload =&gt; {
            socket.broadcast.to(roomId).emit(&quot;offer-received&quot;, payload);
        });

        socket.on(&quot;answer&quot;, payload =&gt; {
            socket.broadcast.to(roomId).emit(&quot;answer-received&quot;, payload);
        });

        socket.on(&quot;ice-candidate&quot;, data =&gt; {
            socket.broadcast.to(roomId).emit(&quot;ice-candidate-message&quot;, data);
        });
    })
})
</code></pre>
<p>Client Code:</p>
<pre><code>const socket = io('/');
var selectedCamera = 'user'
var totalUsers = []
let localStream;
let localId
let initiater;
let otherUserId;

const peer = new Peer(undefined, {
    host: '/',
    port: '443',
    path: '/myapp',
    secure: true
});

peer.on(&quot;open&quot;, (id) =&gt; {
    localId = id;
    socket.emit(&quot;room-joined&quot;, roomId, id);
    totalUsers.push(id);
    initSelfStream();
    //console.log('My userId: ' + id)
});

const initSelfStream = () =&gt; {
    (async () =&gt; {
        try {
            await navigator.mediaDevices.getUserMedia(
                {
                    video: {
                        facingMode: selectedCamera
                    },
                    audio: true
                }).then(stream =&gt; {
                    localStream = stream;
                    
                    const video = document.createElement(&quot;video&quot;);
                    loadAndShowVideoView(video, stream, localId);

                    socket.on('new-user-connected', id =&gt; {
                        setTimeout(function() { callUser(id, stream); }, 3000);
                        otherUserId = id;
                    });
                });
        } catch (err) {
            console.log('(async () =&gt;: ' + err);
        }
    })();
}

const callUser = (id, stream) =&gt; {
    test1 = createRtcPeerConnection(id);
    localStream.getTracks().forEach(track =&gt; test1.addTrack(track, localStream));
}

socket.on(&quot;offer-received&quot;, (data) =&gt; {
    if(data.target == localId){
        test1 = createRtcPeerConnection();
        const desc = new RTCSessionDescription(data.sdp);
        test1.setRemoteDescription(desc).then(() =&gt; {
            localStream.getTracks().forEach(track =&gt; test1.addTrack(track, localStream));
        }).then(() =&gt; {
            return test1.createAnswer();
        }).then(answer =&gt; {
            return test1.setLocalDescription(answer);
        }).then(() =&gt; {
            const payload = {
                target: data.caller,
                caller: localId,
                sdp: test1.localDescription
            }
            socket.emit(&quot;answer&quot;, payload);
        });
    }
});
socket.on(&quot;answer-received&quot;, (data) =&gt; {
    if(data.target == localId){
        const desc = new RTCSessionDescription(data.sdp);
        test1.setRemoteDescription(desc).catch(e =&gt; console.log(e));
    }
});
socket.on(&quot;ice-candidate-message&quot;, (data) =&gt; {
    if(data.target == localId){
        if (data.candidate.candidate) {
            const payload = {
                target: otherUserId,
                candidate: data.candidate.candidate,
            }
            socket.emit(&quot;ice-candidate&quot;, payload);
        }
    }
});

const createRtcPeerConnection = (id) =&gt; {
    const rtcPeerConnection = new RTCPeerConnection({
        iceServers: [
            {
                urls: &quot;stun:stun.stunprotocol.org&quot;
            },
            {
                urls: 'turn:numb.viagenie.ca',
                credential: 'muazkh',
                username: 'webrtc@live.com'
            },
        ]
    });

    rtcPeerConnection.onicecandidate = handleICECandidateEvent;
    rtcPeerConnection.ontrack = handleTrackEvent;
    rtcPeerConnection.onnegotiationneeded = () =&gt; handleNegotiationNeededEvent(id);

    return rtcPeerConnection;
}

const handleICECandidateEvent = (e) =&gt; {
    if (e.candidate) {
        const payload = {
            target: otherUserId,
            candidate: e.candidate,
        }
        socket.emit(&quot;ice-candidate&quot;, payload);
    }
}
const handleTrackEvent = (e) =&gt; {
    const video = document.createElement(&quot;video&quot;);
    loadAndShowVideoView(video, e.streams[0], &quot;Temporary Id&quot;)
}
const handleNegotiationNeededEvent = (targetUserID) =&gt; {
    test1.createOffer().then(offer =&gt; {
        return test1.setLocalDescription(offer);
    }).then(() =&gt; {
        const payload = {
            target: targetUserID,
            caller: localId,
            sdp: test1.localDescription
        };
        socket.emit(&quot;offer&quot;, payload);
    }).catch(e =&gt; console.log(e));
}

const loadAndShowVideoView = (video, stream, id) =&gt; {
    video.classList.add('video-inset', 'background-black');
    video.setAttribute(&quot;id&quot;, id);
    video.style.position = &quot;relative&quot;
    video.autoplay = true;
    
    video.srcObject = stream;
    video.style.height = 50+&quot;vh&quot;
    video.style.width = 50+&quot;vw&quot;
    
    video.muted = true;
    video.style.objectFit = &quot;cover&quot;
    
    appendVideo(video, stream, id)
}
const appendVideo = (video, stream, id) =&gt; {
    video.addEventListener(&quot;loadedmetadata&quot;, () =&gt; {
            loader.style.opacity = 0
            container.append(video);
            video.play()
            if(loader.style.visibility == &quot;visible&quot;) {
                loader.style.display = &quot;none&quot;;
            }
    });
}
</code></pre>
<p>ejs view file</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
  &lt;script&gt;
    const roomId = &quot;&lt;%= roomId %&gt;&quot;
  &lt;/script&gt;
  &lt;script src=&quot;peer.min.js&quot; defer&gt;&lt;/script&gt;
  &lt;script src=&quot;/socket.io/socket.io.js&quot; defer&gt;&lt;/script&gt;
  &lt;script src=&quot;client.js&quot; defer&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class=&quot;container background-black&quot; id=&quot;loader&quot;&gt;
        &lt;div class=&quot;loader&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;views-container background-black&quot; id=&quot;container&quot;&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>Looking for some help</p>
",<express><npm><webrtc><peerjs>,0.0,0,0,1
40147,39619,68562887,1,68563049,16427305,1.0,1.0,0.0,0.0,2021-07-28T15:06:30.360,1.0,135.0,Pute the callback-console.log from epic-games-api in express js,"<p>I want to put the epic games output in the express js get. I have 0 experience with js, so please no hate if it doesn't make sense. XD</p>
<pre><code>const EpicGamesAPI = require('epicgames-status');
const express = require('express')

const app = express()
const port = 3000

EpicGamesAPI().then(callback =&gt; {
    const epicgames = console.log(callback);
})
app.get('/', (req, res) =&gt; {
    res.send(epicgames)
})

app.listen(port, () =&gt; {
    console.log(`Example app listening at http://localhost:${port}`)
})
</code></pre>
",<javascript><node.js><express><npm>,0.0,0,0,1
40256,39728,68649434,1,0,12439107,0.0,18.0,0.0,0.0,2021-08-04T10:14:11.407,1.0,29.0,using request response as a global variable,"<p>I'm trying to initializing body of request function to a <strong>global variable</strong> but useless.
It's returning blank output.
Kindly help me to access the body outside the function.</p>
<p><img src=""https://i.stack.imgur.com/vlZy9.png"" alt=""code image"" /></p>
",<javascript><node.js><express><npm>,0.0,0,0,1
40622,39875,68762649,1,0,16652771,1.0,4.0,0.0,0.0,2021-08-12T18:37:40.443,0.0,54.0,MongoDB Queries Async for loop results coming back empty,"<p>I have a list of IDs to query Mongo with which I am doing in a for loop and it always returns an empty []. Initially it kept returning promises so I moved from <code>forEach</code> to the standard for loop as you see here and <code>toArray()</code> both of which resulted in an empty [].</p>
<pre><code>async function queryRoles(id) {
    const db = await connectToMongo()
    let response;
    try {
        response = await db.collection(&quot;permissions&quot;).find({&quot;_id&quot;: xxx}).toArray();
        console.log(await response);
    } catch (error) {
        console.log(error);
    }
    return response;
}

async function checkAuthorisation(list, groups) {
    for (const item of list) {
        const index = list.indexOf(item);
        const rolesList = await queryRoles(item._id);
        console.log(rolesList);
    };
    }
</code></pre>
<p>The rolesList always comes back in [] and is never populated with anything.</p>
<p>However, if I just update code with the same query for a single mongo document without using the for loop, the expected response comes back, so I know the connectivity to MongoDB is fine.</p>
<p>What am I doing wrong? Pulling my hair out at this point!!</p>
",<javascript><mongodb><express><npm>,0.0,0,0,1
40640,39893,68777422,1,68777452,16595338,1.0,1.0,0.0,0.0,2021-08-13T19:19:12.623,3.0,529.0,While installing body-parser got an error of 404,"<p>I'm a beginner and as i was trying to install the body-parser package i got this issue what should I do in order to solve this problem?</p>
<pre><code>D:\Calculator&gt;npm install body-paeser
npm ERR! code E404
npm ERR! 404 Not Found - GET https://registry.npmjs.org/body-paeser - Not found
npm ERR! 404
npm ERR! 404  'body-paeser@latest' is not in the npm registry.
npm ERR! 404 You should bug the author to publish it (or use the name yourself!)
npm ERR! 404
npm ERR! 404 Note that you can also install from a
npm ERR! 404 tarball, folder, http url, or git url.

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\hp\AppData\Roaming\npm-cache\_logs\2021-08-14T07_18_28_751Z-debug.log
</code></pre>
",<javascript><node.js><express><npm><post>,0.0,0,0,1
40643,39896,68780566,1,68780949,10831557,4.0,1.0,0.0,0.0,2021-08-14T05:22:55.817,-1.0,2756.0,NodeJS - Express accept request if it is from specific URL or HOST,"<p>I am using <a href=""https://www.npmjs.com/package/cors"" rel=""nofollow noreferrer"">https://www.npmjs.com/package/cors</a> module for restricting request in NodeJS-Express App. Using below code for that.</p>
<pre><code>app.use(
   cors({ origin: &quot;http://localhost:4201&quot;})
);
</code></pre>
<p>So it will accept request only from http://localhost:4201 which is working fine. <strong>But the issue is if I paste request in browser, let say http://localhost:3000/users then it is showing the data</strong>. How can I restrict this using CORS? Is this even possible?</p>
",<node.js><express><npm><cors>,0.0,0,0,1
40703,39956,68825661,1,0,10922663,0.0,5.0,0.0,0.0,2021-08-18T01:43:40.160,0.0,114.0,How to run multiple mysql commands and then send response in express?,"<p>I used mevn stack to make a website. But i use mysql as my website’s database.i use axios to interact with express backend. I want to handle multiple insertions in the same request.how can i achieve it.I have no problem with axios or frontend. This is sample idea i want do</p>
<pre><code>app.post(“/api/xx”,(req,res)=&gt;{
    1 . insert document to document table
    2 get inserted id
    3 insert any number of items to document_items table
    4 After completing all insertions send a success response. Otherwise send failed response
})

</code></pre>
<p>I try to use the await keyword. But i think its not work correctly in step 3
That steps i tried like following example</p>
<pre><code>app.post(&quot;/api/eeee&quot;,(req,res)=&gt;{
    var sqls = &quot;insert into documents ( name) values (&quot;+req.body.name+&quot;)&quot;;
    connection.query(sqls,(error,result)=&gt;{
        if(error)throw error;
        var id = result.insertId;
        for(var i = 0 ; i &lt; req.items.length ; i++){
            var sqp = &quot;insert into doc_items(document,name)values(&quot;+id+&quot;,&quot;+req.items.name+&quot;);&quot;;
            con.query(sqp,(err,res)=&gt;{
              if(err) throw err;
            });
        }
        res.status(200).send();
    });
});
</code></pre>
<p>How can i insert all data and send responses in express. I think that my code is not good for my needs??</p>
",<mysql><node.js><express><npm><axios>,0.0,0,0,1
40849,40102,68951739,1,68952469,1135731,1.0,8.0,0.0,0.0,2021-08-27T10:16:31.757,0.0,1226.0,Getting references error when importing tone.js,"<p>I have a basic express.js server setup on my Mac. To this I'm trying to import Tone.js, <a href=""https://tonejs.github.io"" rel=""nofollow noreferrer"">https://tonejs.github.io</a>, by following the instructions.</p>
<pre><code>npm install tone
</code></pre>
<p>To import Tone.js:</p>
<pre><code>import * as Tone from 'tone'
</code></pre>
<p>But I'm getting this error</p>
<p><em>Uncaught TypeError: Failed to resolve module specifier &quot;tone&quot;. Relative references must start with either &quot;/&quot;, &quot;./&quot;, or &quot;../&quot;.</em></p>
<p>My Package file looks like this</p>
<pre><code>{
  &quot;name&quot;: &quot;XXXXX&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;Run npm start&quot;,
  &quot;main&quot;: &quot;server.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,
    &quot;start&quot;: &quot;nodemon start&quot;
  },
  &quot;repository&quot;: {
    &quot;type&quot;: &quot;git&quot;,
    &quot;url&quot;: &quot;git+https://github.com/xxxxx&quot;
  },
  &quot;author&quot;: &quot;xxxxx xxxx&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;bugs&quot;: {
    &quot;url&quot;: &quot;https://github.com/xxxxxxx&quot;
  },
  &quot;dependencies&quot;: {
    &quot;express&quot;: &quot;^4.17.1&quot;,
    &quot;nodemon&quot;: &quot;^2.0.12&quot;,
    &quot;tone&quot;: &quot;^14.7.77&quot;
  }
}
</code></pre>
",<javascript><express><npm><npm-install><tonejs>,0.0,0,0,1
40884,40137,68985059,1,68985184,8695460,1.0,0.0,0.0,0.0,2021-08-30T13:34:11.810,1.0,1555.0,How to run Nextjs app and Express server concurrently using npm concurrently package?,"<h2>How to run Nextjs app and Express server concurrently using npm concurrently package?</h2>
<p>I have a project which is created using Node Express as the backend and NextJs as the frontend.  I want to use concurrently npm package to start both Express server and NextJs frontend using npm run dev. The server uses port 5000 and the frontend uses port 3000 And the Folder structure as follows.
1.</p>
<pre><code>    |-next-bootstrap-express-app.
       |frontend(NextJs App)
            |.env
            |package.json
            |src
       |server.js
       |package.json
</code></pre>
<p><strong>package.json(next-bootstrap-express-app):</strong></p>
<pre><code>   {
  &quot;name&quot;: &quot;next-bootstrap-express-app&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;Next Bootstrap Express App&quot;,
  &quot;main&quot;: &quot;server.js&quot;,
  &quot;scripts&quot;: {
    &quot;frontend-install&quot;: &quot;npm install --prefix frontend&quot;,
    &quot;start&quot;: &quot;nodemon server.js&quot;,
    &quot;server&quot;: &quot;nodemon server.js&quot;,
    &quot;frontend&quot;: &quot;npm start --prefix frontend&quot;,
    &quot;dev&quot;: &quot;concurrently \&quot;npm run server\&quot; \&quot;npm run frontend\&quot;&quot;
  },
  &quot;author&quot;: &quot;test&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: {
    &quot;bcryptjs&quot;: &quot;^2.4.3&quot;,
    &quot;config&quot;: &quot;^3.3.6&quot;,
    &quot;express&quot;: &quot;^4.17.1&quot;,
    &quot;express-validator&quot;: &quot;^6.12.1&quot;,
    &quot;jsonwebtoken&quot;: &quot;^8.5.1&quot;,
    &quot;mongoose&quot;: &quot;^6.0.2&quot;,
    &quot;request&quot;: &quot;^2.88.2&quot;,
    &quot;concurrently&quot;: &quot;^6.2.1&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;nodemon&quot;: &quot;^2.0.12&quot;
  }
}
</code></pre>
<p>How can I use concurrently npm package to start Nextjs 3000 for client and Express Server which uses port 5000 for admin.</p>
",<node.js><express><npm><next.js><concurrently>,0.0,0,0,1
40897,40150,68991747,1,0,11418520,5.0,0.0,0.0,0.0,2021-08-31T01:00:53.070,5.0,17221.0,RangeError: WebAssembly.instantiate(): Out of memory: wasm memory,"<p>I am getting this error while starting my node js app in my cpanel.</p>
<pre><code>RangeError: WebAssembly.instantiate(): Out of memory: wasm memory
at internal/deps/cjs-module-lexer/dist/lexer.js:1:33573
</code></pre>
<p>but while i am developing in localhost, everything works just fine.</p>
<p>Here is my output log,</p>
<pre><code>0 info it worked if it ends with ok
1 verbose cli [
1 verbose cli   '/opt/alt/alt-nodejs14/root/usr/bin/node',
1 verbose cli   '/opt/alt/alt-nodejs14/root/usr/bin/npm',
1 verbose cli   'run-script',
1 verbose cli   'start',
1 verbose cli   '--'
1 verbose cli ]
2 info using npm@6.14.13
3 info using node@v14.17.3
4 verbose run-script [ 'prestart', 'start', 'poststart' ]
5 info lifecycle thewebapp@1.0.0~prestart: thewebapp@1.0.0
6 info lifecycle thewebapp@1.0.0~start: thewebapp@1.0.0
7 verbose lifecycle thewebapp@1.0.0~start: unsafe-perm in lifecycle true
8 verbose lifecycle thewebapp@1.0.0~start: PATH: /opt/alt/alt-nodejs14/root/usr/lib/node_modules/npm/node_modules.bundled/npm-lifecycle/node-gyp-bin:/home/proudpos/backend/node_modules/.bin:/opt/alt/alt-nodejs14/root/usr/bin:/home/proudpos/nodevenv/backend/14/bin:/opt/alt/alt-nodejs14/root/usr/bin:/home/proudpos/nodevenv/backend/14/lib/bin/:/usr/local/jdk/bin:/usr/kerberos/sbin:/usr/kerberos/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr/X11R6/bin:/usr/local/bin:/usr/X11R6/bin:/root/bin:/opt/bin
9 verbose lifecycle thewebapp@1.0.0~start: CWD: /home/proudpos/backend
10 silly lifecycle thewebapp@1.0.0~start: Args: [ '-c', 'node server.js' ]
11 silly lifecycle thewebapp@1.0.0~start: Returned: code: 1  signal: null
12 info lifecycle thewebapp@1.0.0~start: Failed to exec start script
13 verbose stack Error: thewebapp@1.0.0 start: `node server.js`
13 verbose stack Exit status 1
13 verbose stack     at EventEmitter.&lt;anonymous&gt; (/opt/alt/alt-nodejs14/root/usr/lib/node_modules/npm/node_modules.bundled/npm-lifecycle/index.js:332:16)
13 verbose stack     at EventEmitter.emit (events.js:375:28)
13 verbose stack     at ChildProcess.&lt;anonymous&gt; (/opt/alt/alt-nodejs14/root/usr/lib/node_modules/npm/node_modules.bundled/npm-lifecycle/lib/spawn.js:55:14)
13 verbose stack     at ChildProcess.emit (events.js:375:28)
13 verbose stack     at maybeClose (internal/child_process.js:1055:16)
13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:288:5)
14 verbose pkgid thewebapp@1.0.0
15 verbose cwd /home/proudpos/backend
16 verbose Linux 3.10.0-962.3.2.lve1.5.60.el7.x86_64
17 verbose argv &quot;/opt/alt/alt-nodejs14/root/usr/bin/node&quot; &quot;/opt/alt/alt-nodejs14/root/usr/bin/npm&quot; &quot;run-script&quot; &quot;start&quot; &quot;--&quot;
18 verbose node v14.17.3
19 verbose npm  v6.14.13
20 error code ELIFECYCLE
21 error errno 1
22 error thewebapp@1.0.0 start: `node server.js`
22 error Exit status 1
23 error Failed at the thewebapp@1.0.0 start script.
23 error This is probably not a problem with npm. There is likely additional logging output above.
24 verbose exit [ 1, true ]
</code></pre>
<p>I searched but could not found any answer.
need some help with this.</p>
",<node.js><express><npm><cpanel><web-deployment>,1.0,0,0,1
40940,40193,69020673,1,0,6328636,0.0,3.0,0.0,0.0,2021-09-01T21:20:38.273,0.0,331.0,How to run a function which call axios for every 30 seconds,"<p>I'm creating a web scraper using node, cheerio and calling the website using axios(async/await). I want the function to run every 30 seconds. I tried using <em>setTimeout</em> and <em>setInterval</em> but did not get the expected result. Instead got <em>heap out of memory</em> error. I want to run the <em>mvcAppointmentSearch</em> function in the while loop for every 30 seconds. Following is the code. also attaching the codepen link for better readability.
<a href=""https://codepen.io/ghewadesumit/pen/eYRZQzP"" rel=""nofollow noreferrer"">Code pen link</a></p>
<pre><code>const express = require('express');
const request = require('request-promise');
const cheerio = require('cheerio');
const axios = require('axios');
const cssSelect = require('css-select');
const open = require('open');
// const mvcUrl = 'https://telegov.njportal.com/njmvc/AppointmentWizard/17/';
const mvcUrl = 'https://telegov.njportal.com/njmvc/AppointmentWizard/14/';
const mvcLocation = ['Edison', 'Rahway', 'SouthPlainfield'];
// const mvcLocationNumber = ['240', '252', '239'];
const mvcLocationNumber = ['163'];
const requiredMonths = ['September', 'October'];

const callUrl = async (url, locationNumberIndex) =&gt; {
  try {
    const response = await axios.get(url);
    //console.log('call url', response.data);
    getData(response.data, locationNumberIndex);
  } catch (err) {
    console.log(err);
  }
};

const mvcAppointmentSearch = () =&gt; {
  for (let i = 0; i &lt; mvcLocationNumber.length; i++) {
    const currentUrl = mvcUrl + mvcLocationNumber[i];
    console.log(mvcLocationNumber[i]);
    callUrl(currentUrl, i);
  }
};

const getData = (html, locationNumberIndex) =&gt; {
  let data = [];
  let $ = cheerio.load(html);

  console.log('datais ', $);
  $.prototype.exists = function (selector) {
    return this.find(selector).length &gt; 0;
  };

  const checkerLength = $('div').exists('.alert-danger');

  console.log(checkerLength);
  if (checkerLength) {
    console.log(
      `No appointment available in ${mvcLocation[locationNumberIndex]}`
    );
  } else {
    const dateString = $('.control-label').text();
    const availableMonth = dateString.trim().split(' ')[7];
    const exactDateAvailability = dateString.slice(24, -1);
    console.log(availableMonth);
    if (requiredMonths.includes(availableMonth)) {
      console.log('Hurray there is an appointment available');
      const message = `Appointment available for the location ${mvcLocation[locationNumberIndex]} on ${exactDateAvailability}`;
      open(`${mvcUrl + mvcLocationNumber[locationNumberIndex]}`);
      console.log(message);
    } else {
      console.log('required Month is not available still searching');
    }
  }
};

while (true) {
  try {


    // mvcAppointmentSearch();
// want to run the following function for every 30 seconds.
    mvcAppointmentSearch();
  } catch (err) {
    console.log(`Error has Occured ${err}`);
  }
}

</code></pre>
",<javascript><node.js><express><npm><cheerio>,0.0,0,0,1
40946,40199,69023821,1,0,1979953,1.0,7.0,0.0,0.0,2021-09-02T03:32:26.703,0.0,1162.0,How to set up the preact-render-to-string on the express,"<p>Please tell me how to set up the <a href=""https://github.com/preactjs/preact-render-to-string"" rel=""nofollow noreferrer"">preact-render-to-string</a> on the <a href=""https://expressjs.com/"" rel=""nofollow noreferrer"">express</a>.</p>
<ul>
<li><a href=""https://github.com/preactjs/preact-render-to-string#render-jsx--preact--whatever-via-express"" rel=""nofollow noreferrer"">https://github.com/preactjs/preact-render-to-string#render-jsx--preact--whatever-via-express</a></li>
<li><a href=""https://expressjs.com/en/starter/installing.html"" rel=""nofollow noreferrer"">https://expressjs.com/en/starter/installing.html</a></li>
</ul>
<p>I built it reading the above links. The source code is on <a href=""https://github.com/preactjs/preact-render-to-string#render-jsx--preact--whatever-via-express"" rel=""nofollow noreferrer"">there</a>, but I'm not used to <code>node</code>
I don't know how to execute it(Or I don't know if I'm failing to build the environment.).</p>
<p>I believe my installation procedure can be found in <code>package.json</code>(<code>dependencies</code> and <code>devDependencies</code>). So, below is my <code>package.json</code>.</p>
<p><strong>My package.json</strong>:</p>
<pre><code>{
  &quot;name&quot;: &quot;y&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  },
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: {
    &quot;express&quot;: &quot;^4.17.1&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;preact&quot;: &quot;^10.5.14&quot;,
    &quot;preact-render-to-string&quot;: &quot;^5.1.19&quot;
  }
}
</code></pre>
<p><strong>My app.js</strong> (Same as <a href=""https://github.com/preactjs/preact-render-to-string#render-jsx--preact--whatever-via-express"" rel=""nofollow noreferrer"">Document</a>):
I didn't know what to do with the file name, so I used <code>app.js</code>.</p>
<pre><code>import express from 'express';
import { h } from 'preact';
import render from 'preact-render-to-string';
/** @jsx h */

// silly example component:
const Fox = ({ name }) =&gt; (
    &lt;div class=&quot;fox&quot;&gt;
        &lt;h5&gt;{ name }&lt;/h5&gt;
        &lt;p&gt;This page is all about {name}.&lt;/p&gt;
    &lt;/div&gt;
);

// basic HTTP server via express:
const app = express();
app.listen(8080);

// on each request, render and return a component:
app.get('/:fox', (req, res) =&gt; {
    let html = render(&lt;Fox name={req.params.fox} /&gt;);
    // send it back wrapped up as an HTML5 document:
    res.send(`&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;body&gt;${html}&lt;/body&gt;&lt;/html&gt;`);
});
</code></pre>
<p><strong>Run and Error</strong>:</p>
<pre><code>$ node app.js  
src/pr/ex/app.js:1
import express from 'express';
^^^^^^

SyntaxError: Cannot use import statement outside a module
    at Object.compileFunction (node:vm:352:18)
    at wrapSafe (node:internal/modules/cjs/loader:1031:15)
    at Module._compile (node:internal/modules/cjs/loader:1065:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:79:12)
    at node:internal/main/run_main_module:17:47
</code></pre>
<p>I think I am running it wrong or failed to build the environment, what can I do to make it run successfully?</p>
<p><code>node</code> is installed with <code>nodebrew</code>. The current status is as follows.</p>
<pre><code>$ nodebrew list
v16.6.2

current: v16.6.2
</code></pre>
<p><strong>Edit:</strong></p>
<p>I tried the <a href=""https://stackoverflow.com/a/59399717/1979953"">answer</a>.</p>
<blockquote>
<p>add the top-level &quot;type&quot; field with a value of &quot;module&quot;</p>
</blockquote>
<p>The error <code>SyntaxError: Cannot use import statement outside a module</code> is gone and <strong>different error</strong> occurred.</p>
<pre><code>$ node app.js   
file:///src/pr/ex/app.js:8
    &lt;div class=&quot;fox&quot;&gt;
    ^

SyntaxError: Unexpected token '&lt;'
    at Loader.moduleStrategy (node:internal/modules/esm/translators:146:18)
    at async link (node:internal/modules/esm/module_job:67:21)
</code></pre>
<p>Since I am using <a href=""https://preactjs.com/"" rel=""nofollow noreferrer"">preact</a> (I must be using <a href=""https://github.com/developit/htm"" rel=""nofollow noreferrer"">htm</a> internally), it is odd that <code>Unexpected token '&lt;'</code> would be an error.</p>
<p><code>package.json</code> after editing:</p>
<pre><code>{
  &quot;name&quot;: &quot;y&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;type&quot;: &quot;module&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  },
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: {
    &quot;express&quot;: &quot;^4.17.1&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;preact&quot;: &quot;^10.5.14&quot;,
    &quot;preact-render-to-string&quot;: &quot;^5.1.19&quot;
  }
}
</code></pre>
",<javascript><node.js><express><npm><preact>,1.0,0,0,1
40979,40232,69048445,1,69060286,16821321,1.0,1.0,0.0,0.0,2021-09-03T17:03:42.013,0.0,41.0,How to access the cookie from client service that is saved on server service,"<p>Actually I create a project on reactjs  have two service. First is client service that is running on localhost port 3000 and second is server service that is running on port 8000. I created cookie on server service and wants to access from client service. But the cookie save on the sever port. How to save this cookie on client service or access the cookie from client service.</p>
<p>This is the code on the sever service</p>
<pre><code>res.cookie(&quot;jwt&quot;,token,{expires:new Date(Date.now()+99999,
httpOnly: true
})
</code></pre>
",<node.js><react-native><express><npm><cookies>,0.0,0,1,1
41056,40309,69109423,1,0,800123,0.0,6.0,0.0,0.0,2021-09-08T20:41:13.027,2.0,5393.0,TypeError: Cannot read properties of undefined (reading 'prototype'),"<p>Unlike <a href=""https://stackoverflow.com/questions/59903475/typeerror-cannot-read-property-prototype-of-undefined-react-express""><code>this</code></a> one, the import is intentional. I need to use the express module. How can I fix that? I've tried but I couldn't make a sample to reproduce it. So I'm open to guesses on what can be the reason for the error. The error is caused by the import:</p>
<pre><code>import express from 'express'
</code></pre>
<p>I also tried:</p>
<pre><code>import {express} from 'express'
</code></pre>
<p>neither does work.</p>
<p>the error:</p>
<pre><code>×
TypeError: Cannot read properties of undefined (reading 'prototype')
(anonymous function)
C:/Users/artur/Desktop/merge/editor/node_modules/express/lib/response.js:41
  38 |  * @public
  39 |  */
  40 | 
&gt; 41 | var res = Object.create(http.ServerResponse.prototype)
  42 | 
  43 | /**
  44 |  * Module exports.
</code></pre>
<p>What could be the reason for this error?</p>
",<reactjs><express><npm><windows-10>,0.0,0,0,1
41094,40347,69130773,1,0,3639372,0.0,2.0,0.0,0.0,2021-09-10T10:20:20.813,0.0,88.0,Node.JS reading json file isn't displaying new file updates,"<p>I have two configuration files (log.txt, and config.json) that are updated after each computation and the next computation is dependent on the results of the previous computation which are stored in the two files.
The problem is, when I read the json files during computation I only get the results of the initial first computation. The new updates are not reflected in the new file reads. But when I check the files, both have been updated.
What could be the problem?
Thanks in advance.</p>
<p>Script for Reading the configuration files (pFunctions.js):</p>
<pre><code>
const fs = require('fs');

// Read logs
function readLog() {
        
    try { 
        return fs.readFileSync(__dirname + '/' + 'log.txt', {'encoding':'utf8','flag':'rs+'});
    }
        
    catch (err) { 
        return '';
    }
        
}

// Read configurations
function readConfig() {
        
    try { 
        return fs.readFileSync(__dirname + '/' + 'config.json', {'encoding':'utf8','flag':'rs+'});
    }

    catch (err) { 
        return '';
    }

}

// Function to read dataset
function readDataset() {
       ....
       ....
}

// Read data from configuration files
let config = readConfig(); // config.json
let log = readLog(); // log.txt

// Parse data to JSON                    
let cfg = JSON.parse(config);
let lcg = JSON.parse(log);

....
....

// Fetch dataset based on the configuration and log file
let dataset = readDataset();

// Create parameter function
const pFunctions = {

    parameter1: dataset // set dataset as value of parameter1

}

// Export function as JSON Object
module.exports={pFunctions};

</code></pre>
<p>I then import the object in the computation.js script like this:</p>
<pre><code>const {pFunctions} = require('./app/config/pFunctions');

// Capture new 'uParams' computing parameters
let newParams = pFunctions; 

</code></pre>
",<javascript><node.js><json><express><npm>,0.0,0,0,1
41123,40376,69152810,1,69152993,16892909,1.0,4.0,0.0,0.0,2021-09-12T15:25:14.823,2.0,5105.0,"Problem running Nodemon: ""[nodemon] clean exit - waiting for changes before restart""","<p>I am setting up a server and every time I try running <code>npm start</code> I get the following error:</p>
<pre><code>[nodemon] 2.0.12
[nodemon] to restart at any time, enter 
`rs`
[nodemon] watching path(s): *.*
[nodemon] watching extensions: js,mjs,json
[nodemon] starting `node index.js`      
[nodemon] clean exit - waiting for changes before restart
</code></pre>
<p>I have researched online such as StackOverflow, YouTube and even Reddit. However I do not understand why I am getting this error, since I added <code>app.listen()</code>. I have also ran <code>npm update</code>to make sure that I have the most up to date npm version.</p>
<p>In addition, it seems that I need to revert to an older version of Nodemon, but I am wondering if there is a better way of doing this with more recent versions?</p>
<p><strong>Here is what my code looks like</strong>:</p>
<p>index.js:</p>
<pre><code>import express from &quot;express&quot;;
import bodyParser from &quot;body-parser&quot;;
import mongoose from &quot;mongoose&quot;;
import cors from &quot;cors&quot;;

const app = express();

app.use(express.json({ limit: &quot;30mb&quot;, extended: true }));
app.use(express.urlencoded({ limit: &quot;30mb&quot;, extended: true }));
app.use(cors());

// database connection string: PLEASE NOTE THAT I HAVE REPLACED MY PASSWORD WITH THE PROPER ONE HERE
const CONNECTION_URL =
  &quot;mongodb+srv://admin2021:&lt;password&gt;@cluster0.haf0y.mongodb.net/myFirstDatabase?retryWrites=true&amp;w=majority&quot;;
const PORT = process.env.PORT || 5000;

// connect to database
mongoose
  .connect(CONNECTION_URL, {
    useNewUrlParser: true,
    useUnifiedTopology: true,
  })
  .then(() =&gt;
    app.listen(PORT, () =&gt; console.log(`Server running on port: ${PORT}`))
  )
  .catch(() =&gt; (error) =&gt; console.log(error.message));
</code></pre>
<p>package.json:</p>
<pre><code>{
  &quot;name&quot;: &quot;server&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;type&quot;: &quot;module&quot;,
  &quot;scripts&quot;: {
    &quot;start&quot;: &quot;nodemon ./index.js&quot;
  },
  // etc.
}
</code></pre>
<p>Please note that I tried replacing <code>nodemon ./index.js</code> with <code>nodemon index.js</code> but I obtain the same error.</p>
<p>Any help is appreciated.</p>
",<javascript><node.js><express><npm><nodemon>,0.0,0,0,1
41147,40400,69172495,1,0,16905717,1.0,3.0,0.0,0.0,2021-09-14T06:00:10.863,0.0,89.0,REST API parallel bash commands in NodeJS,"<p>I wanted to create an Express server with NodeJS where an endpoint needs to execute heavy bash operations. But doing this slows down the whole server insanely! For example I created an endpoint <code>/ping</code> which just executes the <code>ping 8.8.8.8</code> command in the background and returns the result.</p>
<p>If I start 2 parallel requests to the server they block each other and execute one by another:</p>
<p><a href=""https://i.stack.imgur.com/edzDT.png"" rel=""nofollow noreferrer"">blocking requests</a></p>
<p>I tried using worker threads but I can't get it done.. Is this even possible in NodeJS? If not ... how could I achieve this?</p>
",<node.js><multithreading><express><npm><node-worker-threads>,0.0,0,0,1
41236,40489,69242647,1,0,13231192,0.0,2.0,0.0,0.0,2021-09-19T11:03:44.300,0.0,1112.0,invalidate JWT token server side,"<p>I'm working on my web application using Node JS and Express JS. I'm using JWT for auth token. When user logout, I remove client side token but I need to remove also server side token. I use express-jwt-blacklist but something doesn't work.</p>
<pre><code>app.post('/logout', auth.isAuthenticated, (req, res) =&gt; {
    let token = req.headers.authorization.split(&quot; &quot;)[1];
    blacklist.revoke(token);
    res.json({ &quot;status&quot; : &quot;200&quot;})

});
</code></pre>
<p>and this is express-jwt-blaklist configuration:</p>
<pre><code>blacklist.configure({
  tokenId: 'jti',
  strict: true,
  store: {
    type: 'memcached',
    host: '127.0.0.1',
    port: '11211',
    keyPrefix: 'mywebapp:',
    options: {
      timeout: 1000
    }
  }
});

</code></pre>
<p>This is function that checks if token is valid or not.</p>
<pre><code>var isAuthenticated = function(req, res, next) {

    if (typeof req.headers.authorization !== &quot;undefined&quot;) {
        let token = req.headers.authorization.split(&quot; &quot;)[1];
        let privateKey = fs.readFileSync('/private.pem', 'utf8');

        jwt.verify(token, privateKey, { algorithm: &quot;HS256&quot; }, (err, user) =&gt; {
            
            if (err) 
                res.render('loginPage.ejs');

            else
                return next();

        });
    } else 
        res.render('loginPage.ejs');
}
</code></pre>
<p>If I try to log out without removing the client-side token, the token cannot be invalidated. Reading <a href=""https://www.npmjs.com/package/express-jwt-blacklist"" rel=""nofollow noreferrer"">https://www.npmjs.com/package/express-jwt-blacklist</a> doc I don't understand some things, like blacklist configuration and blacklist.remoke input.</p>
<p>Can you help me please?</p>
",<node.js><express><authentication><npm><jwt>,0.0,0,0,1
41306,40559,69295182,1,0,5698411,2.0,0.0,0.0,0.0,2021-09-23T06:49:51.277,0.0,1190.0,dateformat npm package giving error on node server restart,"<p>I am using dateformat npm package of version 4.5.1 and getting error on server restart as</p>
<pre><code>server must be sue import to load ES module
usr/src/app/nodemodules/dateformat/lib/dateformat.js | require() ES module is not supported
</code></pre>
",<node.js><express><npm><npm-install>,0.0,0,0,1
41371,40624,69343732,1,69351004,6409049,2.0,9.0,0.0,0.0,2021-09-27T08:46:34.663,-1.0,823.0,Nodemon not working on new project with express,"<p>I have a new project folder configured and running with express.js and the server is running fine on port 3000.
I have installed nodemon globally using the sudo command so I expect I don't need to add this as a dependency or locally within the project.</p>
<p>When installing nodemon there are no errors, however when i fire the command nodemon server.js the command line essentially doesn't do anything and stops accepting commands.</p>
<p>I'm wondering if I'm missing something and hoping someone can point me in the right direction.
Thanks in advance for your time.</p>
",<javascript><node.js><express><npm><nodemon>,0.0,0,0,1
41375,40628,69346278,1,69346407,16598275,1.0,1.0,0.0,0.0,2021-09-27T12:04:14.460,0.0,1098.0,NodeJS Express app crashes after some time,"<p>NodeJS Express App crashes after some time.
I start using <code>npm start</code> having start script as</p>
<pre><code>start: &quot;node app.js&quot;
</code></pre>
<p><em><strong>Error</strong></em></p>
<pre><code>at Socket.emit (events.js:400:28)
    at emitErrorNT (internal/streams/destroy.js:106:8)
    at emitErrorCloseNT (internal/streams/destroy.js:74:3)
    at processTicksAndRejections (internal/process/task_queues.js:82:21) {
  errno: -104,
  code: 'ECONNRESET',
  syscall: 'read',
  fatal: true
}
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! xxx@1.0.0 start: `node app.js`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the xxx@1.0.0 start script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
</code></pre>
<p>This happens when the server is up for few hours. I want to keep it up till I force stop.</p>
<p><em><strong>I also tried this with <code>nodemon app.js</code></strong></em></p>
",<node.js><express><npm><server>,0.0,0,0,1
41377,40630,69347259,1,0,0,1.0,0.0,0.0,0.0,2021-09-27T13:12:03.497,0.0,77.0,How can I get user's ip address without registration system for post view count with Nodejs?,"<p>There is no registration system in my application. I'm thinking of creating a middleware and saving the user's ip address to mongodb. When the user requests a dynamic post, if the user's ip address is registered in mongodb, the number of views of the post will not increase. If the user's ip address is not registered in mongodb, the number of post views will increase by one. I need the user's ip address to be able to do all this. How can I learn it?</p>
",<node.js><express><npm><module>,0.0,0,0,1
41407,40660,69369508,1,0,16545155,1.0,9.0,0.0,0.0,2021-09-28T23:40:13.440,0.0,113.0,Express Not Installing,"<p>I know that this has been asked before but none of the solutions worked for me. Whenever I try to install express, it seems to work just fine, displaying this message:</p>
<pre><code>npm WARN website@1.0.0 No description
</code></pre>
<p>+ express@4.17.1
updated 1 package and audited 50 packages in 6.581s
found 0 vulnerabilities</p>
<p>However, when I try to run my program that uses express:</p>
<pre><code> at Function.Module._resolveFilename (internal/modules/cjs/loader.js:889:15)
    at Module.require (internal/modules/cjs/loader.js:961:19)
    at require (internal/modules/cjs/helpers.js:92:18)
    at Object.&lt;anonymous&gt; (C:\Users\darcy\OneDrive\Sutton\Website\server.js:2:15)
    at Module._compile (internal/modules/cjs/loader.js:1072:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1101:10)
    at Module.load (internal/modules/cjs/loader.js:937:32)
    at Function.Module._load (internal/modules/cjs/loader.js:778:12)
    at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:76:12) {
  code: 'MODULE_NOT_FOUND',`
</code></pre>
<p>Here is my code:</p>
<pre><code>let express = require(&quot;express&quot;);
let account = require(&quot;accountBack&quot;);
let shop = require(&quot;shopBack&quot;)

let serverConnection = express();
serverConnection.listen(3000, () =&gt; {});
serverConnection.use(express.static(&quot;public&quot;));
serverConnection.use(express.json());
serverConnection.post(&quot;/account&quot;, account.accountServer);
serverConnection.get(&quot;/shop&quot;, shop.sendShop);
</code></pre>
<p>I am using code from other files (hence the
extra 2 require statements) but what they do I do not believe to be significant.</p>
<p>Here are the commands that I am typing in:</p>
<pre><code>npm init
npm install express
node server.js
</code></pre>
<p>It does not appear from the error that express is gettinginstalled correctly, but I'm not sure. Is it a problem with the commands that I a typing in or something else? Any help would be appreciated.</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
41437,40690,69399518,1,69399532,17047280,1.0,0.0,0.0,0.0,2021-09-30T22:41:46.193,0.0,3685.0,internal/modules/cjs/loader.js:905 throw err; ^ Error: Cannot find module 'cors',"<p>When I run <code>npm start</code></p>
<p>My result is ..</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>&gt; nodefirebase_curd@1.0.0 start
&gt; nodemon index.js

[nodemon] 2.0.13
[nodemon] to restart at any time, enter `rs`
[nodemon] watching path(s): *.*
[nodemon] watching extensions: js,mjs,json
[nodemon] starting `node index.js`
internal/modules/cjs/loader.js:905
  throw err;
  ^

Error: Cannot find module 'cors'
Require stack:
- C:\Users\tong1\Desktop\test-Firebase\nodeFirebase_CURD\index.js
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:902:15)
    at Function.Module._load (internal/modules/cjs/loader.js:746:27)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at require (internal/modules/cjs/helpers.js:92:18)
    at Object.&lt;anonymous&gt; (C:\Users\tong1\Desktop\test-Firebase\nodeFirebase_CURD\index.js:3:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:14)
    at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:76:12) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    'C:\\Users\\tong1\\Desktop\\test-Firebase\\nodeFirebase_CURD\\index.js'
  ]
}</code></pre>
</div>
</div>
</p>
<p>What wrong with this. I try to fix <code>cors</code> function but it doesn't work.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>'use strict';
const express = require('express');
const cors = require('cors');
const bodyParser = require('body-parser');
const config = require('./config');
const studentRoutes = require('./routes/student-routes');

const app = express()

app.use(express.json());
app.use(cors());
app.use(bodyParser.json());

app.use('./api', studentRoutes.routes);

app.listen(config.port, () =&gt; console.log('App is listening on url http://localhost:' + config.port));</code></pre>
</div>
</div>
</p>
<p>This is my package.json.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>{
  ""name"": ""nodefirebase_curd"",
  ""version"": ""1.0.0"",
  ""description"": """",
  ""main"": ""index.js"",
  ""scripts"": {
    ""test"": ""echo \""Error: no test specified\"" &amp;&amp; exit 1"",
    ""start"": ""nodemon index.js""
  },
  ""keywords"": [],
  ""author"": """",
  ""license"": ""ISC"",
  ""dependencies"": {
    ""body-parser"": ""^1.19.0"",
    ""dotenv"": ""^10.0.0"",
    ""express"": ""^4.17.1"",
    ""firebase"": ""^9.1.0"",
    ""firebase-admin"": ""^9.12.0""
  },
  ""devDependencies"": {
    ""nodemon"": ""^2.0.13""
  }
}</code></pre>
</div>
</div>
</p>
<p>I'm struck in this problem with a long time.
Can you help me, please.</p>
<p>Thank you so much.</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
41497,40750,69439929,1,69440130,15601744,1.0,1.0,0.0,0.0,2021-10-04T17:11:34.317,0.0,87.0,Node.js app not deploying correctly on Heroku,"<p>My repository: <a href=""https://github.com/jacklemasters/tech-blog"" rel=""nofollow noreferrer"">https://github.com/jacklemasters/tech-blog</a></p>
<p>The app works locally on my machine, but I cannot seem to figure out why it will not work on Heroku. I have attempted completely moving the code, a new repository, nothing seems to help.</p>
<p>Here are the error logs I am receiving from Heroku:
2021-10-04T14:32:52.833339+00:00 app[web.1]: npm ERR! tech-blog@1.0.0 start: node server.js
2021-10-04T14:32:52.833414+00:00 app[web.1]: npm ERR! Exit status 1
2021-10-04T14:32:52.833484+00:00 app[web.1]: npm ERR!
2021-10-04T14:32:52.833533+00:00 app[web.1]: npm ERR! Failed at the tech-blog@1.0.0 start script.
2021-10-04T14:32:52.833601+00:00 app[web.1]: npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
2021-10-04T14:32:52.847732+00:00 app[web.1]:
2021-10-04T14:32:52.847831+00:00 app[web.1]: npm ERR! A complete log of this run can be found in:
2021-10-04T14:32:52.847916+00:00 app[web.1]: npm ERR! /app/.npm/_logs/2021-10-04T14_32_52_834Z-debug.log
2021-10-04T14:32:53.006395+00:00 heroku[web.1]: Process exited with status 1
2021-10-04T14:32:53.089213+00:00 heroku[web.1]: State changed from starting to crashed</p>
<p>edit: I understand it could be something with my packages, but on my side I see them as installed. Still at a loss!</p>
",<javascript><node.js><express><heroku><npm>,0.0,0,0,1
41554,40807,69487582,1,0,9579792,2.0,0.0,0.0,0.0,2021-10-07T20:37:47.003,5.0,3530.0,"Cookie works when I use Postman, but does not show in browser","<p>I am working on a Nodejs Project and pug template. When I login on postman, Cookie is sent, but when I use Chrome or any other browser, It does not show cookie</p>
<pre><code>const signToken = (id) =&gt; {
  return jwt.sign({ id }, process.env.JWT_SECRET, {
    expiresIn: process.env.JWT_EXPIRES_IN,
  })
}

const createSendToken = (user, statusCode, req, res) =&gt; {
  const token = signToken(user._id)

  res.cookie('jwt', token, {
    expires: new Date(
      Date.now() + process.env.JWT_COOKIE_EXPIRES_IN * 24 * 60 * 60 * 1000
    ),
    httpOnly: true,
  })


  res.status(statusCode).json({
    status: 'success',
    token,
    data: {
      user,
    },
  })
}
</code></pre>
<p>I also am using <code>cookie-parser</code> and <code>cors</code> from npm</p>
<pre><code>app.use(
  cors({
    credentials: true,
  })
)
</code></pre>
<p>I have tried using cors without any option. Still doesnt work.</p>
<p>When I log req.cookies to the console, I get</p>
<pre><code>[Object: null prototype] {}
</code></pre>
<p>But using postman, I get the jwt token displayed in the console.</p>
<p>Here is my login route. How do I include the credentials</p>
<pre><code>export const login = async (email, password) =&gt; {
  try {
    const res = await axios({
      method: 'POST',
      url: 'http://127.0.0.1:3000/api/v1/users/login',
      data: { email, password },
    })

    if (res.data.status === 'success') {
      showAlert('success', 'Logged in successfully!')
      window.setTimeout(() =&gt; {
        location.assign('/')
      }, 1500)
    }
    console.log(res)
  } catch (err) {
    showAlert('error', err.response.data.message)
  }
}
</code></pre>
",<node.js><express><npm><cookies><pug>,0.0,0,0,1
41652,40905,69564459,1,0,17146965,2.0,1.0,0.0,0.0,2021-10-14T02:37:36.333,-1.0,54.0,my node and npm are already latest version,"<p>as u can see i am facing the error in 3rd line ,i  did
sudo npm install gulp
ubuntu@ip-172-31-84-181:~/socialsite$ gulp -v
CLI version: 2.3.0
Local version: 4.0.2
before showing this error it was unable to find gulp related modules like sass , rev , undertaker etc so i installed them individually to get rid of them but now i am getting this error
i tried to upadte my node nd npm but it shows they are of latest version
i also tried to rm rf node_modules but it also did not work
ubuntu@ip-172-31-84-181:~/socialsite$ node -v
v8.10.0
ubuntu@ip-172-31-84-181:~/socialsite$ npm -v
3.5.2</p>
<pre><code>ubuntu@ip-172-31-84-181:~/socialsite$ gulp build
/home/ubuntu/socialsite/node_modules/globby/index.js:28
        } catch {
                ^

SyntaxError: Unexpected token {
    at createScript (vm.js:80:10)
    at Object.runInThisContext (vm.js:139:10)
    at Module._compile (module.js:616:28)
    at Object.Module._extensions..js (module.js:663:10)
    at Module.load (module.js:565:32)
    at tryModuleLoad (module.js:505:12)
    at Function.Module._load (module.js:497:3)
    at Module.require (module.js:596:17)
    at require (internal/module.js:11:18)
    at Object.&lt;anonymous&gt; 
(/home/ubuntu/socialsite/node_modules/del/index.js:4:16)
</code></pre>
",<node.js><express><ubuntu><npm><gulp>,1.0,0,0,1
41776,41029,69680010,1,0,13400562,0.0,3.0,0.0,0.0,2021-10-22T16:08:33.377,0.0,453.0,Using pkg to create .exe failing because of robotjs,"<p>So I am using pkg to create an executable of a fairly simple node/express application. I am having issues with the npm module robotjs, whenever I create my exe, it wont run because of the following error:</p>
<pre><code>pkg/prelude/bootstrap.js:1740
  throw error;
  ^

TypeError: Cannot read property '1' of null
at process.dlopen (pkg/prelude/bootstrap.js:2071:69)
at Object.Module._extensions..node (internal/modules/cjs/loader.js:1131:18)
at Module.load (internal/modules/cjs/loader.js:937:32)
at Function.Module._load (internal/modules/cjs/loader.js:778:12)
at Module.require (internal/modules/cjs/loader.js:961:19)
at Module.require (pkg/prelude/bootstrap.js:1719:31)
at require (internal/modules/cjs/helpers.js:92:18)
at Object.&lt;anonymous&gt; (C:\snapshot\visortokey\node_modules\robotjs\index.js:1:77)
at Module._compile (pkg/prelude/bootstrap.js:1794:22)
at Object.Module._extensions..js (internal/modules/cjs/loader.js:1101:10)
</code></pre>
<p>When I remove calls to robotjs within my project it works just fine.</p>
<p>I have the following in my package.json</p>
<pre><code>{
&quot;name&quot;: &quot;project&quot;,
&quot;bin&quot;: &quot;src/app.js&quot;,
&quot;version&quot;: &quot;1.0.0&quot;,
&quot;description&quot;: &quot;&quot;,
&quot;main&quot;: &quot;src/app.js&quot;,
&quot;scripts&quot;: {
&quot;start&quot;: &quot;node src/app.js&quot;,
&quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
},
&quot;pkg&quot;: {
&quot;assets&quot;: [
  &quot;templates/**/*&quot;,
  &quot;public/**/*&quot;
],
&quot;targets&quot;: [
  &quot;node14&quot;
],
&quot;outputPath&quot;: &quot;dist&quot;
},
&quot;keywords&quot;: [],
&quot;author&quot;: &quot;&quot;,
&quot;license&quot;: &quot;ISC&quot;,
&quot;dependencies&quot;: {
&quot;express&quot;: &quot;^4.17.1&quot;,
&quot;hbs&quot;: &quot;^4.1.2&quot;,
&quot;http&quot;: &quot;0.0.1-security&quot;,
&quot;nodemon&quot;: &quot;^2.0.14&quot;,
&quot;path&quot;: &quot;^0.12.7&quot;,
&quot;pkg&quot;: &quot;^5.3.3&quot;,
&quot;robotjs&quot;: &quot;git+https://github.com/octalmage/robotjs.git&quot;,
  &quot;socket.io&quot;: &quot;^4.3.1&quot;
},
&quot;devDependencies&quot;: {}
}
</code></pre>
<p>When I run pkg . --debug, the final error it shows is:</p>
<pre><code>[debug] prebuild-install 

 failed[C:\Users\Documents\visortokey\node_modules\robotjs\build\Release\robotjs.node 
 ]:
 Error: spawnSync 
C:\npm\node_modules\pkg\node_modules\.bin\prebuild-install 
ENOENT
</code></pre>
<p>Any ideas? I have tried updating the robotjs prebuild-install, adding a local resource of robotjs in my dist folder, installing robotjs from npm rather than github, adding robotjs module as an asset but whatever I do, I cannot clear the issue.</p>
",<node.js><express><npm-install><yarnpkg><robotjs>,1.0,0,0,1
41781,41034,69685019,1,0,16607532,1.0,2.0,0.0,0.0,2021-10-23T04:04:04.177,0.0,1047.0,verbose stack Error: functions@ start: `npm run shell`,"<p>I've been trying to solve this problem for days,</p>
<p>Could one of you help me? Please do so.</p>
<pre><code>0 info it worked if it ends with ok
1 verbose cli [ '/usr/local/bin/node', '/usr/local/bin/npm', 'start' ]
2 info using npm@6.14.15
3 info using node@v14.18.1
4 verbose run-script [ 'prestart', 'start', 'poststart' ]
5 info lifecycle functions@~prestart: functions@
6 info lifecycle functions@~start: functions@
7 verbose lifecycle functions@~start: unsafe-perm in lifecycle true
8 verbose lifecycle functions@~start: PATH: /usr/local/lib/node_modules/npm/node_modules/npm-lifecycle/node-gyp-bin:/Users/wuskamsmac/Desktop/challenge-amazon/node_modules/.bin:/Library/Frameworks/Python.framework/Versions/3.9/bin:/Library/Frameworks/Python.framework/Versions/3.8/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/Apple/usr/bin:/Library/Frameworks/Python.framework/Versions/3.9/bin:/Library/Frameworks/Python.framework/Versions/3.8/bin
9 verbose lifecycle functions@~start: CWD: /Users/wuskamsmac/Desktop/challenge-amazon
10 silly lifecycle functions@~start: Args: [ '-c', 'npm run shell' ]
11 silly lifecycle functions@~start: Returned: code: 1  signal: null
12 info lifecycle functions@~start: Failed to exec start script
13 verbose stack Error: functions@ start: `npm run shell`
13 verbose stack Exit status 1
13 verbose stack     at EventEmitter.&lt;anonymous&gt; (/usr/local/lib/node_modules/npm/node_modules/npm-lifecycle/index.js:332:16)
13 verbose stack     at EventEmitter.emit (events.js:400:28)
13 verbose stack     at ChildProcess.&lt;anonymous&gt; (/usr/local/lib/node_modules/npm/node_modules/npm-lifecycle/lib/spawn.js:55:14)
13 verbose stack     at ChildProcess.emit (events.js:400:28)
13 verbose stack     at maybeClose (internal/child_process.js:1058:16)
13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:293:5)
14 verbose pkgid functions@
15 verbose cwd /Users/wuskamsmac/Desktop/challenge-amazon
16 verbose Darwin 20.6.0
17 verbose argv &quot;/usr/local/bin/node&quot; &quot;/usr/local/bin/npm&quot; &quot;start&quot;
18 verbose node v14.18.1
19 verbose npm  v6.14.15
20 error code ELIFECYCLE
21 error errno 1
22 error functions@ start: `npm run shell`
22 error Exit status 1
23 error Failed at the functions@ start script.
23 error This is probably not a problem with npm. There is likely additional logging output above.
24 verbose exit [ 1, true ]
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
41802,41055,69708053,1,0,14795916,0.0,0.0,0.0,0.0,2021-10-25T12:27:16.560,2.0,83.0,I cannot import firebase version 9 in my express.js files,"<p>I want to import my firebase variables in my file:</p>
<pre><code>const express=require('express');
const router=express.Router();
  const firebase = require('../firebase');
 const firestore=firebase.firestore();

router.get('/',(req,res)=&gt;{
  res.send('Hello World');
});
</code></pre>
<p>Here is my firebase initialization code:</p>
<pre><code>const firebase = require('firebase');
require('dotenv').config();
  const firebaseConfig = {
    apiKey: process.env.FIREBASE_API_KEY,
    authDomain: process.env.FIREBASE_AUTH_DOMAIN,
    databaseURL:process.env.FIREBASE_PROJECT_ID,
    projectId:process.env.FIREBASE_STORAGE_BUCKET ,
    storageBucket:process.env.FIREBASE_MESSAGING_SENDER_ID ,
    appId:process.env.FIREBASE_APP_ID 
  };

 const result=firebase.initializeApp(firebaseConfig);

 module.exports=result;
</code></pre>
<p>Whenever I import my result variable</p>
<pre><code>  const firebase = require('../firebase');
</code></pre>
<p>I got error</p>
<pre><code> at require (internal/modules/cjs/helpers.js:88:18)
  at Object.&lt;anonymous&gt; (E:\Trekxplorer\backend\firebase.js:1:18)
  at Module._compile (internal/modules/cjs/loader.js:1063:30) {
code: 'ERR_PACKAGE_PATH_NOT_EXPORTED'
</code></pre>
",<javascript><firebase><express><npm>,0.0,0,0,1
42248,41501,70040808,1,70040899,15826792,1.0,1.0,0.0,0.0,2021-11-19T20:52:40.877,0.0,30.0,How can i prevent them from entering to an address? (express),"<p>I am using <code>/style</code> for <code>style.css</code> and am using this code;</p>
<pre><code>app.get(&quot;/style&quot;, (req, res) =&gt; res.sendFile(__dirname + &quot;/assets/style.css&quot;))
</code></pre>
<p>I don't want them to enter to <code>/style</code> address and steal styles, so i want people to get an error that they enter the <code>/style</code> address. How can i do?</p>
",<javascript><express><npm>,0.0,0,0,1
42267,41520,70052757,1,70052807,14916414,2.0,1.0,0.0,0.0,2021-11-21T07:50:33.857,0.0,88.0,npm express cant find middleware,"<p>I have installed npm express and serve-flavicon, they are present in <code>npm ls</code> and <code>npm ls --global</code> but I'm still getting <code>Error: Most middleware (like favicon) is no longer bundled with Express and must be installed separately</code></p>
<pre><code>const https = require('https');
const fs = require('fs');

const express  = require('express');
const app = express();
const favicon = require('serve-favicon');

app.use(express.static('public'));
app.use(express.json());
app.use(express.favicon('public/favicon.ico'));

const options = {
  key: fs.readFileSync('key.pem'),
  cert: fs.readFileSync('cert.pem')
};

https.createServer(options, app).listen(8000);
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
42373,41626,70129986,1,70130437,8755276,1.0,0.0,0.0,0.0,2021-11-26T21:00:19.257,0.0,805.0,How to implement Express + Node JS + Browserify properly?,"<p>So I'm somewhat new to the whole web development thing with node.js and I'm wondering if someone could help me out with understanding how to implement my application correctly.</p>
<p>So the app is a simple landing page with an email form that takes an email and sends it to the API. I designed this functionality without issue except when I launched my website i'm getting a required not defined error.</p>
<p>I understand that this is because node.js is a server side technology so that when the application goes live, the client doesn't understand what required means.</p>
<p>Through further research, I figured out that I had two options and that's to either implement synchronous dependencies via something like Browserify or take things asynchronously and use something like RequireJS.</p>
<p>Right now I've decided on using Browserify, (unless someone can convince me otherwise) I just need help with figuring out how to implement it for my specific app.</p>
<p>app.js</p>
<pre><code>//The dependenices my node js app needs (also where the require bug occurs)
//------------------------------------------------------------------------------------------------------------------------
const express = require('express'); //Require the express package that we installed with npm install express

const request = require('request'); //Require the express package that we installed with npm install request

const bodyParser = require('body-parser'); //Require the express package that we installed with npm install bodyParser

const path = require('path'); //Require the express package that we installed with npm install path
//------------------------------------------------------------------------------------------------------------------------



const app = express(); //Creates the application with express


//Middleware
app.use(express.json()); //Tells express to use JSON as it's input

app.use(bodyParser.urlencoded({ extended: false })); //Prevents XSS, only will return if the url has specified enconding

app.use(express.static(path.join(__dirname, '/site'))); //Tells the app to use the current path D:\Gaming Galaxy\Website\Website\main\site as the dir for the website

console.log(&quot;The directory used is&quot;, express.static(path.join(__dirname, '/site')));

app.post('/subscribe', (req, res) =&gt; { //Makes a post request to express req is the request and res is the response
    const { email, js } = req.body; //Create a constant that makes up of the request's body

    const mcData = { //Create a constant JSON object mcData, that contains the email from the above constant and a status message
        members: [
            {
                email_address: email,
                status: 'pending'
            }
        ]
    }

    const mcDataPost = JSON.stringify(mcData); //Turns the JSON object into a string

    const options = { //Sets a JSON object of a bunch of options that mailchimp will use
        url: 'https://us20.api.mailchimp.com/3.0/lists/f10300bacb',
        method: 'POST',
        headers: {
            Authorization: 'auth f24c3169da044653d1437842e39bece5-us20'
        },
        body: mcDataPost
    }

    if (email) { //If there's an email that exists
        request(options, (err, response, body) =&gt; { //Send a request to mail chimp
            if (err) { //If there's an error
                res.json({ error: err }) //Print said error
            } else { //If there's not an error
                if (js) {  //If javascript is enabled (boolean)
                    res.sendStatus(200); //Send a success message
                } else {
                    res.redirect('/success.html'); //If it's disabled, send them to a successful HTML page.
                }
            }
        })
    } else {
        res.status(404).send({ message: 'Failed' }) //If the email doesn't exist, have it fail
    }

});

app.listen(5000, console.log('Server started!')) //Console log that confirms the start of the server
</code></pre>
<p>package.json</p>
<pre><code>{
  &quot;name&quot;: &quot;gaminggalaxy&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;main&quot;: &quot;site/js/app.js&quot;,
  &quot;dependencies&quot;: {
    &quot;body-parser&quot;: &quot;^1.19.0&quot;,
    &quot;commonjs&quot;: &quot;^0.0.1&quot;,
    &quot;express&quot;: &quot;^4.17.1&quot;,
    &quot;index&quot;: &quot;^0.4.0&quot;,
    &quot;node-fetch&quot;: &quot;^2.6.6&quot;,
    &quot;prototype&quot;: &quot;^0.0.5&quot;,
    &quot;request&quot;: &quot;^2.65.0&quot;,
    &quot;requirejs&quot;: &quot;^2.3.6&quot;,
    &quot;uniq&quot;: &quot;^1.0.1&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;nodemon&quot;: &quot;^2.0.15&quot;
  },
  &quot;scripts&quot;: {
    &quot;serve&quot;: &quot;node app&quot;,
    &quot;dev&quot;: &quot;nodemon app&quot;
  },
  &quot;keywords&quot;: [],
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;repository&quot;: {
    &quot;type&quot;: &quot;git&quot;,
    &quot;url&quot;: &quot;git+https://github.com/InvertedTNT/Main.git&quot;
  },
  &quot;bugs&quot;: {
    &quot;url&quot;: &quot;https://github.com/InvertedTNT/Main/issues&quot;
  },
  &quot;homepage&quot;: &quot;https://github.com/InvertedTNT/Main#readme&quot;,
  &quot;description&quot;: &quot;&quot;
}

</code></pre>
<p>index.html (the form itself)</p>
<pre><code>&lt;form action=&quot;/subscribe&quot; method=&quot;POST&quot;&gt;
   &lt;div class=&quot;newsletter-form-grp&quot;&gt;
        &lt;i class=&quot;far fa-envelope&quot;&gt;&lt;/i&gt;
        &lt;input type=&quot;email&quot; name=&quot;email&quot; id=&quot;email&quot;
              placeholder=&quot;Enter your email...&quot; required&gt;
    &lt;/div&gt;
    &lt;button id=&quot;cta&quot;&gt;SUBSCRIBE &lt;i class=&quot;fas fa-paper-plane&quot;&gt;&lt;/i&gt;&lt;/button&gt;
&lt;/form&gt;
</code></pre>
<p>folder structure</p>
<pre><code>node_modules
site
  -index.html
  -css
  -js
     - app.js
  -images
app.js
package-lock.json
package.json
</code></pre>
<p>Thank you for your help, I would appreciate any sort of advice on how I can use those dependencies and the overall implementation of browserify.</p>
",<javascript><node.js><express><npm><browserify>,0.0,0,0,1
42416,41669,70159553,1,0,17544297,1.0,5.0,0.0,0.0,2021-11-29T18:25:50.687,0.0,63.0,Unable to use 'require' in downstream node_modules,"<p>I am developing an express api, where routes are installed as a dependency of the main project. Inside the main project I have a config folder with index.js. index.js is exporting an object that serves as the route configuration.</p>
<p>Inside the main project, I am able to get inside this exported object from all of the files, however, when trying to require from this config object inside of the node_modules dependency, it is coming back as undefined. I have tried with both relative and absolute pathnames in the require statement and neither seem to retrieve the js object.</p>
<p>using commonJs. Confirmed that I am using module.exports and require statements on the receiving end. Tried require statement from app.js and include a module.exports statement there as well. No luck.</p>
<p>Is there some magical way to get objects exported from the main project into the dependency packages? Wondering if there is something simple I am missing.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>Structure:
-app.js (main)
-package.json
--routes (folder)
    |
    index.js ('imports' route express modules from node_modules)

--config (folder)
    |
    index.js (where module.exports.objectname = {stuff:stuff} exists)

--node_modules
    |
    packagefolder (project scope)
          |
          packagename (route scope)
          |
          functions (folder)
              bunchofjs files to complete i/o of requests
          routes (folder)
              index.js (package.json main. Handles require from ../../..)
          config (folder)
              index.js (where the config require statement is.)</code></pre>
</div>
</div>
</p>
<p>Sample statement from main application in the config/index.js:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>const globalConfig = {
    port : 4443,
    otherinfo: ""stuff""
}
module.exports.globalConfig = globalConfig</code></pre>
</div>
</div>
</p>
<p>Sample code from inside node_modules/packagefolder/packagename/routes/index.js</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>const port = require('../../../../../config').globalConfig.port</code></pre>
</div>
</div>
</p>
<p>Sample error:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>TypeError: Cannot read properties of undefined</code></pre>
</div>
</div>
</p>
<p>The carrot( ^ ) symbol is on the dot between globalConfig and port.</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
42440,41693,70172750,1,0,17494574,1.0,0.0,0.0,0.0,2021-11-30T16:28:43.893,0.0,31.0,How can I return a file using react? Or `npm unload` analogs for express,"<p>How can I return a file using react? In express, this is sendFile. If the file is exe, then it will be downloaded, if it is a pdf file, then it will be displayed in the browser, if the picture, then it will also be displayed.
I would like to know how you can implement the same feed using react.
Or, perhaps express has the same library as <code>unload</code> for react. So that you can track when the user leaves the page</p>
",<node.js><reactjs><express><npm><sendfile>,0.0,0,0,1
42468,41721,70191203,1,0,17565802,0.0,2.0,0.0,0.0,2021-12-01T21:07:04.820,1.0,49.0,500 - Server Error : Using expressjs to upload user registration. I can't figure out what is causing this error using express.Router to handle it,"<p>I am using .env to connect to MYSQL and the connection works fine. My views are working as well, but the router.post..., is not working. This is a simple registration and login app that I am trying to create. I done this in a different method with all the database query in the app.js file which worked fine. but with this setup convention its not working.The problem is with the database query in the express.router function auth.js is in a folder : routes/auth.js, I have only two files the app.js and the auth.js</p>
<p>app.js</p>
<pre><code>var express = require('express');
var handlebars = require('express-handlebars').create({ defaultLayout: 'main' });
var dotenv = require('dotenv');
var bodyParser = require('body-parser');

var fileUpload = require('express-fileupload');
var route = require('./routes/auth');
var app = express();

//diable metadata header response
app.disable('x-powered-by');

//app template configuration setup
app.engine('handlebars', handlebars.engine);
app.set('view engine', 'handlebars');

//static resources configuration
app.use(express.static(__dirname + '/public'));

//routing modulation
app.use('/', route);
app.use('about', route);
app.use('login', route);
app.use('register', route);
app.use('upload', route);



//file upload config
app.use(fileUpload());
app.use(express.static('upload'));

//forn encoding
app.use(bodyParser.urlencoded({ extended: false }));

//app port for viewing
app.set('port', process.env.PORT || 3000);


//custom 404 page
app.use((req, res, next) =&gt; {
    res.status(404);
    res.render('404');
});

//custom 500 page
app.use((err, req, res, next) =&gt; {
    res.status(500);
    res.render('500');
});

app.listen(app.get('port'), (req, res) =&gt; {
    console.log('Express started on localhost:' +
        app.get('port') + '; press Ctrl-C to terminate.');
});

module.exports = app;
</code></pre>
<p>auth.js : to handle the query to MYSQL</p>
<pre><code>var express = require('express');
var bcrypt = require('bcrypt');
var fortune = require('../lib/fortune');
var db = require('../controllers/database');
var router = express.Router();


// define the home page route
router.get('/', (req, res) =&gt; {
    res.render('home');
});


//About Page route
router.get('/about', (req, res) =&gt; {
    res.render('about', { fortune: fortune.getFortune });
});

//middleware registration page route
router.get('/register', (req, res) =&gt; {
    res.render('register');
});

router.post('/register',  (req, res) =&gt; {

    var { firstName, lastName, email, password, passwordConfirm } = req.body;

    db.query('SELECT email FROM registration WHERE email = ?', [email], (error, results) =&gt; {
        if (error) {
            console.log(error);
        }

        if (results.length &gt; 0) {
            return res.render('register', {
                message: 'That email is already in use'
            })
        }
        else if (password !== passwordConfirm) {
            return res.render('register', {
                message: 'Passwords do not match'
            })
        }
    });

    let hashedPwd = bcrypt.hash(password, 10);
    console.log(hashedPwd);


    db.query('INSERT INTO registration SET ? ',  { firstName: firstName, lastName: lastName, email: email, password: hashedPwd }, (error, results) =&gt; {
        if (error) {
            console.log(error);
        } else {
            console.log(results);
            return res.render('register', {
                message: 'User registered'
            });
        }
    });

    
});


router.get('/login', (req, res) =&gt; {
    res.render('login');
});

module.exports = router;
</code></pre>
<p>register.handlebars</p>
<pre><code>&lt;form class=&quot;row g-3&quot; role=&quot;form&quot; method=&quot;POST&quot; enctype=&quot;application/x-www-form-urlencoded&quot; action=&quot;/register&quot;&gt;
    &lt;div class=&quot;col-12&quot;&gt;
        &lt;label for=&quot;inputAddress&quot; class=&quot;form-label&quot;&gt;First Name&lt;/label&gt;
        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;inputAddress&quot; placeholder=&quot;Jane&quot; name=&quot;firstName&quot;&gt;
    &lt;/div&gt;
    &lt;div class=&quot;col-12&quot;&gt;
        &lt;label for=&quot;inputAddress&quot; class=&quot;form-label&quot;&gt;Last Name&lt;/label&gt;
        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;inputAddress&quot; placeholder=&quot;Doe&quot; name=&quot;lastName&quot;&gt;
    &lt;/div&gt;
    &lt;div class=&quot;col-md-6&quot;&gt;
        &lt;label for=&quot;inputEmail4&quot; class=&quot;form-label&quot;&gt;Email&lt;/label&gt;
        &lt;input type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;inputEmail4&quot; placeholder=&quot;janedoe@mail&quot; name=&quot;email&quot;&gt;
    &lt;/div&gt;
    &lt;div class=&quot;col-md-6&quot;&gt;
        &lt;label for=&quot;inputPassword4&quot; class=&quot;form-label&quot;&gt;Password&lt;/label&gt;
        &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;inputPassword4&quot; placeholder=&quot;password&quot; name=&quot;password&quot;&gt;
    &lt;/div&gt;
    &lt;div class=&quot;col-md-6&quot;&gt;
        &lt;label for=&quot;inputPassword4&quot; class=&quot;form-label&quot;&gt;Confirm Password&lt;/label&gt;
        &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;inputPassword4&quot; placeholder=&quot;Confim Password&quot; name=&quot;passwordConfirm&quot;&gt;
    &lt;/div&gt;
    &lt;div class=&quot;col-12&quot;&gt;
        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Register&lt;/button&gt;
    &lt;/div&gt;
    {{#if message}}
    &lt;h4 class=&quot;alert alert-danger mt-4&quot;&gt;{{message}}&lt;/h4&gt;
    {{/if}}
&lt;/form&gt;
</code></pre>
",<mysql><node.js><express><npm><handlebars.js>,0.0,0,0,1
42732,41985,70386328,1,70386713,17696632,1.0,0.0,0.0,0.0,2021-12-16T22:22:46.090,0.0,428.0,How to add PWA functionality to a express web app,"<p>I am currently trying to add PWA integration to a web app. I have created a manifest.json and added it to the head of my page, and that is loading fine, however the serviceworker registered in my app.js doesnt seem to be doing anything.</p>
<p>Below is the section of code I am using to set up the app:</p>
<pre><code>const express = require(&quot;express&quot;)
const path = require('path')
const chalk = require('chalk')
const debug = require('debug')('app')
const morgan = require('morgan')
const sql = require('mssql')
const navigator = require('navigator')
const https = require('https')
const fs = require('fs')

const app = express()
const viewsPath = path.join(__dirname+&quot;/src/views/&quot;)
const routesPath = path.join(__dirname+&quot;/src/routes/&quot;)
const publicPath = path.join(__dirname+&quot;/public/&quot;)
const modulePath = path.join(__dirname+'/node_modules/')
const port = process.env.PORT || 443

const alcoholRouter = require(routesPath+'alcoholRoutes.js')
const cocktailRouter = require(routesPath+'cocktailRoutes.js')
const mixerRouter = require(routesPath+'mixerRoutes.js')

app.use(morgan('tiny'))
app.use(express.static(publicPath))
app.use('/css', express.static(modulePath+'bootstrap\\dist\\css'))
app.use('/js', express.static(modulePath+'bootstrap\\dist\\js'))
app.use('/js', express.static(modulePath+'jquery\\dist'))
app.set('views', viewsPath)
app.set('view engine', process.env.ENGINE || &quot;ejs&quot;)
app.use('/alcohol', alcoholRouter)
app.use('/cocktails', cocktailRouter)
app.use('/mixers', mixerRouter)

app.get('/', function(req, res){
    res.render('index', {
        nav:  [
            {link: '/alcohol', title: 'Alcohol'},
            {link: '/cocktails', title: 'Cocktails'},
            {link: '/mixers', title: 'Mixers'}
        ],
        title: 'BarCart'
    })
})

https.createServer(
    {
        key:fs.readFileSync('44400120_localhost.key'),
        cert:fs.readFileSync('44400120_localhost.cert'),
    }, app).listen(port, function(){
        debug(`Listening on port ${chalk.greenBright(port)}`)
    }
)

app.get('*', function(req, res){
    res.redirect('https://' + req.headers.host + req.url)
})

app.listen(80)

if('serviceWorker' in navigator){
    navigator.serviceWorker.register('sw.js')
}
</code></pre>
<p>This is the code for my serviceworker</p>
<pre><code>var contentToCache = [
    './',
    'src/views/alcoholListView.ejs',
    'src/views/cocktailListView.ejs',
    'src/views/mixerListView.ejs',
    'src/views/alcoholView.ejs',
    'src/views/cocktailView.ejs',
    'src/views/mixerView.ejs',
    'src/views/index.ejs',
    'app.js',
    'src/routes/alcoholRoutes.js',
    'src/routes/cocktailRoutes.js',
    'src/routes/mixerRoutes.js',
    'public/css/styles.css'
]
self.addEventListenent('install', function (e) {
    console.log('[Service Worker] Install')
    e.waitUntil(
        caches.open(cacheName).then(function (cache) {
            console.log('[Service Worker] Caching all: app shell and content')
            return cache.addAll(contentToCache)
        })
    )
})
self.addEventListener('fetch', function (e) {
    e.respondWith(
        caches.match(e.request).then(function (r) {
            console.log('[Service Worker] Caching new resource: ' + e.request.url)
            return r || fetch(e.request).then(function (response){
                return caches.open(cacheName).then(function (cache) {
                    console.log('[Service Worker] caching new resource: ' + e.request.url)
                    cache.put(e.request, response.clone())
                    return response
                })
            })
        })
    )
})

self.addEventListener('activate', (e) =&gt; {
    e.waitUntil(
        caches.keys().then((keyList)=&gt;{
            return Promise.all(keyList.map((key)=&gt;{
                if(cacheName.indexOf(key)===-1){
                    return caches.delete(key)
                }
            }))
        })
    )
})
</code></pre>
<p>Any advice into why it doesnt want to recognise this as a pwa would be greatly appreciated, thanks</p>
",<javascript><node.js><express><npm><progressive-web-apps>,0.0,0,0,1
42957,42210,70540104,1,70657271,16882806,2.0,4.0,0.0,0.0,2021-12-31T07:45:22.090,0.0,2388.0,Node js Cannot GET /api/ When requesting on my live host,"<p>I have taken about 2days to research on this and i have come across several answers but it doesn't still solve my problem.</p>
<p>I have this api app which i built with nodejs and express js,
when I listen to it on the main port from a port like <code>http://127.0.0.1:8080</code>, it returns the right response of <strong>hello world</strong>, but when i tried to host it to my cpanel following this steps here <a href=""https://blog.cpanel.com/how-to-host-a-node-js-application-with-cpanel/"" rel=""nofollow noreferrer"">How to Host a Node.JS Application With cPanel</a> and visit <code>http:// mysite.com/api</code> same with <code>(https:// mysite.com/api)</code> it returns the error <code>Cannot GET /api/</code></p>
<p>I don't know what else to do, i will really appreciate any help.</p>
<p><strong>N/B:</strong> my server is running node version 16.13.1 and express version 4.17.2</p>
<p><strong>here is my app.js code</strong></p>
<pre><code>const express = require(&quot;express&quot;);
const cors = require(&quot;cors&quot;);


const app = express();
var server  = require('http').createServer(app);
var io      = require('socket.io').listen(server);
var corsOptions = {
  origin: &quot;http://localhost:8080&quot;
};

app.use(cors(corsOptions));

// parse requests of content-type - application/json
app.use(express.json());

// parse requests of content-type - application/x-www-form-urlencoded
app.use(express.urlencoded({ extended: true }));

// database
const db = require(&quot;./app/models&quot;);
const Role = db.role;

db.sequelize.sync();

// simple route
app.post(&quot;/&quot;, (req, res) =&gt; {
  res.json({ message: &quot;Hello World.&quot; });
  console.log(res);
});

// routes
require('./app/routes/auth.routes')(app);
require('./app/routes/user.routes')(app);

// set port, listen for requests
const PORT = process.env.PORT || 8080;
server.listen(PORT, () =&gt; {
  console.log(`Server is running on port ${PORT}.`);
});
</code></pre>
<p><strong>Here is my package json code</strong></p>
<pre><code>{
  &quot;name&quot;: &quot;node-js-jwt-auth&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;Node.js Demo for JWT Authentication&quot;,
  &quot;main&quot;: &quot;app.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;set HOST=localhost&amp;&amp; set PORT=8080&amp;&amp; node app.js&quot;,
    &quot;dev&quot;: &quot;set NODE_ENV=development&amp;&amp; node app.js&quot;,
    &quot;prod&quot;: &quot;set NODE_ENV=production&amp;&amp; node app.js&quot;
  },
  &quot;keywords&quot;: [
    &quot;node.js&quot;,
    &quot;jwt&quot;,
    &quot;authentication&quot;,
    &quot;express&quot;,
    &quot;mysql&quot;
  ],
  &quot;author&quot;: &quot;bezkoder&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: {
    &quot;bcryptjs&quot;: &quot;^2.4.3&quot;,
    &quot;cors&quot;: &quot;^2.8.5&quot;,
    &quot;dotenv&quot;: &quot;^10.0.0&quot;,
    &quot;express&quot;: &quot;^4.17.2&quot;,
    &quot;joi&quot;: &quot;^17.5.0&quot;,
    &quot;jsonwebtoken&quot;: &quot;^8.5.1&quot;,
    &quot;keygenerator&quot;: &quot;^1.0.4&quot;,
    &quot;mailgen&quot;: &quot;^2.0.16&quot;,
    &quot;mysql2&quot;: &quot;^2.3.3&quot;,
    &quot;nodemailer&quot;: &quot;^6.7.2&quot;,
    &quot;sequelize&quot;: &quot;^5.22.5&quot;
  }
}
</code></pre>
",<node.js><express><npm><cpanel>,0.0,0,0,1
43018,42271,70574481,1,0,3537600,0.0,3.0,0.0,0.0,2022-01-04T05:41:10.130,0.0,541.0,'.' is not recognized as an internal or external command,"<p>I'm trying to run a node server using:
&quot;start&quot;: &quot;./node_modules/.bin/ng serve  --proxy-config ./proxy.json&quot;
and I'm getting the error of:
'.' is not recognized as an internal or external command.</p>
<p>I must say it worked perfectly for a while, and it started to appear recently,
after some other installations on my machine, ie python...</p>
<p>If I do it with full path:
&quot;server&quot;: &quot;c:/dev/my-working-folder/node_modules/.bin/ts-node -P ./server/server.tsconfig.json ./server/server.ts&quot;
it will work.</p>
<p>I'll Appreciate any help.
Thanks</p>
",<node.js><express><ts-node><npm-run>,0.0,0,0,1
43020,42273,70574880,1,0,15549202,14.0,2.0,0.0,0.0,2022-01-04T06:40:33.437,8.0,5187.0,Unable to install express-graphql,"<p><strong>I'm trying to install <code>express-graphql</code> but getting this error. Please, help!</strong></p>
<pre><code>npm install --save express-graphql 
npm ERR! code ERESOLVE
npm ERR! ERESOLVE unable to resolve dependency tree
npm ERR! 
npm ERR! While resolving: rest-api@1.0.0
npm ERR! Found: graphql@16.2.0
npm ERR! node_modules/graphql
npm ERR!   graphql@&quot;^16.2.0&quot; from the root project 
npm ERR! 
npm ERR! Could not resolve dependency:
npm ERR! peer graphql@&quot;^14.7.0 || ^15.3.0&quot; from express-graphql@0.12.0
npm ERR! node_modules/express-graphql
npm ERR!   express-graphql@&quot;*&quot; from the root project
npm ERR! 
npm ERR! Fix the upstream dependency conflict, or retry
npm ERR! this command with --force, or --legacy-peer-deps
npm ERR! to accept an incorrect (and potentially broken) dependency resolution.
</code></pre>
",<node.js><npm><graphql><express-graphql>,0.0,0,0,1
43111,42364,70637702,1,70637780,15201418,2.0,2.0,0.0,0.0,2022-01-09T01:05:09.703,1.0,4903.0,"npm ERR! Error: EPERM: operation not permitted, mkdir","<p>I'm installing express on disk D:/  but I found an error when I installed it, but if I install express on disk C:/  it worked and I reinstalled it on disk E:/ and D:/ Errors like this appear.<a href=""https://i.stack.imgur.com/kAWKN.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
",<node.js><express><npm><npm-install><npm-request>,0.0,0,0,1
43298,42551,70777811,1,70905333,14837632,1.0,1.0,0.0,0.0,2022-01-19T21:12:40.787,1.0,45.0,Unsure as to why I'm getting an error and why it doesn't start upon starting express.js,"<p>My express.js is unable to start upon typing <code>npm start</code> and I don't understand why it's happening, here's my error log:</p>
<pre><code>C:\Users\simer\Desktop\API-workshop&gt;npm start

&gt; api-workshop@0.0.0 start C:\Users\simer\Desktop\API-workshop
&gt; node ./bin/www

internal/modules/cjs/loader.js:905
  throw err;
  ^

Error: Cannot find module 'http-errors'
Require stack:
- C:\Users\simer\Desktop\API-workshop\app.js
- C:\Users\simer\Desktop\API-workshop\bin\www
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:902:15)
    at Function.Module._load (internal/modules/cjs/loader.js:746:27)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at require (internal/modules/cjs/helpers.js:92:18)
    at Object.&lt;anonymous&gt; (C:\Users\simer\Desktop\API-workshop\app.js:1:19)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:14)
    at Module.require (internal/modules/cjs/loader.js:974:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    'C:\\Users\\simer\\Desktop\\API-workshop\\app.js',
    'C:\\Users\\simer\\Desktop\\API-workshop\\bin\\www'
  ]
}
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! api-workshop@0.0.0 start: `node ./bin/www`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the api-workshop@0.0.0 start script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\simer\AppData\Roaming\npm-cache\_logs\2022-01-19T21_07_47_160Z-debug.log
</code></pre>
<p>Does anyone know what I should do?</p>
",<node.js><express><npm>,0.0,0,0,1
43380,42633,70840489,1,0,14395652,0.0,3.0,0.0,0.0,2022-01-24T21:05:20.040,0.0,40.0,Cannot overwrite `categories` model once compiled,"<p>** Cannot overwrite <code>categories</code> model once compiled. **</p>
<pre class=""lang-js prettyprint-override""><code>const mongoose = require(&quot;mongoose&quot;);

const schema = mongoose.Schema;

// create url connect data base
const url = &quot;mongodb://localhost:27017/STOREBOOKS&quot;;

// create  category for schema
const category = schema({
  name: String,
});

// create crcategory in model categores
const Cats = mongoose.model(&quot;categoreis&quot;, category);

// this function return all categories of Promise
exports.getAllcategories = () =&gt; {
  return new Promise((resolve, reject) =&gt; {
    mongoose
      .connect(url, {
        useNewUrlParser: true,
        useUnifiedTopology: true,
      })
      .then(() =&gt; Cats.find())
      .then((cats) =&gt; {
        mongoose.disconnect();
        resolve(cats);
      })
      .catch((err) =&gt; {
        reject(err);
      });
  });
};
</code></pre>

<pre><code>** throw new _mongoose.Error.OverwriteModelError(name);**
</code></pre>
",<javascript><node.js><express><npm><mongoose>,0.0,0,0,1
43408,42661,70852995,1,70853087,17028765,1.0,0.0,0.0,0.0,2022-01-25T17:22:03.623,2.0,260.0,Refused to display style because MIME type,"<p>I'm new to node / express and I'm testing it by building a simple tip calculator app, but I can't get my CSS to load. I keep getting an error in the console:</p>
<blockquote>
<pre class=""lang-none prettyprint-override""><code>&quot;Refused to apply style from 'http://localhost:1000/public/style.css' because its MIME type ('text/html').&quot; 
</code></pre>
</blockquote>
<p>I tried changing my path to my static files to a &quot;public&quot; folder as suggested in other answers, but it still doesn't work.</p>
<p>I think my server may be configured incorrectly, because when I try to load <code>http://localhost:1000/public/style.css</code> in the browser, I get a <code>CANNOT GET</code> error. I'm kind of stumped because I'm pretty sure the path is correct. Any idea what I'm doing wrong here?</p>
<p>My js file:</p>
<pre><code>const express = require('express');
const app = express();
const port = 1000

app.get('/', (req, res) =&gt; {
  res.sendFile(__dirname + '/index.html');
});

app.use(express.static('public'));

app.listen(port, () =&gt; {
  console.log(`tipCalc listening on port ${port}`);
});
</code></pre>
<p>My html:</p>
<pre class=""lang-html prettyprint-override""><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot;&gt;
        &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
        &lt;title&gt;&lt;/title&gt;
        &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;
        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css&quot; integrity=&quot;sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn&quot; crossorigin=&quot;anonymous&quot;&gt;
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;public/style.css&quot;&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div class=&quot;calculator container-fluid&quot;&gt;
            &lt;form class=&quot;form&quot;&gt;
                &lt;div class=&quot;form-group&quot;&gt;
                  &lt;label for=&quot;formGroupExampleInput&quot;&gt;Bill&lt;/label&gt;
                  &lt;input type=&quot;text&quot; class=&quot;form-control bill&quot; id=&quot;formGroupExampleInput&quot; placeholder=&quot;$0.00&quot;&gt;
                &lt;/div&gt;
                &lt;div class=&quot;form-group&quot;&gt;
                  &lt;label for=&quot;formGroupExampleInput2&quot;&gt;Tip %&lt;/label&gt;
                  &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;formGroupExampleInput2&quot; placeholder=&quot;0%&quot;&gt;
                &lt;/div&gt;
                &lt;div class=&quot;form-group&quot;&gt;
                    &lt;label for=&quot;formGroupExampleInput2&quot;&gt;Number of people&lt;/label&gt;
                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;formGroupExampleInput2&quot; placeholder=&quot;&quot;&gt;
                  &lt;/div&gt;
              &lt;/form&gt;
              &lt;div class=&quot;row result&quot;&gt;
                &lt;div class=&quot;col-xs-6 tip-result&quot;&gt;
                    &lt;h2&gt;Tip amount: &lt;span class=&quot;badge badge-secondary&quot;&gt;$0&lt;/span&gt;&lt;/h2&gt;
                &lt;/div&gt;
                &lt;div class=&quot;col-xs-6 total-result&quot;&gt;
                    &lt;h2&gt;Total: &lt;span class=&quot;badge badge-secondary&quot;&gt;$0&lt;/span&gt;&lt;/h2&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;

        &lt;!-- bootstrap js/jquery --&gt;
        &lt;script src=&quot;https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js&quot; integrity=&quot;sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;
        &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js&quot; integrity=&quot;sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;

        &lt;script src=&quot;index.js&quot; async defer&gt;&lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>My file path:</p>
<p><a href=""https://i.stack.imgur.com/leLy6.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/leLy6.png"" alt=""enter image description here"" /></a></p>
",<javascript><css><node.js><express><npm>,0.0,0,0,1
43417,42670,70858748,1,70861164,16835430,1.0,0.0,0.0,0.0,2022-01-26T04:45:57.973,0.0,357.0,nodejs : nodemon app crashed - waiting for file changes before starting,"<p>I was actually following a nodejs course on Udemy and suddenly down the course, the code started breaking and giving some errors. I then tried copying the instructor's code, but still, the problem was the same.</p>
<p>I also followed this <a href=""https://stackoverflow.com/questions/37486631/nodemon-app-crashed-waiting-for-file-changes-before-starting"">answer</a> on StackOverflow itself but the problem remains the same.</p>
<p>I am attaching all the js files below and also the error message from the terminal below:</p>
<p><a href=""https://i.stack.imgur.com/pu2WS.png"" rel=""nofollow noreferrer"">Error message from the terminal</a></p>
<p><a href=""https://i.stack.imgur.com/c6OFe.png"" rel=""nofollow noreferrer"">This is what the file structure looks like</a></p>
<p>Now the js files:</p>
<p>app.js file:</p>
<pre><code>const express = require('express');
const bodyParser = require('body-parser');
const path = require('path');
 
const adminRoutes = require('./routes/admin');
const shopRoutes = require('./routes/shop');
const errorController = require('./controllers/error');
 
const app = express();
 
app.set('view engine', 'ejs');
app.set('views', 'views');
 
app.use(bodyParser.urlencoded({extended:false}));
app.use(express.static(path.join(__dirname, 'public')));
 
app.use('/admin', adminRoutes);
app.use(shopRoutes);
 
app.use(errorController.get404Page);
 
app.listen(3000);
</code></pre>
<p>controllers/error.js file:</p>
<pre><code>exports.get404 = (req, res, next) =&gt; {
  res.status(404).render('404', { pageTitle: 'Page Not Found' });
};
</code></pre>
<p>controllers/products.js file</p>
<pre><code>const Product = require('../models/product');
 
exports.getAddProduct = (req, res, next) =&gt; {
  res.render('add-product', {
    pageTitle: 'Add Product',
    path: '/admin/add-product',
    formsCSS: true,
    productCSS: true,
    activeAddProduct: true
  });
};
 
exports.postAddProduct = (req, res, next) =&gt; {
  const product = new Product(req.body.title);
  product.save();
  res.redirect('/');
};
 
exports.getProducts = (req, res, next) =&gt; {
  Product.fetchAll(products =&gt; {
    res.render('shop', {
      prods: products,
      pageTitle: 'Shop',
      path: '/',
      hasProducts: products.length &gt; 0,
      activeShop: true,
      productCSS: true
    });
  });
};
</code></pre>
<p>models/product.js file :</p>
<pre><code>const fs = require('fs');
const path = require('path');
 
const p = path.join(
  path.dirname(process.main.filename),
  'data',
  'products.json'
);
 
const getProductsFromFile = cb =&gt; {
  fs.readFile(p, (err, fileContent) =&gt; {
    if (err) {
      cb([]);
    } else {
      cb(JSON.parse(fileContent));
    }
  });
};
 
module.exports = class Product {
  constructor(t) {
    this.title = t;
  }
 
  save() {
    getProductsFromFile(products =&gt; {
      products.push(this);
      fs.writeFile(p, JSON.stringify(products), err =&gt; {
        console.log(err);
      });
    });
  }
 
  static fetchAll(cb) {
    getProductsFromFile(cb);
  }
};
</code></pre>
<p>routes/admin.js file:</p>
<pre><code>const path = require('path');
 
const express = require('express');
 
const productsController = require('../controllers/products');
 
const router = express.Router();
 
// /admin/add-product =&gt; GET
router.get('/add-product', productsController.getAddProduct);
 
// /admin/add-product =&gt; POST
router.post('/add-product', productsController.postAddProduct);
 
module.exports = router;
</code></pre>
<p>routes/shop.js file:</p>
<pre><code>const path = require('path');
 
const express = require('express');
 
const productsController = require('../controllers/products');
 
const router = express.Router();
 
router.get('/', productsController.getProducts);
 
module.exports = router;
util/path.js file:

const path = require('path');
 
module.exports = path.dirname(process.main.filename);
</code></pre>
<p>I am new to backend development, nodejs to be specific. Please help me find my mistake.</p>
",<javascript><node.js><express><npm><nodemon>,0.0,0,0,1
43490,42743,70916785,1,0,17942678,1.0,1.0,0.0,0.0,2022-01-30T16:48:19.323,-2.0,174.0,I cannot install nodemon by using npm command,"<p><a href=""https://i.stack.imgur.com/gSr9J.jpg"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p>When i tried to install nodemon package using <strong>npm</strong> i got errors as shown in the picture. I also tried using <strong>sudo</strong> but nothing changed.</p>
",<node.js><express><npm><installation><nodemon>,0.0,0,0,1
43546,42799,70964373,1,0,18104703,0.0,3.0,0.0,0.0,2022-02-02T23:52:54.263,0.0,130.0,command not found on my program while running it,"<p>how can i solve this [I just started learning nodejs and express. I currently use Linux Manjaro and I downloaded the required things from its store, but when I want to run something <em><strong>npm start</strong></em> or <em><strong>node server.js</strong></em> an error will occur and tells me <em><strong>command not found!</strong></em>.<a href=""https://i.stack.imgur.com/UDmNt.png"" rel=""nofollow noreferrer"">1</a>?</p>
",<node.js><linux><express><npm><visual-studio-code>,0.0,0,0,1
43551,42804,70965952,1,70968605,18105933,1.0,1.0,0.0,0.0,2022-02-03T04:31:03.380,0.0,144.0,Why this is showing type error in NodeJS while using ping module?,"<p>I'm trying to make a basic app to ping an IP. So my HTML form takes one input IP and post it to NodeJS.
I'm using ping module to get the results. it works fine if I enter an IP statically but when I try to get IP by HTML form it just breaks.
This is how my code looks.</p>
<pre><code>app.post(&quot;/&quot;,function(req,res){
   console.log(req.body);
   var ip= req.body.ip;
   console.log(typeof(ip));
   var msg;
   var hosts = [ip];
   hosts.forEach(function(host){
       ping.sys.probe(host, function(isAlive){
           console.log(isAlive);
           msg = isAlive ? 'host ' + host + ' is alive' : 'host ' + host + ' is dead';
           console.log(msg);
      });
  });
res.write(msg);
res.send();
}); 
</code></pre>
<p><a href=""https://i.stack.imgur.com/R7gez.png"" rel=""nofollow noreferrer"">This is what comes on console</a></p>
",<javascript><node.js><express><npm><ping>,0.0,0,0,1
43561,42814,70975459,1,0,15574550,0.0,2.0,0.0,0.0,2022-02-03T17:08:39.740,0.0,210.0,node-sass-middleware is not installing and showing an error,"<pre><code>npm WARN deprecated tar@2.2.2: This version of tar is no longer supported, and will not receive security updates. Please upgrade asap.
npm ERR! code 1
npm ERR! path D:\Major Project 1\codeial\node_modules\node-sass-middleware\node_modules\node-sass
npm ERR! command failed
npm ERR! command C:\WINDOWS\system32\cmd.exe /d /s /c node scripts/build.js
npm ERR! Building: C:\Program Files\nodejs\node.exe D:\Major Project 1\codeial\node_modules\node-sass-middleware\node_modules\node-gyp\bin\node-gyp.js rebuild --verbose --libsass_ext= --libsass_cflags= --libsass_ldflags= --libsass_library=
</code></pre>
",<javascript><node.js><express><npm><node-sass>,0.0,0,0,1
43592,42845,70999625,1,0,16625592,1.0,5.0,0.0,0.0,2022-02-05T15:55:21.480,1.0,1264.0,nodemon not applying changes automatically to the app,"<p>When I save changes to the app nodemon says 'restarting due to changes'.
But when I refresh my localhost it does not apply the changes.
Everytime I have to run <code>nodemon app.js</code> to see the changes in my app. Why is it happening so?</p>
<p>Below is the <strong>app.js</strong> code:</p>
<pre><code>const express = require('express')

// create express app
const app = express();

//register view engine
app.set('view engine','ejs');

//listen for requests
app.listen(3000);

app.use((req,res)=&gt;{

    console.log('new request made');
    console.log('Host:',req.hostname);
    console.log('Path:',req.path);
    console.log('Method:',req.method);

});
//multiple get request handlers for diff webpages
app.get('/',(req,res)=&gt;{

    const blogs = [
        {title: 'Yoshi finds eggs', snippet: 'Lorem ipsum dolor sit amet consectetur'},
        {title: 'Mario finds stars', snippet: 'Lorem ipsum dolor sit amet consectetur'},
        {title: 'How to defeat bowser', snippet: 'Lorem ipsum dolor sit amet consectetur'},
      ];

    res.render('index',{title:'Home',blogs:blogs});  //the path for html webpage is always relative unless provided absolute. the root dir name of the path should be specified.
});

app.get('/about',(req,res)=&gt;{
    res.render('about',{title:'About'});

});

app.get('/blogs/create',(req,res)=&gt;{
    res.render('create',{title:'Create blog'});
});

app.get('/featured',(req,res)=&gt;{

    res.send('&lt;p&gt;Featured page&lt;/p&gt;');
});

//redirects 
app.get('/about-us',(req,res)=&gt;{
    res.redirect('/about');          //express send this response to the browser and automatically set status code to 301.
});

//setup 404 page(this functionality always at last beacuse this displays 404 page when any of the above urls is not found)
app.use((req,res) =&gt; {
    res.status(404).render('404',{title:'Error 404'});
});

</code></pre>
<p><strong>package.json</strong> code:</p>
<pre><code>{
  &quot;dependencies&quot;: {
    &quot;ejs&quot;: &quot;^3.1.6&quot;,
    &quot;express&quot;: &quot;^4.17.2&quot;
  }
}

</code></pre>
<p>Versions:
nodemon 2.0.15,
node v16.13.2,
npm 8.1.2</p>
",<node.js><express><npm><nodemon>,0.0,0,0,1
43632,42885,71030708,1,0,17984937,0.0,5.0,0.0,0.0,2022-02-08T08:30:29.540,2.0,3306.0,Error: installing sharp NodeJs module using npm,"<p>I want to install <a href=""https://github.com/lovell/sharp"" rel=""nofollow noreferrer"">Sharp module</a> in my NodeJS project. I try to install it with <code>npm install sharp</code> command, but I am facing the below error:</p>
<pre><code>npm ERR! code 1
npm ERR! path D:\project\node_modules\sharp
npm ERR! command failed
l) || (node install/can-compile &amp;&amp; node-gyp rebuild &amp;&amp; node install/dll-copy)
npm ERR! sharp: Downloading https://github.com/lovell/sharp-libvips/releases/download/v8.12.2/libvips-8.12.2-win32-x64.tar.br
</code></pre>
<p>I also tried to use all of the possible solutions in the &quot;<a href=""https://stackoverflow.com/questions/54409953/cant-install-sharp"">Can&#39;t install Sharp</a>&quot; related question, but no one is worked. I can't find any solution to solve this problem, and I decided to ask for help here.</p>
<p>I am using VScode v 1.63, NodeJS v16.13.2 and windows 10.
Can anyone help me to solve this problem? Is there any way to install this module manually? and is it related to downloading &quot;libvips-8.12.2-win32-x64.tar.br&quot; file?</p>
<p><strong>Edit:</strong>
When I use <code>npm i --verbose sharp</code> comment, the installation gets stuck in the following section:</p>
<pre><code>npm timing metavuln:load:security-advisory:parcel-bundler:OrlS5xtuVxJCDP7NSg7/QvMx6OKNoTjHkjeXkUKzhwF+vr5trxR0E3tR1S11cCq+ckauIRqtNNPJdYnysyx5qQ== Completed in 0ms
npm timing metavuln:calculate:security-advisory:parcel-bundler:OrlS5xtuVxJCDP7NSg7/QvMx6OKNoTjHkjeXkUKzhwF+vr5trxR0E3tR1S11cCq+ckauIRqtNNPJdYnysyx5qQ== Completed in 6ms
npm timing auditReport:init Completed in 1324ms
npm timing reify:audit Completed in 2448ms
[##################] - reify:sharp: timing reify:audit Completed in 2448ms
</code></pre>
",<javascript><node.js><express><npm><visual-studio-code>,0.0,0,0,1
43728,42981,71095400,1,0,17715542,2.0,0.0,0.0,0.0,2022-02-12T19:59:45.500,0.0,2368.0,GET request from local server using live-server,"<p>I am trying to fetch data from my local server and here is my server and how I handled GET requests:</p>
<pre><code>const express = require('express');
const app = express();
const port = 3000;
app.use(express.json());

app.listen(port, () =&gt; {
  console.log(`app running on port: ${port}...`);
});

const responseToClient = (req, res) =&gt; {
  res.status(200).json({
    status: 'success',
    body: 'Hello from the server!',
  });
};

app.get('/api', responseToClient);
</code></pre>
<p>When I run my server and send a GET request to this address: 127.0.0.1:3000/api with Postman, it works perfectly.</p>
<p>The thing is I created a html page along with a js file and want to fetch data from my local server by it. Here is my fetch request on my js file:</p>
<pre><code>const url = '/api';

const fetchData = async () =&gt; {
  try {
    const response = await fetch(url);
    const body = await response.json();
    alert(body);
  } catch (error) {
    alert(error);
  }
};
fetchData();
</code></pre>
<p>I run my html file with live-server (extension) which runs on port 5500 by default , so the address my fetch request goes to will be 127.0.0.1:5500/api (instead of 127.0.0.1:3000/api), so it does not exists and I get an error message.</p>
<p>I tried to change the port of my server and set it to 5500 (the same as live-server) but it did not work.</p>
<p>How can I run my local server and send requests to it with live-server and my html file?</p>
",<node.js><express><fetch><liveserver><npm-live-server>,0.0,0,0,1
43730,42983,71099031,1,0,18194353,1.0,2.0,0.0,0.0,2022-02-13T08:25:26.240,0.0,478.0,How to write rest api for the node js tedious?,"<p>I am unable to get the sql data in the express API? It is continuously loading and getting a blank screen,but getting sql data response in the console fine.</p>
<p>My index.js code :</p>
<pre><code>var Connection = require(&quot;tedious&quot;).Connection;
var Request = require(&quot;tedious&quot;).Request;
var Types = require(&quot;tedious&quot;).Types;
const express = require(&quot;express&quot;);
const app = express();
const port = 3001;
var cors = require(&quot;cors&quot;);

app.get(&quot;/&quot;, function(req, res) {
    var config = {
        server:
            &quot;***&quot;,
        authentication: {
            type: &quot;default&quot;,
            options: {
                userName: &quot;****&quot;,
                password: &quot;****&quot;,
            },
        },
        options: {
            encrypt: true,
            database: &quot;****&quot;,
        },
    };
    
    const connection = new Connection(config);
    
    connection.on(&quot;connect&quot;, (err, result) =&gt; {
        if (err) {
            console.log(&quot;Connection Failed&quot;);
            throw err;
        }
        executeStatement();
    });
    
    connection.connect();
    
    function executeStatement() {
        const request = new Request(
            &quot;SELECT * FROM Platform&quot;,
            (err, rowCount, rows) =&gt; {
                if (err) {
                    console.log(err);
                }
            }
        );
        
        request.on(&quot;row&quot;, (columns) =&gt; {
            columns.forEach((column, rowCount, response) =&gt; {
                if (column.value === null) {
                    console.log(&quot;NULL&quot;);
                } else {
                    console.log(column.metadata.colName + &quot; = &quot; + column.value);
                }
                
                return res.send(response);
            });
        });
        
        connection.execSql(request);
    }
});

app.use(cors());

app.listen(port, function(err) {
    if (err) console.log(&quot;Error in server setup&quot;);
    console.log(&quot;Server listening on Port&quot;, port);
});
</code></pre>
<p>Getting error as “ERR_HTTP_HEADERS_SENT”</p>
<pre class=""lang-none prettyprint-override""><code>events.js:352

throw er; // Unhandled 'error' event
^

Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client
at ServerResponse.setHeader (_http_outgoing.js:561:11)
at ServerResponse.header (C:\Users\fashila.barveen\Desktop\CMS_EXT_TOOL\server\cms_tool_backend\node_modules\express\lib\response.js:776:10)
at ServerResponse.json (C:\Users\fashila.barveen\Desktop\CMS_EXT_TOOL\server\cms_tool_backend\node_modules\express\lib\response.js:264:10)
at ServerResponse.send (C:\Users\fashila.barveen\Desktop\CMS_EXT_TOOL\server\cms_tool_backend\node_modules\express\lib\response.js:158:21)
at C:\Users\fashila.barveen\Desktop\CMS_EXT_TOOL\server\cms_tool_backend\index.js:94:20
at Array.forEach (&lt;anonymous&gt;)
at Request.&lt;anonymous&gt; (C:\Users\fashila.barveen\Desktop\CMS_EXT_TOOL\server\cms_tool_backend\index.js:88:15)
at Request.emit (events.js:375:28)
at Request.emit (C:\Users\fashila.barveen\Desktop\CMS_EXT_TOOL\server\cms_tool_backend\node_modules\tedious\lib\request.js:150:18)
at Parser.&lt;anonymous&gt; (C:\Users\fashila.barveen\Desktop\CMS_EXT_TOOL\server\cms_tool_backend\node_modules\tedious\lib\connection.js:1322:21)
Emitted 'error' event on Readable instance at:
at emitErrorNT (internal/streams/destroy.js:106:8)
at emitErrorCloseNT (internal/streams/destroy.js:74:3)
at processTicksAndRejections (internal/process/task_queues.js:82:21) {
    code: 'ERR_HTTP_HEADERS_SENT'
}
</code></pre>
<p>Please do help in resolving this error.</p>
",<javascript><node.js><express><npm>,1.0,0,0,1
43878,43131,71219798,1,71249095,10532629,1.0,2.0,0.0,0.0,2022-02-22T10:41:05.520,0.0,654.0,Use multiSubnetFailover in sequelize and mssql packages,"<p>I have a backend application (Node.JS) that uses mssql (v7) and sequelize (v6) npm packages.</p>
<p>Since my production DB configuration is (and can be only) accessed by an AGL, hence I need to set <code>multisubnetfailover=true</code> in the DB connection string.</p>
<p>Although support for this existed in previous versions, I am unable to find the same in the current stable versions of the respective packages. (Here's a sample code for previous <a href=""https://github.com/tediousjs/tedious/pull/362#issuecomment-307885255"" rel=""nofollow noreferrer"">sequelize</a> and <a href=""https://github.com/tediousjs/node-mssql/issues/640#issue-313014675"" rel=""nofollow noreferrer"">mssql</a> version)</p>
<p>Is there a way to enable this in the newer version?</p>
",<node.js><sql-server><express><npm><sequelize.js>,0.0,0,0,1
43884,43137,71221817,1,71222121,18278623,1.0,0.0,0.0,0.0,2022-02-22T13:02:18.837,-3.0,554.0,Why I can not run npm run dev? ( node js /express js / type script),"<p>Guys can you please help me on this I have trouble run npm run dev for my project (node js /express js / type script)enter code here. I followed links below but still error exist.</p>
<p>PS C:\Users\Yasser\Documents\WorkspaceNodeJS\MeanCRA&gt; npm run dev
Debugger listening on ws://127.0.0.1:54617/2ce7f883-35f6-424d-80e5-91471fa1f1e8
For help see <a href=""https://nodejs.org/en/docs/inspector"" rel=""nofollow noreferrer"">https://nodejs.org/en/docs/inspector</a></p>
<blockquote>
<p>MEANCRA@1.0.0 dev C:\Users\Yasser\Documents\WorkspaceNodeJS\MeanCRA
concurrently -n &quot;TS, Node&quot; &quot;npx tsc --watch&quot; &quot;nodemon dist/index.js&quot;</p>
</blockquote>
<p>'concurrently' n’est pas reconnu en tant que commande interne<br />
ou externe, un programme exécutable ou un fichier de commandes.
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! MEANCRA@1.0.0 dev: <code>concurrently -n &quot;TS, Node&quot; &quot;npx tsc --watch&quot; &quot;nodemon  dist/index.js&quot;</code>
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the MEANCRA@1.0.0 dev script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.</p>
<p>npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\Yasser\AppData\Roaming\npm-cache_logs\2022-02-22T12_57_11_866Z-debug.log</p>
<p><a href=""https://i.stack.imgur.com/WiVBM.jpg"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p>My codes:</p>
<p><a href=""https://i.stack.imgur.com/SnWC5.jpg"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p><a href=""https://i.stack.imgur.com/HN7H0.jpg"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p><a href=""https://i.stack.imgur.com/zH8AZ.jpg"" rel=""nofollow noreferrer"">enter image description here</a></p>
",<node.js><express><npm>,0.0,0,0,1
43954,43207,71281247,1,71426110,0,3.0,0.0,0.0,0.0,2022-02-27T00:20:15.267,-2.0,233.0,console.log(req) displays database data,"<p>I ran a <code>console.log(req);</code> to see what was there and found that the data from the DB is shown together with the session data</p>
<pre class=""lang-js prettyprint-override""><code>sessionStore: MySQLStore {
    . . .
    options: {
      host: 'localhost',
      user: 'root',
      password: '1324',
      database: 'dbso',
      endConnectionOnClose: true,
      clearExpired: true,
      checkExpirationInterval: 900000,
      expiration: 86400000,
      createDatabaseTable: true,
      connectionLimit: 1,
      charset: 'utf8mb4_bin',
      schema: [Object]
    }, . . .
</code></pre>
<p>I am working with <code>express-mysql-session</code> and <code>express-session</code></p>
<pre class=""lang-js prettyprint-override""><code>app.use(session({
    secret: &quot;sss&quot;,
    resave: false,
    saveUninitialized: false,
    store: new mySQLStore({ /*Database info*/ })
}));
</code></pre>
<p>My concern and doubt is how much I should worry about this, and if I should worry about it, how can I solve it?</p>
<p>Our site uses cookies to store user sessions.</p>
<p>The summary of my doubt is, can the req become viewable/obtainable from the user side?</p>
",<mysql><node.js><express><npm><express-session>,0.0,0,0,1
43962,43215,71289135,1,71289363,9356904,1.0,7.0,0.0,0.0,2022-02-27T22:57:19.443,1.0,279.0,Express JS not updating version in terminal,"<p>I needed ExpressJS v 4.17 instead of 4.16 as it caused some dependency issues with other modules. I followed the instructions in <a href=""https://stackoverflow.com/questions/46727643/upgrade-to-latest-version-of-express"">this answer</a> and now I can’t work out what’s going on.</p>
<p>In my package.json I’m seeing v 4.17 but when I try <code>express -v</code> in terminal I see 4.16. If I go to node modules in the directory my app is in the package.json for the express module is also 4.17 - but terminal still showing 4.16</p>
<p>Am I missing a step here? It looks like 4.16 is still installed according to terminal and that it hasn’t been updated despite all the other signs saying it has?</p>
",<express><npm>,0.0,0,0,1
43963,43216,71289649,1,0,17882726,0.0,7.0,0.0,0.0,2022-02-28T00:59:37.773,0.0,68.0,view folder won't show up using path.join?,"<p>I'm trying to set up a view folder for ejs but it won't show up. My code is below:</p>
<pre><code>//set up express
  const express = require(&quot;express&quot;);
  const app = express();

//set up ejs
  const path = require(&quot;path&quot;);
  app.set(&quot;views&quot;, path.join(__dirname, &quot;views&quot;));
  app.set(&quot;view engine&quot;, &quot;ejs&quot;);
</code></pre>
<p>Here's the folder structure on my laptop:</p>
<p><img src=""https://i.stack.imgur.com/Rih16.png"" alt=""folder structure"" /></p>
<p>Does anyone have any ideas?</p>
",<node.js><express><npm><ejs>,0.0,0,0,1
44030,43283,71339817,1,0,16868391,1.0,1.0,0.0,0.0,2022-03-03T15:39:39.883,3.0,1607.0,TypeError: callSite.getFileName is not a function at callSiteLocation (/node_modules/depd/index.js:252:23) on npm start,"<p>When I am doing npm install in the project that I clone from github &amp; then npm start I am getting error:</p>
<pre><code>/Users/abc/Documents/Projects/test-project/node_modules/depd/index.js:252
  var file = callSite.getFileName() || '&lt;anonymous&gt;'
                      ^

TypeError: callSite.getFileName is not a function
    at callSiteLocation (/Users/abc/Documents/Projects/test-project/node_modules/depd/index.js:252:23)
    at depd (/Users/abc/Documents/Projects/test-project/node_modules/depd/index.js:111:14)
    at Object.&lt;anonymous&gt; (/Users/abc/Documents/Projects/test-project/node_modules/body-parser/index.js:14:32)
    at Module._compile (internal/modules/cjs/loader.js:678:30)
    at Module._compile (/Users/abc/Documents/Projects/test-project/node_modules/pirates/lib/index.js:136:24)
    at Module._extensions..js (internal/modules/cjs/loader.js:689:10)
    at Object.newLoader [as .js] (/Users/abc/Documents/Projects/test-project/node_modules/pirates/lib/index.js:141:7)
    at Module.load (internal/modules/cjs/loader.js:589:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:528:12)
    at Function.Module._load (internal/modules/cjs/loader.js:520:3)
</code></pre>
<p>This 'depd' library is throwing error from all the occurrences as it is a dependancy in various npm packages like body-parser &amp; express. So it is throwing error from within all of them.</p>
<p>However my existing setup from same github repo where I am not doing npm install from scratch seem to be working fine.
I have tried doing npm install with different nodeJs versions 6.9.5, 10.x.x, 11.x.x, 12.x.x
Also I am using Babel v7.</p>
",<node.js><express><npm><babeljs><body-parser>,1.0,0,0,1
44305,43558,71536003,1,0,14346235,0.0,0.0,0.0,0.0,2022-03-19T06:54:05.163,1.0,342.0,Express Validator - If exists for nested array of object,"<pre><code>{
    &quot;orderId&quot;: &quot;3&quot;,
    &quot;storeId&quot;: &quot;1&quot;,
    &quot;products&quot;: [
         &quot;productId&quot;: &quot;123&quot;,
        {
         &quot;prescriptions&quot; : [{
            &quot;eye&quot;: &quot;1&quot;,
            &quot;sph&quot;: &quot;1&quot;,
            &quot;cyl&quot;: &quot;1&quot;,
            &quot;add&quot;: &quot;1&quot;,
            &quot;axis&quot;: &quot;1&quot;
        }],
            &quot;lensItems&quot;: {
                &quot;lensId&quot;: &quot;1&quot;,
                &quot;lensType&quot;: &quot;1&quot;,
                &quot;lensCoating&quot;: &quot;1&quot;,
                &quot;index&quot;: &quot;1&quot;,
                &quot;price&quot;: &quot;3000&quot;
            },
            &quot;frameSize&quot;: {
                &quot;a&quot;: &quot;1&quot;,
                &quot;b&quot;: &quot;1&quot;,
                &quot;ed&quot;: &quot;1&quot;,
                &quot;fh&quot;: &quot;1&quot;,
                &quot;d&quot;: &quot;2&quot;
            },
            &quot;counterSale&quot;: false
        }
    ]
}
</code></pre>
<p>I want to check the <strong>prescriptions</strong> only if the <strong>lensItems</strong> exists.</p>
<p>I have tried this,</p>
<pre><code> body('products.*.prescriptions')
        .if(body('products.*.lensItems').exists())
        .exists()
        .withMessage('prescriptions not exists')
        .isArray()
        .withMessage('prescriptions is not an array')
        .notEmpty()
        .withMessage('prescriptions is empty'),
</code></pre>
<p>Its working when I check with <code>string</code> like below,</p>
<pre><code> body('products.*.prescriptions')
            .if(body('products.*.productId').exists())
            .exists()
            .withMessage('prescriptions not exists')
            .isArray()
            .withMessage('prescriptions is not an array')
            .notEmpty()
            .withMessage('prescriptions is empty'),
</code></pre>
<p>I want to the compare <strong>array of object</strong> with <strong>object</strong> . If any more regarding this please comment, I will share you much informations which are possible. Thanks in advance</p>
",<javascript><node.js><express><npm><express-validator>,0.0,0,0,1
44326,43579,71550265,1,71550407,11553813,1.0,0.0,0.0,0.0,2022-03-20T20:08:50.757,0.0,3110.0,Read Serial port data using node js,"<p>I want to read data from serial port and get from data when reqested</p>
<p>Here is my code</p>
<pre><code>const http = require('http');
const hostname = 'localhost';
const { SerialPort } = require('serialport')
const { ReadlineParser } = require('@serialport/parser-readline')
const { io } = require('socket.io');
let express = require('express')

const serialPort = new SerialPort({ 
    path: 'COM4',
    baudRate: 9600 ,
})
const parser = serialPort.pipe(new ReadlineParser({ delimiter: '\r\n' }))
let app = express();
var port = 8080;

const server = http.createServer(app);

server.listen(port, hostname, () =&gt; {
  console.log(`Server running at http://${hostname}:${port}/`);
});
app.get('/get_data', function(req, res) {
    parser.on('data', function(data) {
        res.json({'weight': data});
    });
});
</code></pre>
<p>When i am try to get data i got ERR_HTTP_HEADERS_SENT: Cannot set headers after they are sent to the client
I want serial port data when requested from localhost:8080/get_data anyone can help ?</p>
",<node.js><express><npm><serial-port>,0.0,0,0,1
44366,43619,71579116,1,0,15955666,1.0,1.0,0.0,0.0,2022-03-22T21:24:32.687,0.0,348.0,Cannot GET /api/courses/1 errror how to fix it,"<pre><code>const express = require('express');


const app = express();

app.get('/',(req,res) =&gt;{       // result shows on localhost:3000
    res.send('hello world');
});

app.get('/api/courses',(req,res) =&gt;{    // result shows on localhost:3000/api/courses
    res.send(\[1,2,3\]);
});

app.get('/api/courses/:id',(req,res) =&gt;{    // result does not show on localhost:3000/api/courses/1
    res.send(req.param.id);
});

//PORT


const port= process.env.PORT||3000;


app.listen(port,()=\&gt;console.log(\``Listening to port ${port}...`\`));
</code></pre>
<p>I seem to be getting result for the first 2 get functions but not the ID, i get the following error Cannot GET /api/courses/1 how do i fix it ?</p>
<p>was expecting output of id as '1' to display</p>
",<javascript><node.js><express><npm><nodemon>,0.0,0,0,1
44437,43690,71628068,1,71629283,15125456,1.0,0.0,0.0,0.0,2022-03-26T12:30:48.707,-2.0,113.0,Logging everything - Javascript,"<p>I have lots of microservices which I want to log.
My goal is creating a npm package that will be installed in each of the services.
What I aim for is easy integration for example:</p>
<pre><code>const myLogger = require('mylogger')

//.... Express stuff
myLogger(app) 
</code></pre>
<p>What I would like to happen in the npm module is that it will log everything from functions executing to variable assignments.
Is there a tool to do it with just wrapping the app? Or do I have to log everything explicitly by writing log.info.. log.warn.. Etc</p>
",<javascript><node.js><express><npm><logging>,0.0,0,0,1
44457,43710,71639517,1,0,16867736,1.0,0.0,0.0,0.0,2022-03-27T19:14:46.717,0.0,140.0,Facing errors while working on backend side of whatsapp clone in MERN STACK,"<p>While working on backend of whatsapp clone i am facing these errors couldn't understand what type of errors are?
This Project is made using React, Node, Express and Mongodb. I also use pusher.
E:\Whatapp clone\whatsapp-backend\node_modules\mongodb\lib\connection_string.js:289
throw new error_1.MongoParseError(<code>${optionWord} ${Array.from(unsupportedOptions).join(', ')} ${isOrAre} not supported</code>);
^</p>
<pre><code>MongoParseError: options usecreateindex, useunifedtopology are not supported
    at parseOptions (E:\Whatapp clone\whatsapp-backend\node_modules\mongodb\lib\connection_string.js:289:15)
    at new MongoClient (E:\Whatapp clone\whatsapp-backend\node_modules\mongodb\lib\mongo_client.js:62:63)
    at E:\Whatapp clone\whatsapp-backend\node_modules\mongoose\lib\connection.js:784:16

    at new Promise (&lt;anonymous&gt;)
    at NativeConnection.Connection.openUri (E:\Whatapp clone\whatsapp-backend\node_modules\mongoose\lib\connection.js:781:19)
    at E:\Whatapp clone\whatsapp-backend\node_modules\mongoose\lib\index.js:342:10
    at E:\Whatapp clone\whatsapp-backend\node_modules\mongoose\lib\helpers\promiseOrCallback.js:32:5
    at new Promise (&lt;anonymous&gt;)
    at promiseOrCallback (E:\Whatapp clone\whatsapp-backend\node_modules\mongoose\lib\helpers\promiseOrCallback.js:31:10)
    at Mongoose._promiseOrCallback (E:\Whatapp clone\whatsapp-backend\node_modules\mongoose\lib\index.js:1176:10)
error Command failed with exit code 1.
</code></pre>
",<node.js><mongodb><express><npm><pusher-js>,1.0,0,0,1
44461,43714,71643703,1,71648804,18180139,1.0,1.0,0.0,0.0,2022-03-28T07:21:02.477,8.0,21589.0,TypeScript: can only be default-imported using the 'esModuleInterop' flag,"<p>I've the following <code>index.ts</code>:</p>
<pre><code>import { User } from &quot;./datatypes&quot;
import express from 'express';

 console.log(&quot;hello world&quot;)
</code></pre>
<p>This is my <code>package.json</code>:</p>
<pre><code>{
  &quot;name&quot;: &quot;simple_app&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;start&quot;: &quot;tsc index.ts &amp;&amp; node index.js&quot;
  },
  &quot;keywords&quot;: [],
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: {
    &quot;dotenv&quot;: &quot;^16.0.0&quot;,
    &quot;express&quot;: &quot;^4.17.3&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;@types/express&quot;: &quot;^4.17.13&quot;,
    &quot;@types/node&quot;: &quot;^17.0.23&quot;,
    &quot;ts-node&quot;: &quot;^10.7.0&quot;,
    &quot;typescript&quot;: &quot;^4.6.3&quot;
  }
}
</code></pre>
<p>And this is my tsconfig.json:</p>
<pre><code>{
    &quot;compilerOptions&quot;: {
      &quot;module&quot;: &quot;commonjs&quot;,
      &quot;esModuleInterop&quot;: true,
      &quot;resolveJsonModule&quot;: true,
      &quot;target&quot;: &quot;es6&quot;,
      &quot;moduleResolution&quot;: &quot;node&quot;,
      &quot;sourceMap&quot;: true,
      &quot;outDir&quot;: &quot;dist&quot;
    },
    &quot;lib&quot;: [&quot;es2015&quot;]
  }
</code></pre>
<p>When I write <code>npm run start</code>, I obtain:</p>
<pre><code> Module '&quot;/mnt/c/Users/raffa/Desktop/simple_app/node_modules/@types/express/index&quot;' can only be default-imported using the 'esModuleInterop' flag

2 import express from 'express';
         ~~~~~~~

  node_modules/@types/express/index.d.ts:133:1
    133 export = e;
        ~~~~~~~~~~~
    This module is declared with using 'export =', and can only be used with a default import when using the 'esModuleInterop' flag.
</code></pre>
<p>How can I solve this problem?</p>
",<typescript><express><npm><package.json>,0.0,0,0,1
44484,43737,71659038,1,0,11524715,1.0,0.0,0.0,0.0,2022-03-29T08:46:11.487,0.0,340.0,"Node.js run app from terminal all work fine but when app start by npm ""start"" script it load only html without all static files in public folder","<p>I have simple web site that use node.js and express.js
When I start my app.js file from terminal with command &quot;node app.js&quot; or &quot;nodemon app.js&quot; it work fine. It loads all my static file like css and images from public folder.
But when I run npm start script it run but don't load my static files like images and css files, only html file without applying my css classes and not displaying images.
I need to solve this issue because I want to deploy my website to heroku but heroku to run app uses start script from package.json</p>
<p>Part of my html document where I link .css file and use images</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;head&gt;
      &lt;meta charset=""UTF-8""&gt;
      &lt;meta content=""width=device-width, initial-scale=1.0"" name=""viewport""&gt;

      &lt;!-- Load Google Fonts --&gt;
      &lt;link rel=""preconnect"" href=""https://fonts.googleapis.com""&gt;
      &lt;link rel=""preconnect"" href=""https://fonts.gstatic.com"" crossorigin&gt;
      &lt;link href=""https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;600;700&amp;family=Poppins:wght@400;500;600;700&amp;display=swap""
            rel=""stylesheet""&gt;

      &lt;!-- Load styles.css file --&gt;
      &lt;link rel=""stylesheet"" href=""/css/styles.css""&gt;

      &lt;title&gt;Online Learning&lt;/title&gt;
   &lt;/head&gt;

   &lt;body&gt;
      &lt;div class=""wrapper""&gt;
         &lt;header class=""section-header""&gt;
            &lt;div class=""base-container header-container top-nav"" id=""myTopNav""&gt;
               &lt;div class=""logo""&gt;
                  &lt;img src=""/images/polygon.png"" alt=""polygon"" class=""polygon""&gt;
                  &lt;img src=""/images/skilline.png"" alt=""brand-name"" class=""brand-name""&gt;
               &lt;/div&gt;</code></pre>
</div>
</div>
</p>
<p>and my app.js file</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const express = require('express');
const app = express();
const path = require('path');

app.use(express.static(""public""));

app.get(""/"", (req, res) =&gt; {
    res.sendFile(path.join(__dirname, '/index.html'));
});

app.listen(process.env.PORT || 3000, function () {
    let date = new Date(Date.now());
    let serverStartTime = date.getDate() + ""."" + date.getMonth() + ""."" + date.getFullYear() + ""  "" + date.getHours() + "":"" + date.getMinutes() + "":"" + date.getSeconds();
    console.log(""Server was start/restart on port 3000: "" + serverStartTime);
});</code></pre>
</div>
</div>
</p>
<p>my package.json file</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>{
  ""name"": ""online-learning-landing-page"",
  ""version"": ""1.0.0"",
  ""description"": """",
  ""main"": ""app.js"",
  ""scripts"": {
    ""test"": ""echo \""Error: no test specified\"" &amp;&amp; exit 1"",
    ""dev"": ""node src/app.js"",
    ""start"": ""npm run dev""
  },
  ""repository"": {
    ""type"": ""git"",
    ""url"": ""git+https://github.com/grigore994/Online-Learning-Landing-Page.git""
  },
  ""author"": """",
  ""license"": ""ISC"",
  ""bugs"": {
    ""url"": ""https://github.com/grigore994/Online-Learning-Landing-Page/issues""
  },
  ""homepage"": ""https://github.com/grigore994/Online-Learning-Landing-Page#readme"",
  ""dependencies"": {
    ""express"": ""^4.17.3"",
    ""path"": ""^0.12.7""
  }
}</code></pre>
</div>
</div>
</p>
<p>and my project structure</p>
<p><a href=""https://i.stack.imgur.com/0NwTl.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/0NwTl.png"" alt=""enter image description here"" /></a></p>
<p>result when I run &quot;node app.js&quot; from terminal
<a href=""https://i.stack.imgur.com/fIbQz.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/fIbQz.png"" alt=""enter image description here"" /></a></p>
<p>and result when I run npm start script</p>
<p><a href=""https://i.stack.imgur.com/cBTm1.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/cBTm1.png"" alt=""enter image description here"" /></a></p>
",<node.js><express><npm-scripts><static-files><npm-start>,0.0,0,0,1
44493,43746,71666197,1,0,7992758,0.0,1.0,0.0,0.0,2022-03-29T17:12:22.197,1.0,331.0,node app getting killed frequently with npm err,"<p>Upgraded the node to 16.4.2 and npm to 8.5.0&amp;8.5.5 and I started getting errors randomly and bringing the app down. I  tried reverting the version but the errors still happen.</p>
<pre><code>0 verbose cli [ '/usr/local/bin/node', '/usr/local/bin/npm', 'start' ]
1 info using npm@8.5.5
2 info using node@v16.14.2
3 timing npm:load:whichnode Completed in 1ms
4 timing config:load:defaults Completed in 2ms
5 timing config:load:file:/usr/local/lib/node_modules/npm/npmrc Completed in 2ms
6 timing config:load:builtin Completed in 3ms
7 timing config:load:cli Completed in 2ms
8 timing config:load:env Completed in 0ms
9 timing config:load:file:/cl-app/.npmrc Completed in 0ms
10 timing config:load:project Completed in 5ms
11 timing config:load:file:/root/.npmrc Completed in 1ms
12 timing config:load:user Completed in 1ms
13 timing config:load:file:/usr/local/etc/npmrc Completed in 7ms
14 timing config:load:global Completed in 7ms
15 timing config:load:validate Completed in 0ms
16 timing config:load:credentials Completed in 2ms
17 timing config:load:setEnvs Completed in 1ms
18 timing config:load Completed in 24ms
19 timing npm:load:configload Completed in 24ms
20 timing npm:load:setTitle Completed in 0ms
21 timing config:load:flatten Completed in 2ms
22 timing npm:load:display Completed in 3ms
23 verbose logfile /root/.npm/_logs/2022-03-28T17_05_19_156Z-debug-0.log
24 timing npm:load:logFile Completed in 5ms
25 timing npm:load:timers Completed in 0ms
26 timing npm:load:configScope Completed in 0ms
27 timing npm:load Completed in 35ms
28 timing command:run-script Completed in 307342ms
29 timing command:start Completed in 307344ms
30 verbose stack Error: command failed
30 verbose stack     at ChildProcess.&lt;anonymous&gt; (/usr/local/lib/node_modules/npm/node_modules/@npmcli/promise-spawn/index.js:64:27)
30 verbose stack     at ChildProcess.emit (node:events:526:28)
30 verbose stack     at maybeClose (node:internal/child_process:1092:16)
30 verbose stack     at Process.ChildProcess._handle.onexit (node:internal/child_process:302:5)
31 verbose pkgid chapp@0.0.0
32 verbose cwd /cl-app
33 verbose Linux 4.14.231-173.360.amzn2.x86_64
34 verbose argv &quot;/usr/local/bin/node&quot; &quot;/usr/local/bin/npm&quot; &quot;start&quot;
35 verbose node v16.14.2
36 verbose npm  v8.5.5
37 error path /cl-app
38 error command failed
39 error signal SIGTERM
40 error command sh -c node ./bin/www
41 verbose exit 1
42 timing npm Completed in 307535ms
43 verbose code 1
44 error A complete log of this run can be found in:
44 error     /root/.npm/_logs/2022-03-28T17_05_19_156Z-debug-0.log
</code></pre>
<p>The error isn't pointing me in the right direction.  Any help would be appreciated. Thanks</p>
",<node.js><express><npm><graphql><apollo-server>,0.0,0,0,1
44735,43988,71815056,1,0,18760045,0.0,3.0,0.0,0.0,2022-04-10T08:50:05.043,0.0,289.0,ExpressJS: Requesting/Downloading xlsx file using express returning .txt,"<p>My server side using Express JS</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const XLSX = require('xlsx');

module.exports = () =&gt; {
  return async (req, res, next) =&gt; {
    try {
      
      const data = [['1', '2', '3'],['4', '5', '6']];

      const filename = `Testing.xlsx`;

      const wb = XLSX.utils.book_new();
      const ws = XLSX.utils.aoa_to_sheet(data);
      const merge = [
        { s: { r: 0, c: 0 }, e: { r: 0, c: 9 } },
        { s: { r: 1, c: 1 }, e: { r: 1, c: 7 } },
        { s: { r: 2, c: 1 }, e: { r: 2, c: 7 } },
        { s: { r: 2, c: 8 }, e: { r: 3, c: 9 } },
        { s: { r: 3, c: 0 }, e: { r: 4, c: 0 } },
        { s: { r: 3, c: 1 }, e: { r: 4, c: 1 } }
      ];
      ws['!merges'] = merge;
      XLSX.utils.book_append_sheet(wb, ws, 'Detail');
      const wbBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });

      res.header('Content-Type', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8');
      res.attachment(filename);
      return res.status(200).send(wbBuffer);
    } catch (error) {
      logger.log('error', 'DownloadSellerFinancialAccounts', { error });
      return next(error);
    }
  };
};</code></pre>
</div>
</div>
</p>
<p>Meanwhile in the client site</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>export function apiDownloadFinancilJournal() {
  return axios.get(`${paymentUrlApi.downloadFinancialJournal}`, { responseType: 'blob' });
}



apiDownloadFinancilJournal()
  .then((res) =&gt; {
    const url = window.URL.createObjectURL(new Blob([res.data], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8' }));
    const link = document.createElement('a');
    link.href = url;
    link.setAttribute('download', `Financial-Journal.xlsx`);
    document.body.appendChild(link);
    link.click();
  })
  .catch((err) =&gt; {
    this.setState({ errorMessage: err.response?.data?.message ?? 'Server Error' });
  });
};</code></pre>
</div>
</div>
</p>
<p>My question is, in which side I did it wrong? because the result is a txt instead of xlsx file. I have tried different type of stream data (blob, arrayBuffer, buffer) but the result is even worse</p>
",<javascript><reactjs><express><npm><xlsx>,0.0,0,0,1
44844,44097,71881985,1,0,17754610,0.0,1.0,0.0,0.0,2022-04-15T08:55:00.343,1.0,158.0,PRI request method and host undefined,"<p>i am running node.js app and lightsail instance and using nginx to redirect api calls to my node server. I have implemented logger who sends me mail whenever some error occured . So i have been getting email about PRI method and host undefined . below i attached screenshot , can anybody help to know the reason or to stop it.
<a href=""https://i.stack.imgur.com/m87WR.png"" rel=""nofollow noreferrer"">screenshot</a></p>
",<node.js><express><nginx><npm><pm2>,0.0,0,0,1
44903,44156,71923022,1,0,14835811,1.0,1.0,0.0,0.0,2022-04-19T09:56:22.493,2.0,446.0,"React - Module not found, For packages inside the installed packages, when requirting express","<p>Hello I tried to install the express package in a react project
But when I import the package inside the app.js using:</p>
<pre><code>const app = require(&quot;express&quot;);
</code></pre>
<p>I get 30 errors all saying</p>
<pre><code>Module not found Error: Can't resolve 'x'
</code></pre>
<p>where x are differnt packages like <code>zlib</code>, <code>querystring</code>, <code>path</code>, <code>crypto</code>, <code>fs</code>, <code>stream</code> ....</p>
<p>This is the app.js code when I run it without the require line it works fine</p>
<pre><code>import logo from './logo.svg';
import './App.css';
const app = require(&quot;express&quot;);

function App() {
  return (
    &lt;div className=&quot;App&quot;&gt;
      &lt;header className=&quot;App-header&quot;&gt;
        &lt;img src={logo} className=&quot;App-logo&quot; alt=&quot;logo&quot; /&gt;
        &lt;p&gt;
          Edit &lt;code&gt;src/App.js&lt;/code&gt; and save to reload.
        &lt;/p&gt;
        &lt;a
          className=&quot;App-link&quot;
          href=&quot;https://reactjs.org&quot;
          target=&quot;_blank&quot;
          rel=&quot;noopener noreferrer&quot;
        &gt;
          Learn React
        &lt;/a&gt;
      &lt;/header&gt;
    &lt;/div&gt;
  );
}

export default App;
</code></pre>
<p>And inside my <code>package.json</code> file in my dependencies I do have:     <code>&quot;express&quot;: &quot;^4.17.3&quot;</code></p>
<p>I even tried to create a new blank project for this and I had the same problem</p>
",<javascript><node.js><reactjs><express><npm-install>,0.0,0,0,1
45060,44313,72044435,1,0,18585152,6.0,2.0,0.0,0.0,2022-04-28T13:20:35.877,0.0,11320.0,Getting missing script: start error in npm,"<p>I get this error when I run <code>npm start</code>.</p>
<blockquote>
<pre class=""lang-none prettyprint-override""><code>npm ERR! Missing script: &quot;start&quot;  
npm ERR! Did you mean one of these?
npm ERR!     npm star # Mark your favorite packages
npm ERR!     npm stars # View packages marked as favorites
npm ERR! To see a list of scripts, run:
npm ERR!   npm run
npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\USER\AppData\Local\npm-cache\_logs\2022-04-28T13_04_19_260Z-debug.log
</code></pre>
</blockquote>
",<node.js><express><npm>,0.0,0,0,1
45289,44542,72211854,1,72212068,15990133,1.0,0.0,0.0,0.0,2022-05-12T07:49:08.797,0.0,1213.0,Running npm start on pm2 server returns Error: Cannot find module Cors,"<p>When I run <code>npm start</code> or even <code>pm2 start npm --name &quot;app name&quot; -- start</code> command, my app returns an error like this:</p>
<pre><code>/home/cloud/sites/myapp$ npm start 

&gt; myapp@1.0.0 start /home/cloud/sites/myapp
&gt; node server.js

internal/modules/cjs/loader.js:818
  throw err;
  ^

Error: Cannot find module 'Cors'
Require stack:
- /home/cloud/sites/myapp/server.js
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:815:15)
    at Function.Module._load (internal/modules/cjs/loader.js:667:27)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Object.&lt;anonymous&gt; (/home/cloud/sites/myapp/server.js:2:14)
    at Module._compile (internal/modules/cjs/loader.js:999:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)
    at Module.load (internal/modules/cjs/loader.js:863:32)
    at Function.Module._load (internal/modules/cjs/loader.js:708:14)
    at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:60:12) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [ '/home/cloud/sites/myapp/server.js' ]
}
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! myapp@1.0.0 start: `node server.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the myapp@1.0.0 start script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /root/.npm/_logs/2022-05-12T07_31_36_119Z-debug.log
</code></pre>
<p>This is my package.json:</p>
<pre><code>{
  &quot;name&quot;: &quot;myapp&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;* TEST\r * Login validation&quot;,
  &quot;main&quot;: &quot;server.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,
    &quot;start&quot;: &quot;node server.js&quot;
  },
  &quot;dependencies&quot;: {
    &quot;bcryptjs&quot;: &quot;^2.4.3&quot;,
    &quot;body-parser&quot;: &quot;^1.19.0&quot;,
    &quot;cors&quot;: &quot;^2.8.5&quot;,
    &quot;crypto-random-string&quot;: &quot;^3.3.1&quot;,
    &quot;express&quot;: &quot;^4.17.1&quot;,
    &quot;is-empty&quot;: &quot;^1.2.0&quot;,
    &quot;jsonwebtoken&quot;: &quot;^8.5.1&quot;,
    &quot;mongoose&quot;: &quot;^5.11.17&quot;,
    &quot;socket.io&quot;: &quot;^4.0.1&quot;,
    &quot;validator&quot;: &quot;^13.5.2&quot;
  }
}
</code></pre>
<p>And my directory tree:</p>
<pre><code>-myapp
 -config
 -node_modules
 -routes
 -utils
 -validation
 -package.json
 -package-lock.json
 -server.js
</code></pre>
<p>I've tried deleting package-lock.json and node_modules and then run <code>npm install</code> again, even tried <code>npm install cors</code>, it always installs fine but the error stays the same.
Any ideas?</p>
",<node.js><express><npm><server><pm2>,0.0,0,0,1
45320,44573,72236180,1,0,13376513,0.0,0.0,0.0,0.0,2022-05-13T23:14:46.837,4.0,342.0,"AWS Beanstalk -> ""unsafe-perm=true"" in .npmrc file for AWS Beanstalk not working","<p>Hi there I am using AWS Beanstalk to deploy my Express app for the first time right and when I try to upload my Express app I get an error saying this:</p>
<pre><code>[ERROR] An error occurred during execution of command [app-deploy] - [Use NPM to install dependencies]. Stop running the command. Error: Command /bin/sh -c npm --production install failed with error exit status 1. Stderr:npm ERR! code 1
    npm ERR! path /var/app/staging/node_modules/sharp
    npm ERR! command failed
    npm ERR! command sh -c (node install/libvips &amp;&amp; node install/dll-copy &amp;&amp; prebuild-install) || (node install/can-compile &amp;&amp; node-gyp rebuild &amp;&amp; node install/dll-copy)
    npm ERR! sharp: Are you trying to install as a root or sudo user? Try again with the --unsafe-perm flag
    npm ERR! sharp: Please see https://sharp.pixelplumbing.com/install for required dependencies
    npm ERR! sharp: Installation error: EACCES: permission denied, mkdir '/root/.npm'
</code></pre>
<p>I know that the solution was to add .npmrc with code unsafe-perm=true but this didnt fix the issue. It seems that the issue is on the user that is use to perform the installation of dependencies and node-gyp may need root privilegies.</p>
<p>Any idea how to achieve this? It failes as soon as it tries to install the 'sharp' library</p>
",<express><npm><amazon-elastic-beanstalk>,0.0,0,0,1
45440,44693,72324542,1,0,16855350,3.0,0.0,0.0,0.0,2022-05-20T20:36:53.427,6.0,36054.0,node:internal/modules/cjs/loader:942 throw err; ^ Error: Cannot find module 'express' Require stack:,"<p>I am working on running my express server with the command npm start. I am receiving: ```node:internal/modules/cjs/loader:942
throw err;
^</p>
<p>Error: Cannot find module 'express'
Require stack: ```.</p>
<p>I currently do not have node modules and also receive errors when I type the command npm install. I've deleted node modules outside of the current directory, upgraded the version, &amp; have been googling answers. I would appreciate the help. Thanks so much!</p>
",<node.js><express><npm><node-modules><loader>,0.0,0,0,1
45459,44712,72334712,1,0,16914658,1.0,2.0,0.0,0.0,2022-05-22T03:58:53.750,1.0,6090.0,Can anyone help me with npm --prefix?,"<p>I'm stuck with npm --prefix.
I'm trying to prefix my frontend folder so I can run both the backend and frontend at the same time.</p>
<p>I keep getting an error with the wrong pathway:
\backend\frontend/package.json.</p>
<p>Can anyone help me with that?</p>
<pre><code>{
      &quot;name&quot;: &quot;backend&quot;,
      &quot;version&quot;: &quot;1.0.0&quot;,
      &quot;description&quot;: &quot;User Authentication APP - MERN stack&quot;,
      &quot;main&quot;: &quot;server.js&quot;,
      &quot;scripts&quot;: {
        &quot;start&quot;: &quot;node backend/server.js&quot;,
        &quot;server&quot;: &quot;nodemon backend/server.js&quot;,
        &quot;client&quot;: &quot;npm start --prefix frontend &quot;,
        &quot;dev&quot;: &quot;concurrently \&quot;npm run server\&quot; \&quot;npm run client\&quot;&quot;
      }
    }
</code></pre>
",<node.js><express><npm><prefix>,0.0,0,0,1
45460,44713,72334758,1,72335275,12722166,1.0,4.0,0.0,0.0,2022-05-22T04:14:29.390,0.0,995.0,NodeJS change session variable after redirect,"<p>I have a login system, user posts data to /login route and it saves data if logged correctly.</p>
<pre><code>router.post('/login', function(req, res, next) {
  if(req.method == 'POST') {
    const username = req.body.username;
    const password = req.body.password;
    sql.query('SELECT * FROM `users` WHERE `username` = &quot;'+username+'&quot;', function(err, results) {
      if(err) { 
        req.session.message = {status: 'danger', message: 'Failed to login, check password.'}
        res.redirect('/')
      } else if (results.length != 0) {
        const passw = results[0].password;
        bcrypt.compare(password, passw, function(err, result) {
          if(result) {
            req.session.loggedin = true;
            req.session.data = results[0];
            req.session.message = {status: 'success', message: `Welcome back, ${username}.`}
            req.session.save(function(err) {
                res.redirect(req.headers.referer);
            })
          } else {
            req.session.message = {status: 'danger', message: 'Failed to login, check password.'}
            res.redirect('/')
          }
        });
      } else {
        req.session.message = {status: 'danger', message: 'Failed to login, check username.'}
        res.redirect('/')
      }
    })
  }
});
</code></pre>
<p>so it saves the data and redirects to index but everytime a user goes on the index page it shows the Welcome message, it obviously does this because the variable is still defined so my goal is to change that variable too null after they login and the welcome message shows up once.</p>
<p>ive tried:</p>
<pre><code>delete req.session.message
</code></pre>
<p>but this just deletes the variable before it gets passed to the next request.</p>
<p>How im displaying the message:</p>
<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;
   var message = JSON.parse('&lt;%- JSON.stringify(message) %&gt;');
   $(document).ready(function(){
      if(message != null) {
         $('.toast').addClass('bg-' + message.status);
         $('.toast-body').html(message.message)
         $(&quot;.toast&quot;).toast('show');
      }
   });        
&lt;/script&gt;
</code></pre>
<p>How im rendering the data:</p>
<pre><code>if(req.session.loggedin) {
    res.render('index', {
        loggedin: true,
        data: req.session.data,
        message: req.session.message
    });
} else {
    res.render('index', {
        loggedin: false,
        data: null,
        message: req.session.message
  });
}
</code></pre>
",<node.js><express><npm><express-session>,0.0,0,0,1
45480,44733,72350304,1,0,13607017,3.0,0.0,0.0,0.0,2022-05-23T14:31:54.880,4.0,3769.0,"webpack - ""Critical dependency: the request of a dependency is an expression"" issue","<p>I have an issue in an expressjs project.</p>
<p>When i run the <strong>npm run build</strong> command i get this error:</p>
<pre><code>WARNING in ./node_modules/aws-crt/dist/native/binding.js 54:18-31
Critical dependency: the request of a dependency is an expression
 @ ./node_modules/aws-crt/dist/native/io.js 16:34-54
 @ ./node_modules/aws-crt/dist/index.js 40:24-46
 @ ./node_modules/@aws-sdk/util-user-agent-node/dist-es/is-crt-available.js 3:96-114
 @ ./node_modules/@aws-sdk/util-user-agent-node/dist-es/index.js 5:0-52 16:23-37
 @ ./node_modules/@aws-sdk/client-s3/dist-es/runtimeConfig.js 16:0-65 26:898-914
 @ ./node_modules/@aws-sdk/client-s3/dist-es/S3Client.js 14:0-73 19:24-42
 @ ./node_modules/@aws-sdk/client-s3/dist-es/index.js 2:0-27 2:0-27
 @ ./src/server/data-handler/s3-api.js 1:0-46 4:21-29
 @ ./src/server/routes/freApi.js 5:0-51 39:4-20
 @ ./src/server/routes/index.js 3:0-55 3:0-55
 @ ./src/server/app.js 2:0-73 19:2-14 22:4-17 34:4-17 37:2-18 45:22-38
 @ ./src/server/index.js 35:0-24 53:18-21

WARNING in ./node_modules/express/lib/view.js 81:13-25
Critical dependency: the request of a dependency is an expression
 @ ./node_modules/express/lib/application.js 22:11-28
 @ ./node_modules/express/lib/express.js 18:12-36
 @ ./node_modules/express/index.js 11:0-41
 @ ./libs/salesforce-express/build/app.js 10:39-57
 @ ./libs/salesforce-express/build/index.js 28:34-50
 @ ./src/server/index.js 34:0-76 36:12-31 37:13-33 54:12-35

2 warnings have detailed information that is not shown.
Use 'stats.errorDetails: true' resp. '--stats-error-details' to show it.
</code></pre>
<p>the npm scripts section looks like this</p>
<pre><code>  &quot;scripts&quot;: {
    &quot;client:dev&quot;: &quot;webpack-dev-server -d --config webpack/client/dev.babel.js&quot;,
    &quot;start:dev&quot;: &quot;BABEL_ENV=development MOCK_SERVER=true nodemon --watch src/server --exec babel-node src/server&quot;,
    &quot;build:client&quot;: &quot;webpack --config webpack/client/prod.babel.js&quot;,
    &quot;build:server&quot;: &quot;webpack --config webpack/server/prod.babel.js&quot;,
    &quot;build&quot;: &quot;npm run build:client &amp;&amp; npm run build:server&quot;,
    &quot;start&quot;: &quot;BABEL_ENV=production MOCK_SERVER=true node ./dist/server/index.js&quot;,
    &quot;test:watch&quot;: &quot;jest --watch&quot;,
    &quot;lint&quot;: &quot;eslint --fix ./src --ext .js&quot;,
    &quot;jest&quot;: &quot;jest --colors&quot;,
    &quot;test&quot;: &quot;jest --colors --silent&quot;,
    &quot;jest:update&quot;: &quot;jest -u --colors&quot;,
    &quot;coverage&quot;: &quot;open ./coverage/index.html&quot;
  },
</code></pre>
<p>Any ideas on what can solve this?
Thanks</p>
",<node.js><express><npm><webpack>,0.0,1,0,1
45523,44776,72383964,1,0,6132737,0.0,8.0,0.0,0.0,2022-05-25T20:45:21.710,0.0,112.0,How to build a vanilla nodejs frontend app?,"<p>I am trying to deploy a vanilla nodejs frontend application on AWS Amplify . The prebuild phase complete without problem but the deployment just block at the build phase.</p>
<p>In local, I run my app with <code>node app.js</code>, so in my <code>amplify.yml</code> I have the following configuration :</p>
<pre><code>version: 1
frontend:
  phases:
    preBuild:
      commands:
        - npm install
    build:
      commands:
        - node app.js
  artifacts:
    # IMPORTANT - Please verify your build output directory
    baseDirectory: /
    files:
      - '**/*'
  cache:
    paths:
      - node_modules/**/*
</code></pre>
<p>The amplify build log says:</p>
<pre><code>     # Starting phase: preBuild
                                 # Executing command: npm install
2022-05-25T20:31:21.097Z [WARNING]: npm
2022-05-25T20:31:21.098Z [WARNING]: WARN app@1.0.0 No description
2022-05-25T20:31:21.102Z [WARNING]: npm
2022-05-25T20:31:21.102Z [WARNING]: WARN app@1.0.0 No repository field.
2022-05-25T20:31:21.103Z [WARNING]: 
2022-05-25T20:31:21.402Z [INFO]: audited 484 packages in 2.108s
2022-05-25T20:31:21.510Z [INFO]: 28 packages are looking for funding
                                 run `npm fund` for details
2022-05-25T20:31:21.510Z [INFO]: found 17 vulnerabilities (4 moderate, 10 high, 3 critical)
                                 run `npm audit fix` to fix them, or `npm audit` for details
2022-05-25T20:31:21.577Z [INFO]: # Completed phase: preBuild
                                 # Starting phase: build
                                 # Executing command: node app.js
2022-05-25T20:31:22.404Z [INFO]: Server started on port 5000
</code></pre>
<p>But the build is still ongoing despite the app is running apparently.</p>
<p>Any suggestion ?</p>
",<node.js><express><npm><yaml><aws-amplify>,0.0,0,0,1
45657,44910,72480972,1,0,13610401,2.0,0.0,0.0,0.0,2022-06-02T18:46:07.530,1.0,411.0,"Send data from server to client. NodeJS, Express","<p>I am trying to send data from my express server to the client side.</p>
<p>I have used app.post and app.get, the problem i'm having is that with either of those, the request must come from the client side. I need to send to push the data from the server side once a script has run has finished.</p>
<p>What i am doing is:</p>
<ul>
<li>Client inputs data on client side</li>
<li>Data is send to the server using app.post api</li>
<li>Server runs script</li>
<li>Server sends data back to client side</li>
</ul>
",<javascript><node.js><express><npm><nodejs-express-server>,0.0,0,0,1
45776,45029,72575651,1,0,15605276,0.0,0.0,0.0,0.0,2022-06-10T14:07:26.720,0.0,1110.0,Problems installing argon2 in a project with npm,"<p>I'm having some issue's installing argon2 npm package in my project. I am a bit of a beginner and have tried to check everything:
To start this is my system:</p>
<p><strong>MacBook Air m1</strong> 6 months old</p>
<p><strong>Python
3.10.2</strong></p>
<p><strong>Clang
Apple clang version 13.1.6</strong> (clang-1316.0.21.2.5)
Target: arm64-apple-darwin21.5.0
Thread model: posix
InstalledDir: /Library/Developer/CommandLineTools/usr/bin</p>
<p><strong>Make
GNU Make 3.81</strong>
This program built for i386-apple-darwin11.3.0</p>
<p><strong>Installed:
sudo npm install -g node-gyp</strong>
within the package but globally</p>
<p>If I go inside the node-gyp folder:
<strong>node-gyp@9.0.0  /usr/local/lib/node_modules/node-gyp
node@17.6.0</strong></p>
<p>So it looks like I have everything to get it running.</p>
<p>After the command for argon2:</p>
<p><strong>npm i argon2</strong></p>
<pre><code>npm ERR! code 1
npm ERR! path /Users/billy/Wild Code School/Express/MVC_architecture/Express----- 
Quests/node_modules/argon2
npm ERR! command failed
npm ERR! command sh -c node-pre-gyp install --fallback-to-build
npm ERR! CC(target) Release/obj.target/libargon2/argon2/src/ref.o
npm ERR!   CC(target) Release/obj.target/libargon2/argon2/src/argon2.o
npm ERR!   CC(target) Release/obj.target/libargon2/argon2/src/core.o
npm ERR!   CC(target) Release/obj.target/libargon2/argon2/src/blake2/blake2b.o
npm ERR!   CC(target) Release/obj.target/libargon2/argon2/src/thread.o
npm ERR!   CC(target) Release/obj.target/libargon2/argon2/src/encoding.o
npm ERR!   LIBTOOL-STATIC Release/argon2.a
npm ERR!   CXX(target) Release/obj.target/argon2/src/argon2_node.o
npm ERR! Failed to execute '/usr/local/bin/node 
/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js build -- 
fallback-to-build --module=/Users/billy/Wild Code 
School/Express/MVC_architecture/Express-Quests/node_modules/argon2/lib/binding/napi- 
v3/argon2.node --module_name=argon2 --module_path=/Users/billy/Wild Code 
School/Express/MVC_architecture/Express-Quests/node_modules/argon2/lib/binding/napi- 
v3 --napi_version=8 --node_abi_napi=napi --napi_build_version=3 -- 
node_napi_label=napi-v3' (1)
npm ERR! node-pre-gyp info it worked if it ends with ok
npm ERR! node-pre-gyp info using node-pre-gyp@1.0.9
npm ERR! node-pre-gyp info using node@17.6.0 | darwin | arm64
npm ERR! node-pre-gyp info check checked for &quot;/Users/billy/Wild Code 
School/Express/MVC_architecture/Express-Quests/node_modules/argon2/lib/binding/napi- 
v3/argon2.node&quot; (not found)
npm ERR! node-pre-gyp http GET https://github.com/ranisalt/node- 
argon2/releases/download/v0.28.5/argon2-v0.28.5-napi-v3-darwin-arm64-unknown.tar.gz
npm ERR! node-pre-gyp ERR! install response status 404 Not Found on 
https://github.com/ranisalt/node-argon2/releases/download/v0.28.5/argon2-v0.28.5- 
napi-v3-darwin-arm64-unknown.tar.gz
npm ERR! node-pre-gyp WARN Pre-built binaries not installable for argon2@0.28.5 and 
node@17.6.0 (node-v102 ABI, unknown) (falling back to source compile with node-gyp)
npm ERR! node-pre-gyp WARN Hit error response status 404 Not Found on 
https://github.com/ranisalt/node-argon2/releases/download/v0.28.5/argon2-v0.28.5- 
napi-v3-darwin-arm64-unknown.tar.gz
npm ERR! gyp info it worked if it ends with ok
npm ERR! gyp info using node-gyp@8.4.1
npm ERR! gyp info using node@17.6.0 | darwin | arm64
npm ERR! gyp info ok
npm ERR! gyp info it worked if it ends with ok
npm ERR! gyp info using node-gyp@8.4.1
npm ERR! gyp info using node@17.6.0 | darwin | arm64
npm ERR! gyp info find Python using Python version 3.10.2 found at 
&quot;/Library/Frameworks/Python.framework/Versions/3.10/bin/python3&quot;
npm ERR! gyp info spawn 
/Library/Frameworks/Python.framework/Versions/3.10/bin/python3
npm ERR! gyp info spawn args [
npm ERR! gyp info spawn args   '/usr/local/lib/node_modules/npm/node_modules/node- 
gyp/gyp/gyp_main.py',
npm ERR! gyp info spawn args   'binding.gyp',
npm ERR! gyp info spawn args   '-f',
npm ERR! gyp info spawn args   'make',
npm ERR! gyp info spawn args   '-I',
npm ERR! gyp info spawn args   '/Users/billy/Wild Code 
School/Express/MVC_architecture/Express- 
Quests/node_modules/argon2/build/config.gypi',
npm ERR! gyp info spawn args   '-I',
npm ERR! gyp info spawn args   '/usr/local/lib/node_modules/npm/node_modules/node- 
gyp/addon.gypi',
npm ERR! gyp info spawn args   '-I',
npm ERR! gyp info spawn args   '/Users/billy/Library/Caches/node- 
gyp/17.6.0/include/node/common.gypi',
npm ERR! gyp info spawn args   '-Dlibrary=shared_library',
npm ERR! gyp info spawn args   '-Dvisibility=default',
npm ERR! gyp info spawn args   '-Dnode_root_dir=/Users/billy/Library/Caches/node- 
gyp/17.6.0',
npm ERR! gyp info spawn args   '- 
Dnode_gyp_dir=/usr/local/lib/node_modules/npm/node_modules/node-gyp',
npm ERR! gyp info spawn args   '-Dnode_lib_file=/Users/billy/Library/Caches/node- 
gyp/17.6.0/&lt;(target_arch)/node.lib',
npm ERR! gyp info spawn args   '-Dmodule_root_dir=/Users/billy/Wild Code 
School/Express/MVC_architecture/Express-Quests/node_modules/argon2',
npm ERR! gyp info spawn args   '-Dnode_engine=v8',
npm ERR! gyp info spawn args   '--depth=.',
npm ERR! gyp info spawn args   '--no-parallel',
npm ERR! gyp info spawn args   '--generator-output',
npm ERR! gyp info spawn args   'build',
npm ERR! gyp info spawn args   '-Goutput_dir=.'
npm ERR! gyp info spawn args ]
npm ERR! gyp info ok
npm ERR! gyp info it worked if it ends with ok
npm ERR! gyp info using node-gyp@8.4.1
npm ERR! gyp info using node@17.6.0 | darwin | arm64
npm ERR! gyp info spawn make
npm ERR! gyp info spawn args [ 'BUILDTYPE=Release', '-C', 'build' ]
npm ERR! clang: error: no such file or directory: 'Code'
npm ERR! clang: error: no such file or directory: 
'School/Express/MVC_architecture/Express-Quests/node_modules/node-addon-api'
npm ERR! make: *** [Release/obj.target/argon2/src/argon2_node.o] Error 1
npm ERR! gyp ERR! build error
npm ERR! gyp ERR! stack Error: `make` failed with exit code: 2
npm ERR! gyp ERR! stack     at ChildProcess.onExit 
 (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/build.js:194:23)
 npm ERR! gyp ERR! stack     at ChildProcess.emit (node:events:527:28)
 npm ERR! gyp ERR! stack     at Process.ChildProcess._handle.onexit 
 (node:internal/child_process:291:12)
 npm ERR! gyp ERR! System Darwin 21.5.0
 npm ERR! gyp ERR! command &quot;/usr/local/bin/node&quot; 
 &quot;/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js&quot; &quot;build&quot; &quot;-- 
 fallback-to-build&quot; &quot;--module=/Users/billy/Wild Code 
 School/Express/MVC_architecture/Express-Quests/node_modules/argon2/lib/binding/napi- 
 v3/argon2.node&quot; &quot;--module_name=argon2&quot; &quot;--module_path=/Users/billy/Wild Code 
 School/Express/MVC_architecture/Express-Quests/node_modules/argon2/lib/binding/napi- 
 v3&quot; &quot;--napi_version=8&quot; &quot;--node_abi_napi=napi&quot; &quot;--napi_build_version=3&quot; &quot;-- 
 node_napi_label=napi-v3&quot;
 npm ERR! gyp ERR! cwd /Users/billy/Wild Code 
 School/Express/MVC_architecture/Express-Quests/node_modules/argon2
 npm ERR! gyp ERR! node -v v17.6.0
 npm ERR! gyp ERR! node-gyp -v v8.4.1
 npm ERR! gyp ERR! not ok
 npm ERR! node-pre-gyp ERR! build error
 npm ERR! node-pre-gyp ERR! stack Error: Failed to execute '/usr/local/bin/node 
 /usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js build -- 
 fallback-to-build --module=/Users/billy/Wild Code 
 School/Express/MVC_architecture/Express-Quests/node_modules/argon2/lib/binding/napi- 
 v3/argon2.node --module_name=argon2 --module_path=/Users/billy/Wild Code 
 School/Express/MVC_architecture/Express-Quests/node_modules/argon2/lib/binding/napi- 
 v3 --napi_version=8 --node_abi_napi=napi --napi_build_version=3 -- 
 node_napi_label=napi-v3' (1)
 npm ERR! node-pre-gyp ERR! stack     at ChildProcess.&lt;anonymous&gt; (/Users/billy/Wild 
 Code School/Express/MVC_architecture/Express-Quests/node_modules/@mapbox/node-pre- 
 gyp/lib/util/compile.js:89:23)
 npm ERR! node-pre-gyp ERR! stack     at ChildProcess.emit (node:events:527:28)
 npm ERR! node-pre-gyp ERR! stack     at maybeClose 
 (node:internal/child_process:1090:16)
 npm ERR! node-pre-gyp ERR! stack     at Process.ChildProcess._handle.onexit 
 (node:internal/child_process:302:5)
 npm ERR! node-pre-gyp ERR! System Darwin 21.5.0
 npm ERR! node-pre-gyp ERR! command &quot;/usr/local/bin/node&quot; &quot;/Users/billy/Wild Code 
 School/Express/MVC_architecture/Express-Quests/node_modules/.bin/node-pre-gyp&quot; 
 &quot;install&quot; &quot;--fallback-to-build&quot;
 npm ERR! node-pre-gyp ERR! cwd /Users/billy/Wild Code 
 School/Express/MVC_architecture/Express-Quests/node_modules/argon2
 npm ERR! node-pre-gyp ERR! node -v v17.6.0
 npm ERR! node-pre-gyp ERR! node-pre-gyp -v v1.0.9
 npm ERR! node-pre-gyp ERR! not ok

 npm ERR! A complete log of this run can be found in:
 npm ERR!     /Users/billy/.npm/_logs/2022-06-10T13_25_52_362Z-debug-0.log
</code></pre>
",<node.js><express><npm><npm-install>,0.0,0,0,1
46095,45348,72792190,1,73823925,9649702,3.0,1.0,0.0,0.0,2022-06-28T19:32:31.867,0.0,4022.0,"""found 1 moderate severity vulnerability"" warning every time I run npm install","<p>I am trying to install axios for a MERN app but every time I use &quot;npm install&quot; it gives me this:</p>
<pre><code>npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules\fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {&quot;os&quot;:&quot;darwin&quot;,&quot;arch&quot;:&quot;any&quot;} (current: {&quot;os&quot;:&quot;win32&quot;,&quot;arch&quot;:&quot;x64&quot;})

audited 241 packages in 1.113s

30 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
</code></pre>
<p>running &quot;npm audit fix&quot; shows:</p>
<pre><code>npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules\fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {&quot;os&quot;:&quot;darwin&quot;,&quot;arch&quot;:&quot;any&quot;} (current: {&quot;os&quot;:&quot;win32&quot;,&quot;arch&quot;:&quot;x64&quot;})

up to date in 0.874s

30 packages are looking for funding
  run `npm fund` for details

fixed 0 of 1 vulnerability in 241 scanned packages
  1 vulnerability required manual review and could not be updated
</code></pre>
<p>for &quot;npm audit&quot;:</p>
<pre><code>                   === npm audit security report ===                        


                             Manual Review                                  
         Some vulnerabilities require your attention to resolve             
                                                                            
      Visit https://go.npm.me/audit-guide for additional guidance           



Moderate        Got allows a redirect to a UNIX socket                        

  Package         got                                                           

  Patched in      &gt;=11.8.5                                                      

  Dependency of   nodemon [dev]                                                 

  Path            nodemon &gt; update-notifier &gt; latest-version &gt; package-json &gt;   
                  got                                                           

  More info       https://github.com/advisories/GHSA-pfrx-2q88-qq97             

found 1 moderate severity vulnerability in 241 scanned packages
  1 vulnerability requires manual review. See the full report for details.
</code></pre>
<p>I tried updating &quot;got&quot; in package-lock.json by manually replacing it's current version with a stable one, but then when I run npm install again, the file reverts back to it's original state. I'm fairly new to this so is that normal or am I updating the wrong way? I tried the same for update-notifier but it does the same thing. It's been days and I've tried countless other things but the warning just won't go away. I'd greatly appreciate any help. Thanks in advance.</p>
",<node.js><express><axios><package-lock.json><npm-vulnerabilities>,0.0,0,0,1
46116,45369,72805025,1,72813590,3589577,1.0,0.0,0.0,0.0,2022-06-29T16:42:09.053,2.0,2662.0,Best way to share NestJS entities(or modules) between the private applications,"<p>We've been using the NestJS to build the backend service(=original project from now on). We're also going to create another NestJS application which is depending on same database with the original one so I need to access the entities(typeorm's entities) in original project. What's the best way of the sharing the entities(or modules) between multiple NestJS applications? Some ways I've thought are</p>
<ol>
<li>creating entity files which might looks same with the one in original applications. (copy and paste)</li>
<li>creating module(need to be shared) as a npm package and install it in new project.
=&gt; I feel like it's quite overkill as I need to create account and pay to npm for making private npm modules.</li>
</ol>
<p>Any ideas or suggestion? Thanks in advance!</p>
",<express><npm><nestjs><typeorm><npm-publish>,0.0,0,0,1
46169,45422,72841563,1,0,19468680,0.0,3.0,0.0,0.0,2022-07-02T18:36:39.483,0.0,31.0,Node JS Multiple statement queries,"<p>I have started a project using Node.js and Express to connect a MySQL DB to my app, but in some cases, I need multiple SQL Statements to fetch data for the dropdown menus as they come from dimensional tables.</p>
<p>The query works and returns all the data I need but one thing in the documentation called my attention and I'm not sure I fully understand what is meant: (it allows for SQL injection attacks if values are not properly escaped)</p>
<p><a href=""https://www.npmjs.com/package/mysql#multiple-statement-queries"" rel=""nofollow noreferrer"">https://www.npmjs.com/package/mysql#multiple-statement-queries</a></p>
<p>What do they mean by &quot;properly escaped&quot;? Could someone please give me an example?</p>
<p>The query I'm running is very similar to this:</p>
<pre><code>let SQL = 'SELECT * FROM dim_val1; SELECT * FROM dim_val2; SELECT * FROM dim_val3;'

connection.query(SQL, function (error, results) {
  if (error) throw error;
  // `results` is an array with one element for every statement in the query:
  console.log(results[0]); // [{1: 1}]
  console.log(results[1]); // [{2: 2}]
  console.log(results[2]); // [{2: 2}]
});

</code></pre>
<p>Is it risky? Is there any workaround to fetch data from multiple tables?</p>
<p>Thanks!</p>
",<mysql><node.js><express><npm>,0.0,0,0,1
46246,45499,72892705,1,0,0,0.0,5.0,0.0,0.0,2022-07-07T05:31:09.143,0.0,36.0,What is node package walker?,"<p>I've taken up the job from another freelancer who isn't currently engaged on this project.</p>
<p>He has done some work which I don't understand. Can anyone help me with that.</p>
<p>Every time a user hires a parking spot, I want to notify a merchant.</p>
<p>here is the query to create a booking:</p>
<pre><code>exports.createBooking = async (req, res) =&gt; {
  try {
    const user = await Auth.findOne({ _id: req.data.id });
    if (!user) return res.status(404).json({ error: &quot;User not found&quot; });

    const bookingDetails = new Booking({
      userId: req.data.id,
      parkingId: req.body.parkingId,
      duration: req.body.duration,
      date: moment(req.body.date).format(&quot;MMM DD, YYYY&quot;),
      startTime: req.body.startTime,
      endTime: req.body.endTime,
      paymentAmount: req.body.paymentAmount,
      isFeePaid: req.body.isFeePaid,
      status: &quot;sent&quot;,
    });

    bookingDetails.populate(&quot;walkerId&quot;);
    const save = await bookingDetails.save();
    // send notification to walker

    let notification_data = {
      name: `${owner.basicInfo.fullName}`,
      date: moment(req.body.date).format(&quot;MMM DD, YYYY&quot;),
      startTime: req.body.startTime,
    };

    let { title, body } = notificationTypes.addBooking(notification_data);

    let data = {
      senderId: req.data.id,
      receiverId: req.body.walkerId,
      notificationSendTo: &quot;walker&quot;,
      title,
      body,
    };

    sendNotification(data);

    return res.status(200).json({
      success: true,
      msg: &quot;Service Booked&quot;,
      data: { details: save },
    });
  } catch (error) {
    return res.status(500).json({ error: error.message });
  }
};
</code></pre>
<p>And the booking schema looks like this:</p>
<pre><code>const bookingSchema = new mongoose.Schema(
  {
    parkingId: {
      type: mongoose.Schema.Types.ObjectId,
      ref: &quot;Parking&quot;,
    },
    userId: {
      type: mongoose.Schema.Types.ObjectId,
      ref: &quot;Auth&quot;,
    },
    duration: {
      type: String,
    },
    date: {
      type: String,
    },
    startTime: {
      type: Date,
    },
    endTime: {
      type: Date,
    },
    isFeePaid: {
      type: Boolean,
      default: false,
    },

    status: {
      type: String,
      enum: [
        &quot;confirmed&quot;,
        &quot;sent&quot;,
        &quot;pending&quot;,
        &quot;accepted&quot;,
        &quot;rejected&quot;,
        &quot;cancelled&quot;,
        &quot;start&quot;,
        &quot;completed&quot;,
      ],
    },

    isBookingCancelled: {
      cancelBy: {
        type: mongoose.Schema.Types.ObjectId,
        ref: &quot;User&quot;,
      },
      value: {
        type: Boolean,
        default: false,
      },
      cancellationReason: {
        type: String,
        maxlength: 255,
        trim: true,
      },
    },
    paidAmount: {
      type: Number,
    },
    paymentId: {
      type: mongoose.Schema.Types.ObjectId,
      ref: &quot;Payment&quot;,
    },
    paymentAmount: {
      type: Number,
    },
    isStarted: {
      type: Boolean,
      default: false,
    },
    isEnabled: {
      type: Boolean,
      default: false,
    },
  },
  {
    timestamps: true,
  }
);
</code></pre>
<p>I am aware that the schema lacks a walkerId, which would cause an error to be thrown, but I have never used walker thus I have no idea how to incorporate it.</p>
",<node.js><express><npm><mongoose>,0.0,0,0,1
46375,45628,72971679,1,72975155,18878653,4.0,2.0,0.0,0.0,2022-07-13T19:33:02.130,10.0,12651.0,"Get esbuild to watch for changes, rebuild, and restart express server","<p>I am trying to create a simple SSR powered project using express + react. To do this, I need to simultaneously watch frontend and backend scripts during development.</p>
<p>The goal here is to use express routes to point to react page components. Now, I have this working, but I am having problems with DX.</p>
<p>Here are my package scripts:</p>
<pre><code>    &quot;build:client&quot;: &quot;esbuild src/index.js --bundle --outfile=public/bundle.js --loader:.js=jsx&quot;,
    &quot;build:server&quot;: &quot;esbuild src/server.jsx --bundle --outfile=public/server.js --platform=node&quot;,
    &quot;build&quot;: &quot;npm run build:client &amp;&amp; npm run build:server&quot;,
    &quot;start&quot;: &quot;node ./public/server.js&quot;
</code></pre>
<p>Now this works if I do <code>npm run build &amp;&amp; npm run start</code>, but the problem is that it doesn't watch for changes and rebuild the frontend bundle or restart the backend server.</p>
<p>Now, if I add <code>--watch</code> to the 2 build scripts, it only starts watching the <code>index.js</code> file and does not execute the other scripts.</p>
<p>So if I add <code>nodemon</code> to my start script, it doesn't matter because esbuild won't get past the first script due to the watcher.</p>
<p>Is there a simpler way of doing what I am trying to do here? I also want to add tailwind to this project once I figure this out, so any tips around that would be helpful as well.</p>
",<javascript><reactjs><express><npm><esbuild>,0.0,0,0,1
46519,45772,73071806,1,0,13619755,1.0,0.0,0.0,0.0,2022-07-21T19:42:25.040,0.0,68.0,I'm facing an error while trying to compile the code. Where am I going wrong and How do I fix it?,"<p>I'm getting the an error on terminal while trying to compile the code, but I don't understand why.</p>
<p>Code:</p>
<pre><code>const express = require(&quot;express&quot;);

const app = express();

console.dir(app);
</code></pre>
<p>Error:</p>
<p><a href=""https://i.stack.imgur.com/MQpSr.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/MQpSr.png"" alt=""[1]: https://i.stack.imgur.com/mncsl.png"" /></a></p>
<p>package.json:</p>
<pre><code>{
  &quot;name&quot;: &quot;firstapp&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  },
  &quot;keywords&quot;: [],
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: {
    &quot;express&quot;: &quot;^4.18.1&quot;,
    &quot;npm&quot;: &quot;^8.15.0&quot;
  }
}
</code></pre>
",<javascript><node.js><express><npm>,0.0,0,0,1
46526,45779,73080678,1,0,12720176,0.0,3.0,0.0,0.0,2022-07-22T12:54:19.863,0.0,149.0,React page does not show changes after saving and deployment,"<p>I am developing an application over a few weeks now. Suddenly today, if i change anything (and save it) - even just a word in the header or a console.log() - , the change is not shown in the browser but otherwise it runs just perfectly. I already deployed again and tried deleting the package.json and nodes_module and installing them again.</p>
<p>I know this is really vague, but maybe one of you has an idea.. I would be really grateful.</p>
<p>I am using:
Visual Studio Code
Windows 11
Google Chrome</p>
",<node.js><reactjs><express><npm><mongoose>,0.0,0,0,1
46558,45811,73107770,1,0,19616686,3.0,1.0,0.0,0.0,2022-07-25T10:32:47.863,1.0,716.0,Node.JS Express routing not working as it should work,"<p>File structure:</p>
<p><a href=""https://i.stack.imgur.com/tTxxx.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/tTxxx.png"" alt=""file structure"" /></a></p>
<p>In <code>/server/routes/index.js</code></p>
<pre class=""lang-js prettyprint-override""><code>const Router = require('express');
const router = Router();

const deviceRouter = require('./deviceRouter');
const brandRouter = require('./brandRouter');
const typeRouter = require('./typeRouter');
const userRouter = require('./userRouter');

router.use('/user', userRouter);
router.use('/type', typeRouter);
router.use('/brand', brandRouter);
router.use = router.use('/device', deviceRouter);

module.exports = router;
</code></pre>
<p>In <code>server/index.js</code></p>
<pre class=""lang-js prettyprint-override""><code>const router = require('routes/index')
</code></pre>
<p>I got an error at this part. Basically, error comes from <code>/server/routes/index.js</code> as</p>
<pre class=""lang-js prettyprint-override""><code>const Router = require('express');
const router = Router(); not working.
</code></pre>
<p>Here is how it looks in WebStorm:</p>
<p><a href=""https://i.stack.imgur.com/hRyGv.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/hRyGv.png"" alt=""here is how it looks in WebStorm"" /></a></p>
<p>and here is how it <strong>should</strong> look in WebStorm:</p>
<p><a href=""https://i.stack.imgur.com/ejnrq.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ejnrq.png"" alt=""and here is how it should look in WebStorm"" /></a></p>
",<express><npm><nodejs-server>,0.0,0,0,1
46642,45895,73168995,1,0,18838903,1.0,1.0,0.0,0.0,2022-07-29T17:22:48.163,0.0,39.0,what is the different between building server side VS API,"<p>so currently i am studying web development but the course was a little bit confusing, the teacher starts explain promise object and fetch then axios, after that he starts to talk about the &quot;express&quot; package to build server side, and am asking myself what is the different between using API objects &amp; building server side using express?</p>
",<javascript><express><npm>,0.0,0,0,1
46732,45985,73243284,1,0,11199398,1.0,0.0,0.0,0.0,2022-08-04T23:48:39.867,0.0,559.0,How to access bootstrap files with EJS and Express without changing the file structure?,"<p>Just started learning NodeJS. I am using EJS to include common views and using express.static() for the public directory and pulling &quot;style.css&quot; from there. I was using bootstrap from CDN but now I need to do some changes on the variables such as primary color etc.</p>
<p>I want to keep my file structure as;</p>
<pre><code>|-- node_modules/
|   |-- bootstrap
|   |   |
|   |   |--bootstrap stuff
|   |
|   |--other stuff
|
|-- public/
|   |-- css/
|   |   |-- style.css
|   |
|   |-- resources/
|
|-- views/
|   |-- partials
|   |   |--head.ejs
|   |
|   |--pages 
|      |--index.ejs  
|
|-- app.js
|-- package.json
|-- package-lock.json
</code></pre>
<p>I want to stop using CDN Bootstrap and link the bootstrap file that I installed via npm. How do I reach the bootstrap stuff under node_modules?</p>
<p>Here is also my &quot;app.js&quot;;</p>
<pre><code>const express = require('express');
const app = express();

const PORT = process.env.PORT || 80;

// set the view engine to ejs
app.set('view engine', 'ejs');

// use res.render to load up an ejs view file

// index page
app.get('/', function(req, res) {
  res.render('pages/index');
});

// about page
app.get('/about', function(req, res) {
  res.render('pages/about');
});

// static pages for css and etc.
app.use(express.static(__dirname + '/public'));

app.listen(PORT, () =&gt; console.log('Server is listening at '+ PORT)); 
</code></pre>
<p>I am aware that similar question was asked <a href=""https://stackoverflow.com/questions/47501589/how-to-include-bootstrap-file-in-my-ejs-files"">here</a> but solutions were using it from different directories or from cdn.</p>
",<node.js><twitter-bootstrap><express><npm><ejs>,0.0,0,0,1
46747,46000,73249842,1,0,19699641,2.0,0.0,0.0,0.0,2022-08-05T12:33:15.357,0.0,185.0,Problem installing npm express on windows,"<p>this is my first time working with npm and I can't seem to install express. I have reviewed other questions on SO but the errors that I am getting seem to be a bit different.</p>
<pre><code>$ npm install express
npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.
npm ERR! code ECONNREFUSED
npm ERR! syscall connect
npm ERR! errno ECONNREFUSED
npm ERR! FetchError: request to https://registry.npmjs.org/express failed, reason: connect ECONNREFUSED 104.16.16.35:443
npm ERR!     at ClientRequest.&lt;anonymous&gt; (C:\Program Files\nodejs\node_modules\npm\node_modules\minipass-fetch\lib\index.js:130:14)
npm ERR!     at ClientRequest.emit (node:events:527:28)
npm ERR!     at TLSSocket.socketErrorListener (node:_http_client:454:9)      
npm ERR!     at TLSSocket.emit (node:events:539:35)
npm ERR!     at emitErrorNT (node:internal/streams/destroy:157:8)
npm ERR!     at emitErrorCloseNT (node:internal/streams/destroy:122:3)       
npm ERR!     at processTicksAndRejections (node:internal/process/task_queues:83:21)
npm ERR!  FetchError: request to https://registry.npmjs.org/express failed, reason: connect ECONNREFUSED 104.16.16.35:443
npm ERR!     at ClientRequest.&lt;anonymous&gt; (C:\Program Files\nodejs\node_modules\npm\node_modules\minipass-fetch\lib\index.js:130:14)
npm ERR!     at ClientRequest.emit (node:events:527:28)
npm ERR!     at TLSSocket.socketErrorListener (node:_http_client:454:9)      
npm ERR!     at TLSSocket.emit (node:events:539:35)
npm ERR!     at emitErrorNT (node:internal/streams/destroy:157:8)
npm ERR!     at emitErrorCloseNT (node:internal/streams/destroy:122:3)       
npm ERR!     at processTicksAndRejections (node:internal/process/task_queues:83:21) {
npm ERR!   code: 'ECONNREFUSED',
npm ERR!   errno: 'ECONNREFUSED',
npm ERR!   syscall: 'connect',
npm ERR!   address: '104.16.16.35',
npm ERR!   port: 443,
npm ERR!   type: 'system',
npm ERR!   requiredBy: '.'
npm ERR! }
npm ERR!
npm ERR! If you are behind a proxy, please make sure that the
npm ERR! 'proxy' config is set properly.  See: 'npm help config'

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\TE493874\AppData\Local\npm-cache\_logs\2022-08-05T12_25_29_151Z-debug-0.log
</code></pre>
<p>I am using a corporate laptop so this is perhaps where the issue lies. Any help would be greatly appreciated.</p>
",<node.js><express><npm><npm-install>,0.0,0,0,1
46792,46045,73286681,1,0,17706935,0.0,6.0,0.0,0.0,2022-08-09T04:53:43.207,0.0,50.0,I keep on getting express js installation error it get installed and then when i check its version it say nothing installed like it is not recognised,"<p>I have tried every solution present on the stack but still, the same error keeps on happening please let me know if there's any way to solve this installation error...<a href=""https://i.stack.imgur.com/lDjZr.png"" rel=""nofollow noreferrer"">here I have shown you the image of my error but it keeps on saying like.</a></p>
<pre class=""lang-bash prettyprint-override""><code>express: The term 'express' is not recognized as the name of a cmdlet,
function, script file, or operable program. Check the spelling of the
name, or if a path was included, verify that the path is correct and try
again.

At line:1 char:1
+ express
+ ~~~~~~~
    + CategoryInfo          : ObjectNotFound: (express:String) [], Comma
   ndNotFoundException
    + FullyQualifiedErrorId : CommandNotFoundException][1]
</code></pre>
",<javascript><node.js><express><npm><installation>,0.0,0,0,1
46802,46055,73291530,1,0,18326591,2.0,0.0,0.0,0.0,2022-08-09T12:07:01.123,0.0,128.0,Read N last lines of a large shared file with NodeJs,"<p>I have two codes one for reading shared file using <a href=""https://www.npmjs.com/package/smb2"" rel=""nofollow noreferrer"">smb2</a>:</p>
<pre class=""lang-js prettyprint-override""><code>// load the library
var SMB2 = require('smb2');
 
// create an SMB2 instance
var smb2Client = new SMB2({
  share:'\\\\192.168.0.111\\folder'
, domain:'WORKGROUP'
, username:'username'
, password:'password'
});

// read the file
smb2Client.readFile('path\\to\\the\\file.txt', &quot;utf-8&quot;, function(error, data){
    if(error) throw error;    
    console.log(data);
});
</code></pre>
<p>And the other one for reading the last 20 lines of a local file using <a href=""https://www.npmjs.com/package/read-last-line"" rel=""nofollow noreferrer"">read-last-line</a>:</p>
<pre class=""lang-js prettyprint-override""><code>// load the library
const readLastLine = require('read-last-line');

// read the file
readLastLine.read('path\\to\\the\\file.txt', 20).then(function (lines) {
    console.log(lines)
}).catch(function (err) {
    console.log(err.message);
});
</code></pre>
<p>I didn't know how to combine the two of them.
Do you have any suggestions.
Thanks.</p>
",<javascript><node.js><express><file><npm>,0.0,0,0,1
46888,46141,73359557,1,73372189,7735258,1.0,0.0,0.0,0.0,2022-08-15T10:10:33.317,0.0,2158.0,npm: pm2-windows-startup not working properly,"<p>I want my application to automatically restart on Windows reboot. I am using the <code>pm2-windows-startup</code> package provided by the <strong>npm</strong>. But, I am having an issue. When I restart the remote server and enter the <code>pm2 list</code> command in the <strong>cmd</strong>, it shows my application as <code>online</code>. However, when I hit the application's URL in my browser, I get a <code>This site can’t be reached</code> error.</p>
<p>I have followed the instructions provided by their official documentation.</p>
<p><a href=""https://github.com/marklagendijk/node-pm2-windows-startup"" rel=""nofollow noreferrer"">pm2-windows-startup</a></p>
<p>The only way my application runs after a restart is by using the below commands:</p>
<ul>
<li><code>pm2 kill</code></li>
<li><code>pm2 resurrect</code></li>
</ul>
<p>The server has Windows Server 2012 R2 operating system.</p>
<p>I don't know why is this happening despite following all the instructions provided by the repository. Any help would be appreciated. Thanks!</p>
",<node.js><windows><express><npm><pm2>,0.0,0,0,1
46917,46170,73378488,1,73380602,19778182,4.0,1.0,0.0,0.0,2022-08-16T18:12:33.670,0.0,64.0,How to fix npm start errors on my nodejs?,"<p>After the npm install, I tried npm start for my project. But it shows an error. How can we fix this error?<a href=""https://i.stack.imgur.com/bn8nh.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
",<javascript><node.js><express><npm>,0.0,0,0,1
47232,46485,73619205,1,0,6544697,0.0,0.0,0.0,0.0,2022-09-06T08:49:27.357,1.0,164.0,Converting ODATA url to sequelize selector,"<p>My node.js application (getting requests with express, stores data with sequelize and proxies to a sap odata api) gets odata requests. As sequelize can't handle the odata scheme, I have to create a parser by myself.</p>
<p>For example the odata URI could be:
<code>$expand=Car($expand=Brand($expand=Type)),Person($expand=Gender)&amp;$filter=id eq 1</code>
As you can see, there are some nested expands.</p>
<p>The parsed data should look like that:</p>
<pre class=""lang-json prettyprint-override""><code>{
    include: [
        {
           association: &quot;Car&quot;,
           include: [
              {
                  association: &quot;Brand&quot;
                  include: [
                     {
                        association: &quot;Type&quot;
                     }
              }
           ]

        },
        {
            association: &quot;Person&quot;,
            include: [
                {
                    association: &quot;Gender&quot;
                }
            ]
        }
    ],
    where: {
        id: 1
    }
}
</code></pre>
<p>I already had a look at some npm packages, but none of them does support the expand of entities/entitysets.</p>
<p>Any idea how to recursively convert that odata scheme to the sequelize selectors?</p>
<p>I'm pretty sure that would be interesting for many api developers using node.</p>
",<node.js><express><npm><sequelize.js><odata>,0.0,0,0,1
47240,46493,73625053,1,0,17296239,2.0,3.0,0.0,0.0,2022-09-06T16:18:12.067,0.0,551.0,RangeError: Invalid array length on crypto js when i tried to encrypt my password on node.Js Application,"<p>I have been developing a node backend API for an ecommerce website for learning purpose. So in that when I tried to encrypt my password for authentication purpose. I am getting an error stating that</p>
<pre><code>...\ECommerceApi\node_modules\crypto-js\core.js:335
words.length = Math.ceil(sigBytes / 4);
                                 ^

RangeError: Invalid array length
    at WordArray.init.clamp (D:\STUDY\React.JS\reactproject\ECommerceApi\node_modules\crypto-js\core.js:335:27)
</code></pre>
<p>This is what I am getting when running it through POSTMAN.Here is the code to my Auth Module</p>
<pre><code>
const router = require(&quot;express&quot;).Router();
const User = require(&quot;../models/User&quot;)
const CryptoJS = require(&quot;crypto-js&quot;)

//REGISTER
router.post(&quot;/register&quot;,async (req,res)=&gt;{
    
    const newUser = new User({
        username:req.body.username,
        email:req.body.email,
        password:CryptoJS.AES.encrypt(req.body.password,process.env.PASS_SEC).toString()
 

    });
    try{

        const savedUser = await newUser.save();
        res.status(201).json(savedUser)
        console.log(savedUser)
    }catch(err){
        res.status(500).json(err)
        console.log(err);
    }
});
    

module.exports = router;
</code></pre>
",<node.js><express><npm><cryptojs>,1.0,0,0,1
47268,46521,73653353,1,0,17296239,1.0,0.0,0.0,0.0,2022-09-08T18:03:22.110,0.0,358.0,"Getting an error ""Cannot read properties of undefined (reading 'id') ""","<p>I am creating a webtoken for my backend API and to update my database . Even though the token and ID given to it are correct, it's return an error “token not valid” in the POSTMAN. When I checked the console it showed an error stating that “TypeError: Cannot read properties of undefined (reading 'id')”.The code to it is shown below.</p>
<pre><code>const jwt = require(&quot;jsonwebtoken&quot;);

const verifyToken = (req, res, next) =&gt; {
  const authHeader = req.headers.token;
  if (authHeader) {
    const token = authHeader.split(&quot;&quot;)[1];
    jwt.verify(token, process.env.JWT_SEC, (err, user) =&gt; {
      if (err) res.status(403).json(&quot;Token is not valid!&quot;);
      req.user = user;
      next();
    });
  } else {
    return res.status(401).json(&quot;YOu are not authenticated!&quot;);
  }
};
const verifyTokenAndAuthorization = (req, res, next) =&gt; {
  verifyToken(req, res, () =&gt; {
    if (req.user.id === req.params.id || req.user.isAdmin) {
      next();
    } else {
      res.status(403).json(&quot;You are not allowed to do that!&quot;);
    }
  });
};

module.exports = { verifyToken,verifyTokenAndAuthorization };



</code></pre>
<p>the code to the user module is given below</p>
<pre><code>const User = require(&quot;../models/User.js&quot;);
const { verifyTokenAndAuthorization } = require(&quot;./verifyToken.js&quot;);
const router = require(&quot;express&quot;).Router();

//UPDATE
router.put(&quot;/:id&quot;, verifyTokenAndAuthorization, async (req, res) =&gt; {
  if (req.body.password) {
    req.body.password = CryptoJS.AES.encrypt(
      req.body.password,
      process.env.PASS_SEC
    ).toString();
  }
  try {
    const updatedUser = await User.findByIdAndUpdate(
      req.params.id,
      { $set: req.body, },
      { new: true }
    );
    res.status(200).json(updatedUser)
  } catch (err) {
    res.status(500).json(err);
  }
});
module.exports = router;

</code></pre>
",<javascript><node.js><express><npm>,0.0,0,0,1
47386,46639,73738113,1,0,20007675,2.0,2.0,0.0,0.0,2022-09-15T22:41:07.910,0.0,2109.0,"Cannot find module ""morgan"" and but I see morgan exists as dependencies in my package.json file","<p>I am trying to open an app with npm start, but keep getting the error message</p>
<blockquote>
<p><strong>Error: cannot find module 'morgan'</strong></p>
</blockquote>
<p>I looked up some advices on github or stackoverflow, tried these commands:</p>
<blockquote>
<p>npm install morgan</p>
<p>npm install --save morgan</p>
<p>npm link morgan</p>
<p>npm install mongoose-morgan</p>
</blockquote>
<p>None of them works. And I do see morgan 1.10.0 in the dependencies of my package.json file.</p>
<p>Anyone knows what's happening?</p>
",<node.js><express><npm><morgan>,0.0,0,0,1
47446,46699,73793275,1,0,14063169,1.0,0.0,0.0,0.0,2022-09-20T22:32:59.387,0.0,424.0,Serve React Build on separate server from Express/Node server,"<p>I have a create-react-app where I split the client side to run on port localhost:3000 and my node js/express api side to run on port localhost:9000. I was using a Proxy at localhost:9000 to make my api requests from my client side to my backend. Now, I want to deploy this app. I have done npm run build on my client side and have that folder.</p>
<p>I was using the static server (serve -s build) at port 5000 to see it. However it is not getting any response or communicating with my express server. I don't even get any errors. I am certain the server is running but it seems they are not communicating. I also have CORS enabled.</p>
<p>Is this possible to <strong>run the build folder separately from my express server</strong>, have them running on <strong>two separate servers</strong> or I do I have to serve the static build from my express backend? In the end I'm going to use Apache but I'm trying to get the build up and running, communicating with my backend like how it was before I did the build. Please help!</p>
<p>[app.js(express/node js)]</p>
<pre><code>var createError = require('http-errors');
var express = require('express');
var path = require('path');
var cookieParser = require('cookie-parser');
var logger = require('morgan');
var cors = require('cors');

var indexRouter = require('./routes/index');
var APIRouter = require('./routes/API');   // require route
var app = express();


// view engine setup
app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'jade');
app.use(cors());
app.use(logger('dev'));
app.use(express.json());
app.use(express.urlencoded({ extended: true }));
app.use(express.static(path.join(__dirname, 'public')));

app.use('/', indexRouter);
app.use(&quot;/API&quot;, APIRouter); // telling express to use this route but need to require it
app.use(function(req, res, next) {
  next(createError(404));
  var err = new Error(&quot;Not found from app.js&quot;)
  err.status = 404;
  next(err);
});

// error handler
app.use(function(err, req, res, next) {
  // set locals, only providing error in development
  res.locals.message = err.message;
  res.locals.error = req.app.get('env') === 'development' ? err : {};

  // render the error page
  res.status(err.status || 500);
  res.render('error');
  console.log(err);
});

module.exports = app;

</code></pre>
<p>[index.js(express/node js)]</p>
<pre><code>var express = require('express');
var app = express();
var cors = require('cors');
var path = require('path');
var cookieParser = require('cookie-parser')
var secret = require('./config')[env]
var env = process.env.NODE_ENV || 'development';
var config = require('./config')[env];

const basicAuth = require('express-basic-auth');
const auth = basicAuth({
    users: {
      [config.adminCredentials.user]:config.adminCredentials.password
    }
});

app.use(cookieParser(config.adminCredentials.secret));
app.use(express.json());
app.use(cors());

app.use(function(err, req, res, next) {
  res.status(err.status || 500);
  console.log(&quot;error:&quot;, err);
});


/* This is for deploying build folder , app is then hosted on port: 9000 */
// app.use(express.static(path.resolve(__dirname, '../../client/build')));
// //All other GET requests not handled before will return our React app
// app.get('/', (req, res) =&gt; {
//   res.sendFile(path.resolve(__dirname, '../../client/build', 'index.html'));
// }); 

app.get(&quot;/authenticate&quot;, auth, (req, res) =&gt; {
    const options = {
      httpOnly: true, //cookies are only accessible from a server
      signed:true,
      maxAge: 60 * 60 * 1000, // 1 hour
      sameSite:true // prevents the cookie from being sent in cross-site requests
    };
    
    if(req.auth.user === &quot;*****&quot;) { // response reaches back to client if and only if the credentials sent along match with the request match
        res.cookie('name', '*****', options).send({screen:'******'});
    }
});

app.get('/read-cookie', (req, res) =&gt; {
  if(req.signedCookies.name === &quot;*****&quot;) {
    res.send({screen:'*****'});
  }
  else {
    res.send({screen:'auth'});
  }
});

app.get('/clear-cookie', (req, res) =&gt; {
  res.clearCookie('name').end();
});

app.get('/', function(req, res, next) {
  res.render('index', { title: 'Express' });
});

</code></pre>
<p>bin/www (express/ node)</p>
<pre><code>#!/usr/bin/env node

/**
 * Module dependencies.
 */
var app = require('../app');
var debug = require('debug')('api:server');
var http = require('http');
const fs = require(&quot;fs&quot;);
const path=require('path');
var cookieParser = require('cookie-parser');

/**
 * Get port from environment and store in Express.
 */

var port = normalizePort(process.env.PORT || '9000');
app.set('port', port);

/**
 * Create HTTP server.
 */

var server = http.createServer(app);

/**
 * Listen on provided port, on all network interfaces.
 */

server.listen(port, () =&gt; {
  console.log(`Server listening on ${port}`);
});
server.on('error', onError);
server.on('listening', onListening);

/**
 * Normalize a port into a number, string, or false.
 */

function normalizePort(val) {
  var port = parseInt(val, 10);

  if (isNaN(port)) {
    // named pipe
    return val;
  }

  if (port &gt;= 0) {
    // port number
    return port;
  }

  return false;
}

/**
 * Event listener for HTTP server &quot;error&quot; event.
 */

function onError(error) {
  if (error.syscall !== 'listen') {
    throw error;
  }

  var bind = typeof port === 'string'
    ? 'Pipe ' + port
    : 'Port ' + port;

  // handle specific listen errors with friendly messages
  switch (error.code) {
    case 'EACCES':
      console.error(bind + ' requires elevated privileges');
      process.exit(1);
      break;
    case 'EADDRINUSE':
      console.error(bind + ' is already in use');
      process.exit(1);
      break;
    default:
      throw error;
  }
}

/**
 * Event listener for HTTP server &quot;listening&quot; event.
 */

function onListening() {
  var addr = server.address();
  var bind = typeof addr === 'string'
    ? 'pipe ' + addr
    : 'port ' + addr.port;
  debug('Listening on ' + bind);
}

</code></pre>
<p>Client package.json</p>
<pre><code>{
  &quot;name&quot;: &quot;client&quot;,
  &quot;version&quot;: &quot;0.1.0&quot;,
  &quot;private&quot;: true,
  &quot;dependencies&quot;: {
    &quot;@emotion/react&quot;: &quot;^11.9.3&quot;,
    &quot;@emotion/styled&quot;: &quot;^11.9.3&quot;,
    &quot;@fortawesome/fontawesome-svg-core&quot;: &quot;^1.2.34&quot;,
    &quot;@fortawesome/free-brands-svg-icons&quot;: &quot;^5.15.2&quot;,
    &quot;@fortawesome/free-regular-svg-icons&quot;: &quot;^5.15.2&quot;,
    &quot;@fortawesome/free-solid-svg-icons&quot;: &quot;^5.15.2&quot;,
    &quot;@fortawesome/react-fontawesome&quot;: &quot;^0.1.14&quot;,
    &quot;@mui/icons-material&quot;: &quot;^5.8.4&quot;,
    &quot;@mui/material&quot;: &quot;^5.9.1&quot;,
    &quot;@testing-library/jest-dom&quot;: &quot;^5.11.4&quot;,
    &quot;@testing-library/react&quot;: &quot;^11.1.0&quot;,
    &quot;@testing-library/user-event&quot;: &quot;^12.1.10&quot;,
    &quot;axios&quot;: &quot;^0.21.4&quot;,
    &quot;cors&quot;: &quot;^2.8.5&quot;,
    &quot;node&quot;: &quot;^17.4.0&quot;,
    &quot;prop-types&quot;: &quot;^15.7.2&quot;,
    &quot;react&quot;: &quot;^18.2.0&quot;,
    &quot;react-dom&quot;: &quot;^18.2.0&quot;,
    &quot;react-router-dom&quot;: &quot;^6.3.0&quot;,
    &quot;react-scripts&quot;: &quot;3.4.3&quot;,
    &quot;web-vitals&quot;: &quot;^0.2.4&quot;
  },
  &quot;scripts&quot;: {
    &quot;start&quot;: &quot;HTTPS=true react-scripts --openssl-legacy-provider start&quot;,
    &quot;build&quot;: &quot;react-scripts --openssl-legacy-provider build&quot;,
    &quot;test&quot;: &quot;react-scripts test&quot;,
    &quot;eject&quot;: &quot;react-scripts eject&quot;
  },
  &quot;proxy&quot;: &quot;http://localhost:9000&quot;,
  &quot;eslintConfig&quot;: {
    &quot;extends&quot;: [
      &quot;react-app&quot;,
      &quot;react-app/jest&quot;
    ]
  },
  &quot;browserslist&quot;: {
    &quot;production&quot;: [
      &quot;&gt;0.2%&quot;,
      &quot;not dead&quot;,
      &quot;not op_mini all&quot;
    ],
    &quot;development&quot;: [
      &quot;last 1 chrome version&quot;,
      &quot;last 1 firefox version&quot;,
      &quot;last 1 safari version&quot;
    ]
  }
}

</code></pre>
",<node.js><reactjs><express><npm>,0.0,0,0,1
47455,46708,73800856,1,0,20052249,0.0,3.0,0.0,0.0,2022-09-21T12:36:59.663,0.0,97.0,Node js: Error [OpenError]: IO error: /var/task/matic/exceptions/eth/LOCK: Read-only file system,"<p>Can someone help me? I am using node.JS 16.17.0 (includes npm 8.15.0). The code is working locally without errors, but not when I deploy it on Cyclic and Vercel.</p>
<p>This is the code -</p>
<pre><code>const fs = require(&quot;fs&quot;);
const level = require(&quot;level&quot;);
const path = require(&quot;path&quot;);

fs.mkdir(path.join(__dirname, 'matic/exceptions'), {recursive: true}, (err) =&gt; { if (err) { return console.error(err);}
});
fs.mkdir(path.join(__dirname, 'matic/exceptions/eth'), {recursive: true}, (err) =&gt; {if (err) {return console.error(err);}
});
fs.mkdir(path.join(__dirname, 'matic/addresses'), {recursive: true}, (err) =&gt; {
    if (err) {return console.error(err);}
});

const dbEthExceptions = level(
    path.join(__dirname, 'matic/exceptions/eth')
);
const dbAddress = level(
    path.join(__dirname, 'matic/addresses')
);
</code></pre>
<p><strong>// This is the Error //</strong></p>
<pre><code>/var/task/node_modules/level-packager/node_modules/levelup/lib/levelup.js:119
          return callback(new OpenError(err))
                          ^
    2022-09-21 17:55:36.618: Error [OpenError]: IO error: /var/task/matic/exceptions/eth/LOCK: Read-only file system
        at /var/task/node_modules/level-packager/node_modules/levelup/lib/levelup.js:119:23
        at /var/task/node_modules/abstract-leveldown/abstract-leveldown.js:38:14
        at /var/task/node_modules/level-packager/node_modules/deferred-leveldown/deferred-leveldown.js:31:21
        at /var/task/node_modules/abstract-leveldown/abstract-leveldown.js:38:14
        at /var/task/node_modules/abstract-leveldown/abstract-leveldown.js:38:14
    Emitted 'error' event on LevelUP instance at:
        at /var/task/node_modules/level-packager/node_modules/levelup/lib/levelup.js:60:19
        at /var/task/node_modules/level-packager/node_modules/levelup/lib/levelup.js:119:14
        at /var/task/node_modules/abstract-leveldown/abstract-leveldown.js:38:14
        [... lines matching original stack trace ...]
        at /var/task/node_modules/abstract-leveldown/abstract-leveldown.js:38:14 {
      [cause]: undefined
    }
</code></pre>
",<node.js><express><npm><vercel><leveldb>,1.0,0,0,1
47473,46726,73821222,1,0,14050808,0.0,2.0,0.0,0.0,2022-09-22T22:21:59.537,0.0,109.0,npm script to both build typescript files and run after deploying to AWS EB environment,"<p>I want AWS EB to automatically build and run my files without me having to explicitly build everytime I push to git repo. I've tried placing this in &quot;scripts&quot; in package.json:</p>
<pre><code>&quot;start&quot;: &quot;tsc build &amp;&amp; node build/index.js&quot;
</code></pre>
<p>The outDir specified in my tsconfig.json is <code>build</code>. This unfortunately didn't work and I get 'Degraded' health status. I know this is definitely the problem with my web server, because I tried manually building and placing <code>node build/index.js</code> in the &quot;start&quot; script, and it worked.
Here's my package.json:</p>
<pre><code>{
  &quot;name&quot;: &quot;woocommerce-api&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;src/index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,
    &quot;start&quot;: &quot;npx tsc &amp;&amp; node build/index.js&quot;,
    &quot;dev&quot;: &quot;nodemon -r dotenv/config src/index.ts&quot;,
    &quot;deploy&quot;: &quot;npm run build &amp;&amp; node build/index.js&quot;,
    &quot;build&quot;: &quot;npx tsc&quot;
  },
  &quot;keywords&quot;: [],
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: {
    &quot;@types/node&quot;: &quot;^18.7.18&quot;,
    &quot;cors&quot;: &quot;^2.8.5&quot;,
    &quot;dotenv&quot;: &quot;^16.0.2&quot;,
    &quot;express&quot;: &quot;^4.18.1&quot;,
    &quot;helmet&quot;: &quot;^6.0.0&quot;,
    &quot;nodemon&quot;: &quot;^2.0.20&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;@types/cors&quot;: &quot;^2.8.12&quot;,
    &quot;@types/express&quot;: &quot;^4.17.14&quot;,
    &quot;@types/helmet&quot;: &quot;^4.0.0&quot;,
    &quot;@typescript-eslint/eslint-plugin&quot;: &quot;^5.38.0&quot;,
    &quot;@typescript-eslint/parser&quot;: &quot;^5.38.0&quot;,
    &quot;eslint&quot;: &quot;^8.23.1&quot;,
    &quot;ts-node&quot;: &quot;^10.9.1&quot;,
    &quot;typescript&quot;: &quot;^4.8.3&quot;
  }
}
</code></pre>
<p>And my simple app with a get path at home, and a post path at <code>/hook</code> to consume webhooks.</p>
<pre><code>import express, { Response, Request } from &quot;express&quot;;
import cors from &quot;cors&quot;;
import helmet from &quot;helmet&quot;;

const app = express();
app.use(cors());
app.use(helmet());
app.use(express.json());

const port = process.env.PORT || 8081;

app.get(&quot;/&quot;, (req: Request, res: Response) =&gt; {
  res.send({ message: &quot;Hello world1234&quot; });
});

app.post(&quot;/hook&quot;, (req: Request, res: Response) =&gt; {
   console.log(req.body);
   res.status(200).send({ message: &quot;success&quot; });
});

app.listen(port, () =&gt; {
  console.log(`Listening on port ${port}...`);
});
</code></pre>
<p>Would appreciate the help.</p>
",<node.js><amazon-web-services><express><npm>,0.0,0,0,1
47539,46792,73877115,1,0,3715553,0.0,0.0,0.0,0.0,2022-09-28T06:34:28.823,3.0,45.0,follow-redirects behaving differently in production. Receiving etag,"<p>So I have a Node Express backend and I’m using the npm package: <code>follow-redirects</code>.</p>
<p>I follow a particular URL and due to data protected issues I cannot share it here.</p>
<p>But the gist is that when I follow the link’s redirects I have a certain number of steps that I go through and through each step I process information.</p>
<p>The problem is, this works fine locally in development and when I run it in production i.e. on a proper domain, the redirects craps out and I get a 404 status return with the following message.</p>
<pre><code>{
  date: 'Wed, 28 Sep 2022 06:29:02 GMT',
  server: 'nginx',
  'content-type': 'text/html',
  'content-length': '250',
  vary: 'Accept-Encoding',
  etag: '&quot;xxxxxxx-xx&quot;', //obscured 
  connection: 'close'
}
</code></pre>
<p>Now I’ve tried looking it up and I found out that Etags are sent when the server has a cache of a similar request from a similar source. The problem is, I do not want that, and I cannot understand why it doesn’t reproduce in development. What am I missing here.</p>
<p>I’m sorry for the lack of information. I’ll be thankful for any bit of information regarding this problem.</p>
<p>FYI: Sometimes, it works, sometimes it doesn't on production. Is there a way to perhaps make sure the server I am sending a request to, thinks it is a new one and doesn't return an eTag?</p>
",<node.js><typescript><express><npm><etag>,0.0,0,0,1
47597,46850,73928322,1,0,13440079,0.0,2.0,0.0,0.0,2022-10-02T18:23:28.000,1.0,719.0,Tsconfig preserveSymlink breaks express types,"<p>I am in a peculiar situation, without <code>&quot;preserveSymlinks&quot;: true</code> in my <code>tsconfig.json</code>. I get the following errors, <a href=""https://github.com/microsoft/TypeScript/issues/42873"" rel=""nofollow noreferrer"">as seen in this issue</a></p>
<pre><code>The inferred type of &quot;X&quot; cannot be named without a reference to &quot;Y&quot;. This is likely not portable. A type annotation is necessary.
</code></pre>
<p>Exact error</p>
<pre><code>src/api/controllers/validators.ts(5,14): error TS2742: The inferred type of 'commonSchema' cannot be named without a reference to '.pnpm/joi@17.6.2/node_modules/joi'. This is likely not portable. A type annotation is necessary.
</code></pre>
<p>So as the issue stated I added <code>&quot;preserveSymlinks&quot;: true</code> and this indeed did fix the issue, but now this has broken the types for <code>express</code>. I made a <a href=""https://github.com/Nikola-Milovic/monorepo-issue"" rel=""nofollow noreferrer"">reproducable repo</a>, I use pnpm and if you navigate to <code>apps/backend/src</code> you can see that the types for express are broken, if you remove the <code>&quot;preserveSymlinks&quot;: true</code> from the <code>tsconfig.json</code> it works. But I need the <code>preserveSymlinks</code> setting for the previous error which breaks the <code>express</code> types</p>
",<typescript><express><npm><package.json><pnpm>,0.0,0,0,1
47611,46864,73941110,1,0,3977629,1.0,4.0,0.0,0.0,2022-10-03T21:43:36.150,0.0,188.0,"NPM run build has return code not 0, hence my tests are not run - error procKil is not defined","<p>npm run build or npm run verify has error code not 1, hence my test code is not run.</p>
<p>I need my node version to be 14 and typescript version to be 3.9.7 intentionally.</p>
<p>When I see the npm logs, I see this</p>
<pre><code>0 info it worked if it ends with ok
1 verbose cli [
1 verbose cli   '/Users/pavanrao/.asdf/installs/nodejs/14.19.3/bin/node',
1 verbose cli   '/Users/pavanrao/.asdf/installs/nodejs/14.19.3/bin/npm',
1 verbose cli   'run',
1 verbose cli   'build',
1 verbose cli   '--verbose'
1 verbose cli ]
2 info using npm@6.14.17
3 info using node@v14.19.3
4 verbose run-script [ 'prebuild', 'build', 'postbuild' ]
5 info lifecycle api@2.2.4~prebuild: api@2.2.4
6 info lifecycle api@2.2.4~build: api@2.2.4
7 verbose lifecycle api@2.2.4~build: unsafe-perm in lifecycle true
8 verbose lifecycle api@2.2.4~build: PATH: /Users/pavanrao/.asdf/installs/nodejs/14.19.3/lib/node_modules/npm/node_modules/npm-lifecycle/node-gyp-bin:/Users/pavanrao/api/node_modules/.bin:/Users/pavanrao/.asdf/plugins/nodejs/shims:/Users/pavanrao/.asdf/installs/nodejs/14.19.3/bin:/opt/homebrew/opt/mysql-client/bin:/Users/pavanrao/.asdf/shims:/opt/homebrew/opt/asdf/libexec/bin:/opt/homebrew/opt/protobuf@3/bin:/opt/homebrew/opt/protobuf@3/bin:/Users/pavanrao/.jenv/shims:/Users/pavanrao/.jenv/bin:/opt/homebrew/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/homebrew/opt/mysql-client/bin:/opt/homebrew/opt/protobuf@3/bin:/Users/pavanrao/.jenv/shims:/Users/pavanrao/.jenv/bin:/opt/homebrew/bin
9 verbose lifecycle api@2.2.4~build: CWD: /Users/pavanrao/api
10 silly lifecycle api@2.2.4~build: Args: [ '-c', 'rm -rf ./dist &amp;&amp; tsc' ]
11 silly lifecycle api@2.2.4~build: Returned: code: 0  signal: null
12 verbose stack ReferenceError: procKil is not defined
12 verbose stack     at procError (/Users/pavanrao/.asdf/installs/nodejs/14.19.3/lib/node_modules/npm/node_modules/npm-lifecycle/index.js:366:38)
12 verbose stack     at EventEmitter.&lt;anonymous&gt; (/Users/pavanrao/.asdf/installs/nodejs/14.19.3/lib/node_modules/npm/node_modules/npm-lifecycle/index.js:335:5)
12 verbose stack     at EventEmitter.emit (events.js:400:28)
12 verbose stack     at ChildProcess.&lt;anonymous&gt; (/Users/pavanrao/.asdf/installs/nodejs/14.19.3/lib/node_modules/npm/node_modules/npm-lifecycle/lib/spawn.js:55:14)
12 verbose stack     at ChildProcess.emit (events.js:400:28)
12 verbose stack     at maybeClose (internal/child_process.js:1088:16)
12 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:296:5)
13 verbose cwd /Users/pavanrao/api
14 verbose Darwin 21.6.0
15 verbose argv &quot;/Users/pavanrao/.asdf/installs/nodejs/14.19.3/bin/node&quot; &quot;/Users/pavanrao/.asdf/installs/nodejs/14.19.3/bin/npm&quot; &quot;run&quot; &quot;build&quot; &quot;--verbose&quot;
16 verbose node v14.19.3
17 verbose npm  v6.14.17
18 error procKil is not defined
19 verbose exit [ 1, true ]
</code></pre>
<p>This is how my package.json looks</p>
<pre><code>{
    &quot;name&quot;: &quot;api&quot;,
    &quot;version&quot;: &quot;2.2.4&quot;,
    &quot;main&quot;: &quot;index.js&quot;,
    &quot;scripts&quot;: {
        &quot;start&quot;: &quot;nodemon index.ts&quot;,
        &quot;build&quot;: &quot;rm -rf ./dist &amp;&amp; tsc&quot;,
        &quot;copy-files&quot;: &quot;cp -R ./schema/ ./dist/&quot;,
        &quot;process-release-strategy&quot;: &quot;nodemon release_strategy_process.ts&quot;,
        &quot;watch&quot;: &quot;tsc -w&quot;,
        &quot;test&quot;: &quot;jest&quot;,
        &quot;preverify&quot;: &quot;npm run build &amp;&amp; rm -rf ./reports&quot;,
        &quot;verify&quot;: &quot;jest -i --coverage&quot;,
        &quot;proto:build&quot;: &quot;cd proto; buf build; cd ..&quot;,
        &quot;codegen:buf&quot;: &quot;cd proto; buf generate; cd ..&quot;
    },
    &quot;devDependecies&quot;: {
...

}

Anything that can be done better?

Running on Mac M1. 
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
47621,46874,73946865,1,0,2437953,1.0,2.0,0.0,0.0,2022-10-04T10:57:59.310,-3.0,49.0,"React , Express, ""TypeError is not a function""","<pre><code>var express = require('express')

const app = express();
const port = process.env.PORT || 5000;     

app.listen(3000, () =&gt; console.log('Server started'))
</code></pre>
<p>Is there any error here ?</p>
<p>VS code says</p>
<blockquote>
<p>TypeError: app.listen is not a function</p>
</blockquote>
",<reactjs><express><npm><typeerror>,0.0,0,0,1
47634,46887,73957523,1,74025817,17365525,1.0,2.0,0.0,0.0,2022-10-05T08:10:04.813,1.0,376.0,ExpressJS with MySQL - PROTOCOL_PACKETS_OUT_OF_ORDER,"<p>I have an ExpressJS server with Node, running with the <a href=""https://www.npmjs.com/package/mysql"" rel=""nofollow noreferrer"">MySQL npm package</a>, and all works fine. However, when I leave the server running a long time (say, overnight), I always come back to it having crashed, stating <code>PROTOCOL_PACKETS_OUT_OF_ORDER</code>. (See below)</p>
<p>How can I fix this, if even at all, as this server is soon to be deployed to production and this will be impossible if it crashes every night.</p>
<pre><code>node:events:505
    throw er; // Unhandled 'error' event
    ^

Error: Packets out of order. Got: 0 Expected: 17
</code></pre>
",<mysql><node.js><express><npm><protocols>,0.0,0,0,1
47648,46901,73965959,1,0,20170263,2.0,1.0,0.0,0.0,2022-10-05T20:22:37.813,0.0,476.0,"TypeError: expressJwt is not a function, using a middleware","<p>I am learning to use middlewares and as I am trying to import express-jwt it does not work. I am using the following syntax:
const expressJwt = require('express-jwt')</p>
<p>I uninstalled express-jwt and installed an older version express-jwt@5.3.1, in which it works, but I wanna know how to fix it on the new version.</p>
",<javascript><node.js><express><npm><express-jwt>,0.0,0,0,1
47677,46930,73990020,1,0,14015813,2.0,1.0,0.0,0.0,2022-10-07T16:21:52.263,0.0,1565.0,how to convert office to pdf using libreoffice-converter in node.js?,"<p>after i downloaded LibreOffice software and started running the  node.js code to change the format of one file to another(i.e., office to pdf). it is showing errors.please help me with solution.here i used libreoffice-converted npm package.</p>
<pre><code>//Here is the code

async function main(a,b,c,d) {

const ext = '.pdf'
const inputPath='./upload/'+d+&quot;/&quot;+a+b;
const outputPath= './upload/'+d+&quot;/&quot;+a+c;
// Read file
const docxBuf =  f.readFile(inputPath);

// Convert it to pdf format with undefined filter (see Libreoffice docs about filter)
let pdfBuf = await libre.convertAsync(docxBuf, ext, undefined,function(err,data){
  if(err){
    console.log(&quot;dada&quot;);
  }
  console.log(data);
  // Here in done you have pdf file which you can save or transfer in another stream
  f.writeFile(outputPath, data);
});
}
app.get(&quot;/upload/:foldername/:filename/:orgformat/:toformat&quot;,async function(req,res){
  const naoffo=req.params.foldername;
  const naoffi=req.params.filename;
  const orfo=req.params.orgformat;
  const tofo=req.params.toformat;
  const finawiex=return_filename(naoffi);
 if((orfo===&quot;.pptx&quot;||orfo===&quot;.docx&quot;||orfo===&quot;.xlsx&quot;)&amp;&amp; (tofo===&quot;.pdf&quot;)){  
     main(finawiex,orfo,tofo,naoffo);
  }
 else{
   console.log(&quot;errros&quot;);
 }
  });
</code></pre>
<p>sorry if i am wrong with my description and code.please
and here are the errors.</p>
<p>node:internal/errors:465
ErrorCaptureStackTrace(err);
^</p>
<p>TypeError [ERR_INVALID_ARG_TYPE]: The &quot;data&quot; argument must be of type string or an instance of Buffer, TypedArray, or DataView. Received an instance of Promise
at Object.writeFile (node:fs:2123:5)
at saveSource (C:\Users\User\Desktop\Webdevelopment\shareanywhere\node_modules\libreoffice-convert\index.js:46:36)
at runTask (C:\Users\User\Desktop\Webdevelopment\shareanywhere\node_modules\async\dist\async.js:1155:17)
at C:\Users\User\Desktop\Webdevelopment\shareanywhere\node_modules\async\dist\async.js:1091:35
at processQueue (C:\Users\User\Desktop\Webdevelopment\shareanywhere\node_modules\async\dist\async.js:1101:17)
at Object.auto (C:\Users\User\Desktop\Webdevelopment\shareanywhere\node_modules\async\dist\async.js:1088:9)
at convertWithOptions (C:\Users\User\Desktop\Webdevelopment\shareanywhere\node_modules\libreoffice-convert\index.js:15:18)
at Object.convert (C:\Users\User\Desktop\Webdevelopment\shareanywhere\node_modules\libreoffice-convert\index.js:77:12)
at node:internal/util:360:7
at new Promise () {
code: 'ERR_INVALID_ARG_TYPE'
}</p>
",<node.js><express><npm><libreoffice>,1.0,0,0,1
47745,46998,74045776,1,0,10702485,1.0,0.0,0.0,0.0,2022-10-12T17:21:29.307,0.0,1842.0,"NPM commands not working, exits with error code 127 on installing anything","<p>I'm making an express app on my windows machine and everything was working fine until yesterday.
But today no npm command of mine is working.<br>
<code>npm install</code> results in the following:
<a href=""https://i.stack.imgur.com/QlMNB.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/QlMNB.png"" alt=""enter image description here"" /></a></p>
<p><code>npm start</code> results in:<br>
<a href=""https://i.stack.imgur.com/wag6Q.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/wag6Q.png"" alt=""enter image description here"" /></a></p>
<p>Even if I run <code>node server.js</code>, it results in:
<a href=""https://i.stack.imgur.com/94Ghg.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/94Ghg.png"" alt=""enter image description here"" /></a></p>
<p>My package.json is as follows:</p>
<pre><code>  &quot;name&quot;: &quot;examhub&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,
    &quot;start:dev&quot;: &quot;nodemon server.js&quot;,
    &quot;start&quot;: &quot;node server.js&quot;
  },
  &quot;repository&quot;: {
    &quot;type&quot;: &quot;git&quot;,
    &quot;url&quot;: &quot;&lt;confidential&gt;&quot;
  },
  &quot;author&quot;: &quot;&lt;confidential&gt;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;bugs&quot;: {
    &quot;url&quot;: &quot;&lt;confidential&gt;&quot;
  },
  &quot;homepage&quot;: &quot;&lt;confidential&gt;&quot;,
  &quot;dependencies&quot;: {
    &quot;connect-flash&quot;: &quot;^0.1.1&quot;,
    &quot;cookie-session&quot;: &quot;^2.0.0&quot;,
    &quot;cors&quot;: &quot;^2.8.5&quot;,
    &quot;dotenv&quot;: &quot;^16.0.2&quot;,
    &quot;ejs&quot;: &quot;^3.1.8&quot;,
    &quot;express&quot;: &quot;^4.18.1&quot;,
    &quot;express-flash-messages&quot;: &quot;^0.1.1&quot;,
    &quot;express-session&quot;: &quot;^1.17.3&quot;,
    &quot;filepond&quot;: &quot;^4.30.4&quot;,
    &quot;mongoose&quot;: &quot;^6.6.1&quot;,
    &quot;node&quot;: &quot;^18.10.0&quot;,
    &quot;passport&quot;: &quot;^0.5.3&quot;,
    &quot;passport-google-oauth20&quot;: &quot;^2.0.0&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;dotenv&quot;: &quot;^16.0.2&quot;,
    &quot;morgan&quot;: &quot;^1.10.0&quot;,
    &quot;nodemon&quot;: &quot;^2.0.20&quot;
  }
}
</code></pre>
<p>I have installed and uninstalled node multiple times now and am clueless as to why this is happening.
Can someone help me out?</p>
",<node.js><express><npm>,0.0,0,0,1
47755,47008,74051408,1,0,0,0.0,2.0,0.0,0.0,2022-10-13T06:37:51.927,0.0,42.0,How to resolve Express Set node possible syntax error?,"<p>Ok so i am following a node.js and express tutorial. In the tutorial it reqired me to install express. so i did. But this error came up when i tried to run it.</p>
<pre><code>    Error: Cannot find module 'express'
Require stack:
- c:\Users\prodi\Desktop\Personal Media\coded files\practice\node js prac 2\app.js
    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:933:15)
    at Function.Module._load (node:internal/modules/cjs/loader:778:27)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.&lt;anonymous&gt; (c:\Users\prodi\Desktop\Personal Media\coded files\practice\node js prac 2\app.js:1:17)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:77:12) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    'c:\\Users\\prodi\\Desktop\\Personal Media\\coded files\\practice\\node js prac 2\\app.js'
  ]
}
</code></pre>
<p>I then tried to resolve it on my own but eventually searched it. I came across this post.
<a href=""https://stackoverflow.com/questions/14949118/node-js-error-cannot-find-module-express"">node.js, Error: Cannot find module &#39;express&#39;</a></p>
<p>Some of the answers included installing express again which i did and some installing locally and globally which i did but no luck.</p>
<p>I then saw a comment with over 33 likes that said
...and if your node_modules directory is in another place, set NODE_PATH envirnment variable:</p>
<pre><code> set NODE_PATH=your\directory\to\node_modules;%NODE_PATH%e here
</code></pre>
<p>I then tried this but it just keeps giving more errors.</p>
<p>I copied relative and whole path from my app.js files which is the file i want... I tried all of these:</p>
<pre><code>set NODE_PATH=C:\Users\prodi\Desktop\Personal Media\coded files\practice\node js prac 2\app.js

set NODE_PATH=/node js prac 2\app.js

set NODE_PATH=Users\prodi\Desktop\Personal Media\coded files\practice\node js prac 2\app.js

set NODE_PATH=/node js prac 2/app.js

set NODE_PATH=./node js prac 2/app.js
</code></pre>
<p>all of them either gave a syntax error or this error</p>
<pre><code>Set-Variable : A positional parameter cannot be found that accepts argument
</code></pre>
<p>'files\practice\node'.
At line:1 char:2</p>
<ul>
<li>set NODE_PATH=C:\Users\prodi\Desktop\Personal Media\coded files\prac ...</li>
<li>
<pre><code> + CategoryInfo          : InvalidArgument: (:) [Set-Variable], ParameterB
indingException
 + FullyQualifiedErrorId : PositionalParameterNotFound,Microsoft.PowerShel
l.Commands.SetVariableCommand

</code></pre>
</li>
</ul>
<p>So i searched that error and came to this post...https://stackoverflow.com/questions/51459313/cd-program-files-error-positional-parameter-cannot-be-found</p>
<p>But most of the comments are either invalid syntax or things that dont work for me. Can you guys help?</p>
",<node.js><express><npm><syntax-error>,0.0,0,0,1
47871,47124,74158477,1,74160549,14551796,1.0,2.0,0.0,0.0,2022-10-21T19:38:24.613,-3.0,54.0,Send message to disconnected user?,"<p>so, as you may know there is an <a href=""https://socket.io/docs/v4/admin-ui/"" rel=""nofollow noreferrer"">admin-ui library</a> (Idk what to call it) in socket.io.<br />
what I want to do is if a client is kicked, send a message to that client (or have the client detect when it is disconnected)<br />
i have tried:</p>
<pre class=""lang-js prettyprint-override""><code>socket.on('disconnect', function(){
  alert('disconnected');
});
</code></pre>
<p>but that does nothing...</p>
",<javascript><node.js><express><npm><socket.io>,0.0,0,0,1
47979,47232,74250705,1,0,7876137,2.0,1.0,0.0,0.0,2022-10-30T05:26:06.410,8.0,30921.0,Cannot use 'import.meta' outside a module,"<p>I have <code>Node + Express + Babel + ES6</code> project with the following files:</p>
<p><code>/package.json</code></p>
<pre><code>{
  &quot;name&quot;: &quot;test-backend&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;dev&quot;: &quot;babel-node src/index.mjs&quot;,
    &quot;build&quot;: &quot;babel src --out-dir build&quot;,
    &quot;start&quot;: &quot;node build/index.js&quot;
  },
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: {
    &quot;express&quot;: &quot;^4.18.2&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;@babel/cli&quot;: &quot;^7.19.3&quot;,
    &quot;@babel/core&quot;: &quot;^7.19.6&quot;,
    &quot;@babel/node&quot;: &quot;^7.19.1&quot;,
    &quot;@babel/plugin-transform-runtime&quot;: &quot;^7.19.6&quot;,
    &quot;@babel/preset-env&quot;: &quot;^7.19.4&quot;,
    &quot;babel-plugin-module-extension&quot;: &quot;^0.1.3&quot;
  }
}
</code></pre>
<p><code>/.babelrc.js</code></p>
<pre><code>module.exports = {
  presets: ['@babel/preset-env'],
  plugins: ['@babel/transform-runtime', ['module-extension', { mjs: 'js' }]],
  sourceMaps: false,
  retainLines: false,
  minified: true,
};
</code></pre>
<p><code>/src/index.mjs</code></p>
<pre><code>import express from 'express';
import path from 'path';
import { fileURLToPath } from 'url';
import { sum } from './utils.mjs';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

const app = express();

app.get('/', (req, res) =&gt; {
  const result = sum(3, 2);
  res.send(`current dir: ${__dirname} | sum(3, 2) = ${result}`);
})

const port = 8080;

app.listen(port, () =&gt; {
  console.log(`Example app listening on port ${port}`)
})
</code></pre>
<p><code>src/utils.mjs</code></p>
<pre><code>export const sum = (num1, num2) =&gt; num1 + num2;
</code></pre>
<p>I can properly test the website with the command:</p>
<pre><code>$ npm run dev
</code></pre>
<p>Then going to: http://localhost:8080</p>
<p>I can properly build the website with the command:</p>
<pre><code>$ npm run build
</code></pre>
<p>Which will generate a new directory: <code>/build</code>.</p>
<p><strong>My problem is:</strong> When I try to run the built website with command:</p>
<pre><code>$ npm start
</code></pre>
<p>I get the following error: <code>SyntaxError: Cannot use 'import.meta' outside a module</code>. Below you have the full error:</p>
<pre><code>npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.

&gt; test-backend@1.0.0 start
&gt; node build/index.js

D:\myproject\build\index.js:1
&quot;use strict&quot;;var _interopRequireDefault=require(&quot;@babel/runtime/helpers/interopRequireDefault&quot;);var _express=_interopRequireDefault(require(&quot;express&quot;));var _path=_interopRequireDefault(require(&quot;path&quot;));var _url=require(&quot;url&quot;);var _utils=require(&quot;./utils.js&quot;);var _filename=(0,_url.fileURLToPath)(import.meta.url);var _dirname=_path[&quot;default&quot;].dirname(_filename);var app=(0,_express[&quot;default&quot;])();app.get(&quot;/&quot;,function(req,res){var result=(0,_utils.sum)(3,2);res.send(&quot;current dir: &quot;.concat(_dirname,&quot; | sum(3, 2) = &quot;).concat(result))});var port=8080;app.listen(port,function(){console.log(&quot;Example app listening on port &quot;.concat(port))});
                                                                                                                                                                                                                                                                                                               ^^^^

SyntaxError: Cannot use 'import.meta' outside a module
    at Object.compileFunction (node:vm:352:18)
    at wrapSafe (node:internal/modules/cjs/loader:1033:15)
    at Module._compile (node:internal/modules/cjs/loader:1069:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:77:12)
    at node:internal/main/run_main_module:17:47
</code></pre>
<p>The issue indicates it is caused because the following lines on: <code>/src/index.mjs</code>:</p>
<pre><code>import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);
</code></pre>
<p>Here is the transpiled <code>/build/index.js</code></p>
<pre><code>&quot;use strict&quot;;
var _interopRequireDefault = require(&quot;@babel/runtime/helpers/interopRequireDefault&quot;);
var _express = _interopRequireDefault(require(&quot;express&quot;));
var _path = _interopRequireDefault(require(&quot;path&quot;));
var _url = require(&quot;url&quot;);
var _utils = require(&quot;./utils.js&quot;);
var _filename = (0, _url.fileURLToPath)(import.meta.url);
var _dirname = _path[&quot;default&quot;].dirname(_filename);
var app = (0, _express[&quot;default&quot;])();
app.get(&quot;/&quot;, function (req, res) {
  var result = (0, _utils.sum)(3, 2);
  res.send(&quot;current dir: &quot;.concat(_dirname, &quot; | sum(3, 2) = &quot;).concat(result));
});
var port = 8080;
app.listen(port, function () {
  console.log(&quot;Example app listening on port &quot;.concat(port));
});
</code></pre>
<p>where you can see the code uses: <code>import.meta.url</code> which is the conflicting line.</p>
<p><strong>My requirements are:</strong></p>
<ul>
<li>Need to get the current working directoy because I have resources in there that I need for the app to run.</li>
<li>Need the source code to be: <code>ES6</code> so I can use classes, imports, exports, etc.</li>
</ul>
<p>Any idea on how to make this work?</p>
<p>Thanks!</p>
",<javascript><node.js><express><npm><babeljs>,1.0,0,0,1
48032,47285,74282735,1,0,0,0.0,6.0,0.0,0.0,2022-11-01T23:11:11.497,0.0,346.0,Node Application test via jest and supertest keep failing,"<p>I have a MERN stack application that I am running a test on using <code>jest</code> and <code>supertest</code>. I am new to testing and was following a tutorial. However, mine keep failing. My MERN stack application has redis database instance for storing users' <code>refresh token</code>. It also uses <code>node crone</code> to carry out scheduled background tasks.
I am getting these errors when I ran my tests:</p>
<pre><code>thrown: &quot;Exceeded timeout of 5000 ms for a test.
Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.&quot;
</code></pre>
<p>And this error:</p>
<pre><code>Jest did not exit one second after the test run has completed.

 This usually means that there are asynchronous operations that weren't stopped in your tests. 
 Consider running Jest with `--detectOpenHandles` to troubleshoot this issue.
</code></pre>
<p>I have used <code>npm test --detectOpenHandles</code> to see if I could detect the asynchronous operations but I didnt see any. Like, it wasn't revealed.</p>
<p>Here is my test:
const request = require('supertest')
const app = require('../app')</p>
<pre><code> describe('Test POST /register', ()=&gt;{


  test('It should respond with 200 success', async ()=&gt;{
    const response = await request(app).post('/register');
    
    expect(response.statusCode).toBe(200);
    
    
   },);

   test('It should catch password must be present', ()=&gt;{});

  })
</code></pre>
<p>I have tried adding this line of code to the test:</p>
<pre><code>afterAll(async () =&gt; { await app.close(); }); 
</code></pre>
<p>It didn't resolve it. I have also tried adding <code>done()</code>, it didn't work too. I have also increased the timeOut which I added as second argument in <code>test</code>, still the same thing.</p>
<p>I am testing my routes and here is the current one I tried which is <code>register</code> route.</p>
<pre><code>router.post('/register', register);
</code></pre>
<p>Here is the <code>app.js</code> file</p>
<pre><code>app.use(&quot;/api/v1/auth&quot;, authRoute);
app.use(&quot;/api/v1/users&quot;,userRoute);


 app.get('*', (req, res)=&gt;{
  res.sendFile(path.join(__dirname, 'build', 'index.html'));
 })

 app.use(checkDB);


 module.exports = app;
</code></pre>
<p>Here is the <code>server.js</code></p>
<pre><code> const http = require('http');
 require('dotenv').config();;//declaring the envy file

 const app = require('./app');
 //mongoDb
 const connectDB = require('./db/connect');

 const port = process.env.PORT || 5000;


const server = http.createServer(app);


 const start = async () =&gt; {
 try {
 await connectDB(process.env.MONGO_URL)
 server.listen(port, () =&gt;
  console.log(`Server is listening on port ${port}...`)
  );
 } catch (error) {
console.log(error);
 }
};

 start();
</code></pre>
",<node.js><express><npm><jestjs><supertest>,0.0,0,0,1
48100,47353,74336188,1,0,17455861,0.0,2.0,0.0,0.0,2022-11-06T13:16:14.423,1.0,118.0,Getting error:Error: No default engine was specified and no extension was provided. while working with node,"<p>I am working through setting up a http server using node.js and engine. However, I keep running into issues that I have little information on how to resolve I would appreciate some help solving this please.</p>
<pre><code>Error: No default engine was specified and no extension was provided.
    at new View (D:\Coding\pizza\node_modules\express\lib\view.js:61:11)
    at Function.render (D:\Coding\pizza\node_modules\express\lib\application.js:587:12)
    at ServerResponse.render (D:\Coding\pizza\node_modules\express\lib\response.js:1039:7)
    at D:\Coding\pizza\server.js:9:9
    at Layer.handle [as handle_request] (D:\Coding\pizza\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Coding\pizza\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (D:\Coding\pizza\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (D:\Coding\pizza\node_modules\express\lib\router\layer.js:95:5)
    at D:\Coding\pizza\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (D:\Coding\pizza\node_modules\express\lib\router\index.js:346:12)
</code></pre>
<p>Below is what I have set up to start up this engine.</p>
<pre><code>const express = require('express')
const app = express()
const ejs = require('ejs')
const path = require('path')
const expressLayout = require ('express-ejs-layouts')
const PORT = process.env.PORT || 3000

app.get('/', (req, res)=&gt; {
    res.render('home')
})

//set template engine
app.use(expressLayout)
app.set('views',path.join(__dirname, '/resources/views'))
app.set('view-engine','ejs')

app.listen(PORT, () =&gt; {
console.log(`Listening on port ${PORT}`)
})
</code></pre>
<p>output of the file should be &quot;Hello from home Page&quot;.</p>
",<node.js><express><http><npm><yarnpkg>,1.0,0,0,1
48300,47553,74485256,1,0,20255764,1.0,0.0,0.0,0.0,2022-11-18T05:24:35.403,0.0,193.0,How to upload file to pinata from react,"<p>I keep getting the console error code: 'MODULE_NOT_FOUND'</p>
<p>Shown below is the full console error code:</p>
<pre><code>&gt; triterras-node@1.0.0 start
&gt; node triterras-nodeMVC.js

node:internal/modules/cjs/loader:959
  throw err;
  ^

Error: Cannot find module 'C:\Users\hp\Downloads\triterras-node-17November\triterras-node\triterras-nodeMVC.js'
    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:956:15)
    at Function.Module._load (node:internal/modules/cjs/loader:804:27)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)
    at node:internal/main/run_main_module:17:47 {
  code: 'MODULE_NOT_FOUND',
  requireStack: []
}
</code></pre>
<p>I try to match node -v also but still facing issue</p>
",<javascript><node.js><express><npm><node-modules>,1.0,0,0,1
48320,47573,74500562,1,0,19234027,0.0,2.0,0.0,0.0,2022-11-19T13:44:35.337,0.0,122.0,Powershell throws error when running npm start / npx tsc,"<p>I am trying to run a simple npm start from the powershell command in a express - typescript project. And I'm getting this error</p>
<pre class=""lang-text prettyprint-override""><code>/mnt/host/c/Users/-/AppData/Roaming/npm/node: line 8: /mnt/host/c/Users/-/AppData/Roaming/npm/node_modules/nodemon/bin/nodemon.js: not found
</code></pre>
<p>My package.json</p>
<pre class=""lang-json prettyprint-override""><code>{
  &quot;name&quot;: &quot;express-typescript&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;start&quot;: &quot;node build/index.js&quot;,
    &quot;test&quot;: &quot;echo &quot;Error: no test specified&quot; &amp;&amp; exit 1&quot;
  },
  &quot;keywords&quot;: \[\],
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;devDependencies&quot;: {
    &quot;@types/express&quot;: &quot;^4.17.14&quot;,
    &quot;typescript&quot;: &quot;4.9.3&quot;
  },
  &quot;dependencies&quot;: {
    &quot;express&quot;: &quot;4.18.2&quot;
  }
}
</code></pre>
<p><a href=""https://i.stack.imgur.com/JbayW.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/JbayW.png"" alt=""File directory"" /></a></p>
<p>This is the node file config inside npm/node</p>
<pre class=""lang-sh prettyprint-override""><code>\#!/bin/sh
basedir=$(dirname &quot;$(echo &quot;$0&quot; | sed -e 's,\\,/,g')&quot;)

case `uname` in
*CYGWIN*|*MINGW*|*MSYS*) basedir=`cygpath -w &quot;$basedir&quot;`;;
esac

&quot;$basedir/node_modules/nodemon/bin/nodemon.js&quot;   &quot;$@&quot;
exit $?
</code></pre>
<p>The thing is with git bash I have no problems but powershell is my main editor. I tried reinstalling Node, closing everything, restarting.
I don't know why node is looking for nodemon and even if I install the dependency globally it doesn't work. Any suggestion?
Same thing happens if I try to run <code>npx node</code>, <code>npx tsc</code>, etc.</p>
",<node.js><typescript><powershell><express><npm>,0.0,0,0,1
48470,47723,74613241,1,0,9951143,1.0,0.0,0.0,0.0,2022-11-29T11:18:29.963,0.0,165.0,Unable to locate @sheet/core package in npm repository,"<p>There is a '@sheet/core' package dependency in my package.json file, which npm is unable to find in the repository.
When I try to install the dependency npm throws 404 not found error.
I've attached the packagejson file screenshot and error screenshot.
Please help me find a solution.<a href=""https://i.stack.imgur.com/vI4Of.png"" rel=""nofollow noreferrer"">enter image description here</a><a href=""https://i.stack.imgur.com/8V5dg.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p>I run the following commands</p>
<ul>
<li>npm i</li>
</ul>
<p>Error-
Not Found - GET <a href=""https://registry.npmjs.org/@sheet%2fcore"" rel=""nofollow noreferrer"">https://registry.npmjs.org/@sheet%2fcore</a> - Not found</p>
",<node.js><excel><express><xlsx><npm-package>,0.0,0,0,1
48666,47919,74734751,1,0,18133693,0.0,2.0,0.0,0.0,2022-12-08T18:22:35.617,0.0,550.0,Not able to install project dependencies NodeJS,"<p>I am trying to install dependency in a project but getting this error. I already upgraded all dependencies and versions of npm but that's not working for me.</p>
<p><strong>Package.json:</strong></p>
<pre><code>{
  &quot;name&quot;: &quot;task&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,
    &quot;start&quot;: &quot;node app&quot;
  },
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: {
    &quot;bcrypt&quot;: &quot;^5.1.0&quot;,
    &quot;body-parser&quot;: &quot;^1.19.0&quot;,
    &quot;connect-mongo&quot;: &quot;^3.2.0&quot;,
    &quot;ejs&quot;: &quot;^3.1.6&quot;,
    &quot;express&quot;: &quot;^4.18.1&quot;,
    &quot;express-fileupload&quot;: &quot;^1.4.0&quot;,
    &quot;express-flash&quot;: &quot;^0.0.2&quot;,
    &quot;express-session&quot;: &quot;^1.17.3&quot;,
    &quot;lodash&quot;: &quot;^4.17.21&quot;,
    &quot;mongodb&quot;: &quot;^4.9.1&quot;,
    &quot;mongoose&quot;: &quot;^6.0.5&quot;,
    &quot;multer&quot;: &quot;^1.4.3&quot;,
    &quot;node&quot;: &quot;^16.6.1&quot;,
    &quot;nodemailer&quot;: &quot;^6.7.0&quot;,
    &quot;nodemon&quot;: &quot;^2.0.13&quot;,
    &quot;open&quot;: &quot;^8.4.0&quot;,
    &quot;passport&quot;: &quot;^0.6.0&quot;,
    &quot;passport-local&quot;: &quot;^1.0.0&quot;,
    &quot;simplebar&quot;: &quot;^5.3.5&quot;
  }
}
</code></pre>
<p><a href=""https://i.stack.imgur.com/3ue2O.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/3ue2O.png"" alt=""Error Image"" /></a></p>
",<node.js><express><npm>,0.0,0,0,1
48741,47994,74782829,1,0,14515889,0.0,2.0,0.0,0.0,2022-12-13T09:47:26.553,0.0,89.0,"Command ""node app.js"" works but not for ""npm run dev"" when they basically run the same command","<p><strong>So I have an app.js like this:</strong></p>
<pre><code>const express = require('express');
const app = express();
const axios = require('axios');
const dotenv = require(&quot;dotenv&quot;);
dotenv.config();

app.get(&quot;/accessToken&quot;, async (req, res) =&gt; {
    const clientId = &quot;er234sfa&quot;;
    const clientSecret = &quot;ce0f6dawdzca3222daa234cc43eaf5f42642&quot;;
    const url = &quot;https://sso-apigw-int.dti.co.id/auth/realms/3scale-dev/protocol/openid-connect/token&quot;;

    const base64 = btoa(clientId + &quot;:&quot; + clientSecret);
    let accessToken = &quot;&quot;;
    process.env.NODE_TLS_REJECT_UNAUTHORIZED = '0';

    await axios({
        method: 'post',
        url: url,
        headers: {
            &quot;Content-Type&quot;: &quot;application/x-www-form-urlencoded&quot;,
            &quot;Authorization&quot;: `Basic ${base64}`
        },
        data: {
            &quot;grant_type&quot;: &quot;client_credentials&quot;
        }
    })
        .then(response =&gt; {
            accessToken = response.data.access_token;
            console.log('access_token: ', accessToken);
        })
        .catch(error =&gt; {
            console.log(&quot;error: &quot;, error);
        })

    res.setHeader('Access-Control-Allow-Origin', '*');
    res.json({
        access_token: accessToken
    });
});

app.listen(3100, () =&gt; {console.log(`Node JS is listening on port: 3100`)});
</code></pre>
<p><strong>My package.json looks like this:</strong></p>
<pre><code>{
  &quot;name&quot;: &quot;backend-api-project&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;A Node JS API&quot;,
  &quot;main&quot;: &quot;app.js&quot;,
  &quot;scripts&quot;: {
    &quot;dev&quot;: &quot;node app.js&quot;
  },
  &quot;keywords&quot;: [
    &quot;node&quot;,
    &quot;api&quot;
  ],
  &quot;author&quot;: &quot;Sen&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: {
    &quot;axios&quot;: &quot;^1.1.3&quot;,
    &quot;dotenv&quot;: &quot;^16.0.0&quot;,
    &quot;express&quot;: &quot;^4.17.3&quot;,
    &quot;https-proxy-agent&quot;: &quot;^5.0.1&quot;,
    &quot;morgan&quot;: &quot;^1.10.0&quot;,
    &quot;mysql&quot;: &quot;^2.18.1&quot;
  }
}
</code></pre>
<p>But in terminal when I run command &quot;node app.js&quot;, it will <strong>work</strong> when I call localhost:3100/accessToken and it will send me a response that gives an access token
<strong>However</strong> when I run command &quot;npm run dev&quot; in terminal, it will <strong>not work</strong> and show error like this:</p>
<pre><code>error:  AxiosError: socket hang up
    at Function.AxiosError.from (C:\Github\SPECTA\backend-api-project\node_modules\axios\dist\node\axios.cjs:725:14)
    at RedirectableRequest.handleRequestError (C:\Github\SPECTA\backend-api-project\node_modules\axios\dist\node\axios.cjs:2467:25)
    at RedirectableRequest.emit (node:events:520:28)
    at ClientRequest.eventHandlers.&lt;computed&gt; (C:\Github\SPECTA\backend-api-project\node_modules\follow-redirects\index.js:14:24)
    at ClientRequest.emit (node:events:520:28)
    at Socket.socketOnEnd (node:_http_client:466:9)
    at Socket.emit (node:events:532:35)
    at endReadableNT (node:internal/streams/readable:1346:12)
    at processTicksAndRejections (node:internal/process/task_queues:83:21) {
  code: 'ECONNRESET',
  config: {
    transitional: {
      silentJSONParsing: true,
      forcedJSONParsing: true,
      clarifyTimeoutError: false
    },
    adapter: [Function: httpAdapter],
    transformRequest: [ [Function: transformRequest] ],
    transformResponse: [ [Function: transformResponse] ],
    timeout: 0,
    xsrfCookieName: 'XSRF-TOKEN',
    xsrfHeaderName: 'X-XSRF-TOKEN',
    maxContentLength: -1,
    maxBodyLength: -1,
    env: { FormData: [Function], Blob: null },
    validateStatus: [Function: validateStatus],
    headers: AxiosHeaders {
      'Content-Type': 'application/x-www-form-urlencoded',
      Authorization: 'Basic MgeODg2YWszYjAaWdjI0NadOWNjNDNwdaY1ZjhmMmU2NDI=',
      'Access-Control-Allow-Origin': '*',
      'User-Agent': 'axios/1.1.3',
      'Content-Length': '29',
      'Accept-Encoding': 'gzip, deflate, br',
      [Symbol(defaults)]: [Object]
    },
    method: 'post',
    url: 'https://sso-apigw-int.dti.co.id/auth/realms/3scale-dev/protocol/openid-connect/token',
    data: 'grant_type=client_credentials'
  },
  request: &lt;ref *1&gt; Writable {
    _writableState: WritableState {
      objectMode: false,
      highWaterMark: 16384,
      finalCalled: false,
      needDrain: false,
      ending: false,
      ended: false,
      finished: false,
      destroyed: false,
      decodeStrings: true,
      defaultEncoding: 'utf8',
      length: 0,
      writing: false,
      corked: 0,
      sync: true,
      bufferProcessing: false,
      onwrite: [Function: bound onwrite],
      writecb: null,
      writelen: 0,
      afterWriteTickInfo: null,
      buffered: [],
      bufferedIndex: 0,
      allBuffers: true,
      allNoop: true,
      pendingcb: 0,
      constructed: true,
      prefinished: false,
      errorEmitted: false,
      emitClose: true,
      autoDestroy: true,
      errored: null,
      closed: false,
      closeEmitted: false,
      [Symbol(kOnFinished)]: []
    },
    _events: [Object: null prototype] {
      response: [Function: handleResponse],
      error: [Function: handleRequestError],
      socket: [Function: handleRequestSocket]
    },
    _eventsCount: 3,
    _maxListeners: undefined,
    _options: {
      maxRedirects: 21,
      maxBodyLength: Infinity,
      protocol: 'http:',
      path: 'https://sso-apigw-int.dti.co.id/auth/realms/3scale-dev/protocol/openid-connect/token',
      method: 'POST',
      headers: [Object: null prototype],
      agents: [Object],
      auth: undefined,
      beforeRedirect: [Function: dispatchBeforeRedirect],
      beforeRedirects: [Object],
      hostname: 'proxy.intra.bca.co.id',
      port: '8080',
      agent: undefined,
      nativeProtocols: [Object],
      pathname: 'https://sso-apigw-int.dti.co.id/auth/realms/3scale-dev/protocol/openid-connect/token'
    },
    _ended: true,
    _ending: true,
    _redirectCount: 0,
    _redirects: [],
    _requestBodyLength: 29,
    _requestBodyBuffers: [ [Object] ],
    _onNativeResponse: [Function (anonymous)],
    _currentRequest: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: false,
      _last: true,
      chunkedEncoding: false,
      shouldKeepAlive: false,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      _contentLength: null,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: false,
      socket: [Socket],
      _header: 'POST https://sso-apigw-int.dti.co.id/auth/realms/3scale-dev/protocol/openid-connect/token HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/x-www-form-urlencoded\r\n' +
        'Authorization: Basic MgeODg2YWszYjAaWdjI0NadOWNjNDNwdaY1ZjhmMmU2NDI=\r\n' +
        'Access-Control-Allow-Origin: *\r\n' +
        'User-Agent: axios/1.1.3\r\n' +
        'Content-Length: 29\r\n' +
        'Accept-Encoding: gzip, deflate, br\r\n' +
        'host: sso-apigw-int.dti.co.id\r\n' +
        'Connection: close\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      path: 'https://sso-apigw-int.dti.co.id/auth/realms/3scale-dev/protocol/openid-connect/token',
      _ended: false,
      res: null,
      aborted: false,
      timeoutCb: null,
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'proxy.intra.bca.co.id',
      protocol: 'http:',
      _redirectable: [Circular *1],
      [Symbol(kCapture)]: false,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kOutHeaders)]: [Object: null prototype]
    },
    _currentUrl: 'https://sso-apigw-int.dti.co.id/auth/realms/3scale-dev/protocol/openid-connect/token',
    [Symbol(kCapture)]: false
  },
  cause: Error: socket hang up
      at connResetException (node:internal/errors:691:14)
      at Socket.socketOnEnd (node:_http_client:466:23)
      at Socket.emit (node:events:532:35)
      at endReadableNT (node:internal/streams/readable:1346:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21) {
    code: 'ECONNRESET'
  }
}
</code></pre>
<p>Anyone have any idea to solve it and why? Since command &quot;npm run dev&quot; and &quot;node app.js&quot; both of them run &quot;node app.js&quot;, why would &quot;npm run dev&quot; doesn't work? Any solution?</p>
",<javascript><node.js><express><npm><package.json>,1.0,0,0,1
48987,48240,74912856,1,0,8570972,0.0,3.0,0.0,0.0,2022-12-25T10:52:49.007,1.0,328.0,ENOENT: no such file or directory,"<p>I have a nodejs application and I want to deploy it using docker.
I have the following structure for folders and files</p>
<pre><code>/src
   /config
       status.js
       role.js
       index.js
   /routes
       user.routes.js
       product.routes.js
       index.js
   index.js
   Dockerfile
   package.json
   ... other files and folders
</code></pre>
<p>the content of <code>src/config/index.js</code> is:</p>
<pre><code>module.exports = {
  ...require(&quot;./status&quot;),
  ...require(&quot;./role&quot;),
};
</code></pre>
<p>The content of Dockerfile</p>
<pre><code>FROM node:19-alpine3.16

WORKDIR /usr/src/app

COPY package*.json ./

RUN npm i

COPY . .

CMD [&quot;node&quot;, &quot;src/index.js&quot;]
</code></pre>
<p>when I do <code>docker image build</code> I got the following error</p>
<pre><code> ---&gt; Running in 2f2e6c84845b
npm ERR! code ENOENT
npm ERR! syscall open
npm ERR! path /usr/src/app/src/config/package.json
npm ERR! errno -2
npm ERR! enoent ENOENT: no such file or directory, open '/usr/src/app/src/config/package.json'
npm ERR! enoent This is related to npm not being able to find a file.
npm ERR! enoent 

npm ERR! A complete log of this run can be found in:
npm ERR!     /root/.npm/_logs/2022-12-26T09_17_19_235Z-debug-0.log
The command '/bin/sh -c npm i' returned a non-zero code: 254
</code></pre>
<p>I tried to add <code>package.json</code> with empty json to every folder has <code>index.js</code> file and that worked fine. but does that make sense to add <code>package.json</code> to every folder.</p>
",<javascript><node.js><docker><express><npm>,0.0,0,0,1
49040,48293,74941410,1,0,20880032,0.0,0.0,0.0,0.0,2022-12-28T14:24:33.513,0.0,43.0,Errors in loading sdk in my express js project,"<p>I am trying to develop an expressjs app and inside my project I would like to use the following sdk:
<a href=""https://loopring-1.gitbook.io/loopring-dev-docs/sdk/sdk-guides"" rel=""nofollow noreferrer"">https://loopring-1.gitbook.io/loopring-dev-docs/sdk/sdk-guides</a></p>
<p>Following the instructions, I have installed the package via npm and I created a file inside my project named loop.js where I have pasted the starting code provided in the website:</p>
<pre><code>import * as sdk from &quot;@loopring-web/loopring-sdk&quot;;
export class LoopringAPIClass {
  public static userAPI: UserAPI;
  public static exchangeAPI: ExchangeAPI;
  public static ammpoolAPI: AmmpoolAPI;
  public static walletAPI: WalletAPI;
  public static wsAPI: WsAPI;
  public static nftAPI: NFTAPI;
  public static delegate: DelegateAPI;
  public static globalAPI: GlobalAPI;
  public static contractAPI: typeof ContractAPI;
  public static __chainId__: sdk.ChainId;
  public static InitApi = (chainId: sdk.ChainId) =&gt; {
    LoopringAPI.userAPI = new UserAPI({ chainId });
    LoopringAPI.exchangeAPI = new ExchangeAPI({ chainId });
    LoopringAPI.globalAPI = new GlobalAPI({ chainId });
    LoopringAPI.ammpoolAPI = new AmmpoolAPI({ chainId });
    LoopringAPI.walletAPI = new WalletAPI({ chainId });
    LoopringAPI.wsAPI = new WsAPI({ chainId });
    LoopringAPI.nftAPI = new NFTAPI({ chainId });
    LoopringAPI.delegate = new DelegateAPI({ chainId });
    LoopringAPI.__chainId__ = chainId;
    LoopringAPI.contractAPI = ContractAPI;
  };
}
/* env:
 * test:  sdk.ChainId.GOERLI 
 * eth:  sdk.ChainId.MAINNET 
 */
LoopringAPIClass.InitApi({sdk.ChainId.MAINNET}); 
</code></pre>
<p>When I try to run the code in nodejs I get the following error:
<a href=""https://i.stack.imgur.com/C5dqN.png"" rel=""nofollow noreferrer"">error1</a></p>
<p>I have tried to add the &quot;type&quot;: &quot;module&quot; line in package.json but then I got this different kind of error by running the import line:</p>
<p><a href=""https://i.stack.imgur.com/qYfoM.png"" rel=""nofollow noreferrer"">error2</a></p>
<p>Could you please help me to integrate the sdk in my project?</p>
",<javascript><node.js><express><npm>,0.0,0,0,1
49110,48363,74981466,1,0,16619370,0.0,0.0,0.0,0.0,2023-01-02T10:47:24.377,0.0,388.0,Uncaught exception: Error: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string,"<p>I'm trying to run some tests on some methods which handle some operation on a postgres database,  using jasmine testing framework, but I'm getting the following output in the console:</p>
<blockquote>
<p>write-logging-middleware@1.0.0 test
set ENV=test &amp;&amp; npx tsc &amp;&amp; db-migrate --env test up &amp;&amp; jasmine &amp;&amp; db-migrate db:drop test</p>
<p>[INFO] No migrations to run [INFO] Done Started .FFFFF</p>
<p>Failures: 1) Realistic weapon model index method should return a list
of weapons   Message:
Uncaught exception: Error: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string   Stack:
at Object.continueSession (D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg\lib\sasl.js:24:11)
at Client._handleAuthSASLContinue (D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg\lib\client.js:257:10)
at Connection.emit (node:events:513:28)
at D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg\lib\connection.js:114:12
at Parser.parse (D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg-protocol\dist\parser.js:40:17)
at Socket. (D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg-protocol\dist\index.js:11:42)
at Socket.emit (node:events:513:28)
at addChunk (node:internal/streams/readable:315:12)
at readableAddChunk (node:internal/streams/readable:289:9)
at Socket.Readable.push (node:internal/streams/readable:228:10)   Message:
Uncaught exception: Error: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string   Stack:
at Object.continueSession (D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg\lib\sasl.js:24:11)
at Client._handleAuthSASLContinue (D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg\lib\client.js:257:10)
at Connection.emit (node:events:513:28)
at D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg\lib\connection.js:114:12
at Parser.parse (D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg-protocol\dist\parser.js:40:17)
at Socket. (D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg-protocol\dist\index.js:11:42)
at Socket.emit (node:events:513:28)
at addChunk (node:internal/streams/readable:315:12)
at readableAddChunk (node:internal/streams/readable:289:9)
at Socket.Readable.push (node:internal/streams/readable:228:10)   Message:
Error: Timeout - Async function did not complete within 5000ms (set by jasmine.DEFAULT_TIMEOUT_INTERVAL)   Stack:
at 
at listOnTimeout (node:internal/timers:559:17)
at processTimers (node:internal/timers:502:7)</p>
<ol start=""2"">
<li><p>Realistic weapon model show method should return a specific weapon
Message:
Uncaught exception: Error: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string   Stack:
at Object.continueSession (D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg\lib\sasl.js:24:11)
at Client._handleAuthSASLContinue (D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg\lib\client.js:257:10)
at Connection.emit (node:events:513:28)
at D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg\lib\connection.js:114:12
at Parser.parse (D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg-protocol\dist\parser.js:40:17)
at Socket. (D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg-protocol\dist\index.js:11:42)
at Socket.emit (node:events:513:28)
at addChunk (node:internal/streams/readable:315:12)
at readableAddChunk (node:internal/streams/readable:289:9)
at Socket.Readable.push (node:internal/streams/readable:228:10)   Message:
Error: Timeout - Async function did not complete within 5000ms (set by jasmine.DEFAULT_TIMEOUT_INTERVAL)   Stack:
at 
at listOnTimeout (node:internal/timers:559:17)
at processTimers (node:internal/timers:502:7)</p>
</li>
<li><p>Realistic weapon model create method should return the last created
object   Message:
Uncaught exception: Error: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string   Stack:
at Object.continueSession (D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg\lib\sasl.js:24:11)
at Client._handleAuthSASLContinue (D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg\lib\client.js:257:10)
at Connection.emit (node:events:513:28)
at D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg\lib\connection.js:114:12
at Parser.parse (D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg-protocol\dist\parser.js:40:17)
at Socket. (D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg-protocol\dist\index.js:11:42)
at Socket.emit (node:events:513:28)
at addChunk (node:internal/streams/readable:315:12)
at readableAddChunk (node:internal/streams/readable:289:9)
at Socket.Readable.push (node:internal/streams/readable:228:10)   Message:
Error: Timeout - Async function did not complete within 5000ms (set by jasmine.DEFAULT_TIMEOUT_INTERVAL)   Stack:
at 
at listOnTimeout (node:internal/timers:559:17)
at processTimers (node:internal/timers:502:7)</p>
</li>
<li><p>Realistic weapon model update method should edit an existing object
Message:
Uncaught exception: Error: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string   Stack:
at Object.continueSession (D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg\lib\sasl.js:24:11)
at Client._handleAuthSASLContinue (D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg\lib\client.js:257:10)
at Connection.emit (node:events:513:28)
at D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg\lib\connection.js:114:12
at Parser.parse (D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg-protocol\dist\parser.js:40:17)
at Socket. (D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\node_modules\pg-protocol\dist\index.js:11:42)
at Socket.emit (node:events:513:28)
at addChunk (node:internal/streams/readable:315:12)
at readableAddChunk (node:internal/streams/readable:289:9)
at Socket.Readable.push (node:internal/streams/readable:228:10)   Message:
Error: Timeout - Async function did not complete within 5000ms (set by jasmine.DEFAULT_TIMEOUT_INTERVAL)   Stack:
at 
at listOnTimeout (node:internal/timers:559:17)
at processTimers (node:internal/timers:502:7)</p>
</li>
<li><p>Realistic weapon model delete method should delete an existing
object   Message:
Expected Function to equal null.
at 
at D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\dist\model\test\realistic_weapon_spec.js:121:20</p>
<pre><code> at step (D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\dist\model\test\realistic_weapon_spec.js:33:23)
</code></pre>
</li>
</ol>
<p>at Object.next
(D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\dist\model\test\realistic_weapon_spec.js:14:53)
at D:\Projets\Udacity-exercices-projects\node-postgres-api-starter\dist\model\test\realistic_weapon_spec.js:8:71</p>
<p>6 specs, 5 failures Finished in 20.079 seconds PS</p>
</blockquote>
<p>here is my files codes:</p>
<p>database.js</p>
<pre><code>import dotenv from 'dotenv'
import {Pool} from 'pg'

dotenv.config()
let client:Pool = new Pool();


const{
    POSTGRES_HOST,
    POSTGRES_DB,
    POSTGRES_USER,
    POSTGRES_PASSWORD, 
    ENV,
    POSTGRES_TEST_DB
} = process.env

if(ENV==='test'){
    client = new Pool({
        host: POSTGRES_HOST,
        database: POSTGRES_TEST_DB,
        user: POSTGRES_USER,
        password: POSTGRES_PASSWORD
    })
}

if(ENV==='dev'){
    client = new Pool({
        host: POSTGRES_HOST,
        database: POSTGRES_DB,
        user: POSTGRES_USER,
        password: POSTGRES_PASSWORD
    })
}


export default client
</code></pre>
<p>Model class (called Realistic_weapon.ts) and its methodes:</p>
<pre><code>import client from &quot;../database&quot;;


export type Weapon = {
    id:Number,
    name:string,
    weight: Number,
    type:string
}

type RowWeapon = {
    name:string,
    weight: Number,
    type:string
}

export class RealisticWeaponsStore{
    async index(): Promise&lt;Weapon[]&gt;{
        try {
            // @ts-ignore
            const conn = await client.connect();
            const sql = 'select * from realistic_weapon'
            const result = conn.query(sql)
            conn.release()
            return (await result).rows
        } catch (err) {
            throw new Error(`Could not find weapons. Error: ${err}`)
        }
        
    }
    async show(id: number): Promise&lt;Weapon&gt; {
        try {
        const sql = 'SELECT * FROM weapon WHERE id=($1)'
        // @ts-ignore
        const conn = await client.connect()
    
        const result = await conn.query(sql, [id])
    
        conn.release()
    
        return result.rows[0]
        } catch (err) {
            throw new Error(`Could not find weapon ${id}. Error: ${err}`)
        }
    }
    async create(b:RowWeapon):Promise&lt;Weapon&gt;{
        try {
            // @ts-ignore
            const conn = await client.connect()
            const sql = 'insert into book (title, author, totalPages, summary) values($1, $2, $3, $4) returning'
            const result = conn.query(sql, [b.name, b.type, b.weight])
            const book = (await result).rows[0]
            conn.release()
            return book
        } catch (err) {
            throw new Error(`Could not create weapon. Error: ${err}`)
            
        }
    }

    async update(b:Weapon):Promise&lt;Weapon&gt;{
        try {
            // @ts-ignore
            const conn = await client.connect()
            const sql = 'update book set title=$1, author=$2, totalPages=$3, summary=$4 where id=($5)'
            const result = conn.query(sql, [b.name, b.type, b.weight, b.id])
            const book = (await result).rows[0]
            conn.release()
            return book;
        } catch (err) {
            throw new Error(`Could not update weapon. Error: ${err}`)
        }
    }    
    
    async delete(id:Number):Promise&lt;void&gt;{
        try {
            const conn = await client.connect()
            const sql = 'delete from book where id=($1)'
            const result = conn.query(sql,[id])
        } catch (err) {
            throw new Error(`Could not delete weapon ${id}. Error: ${err}`)
        
        }
    } 
}
</code></pre>
<p>the spec file (Realistic_weapon_spec.ts):</p>
<pre><code>import { Weapon, RealisticWeaponsStore} from './../Realistic_weapon';

const store = new RealisticWeaponsStore()

describe('Realistic weapon model', ()=&gt;{
    it('should have an index method', ()=&gt;{
        expect(store.index()).toBeDefined()
    })
    it('index method should return a list of weapons',async ()=&gt;{
        const weapon1:Weapon = {id:1, name: 'first weapon', weight: 2, type: 'first weapon type'}
        const weapon2:Weapon = {id:2, name: 'second weapon', weight: 3, type: 'second weapon type'}
        const weapon3:Weapon = {id:3, name: 'third weapon', weight: 3.5, type: 'third weapon type'}
        expect(await store.index()).toEqual([weapon1, weapon2, weapon3])
    })
    it('show method should return a specific weapon',async ()=&gt;{
        const weapon1:Weapon = {id:1, name: 'first weapon', weight: 2, type: 'first weapon type'}
        expect(await store.show(1)).toEqual(weapon1)
    })
    it('create method should return the last created object',async ()=&gt;{
        const weapon1 = {name : 'new weapon', weight : 3, type : 'new weapon type'}
        const weapon2:Weapon = {id : 4, name : 'new weapon', weight : 3, type : 'new weapon type'}
        expect(await store.create(weapon1)).toEqual(weapon2)
    })
    it('update method should edit an existing object',async ()=&gt;{
        const weapon1:Weapon = {id : 4, name : 'new weapon', weight : 3, type : 'new weapon type'}
        const weapon2:Weapon = {id : 4, name : 'updated weapon', weight : 5, type : 'updated weapon type'}
        expect(await store.update(weapon2)).toEqual(weapon2)
    })
    it('delete method should delete an existing object',async ()=&gt;{
        const id = 4;
        expect(async ()=&gt;{
            await store.delete(id)
            await store.show(id)
            }
        ).toEqual(null)
    })
})
</code></pre>
<p>and here is the script which is executed to run the test:</p>
<pre><code>&quot;test&quot;: &quot;set ENV=test &amp;&amp; npx tsc &amp;&amp; db-migrate --env test up &amp;&amp; jasmine &amp;&amp; db-migrate db:drop test&quot;
</code></pre>
<p>can any one help me please.</p>
",<node.js><typescript><postgresql><express><npm>,1.0,0,0,1
49186,48439,75030838,1,0,20872842,1.0,4.0,0.0,0.0,2023-01-06T12:16:57.010,0.0,478.0,when i run npm dev which is concurrently opens localhost 3000 which does not contain my project,"<p>&quot;scripts&quot;: {
&quot;start&quot;: &quot;react-scripts start&quot;,
&quot;server&quot;: &quot;nodemon server &quot;,
&quot;client&quot;: &quot;npm start --prefix client &quot;,
&quot;dev&quot;: &quot;npx concurrently &quot;npm run server&quot; &quot;npm run client&quot;&quot;</p>
<p>This is the code on my server package json when I npm run dev it opens localhost 3000 which should have my frontend application but instead opens a new react app local host 3000</p>
<p>If I log into my frontend and run,it runs successfully on local host 3000 or sometimes claims that local host 3000 is occupied and changes the port number to local host 3001</p>
<p>I need For the npm run dev to open both client and server concurrently therefore opening the correct localhost 3000 which contains project interface</p>
",<node.js><reactjs><express><npm-scripts><concurrently>,0.0,0,0,1
49340,48593,75118198,1,0,18381138,0.0,2.0,0.0,0.0,2023-01-14T13:14:43.177,0.0,350.0,How to decode image with qrcodereader in nodejs?,"<p>I want  to decode image in with npm qr-code-reader but It shows errors, I'm passing base64 image code, image code is write I've checked online it gives result, kindly help me getting out of this problem</p>
<pre><code>app.post(&quot;/scan-qr&quot;, async (req, res) =&gt; {
  try {
    const { qrCode } = req.body;
    // console.log(qrCode);
    const qr = new qrcodeReader();
    qr.callback = async (err, value) =&gt; {
      if (err) {
        res.status(500).send({ message: &quot;Error scanning QR code&quot; });
      } else {
        // Check if the QR code is valid and matches a generated QR code in the database
        const item = await Item.findOne({ qr: value });
        if (item) {
          res.send({ message: &quot;QR code is valid&quot; });
        } else {
          res.status(401).send({ message: &quot;Invalid QR code&quot; });
        }
      }
    };
    qr.decode(qrCode);
  } catch (error) {
    res.status(500).send({ message: &quot;Error scanning  QR code&quot; });
  }
});
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
49362,48615,75135344,1,0,5911686,0.0,0.0,0.0,0.0,2023-01-16T14:04:29.280,0.0,83.0,Change dependency version of qs from node-vault [vulnerability CVE-2022-24999],"<p>There is a <a href=""https://nvd.nist.gov/vuln/detail/CVE-2022-24999"" rel=""nofollow noreferrer"">vulnerability</a> reported for qs &lt;6.5.3,6.5 and &gt;=6.5.0,6.5. Below is the dependency tree.</p>
<p>Node version: <strong>14.0.0</strong></p>
<pre><code>node-vault@0.9.22
   |---request@2.88.0
     |---qs@6.5.3
</code></pre>
<p>I would like to change the qs dependency to 6.11.0. I have added override but still getting the version 6.5.3 in dependency tree.</p>
<pre><code>.
.
&quot;dependencies&quot;: {
  &quot;node-vault&quot;: &quot;^0.9.0&quot;,
}
.
.
&quot;overrides&quot;: {
  &quot;qs&quot;: &quot;^6.9.1&quot;
}
</code></pre>
<p>I have tried with yarn &amp; resolution. But still facing the same issue.</p>
",<node.js><express><npm><node-modules>,0.0,0,0,1
49377,48630,75144818,1,0,17308211,0.0,3.0,0.0,0.0,2023-01-17T10:07:45.090,0.0,83.0,How to find the Express.js Version in vs code terminal,"<p>command line code to find the express js version</p>
<p>express js version
Like For Node : node -v</p>
",<node.js><express><visual-studio-code><npm><terminal>,0.0,0,0,1
49570,48823,75254794,1,75255199,1325328,1.0,3.0,0.0,0.0,2023-01-27T06:40:16.060,0.0,88.0,Getting started with Mongoose,"<p>When I put in the code</p>
<pre><code>const mongoose = require(&quot;mongoose&quot;)
</code></pre>
<p>I get back the following error:</p>
<pre><code> /Users/user/shares3/node_modules/mongodb/lib/utils.js:1069
        catch {
              ^

SyntaxError: Unexpected token {
    at createScript (vm.js:80:10)
    at Object.runInThisContext (vm.js:139:10)
    at Module._compile (module.js:616:28)
    at Object.Module._extensions..js (module.js:663:10)
    at Module.load (module.js:565:32)
    at tryModuleLoad (module.js:505:12)
    at Function.Module._load (module.js:497:3)
    at Module.require (module.js:596:17)
    at require (internal/module.js:11:18)
    at Object.&lt;anonymous&gt; (/Users/user/shares3/node_modules/mongodb/lib/operations/add_user.js:6:17)
</code></pre>
<p>This code is as simple as could be. I have tried reinstalling the mongoose package.</p>
<p>Do you have any ideas on how I can troubleshoot this?</p>
",<javascript><express><npm><mongoose>,1.0,0,0,1
49626,48879,75287365,1,0,13227048,0.0,0.0,0.0,0.0,2023-01-30T16:34:07.790,0.0,47.0,express-async-errors not working for express-routers,"<p>I wrote a test using Jest for my app and realised the test kept hanging with</p>
<pre><code>thrown: &quot;Exceeded timeout of 5000 ms for a test.
</code></pre>
<p>I realised it's something to do with the supertest api post call</p>
<p>after some investigation I realised my postman is returning a socket hang error<a href=""https://i.stack.imgur.com/M9Ode.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/M9Ode.png"" alt=""postman socket hang error"" /></a></p>
<p>I then checked my code which is pretty much a copy of: <a href=""https://github.com/fullstack-hy2020/part3-notes-backend/tree/part4-7"" rel=""nofollow noreferrer"">https://github.com/fullstack-hy2020/part3-notes-backend/tree/part4-7</a></p>
<p>and realised for some reason the</p>
<pre><code>require('express-async-errors')
</code></pre>
<p>in the app.js is not working for the users post router handler using async/await syntax. I found out by adding the try and catch handler with next(exception) to the post router handler which made it work</p>
<p>anyone got an idea why <a href=""https://www.npmjs.com/package/express-async-errors"" rel=""nofollow noreferrer"">express-async-errors</a> package isn't working in this case?</p>
",<reactjs><mongodb><express><npm><jestjs>,0.0,0,0,1
49744,48997,75353406,1,75353787,20556060,1.0,0.0,0.0,0.0,2023-02-05T15:33:47.537,1.0,110.0,Node is serving my html file in place of my bootstrap css and js files,"<p>I'm trying to serve bootstrap locally via npm-installed package.
However, Node is serving my html file in place of my bootstrap CSS and JS files.  This is perplexing to me.</p>
<p>I'm specifying both folders to express.static to ensure they are accessible publicly:</p>
<pre><code>app.use(express.static(path.join(__dirname,&quot;public&quot;)));
app.use(express.static(path.join(__dirname, &quot;node_modules&quot;)));
</code></pre>
<p>Here is my directory tree structure:</p>
<pre><code>.
├── Assets
│   ├── 11-express-homework-demo-01.png
│   └── 11-express-homework-demo-02.png
├── Develop
│   ├── db
│   ├── node_modules
│   ├── package-lock.json
│   ├── package.json
│   ├── public
│       ├── notes.ejs
│       ├── index.html
│   ├── server.js
│   └── views
├── README.md
└── result.txt
</code></pre>
<p>wherein</p>
<p>server.js is where I'm running express from,
node_modules is where bootstrap lives (default npm installation can be assumed)</p>
<p>and in both <code>notes.ejs</code> and <code>index.html</code>, I have the following resources included:</p>
<pre><code>&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;/node_modules/bootstrap/dist/css/bootstrap.min.css&quot; &gt;
&lt;script type=&quot;script&quot; src=&quot;/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
</code></pre>
<p>index.html is simply a static landing page and notes.ejs is the app's main user-interactive screen.</p>
<p>index.html is as follows:</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en-US&quot;&gt;
   &lt;head&gt;
      &lt;meta charset=&quot;UTF-8&quot;&gt;
      &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
      &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
      &lt;title&gt;Note Taker&lt;/title&gt;
      &lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;/node_modules/bootstrap/dist/css/bootstrap.min.css&quot; &gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;nav class=&quot;navbar bg-info&quot;&gt;
         &lt;a class=&quot;navbar-brand text-light p-3&quot; href=&quot;/&quot;&gt;Note Taker
         &lt;/a&gt;
      &lt;/nav&gt;
      &lt;div class=&quot;container&quot;&gt;
         &lt;div style=&quot;margin-top: 80px;&quot; class=&quot;text-center p-5 mb-4 bg-light&quot;&gt;
            &lt;h1 class=&quot;display-4&quot;&gt;Note Taker &lt;span role=&quot;img&quot; aria-label=&quot;Memo&quot;&gt;&lt;/span&gt;&lt;/h1&gt;
            &lt;h4 class=&quot;mt-4&quot;&gt;Take notes with Express&lt;/h4&gt;
            &lt;a class=&quot;btn btn-primary btn-lg mt-4&quot; href=&quot;/notes&quot; role=&quot;button&quot;&gt;Get Started&lt;/a&gt;
         &lt;/div&gt;
      &lt;/div&gt;
      &lt;script type=&quot;script&quot; src=&quot;/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
   &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>notes.ejs is as follows:</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en-US&quot;&gt;
   &lt;head&gt;
      &lt;meta charset=&quot;UTF-8&quot; &gt;
      &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; &gt;
      &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot; &gt;
      &lt;meta http-equiv=&quot;Cache-Control&quot; content=&quot;no-cache, no-store, must-revalidate&quot;&gt;
      &lt;meta http-equiv=&quot;Pragma&quot; content=&quot;no-cache&quot;&gt;
      &lt;meta http-equiv=&quot;Expires&quot; content=&quot;0&quot;&gt;
      &lt;title&gt;Note Taker&lt;/title&gt;
      &lt;link
         rel=&quot;stylesheet&quot;
         href=&quot;https://use.fontawesome.com/releases/v5.3.1/css/all.css&quot;
         integrity=&quot;sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU&quot;
         crossorigin=&quot;anonymous&quot;
         &gt;
      &lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;/node_modules/bootstrap/dist/css/bootstrap.min.css&quot; &gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;nav class=&quot;navbar bg-info&quot;&gt;
         &lt;a class=&quot;navbar-brand text-light p-3&quot; href=&quot;/&quot;&gt;Note Taker &lt;/a&gt;
         &lt;div class=&quot;icons&quot;&gt;
            &lt;i class=&quot;fas fa-save text-light save-note&quot;&gt;&lt;/i&gt;
            &lt;i class=&quot;fas fa-plus text-light new-note&quot;&gt;&lt;/i&gt;
         &lt;/div&gt;
      &lt;/nav&gt;
      &lt;div class=&quot;container-fluid&quot;&gt;
         &lt;div class=&quot;row&quot;&gt;
            &lt;div class=&quot;col-4 list-container&quot;&gt;
               &lt;div class=&quot;card&quot;&gt;
                  &lt;ul class=&quot;list-group list-group-flush&quot;&gt;
                     &lt;%- titles %&gt;
                     &lt;!-- https://stackoverflow.com/a/33701518/9095603 --&gt;
                  &lt;/ul&gt;
               &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class=&quot;col-8&quot;&gt;
               &lt;input
                  class=&quot;note-title form-control form-control-lg&quot;
                  placeholder=&quot;Note Title&quot;
                  maxlength=&quot;28&quot;
                  type=&quot;text&quot;
                  &gt;
               &lt;textarea class=&quot;note-textarea&quot; class=&quot;form-control&quot; placeholder=&quot;Note Text&quot; style=&quot;min-width: 100%&quot;&gt;&lt;/textarea&gt;
            &lt;/div&gt;
         &lt;/div&gt;
      &lt;/div&gt;
      &lt;script type=&quot;script&quot; src=&quot;/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
   &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>Addendum - also in case you needed to see my server.js:</p>
<pre><code>// This application uses the Express.js framework to create a REST API that allows clients to perform CRUD (create, read, update, delete) operations on notes stored in a JSON file. The API has three endpoints:

// - `GET /notes` retrieves a list of all notes stored in the `notes.json` file.
// - `POST /notes` adds a new note to the list of notes stored in the `notes.json` file. The new note data is passed in the request body as JSON.
// - `DELETE /notes/:id` deletes a note from the list of notes stored in the `notes.json` file. The ID of the note to delete is passed in the URL as a path parameter.



const express = require(&quot;express&quot;);
const path = require(&quot;path&quot;);
const fs = require(&quot;fs&quot;);

// const bootstrap = require('bootstrap')
// import 'bootstrap/dist/css/bootstrap.css';
const app = express();

const PORT = 3001;

// EJS (alternatively use Pug for dynamic HTML)
// https://www.youtube.com/watch?v=yXEesONd_54

// register view engine
app.set(&quot;view engine&quot;, &quot;ejs&quot;);
// inform ejs which is your views folder because you don't use the default folder name views, but rather 'public'
app.set(&quot;views&quot;, path.join(__dirname,&quot;public&quot;));

app.use(express.static(path.join(__dirname,&quot;public&quot;)));
app.use(express.static(path.join(__dirname, &quot;node_modules&quot;)));

var titles = &quot;&quot;;
app.get(&quot;/notes&quot;, (req, res) =&gt; {
  

  fs.readFile(&quot;db/db.json&quot;, &quot;utf-8&quot;, (err, data) =&gt; {
    if (err) {
      res.status(500).send({ error: &quot;Could not read file&quot; });
    } else {
      data = JSON.parse(data);
      //   res.send(JSON.parse(data));
      if (data) {
        console.log(typeof data);
        console.log(data);
        for (let i = 0; i &lt; data.length; i++) {
          titles += `&lt;li class=&quot;list-group-item&quot;&gt;${data[i].title}&lt;/li&gt;`;
        }
        console.log(titles);
      }
    }
  });

  // res.sendFile(path.join(__dirname,'public/notes.html'))

  res.render(&quot;notes&quot;, { titles });
  // render: https://youtu.be/yXEesONd_54?t=597
});

app.use((req, res) =&gt; {
  res.sendFile(path.join(__dirname, &quot;public/index.html&quot;));
});

// app.get('/', (req, res) =&gt; {
//     res.render('index', { title: 'some title'})
// })
app.listen(PORT, () =&gt; console.log(`Server is running on port ${PORT}`));
</code></pre>
<p>I have tried the above to no avail.  In place of the linked bootstrap CSS file and the bootstrap JS file, it's serving my html file.  I don't understand what is happening.</p>
",<node.js><twitter-bootstrap><express><npm>,0.0,0,0,1
49820,49073,75396102,1,0,20666670,6.0,1.0,0.0,0.0,2023-02-09T08:41:15.187,0.0,1822.0,nodemon isn't running in vs code terminal,"<pre><code>PS D:\my-express-server&gt; npm i nodemon

added 32 packages, and audited 90 packages in 6s

10 packages are looking for funding
  run `npm fund` for details
found 0 vulnerabilities
PS D:\my-express-server&gt; nodemon -v
nodemon : The term 'nodemon' is not recognized as the name of a cmdlet, function, script file, or operable program. Check the spelling of the name, or if a path was included,        
verify that the path is correct and try again.
At line:1 char:1
+ nodemon -v
+ ~~~~~~~
    + CategoryInfo          : ObjectNotFound: (nodemon:String) [], CommandNotFoundException

PS D:\my-express-server&gt; nodemon .\server.js
nodemon : The term 'nodemon' is not recognized as the name of a cmdlet, function, script file, or operable program. Check the spelling of the name, or if a path was included,        
verify that the path is correct and try again.
At line:1 char:1
+ nodemon .\server.js
+ ~~~~~~~
    + CategoryInfo          : ObjectNotFound: (nodemon:String) [], CommandNotFoundException
</code></pre>
<p>I want to run fully nodemon in vs code so please give me solution for it.</p>
",<node.js><express><npm><nodemon>,0.0,0,0,1
49841,49094,75402828,1,0,20091205,0.0,0.0,0.0,0.0,2023-02-09T18:17:13.807,0.0,41.0,Why I am not able to access my index html file when using npm scripts to initiate server?,"<p>I am using static middleware function to access HTML file with my express HTTP server. It works fine when I deliberately run the server.js file through node.js command line runnning in the same directory. However after using npm scripts it's not able to locate my assets whether its a HTML or any other media files.</p>
<pre><code>Let me know what you think on these screenshots attached-
    &lt;https://i.stack.imgur.com/NxsfW.png&gt; 
    &lt;https://i.stack.imgur.com/xjbsx.png&gt;
    &lt;https://i.stack.imgur.com/O2au5.png&gt;
    &lt;https://i.stack.imgur.com/w8zIj.png&gt;
    &lt;https://i.stack.imgur.com/po4vY.png&gt;
    &lt;https://i.stack.imgur.com/hmB8A.png&gt;
</code></pre>
",<node.js><express><npm-scripts>,0.0,0,0,1
50042,49295,75515703,1,0,1097451,0.0,0.0,0.0,0.0,2023-02-21T02:07:50.813,4.0,76.0,Are backticks used to escape Typescript comment blocks?,"<p>I am trying to build and run a <code>nest.js</code> app, and right out the gate, I get deluged by hundreds of errors, most of them in <code>.ts</code> files inside <code>node_modules</code>.</p>
<p>It seems that the compiler is interpreting anything enclosed in backticks within a comment block as code:</p>
<pre><code> /**
  * Set the location header to `url`.
  *
</code></pre>
<blockquote>
<p>node_modules/@types/express-serve-static-core/index.d.ts:957:36 -
error TS1005: ';' expected.</p>
<p>957      * Set the location header to <code>url</code>.</p>
</blockquote>
<p>I am baffled, since I haven't even touched the code. I have a fresh environment created with <code>nvm install 14</code>. The typescript was installed automatically by <code>npm install</code>.</p>
<pre><code>martin@martin-laptop$ npm -v 
6.14.18
martin@martin-laptop$ node -v 
v14.21.3
martin@martin-laptop$ tsc --version
Version 3.9.10
</code></pre>
<p>At the top of the file there is a comment:</p>
<pre><code>// TypeScript Version: 2.3
</code></pre>
<p>so it seems like a backwards compatibility problem. I cannot find any other metadata that would tell <code>tsc</code> to use this version, but the <code>package.json</code> in <code>node_modules/@types/express-serve-static-core</code> contains the following block:</p>
<pre><code>  &quot;typeScriptVersion&quot;: &quot;4.2&quot;,
  &quot;types&quot;: &quot;index.d.ts&quot;,
  &quot;typesPublisherContentHash&quot;: &quot;0a827d8ef2f7f9ef4c3093ee5f8b4a148b276b25d09a337a636065cf58d32616&quot;,
  &quot;version&quot;: &quot;4.17.33&quot;
</code></pre>
<p>If this were so, then why would <code>npm</code> install typescript <code>3.9.10</code>?</p>
<p>I am trying to figure out in which <code>Typescript</code> version has the interpretation of backticks in comment blocks changed, alas nothing turns up.</p>
<p>Sorry for the chaotic question, but nothing makes sense to me, and I don't know how to even start. Any hints are warmheartedly welcome.</p>
",<typescript><express><npm>,0.0,0,0,1
50365,49618,75688154,1,0,4064775,1.0,1.0,0.0,0.0,2023-03-09T17:34:52.813,0.0,53.0,Different behavior of node server if executed from terminal or from npm bin command,"<p>So I've made a proxy nodejs server that executes a python library when called.</p>
<p>If I run the server directly from the terminal, and then execute a call to the server, I get the correct behavior: my calling scripts waits for the server response, and I get the expected result.</p>
<p>Now the idea of this server is to make a package (A) that I can call from another package (B).</p>
<p>For that, I'm using the <code>bin</code> option of package.json of package A.</p>
<pre><code>&quot;bin&quot;: {
  &quot;issuer&quot;: &quot;bin/index.js&quot;
}
</code></pre>
<p>The idea is that the consuming package (B) would start the server (<code>issuer start &amp;</code>) and then do whatever it needs to do with said server.</p>
<p>The index.js is a entry script to make the CLI nicer:</p>
<pre><code>#!/usr/bin/env node

const { exec } = require('child_process');
const path = require('path');

const command = process.argv[2];

if (command === 'help') {
  console.log(`
  Main invocation: issuer
  Available commands:
    - help: show help
    - start: start proxy server to python issuer
    - stop: stop server
  `)
  return;
}

if (command === 'start') {
  exec(`node ${path.join(__dirname, './start-server.js')}`, {
    cwd: path.join(__dirname, '..')
  }, (err) =&gt; {
    if (err){
      console.error(err);
    }
  });
  return;
}

if (command === 'stop') {
  exec(`node ${path.join(__dirname, './kill-server.js')}`, {
    cwd: path.join(__dirname)
  }, (err) =&gt; {
    if (err) {
      console.error(err);
    }
  });
  return;
}

console.log('issuer unknown command', command, 'run `issuer help` for a list of available commands');

</code></pre>
<p>and start-server.js is a simple express server creation:</p>
<pre><code>#!/usr/bin/env node

const express = require('express');
const bodyParser = require('body-parser');
const issue = require('./middlewares/issue');
const server = express();
const port = require('./port');

server.use(bodyParser.json({limit: '5mb'}));

server.post('/issue', issue);

server.listen(port, () =&gt; console.log(`issuer-node-wrapper app listening at http://localhost:${port}`));
</code></pre>
<p>But 2 things are not working using that entry script:</p>
<ul>
<li><p>There is no stdout, so I don't see the output <code>issuer-node-wrapper app listening at http://localhost:${port}</code>. But the server is indeed started (port is taken, <code>lsof -t -i:3000</code> gives me a pid I can later kill). If I change the bin to run the js script directly, ie <code>issuer-start: ./bin/start-server.js</code>, I do see the console log output, but I would rather have a command with arguments.</p>
</li>
<li><p>in both cases, when I later execute a call to the server (<code>http://localhost:3000/issue</code>), the response comes immediately and the response parsing fails with:</p>
</li>
</ul>
<pre><code>Error: FetchError: invalid json response body at http://localhost:3000/issue reason: Unexpected token &lt; in JSON at position 0
</code></pre>
<p>From I can tell, this is because the Promise is not properly terminated when it executes the <code>then</code> part, so it's actually parsing <code>&lt;Pending&gt;</code> (hence the <code>&lt;</code> invalid character error):</p>
<pre><code>const res = await fetch('http://localhost:3000/issue', {
    method: 'POST',
    body: JSON.stringify({
      certificates,
      ...issuerPath &amp;&amp; {
        issuerPath
      }
    }),
    headers: {'Content-Type': 'application/json'}
  }).then(res =&gt; {
    const decoded = res.json(); &lt;&lt;&lt;&lt; HERE
    return decoded;
  }).catch (err =&gt; {
    // throw new Error(err);
    console.error('Error:', err);
  });
</code></pre>
<p>So there must be something I don't understand at a low-level and cannot find the reason why, when <code>exec</code> or <code>spawn</code> the server from the bin command, which would somehow make the server lost in a different thread, or something?</p>
<p>My question is, what is actually going on when I am running <code>npm &quot;bin&quot;</code> that makes the server behave differently, although started?</p>
",<node.js><express><npm><bin>,0.0,0,0,1
50436,49689,75733998,1,75734059,19192614,1.0,2.0,0.0,0.0,2023-03-14T13:46:19.923,0.0,1570.0,how to get youtube transcript from any video,"<p>I'm trying to get any youtube transcript from a given url.</p>
<p>Im using runkit npm to try : <a href=""https://npm.runkit.com/youtube-transcript"" rel=""nofollow noreferrer"">https://npm.runkit.com/youtube-transcript</a> using the npm youtube transcript <a href=""https://www.npmjs.com/package/youtube-transcript"" rel=""nofollow noreferrer"">https://www.npmjs.com/package/youtube-transcript</a>
so my code on runkit is :</p>
<pre><code>var youtubeTranscript = require(&quot;youtube-transcript&quot;)
youtubeTranscript.fetchTranscript('_cY5ZD9yh2I').then(console.log);
</code></pre>
<p>and I have the error :</p>
<pre><code>TypeError: youtubeTranscript.fetchTranscript is not a function
</code></pre>
<p>Can someone explain to me what am I doing wrong ?</p>
",<node.js><api><express><npm>,0.0,0,0,1
50765,50018,75908053,1,75908149,6630397,1.0,0.0,0.0,0.0,2023-04-01T18:15:52.330,1.0,73.0,Npm redis client cannot get key when doing a GET request on an express route in a Node.js application,"<h4>Short</h4>
<p>Redis is <code>OK</code> but I cannot get in the redis <code>client.get()</code> function in a Node.js app.</p>
<h4>Details</h4>
<p>I have this small NodeJS <code>server.js</code> file:</p>
<pre class=""lang-js prettyprint-override""><code>'use strict';

const express = require('express');
const redis = require('redis');
const PORT = 80;
const HOST = '0.0.0.0';
const app = express();

const client = redis.createClient({
  url: 'redis://redis:6379'
});

(async () =&gt; {
  await client.connect();
})();

client.on('connect', () =&gt; console.log('-&gt;Redis Client Connected!'));
client.on('error', (err) =&gt; console.log('Redis Client Error', err));

app.get('/', (req, res) =&gt; {
  res.send('Hello world'); // &lt;-- works perfectly
});

app.get('/foo', (req, res) =&gt; {
  console.log(&quot;in /foo&quot;); // &lt;--------------------- this prints correctly 
  client.get('numVisits', (err, numVisits) =&gt; {
    console.log(&quot;in client.get()&quot;); // &lt;----------- this never prints to stdout
    let numVisitsToDisplay = parseInt(numVisits, 10) + 1;
    if (isNaN(numVisitsToDisplay)) {
      numVisitsToDisplay = 1;
    }
    res.send(`&lt;h1&gt;Number of visits is: ${numVisitsToDisplay}`);
    numVisits++;
    client.set('numVisits', numVisits);
  });
});

app.listen(PORT, HOST, () =&gt; {
  console.log(`Web app running on http://${HOST}:${PORT}`);
});
</code></pre>
<p>inspired from: <a href=""https://dev.to/docker/dockerizing-a-nodejs-express-redis-app-with-nginx-proxy-using-docker-compose-17ge"" rel=""nofollow noreferrer"">https://dev.to/docker/dockerizing-a-nodejs-express-redis-app-with-nginx-proxy-using-docker-compose-17ge</a></p>
<p>but this requests hang on for ever :</p>
<pre><code>$ curl -X GET -H &quot;Content-Type: application/json&quot; http://localhost/foo
</code></pre>
<p>Same in my web browsers.</p>
<p>The <code>redis-cli monitor</code> shows this same line line each time a send a GET request:</p>
<pre><code>OK
1680371594.117283 [0 172.19.0.3:56048] &quot;GET&quot; &quot;numVisits&quot;
1680371617.701439 [0 172.19.0.3:56048] &quot;GET&quot; &quot;numVisits&quot;
</code></pre>
<p>and the log of the Node.js server is as follow, the last line also repeats on each GET request:</p>
<pre><code>Web app running on http://0.0.0.0:80
-&gt; Redis Client Connected!
in /foo
in /foo
</code></pre>
<p>Here's my <code>package.json</code>:</p>
<pre><code>{
  &quot;name&quot;: &quot;web_app&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;My first Node.js app&quot;,
  &quot;author&quot;: &quot;myself&quot;,
  &quot;license&quot;: &quot;MIT&quot;,
  &quot;type&quot;: &quot;commonjs&quot;,
  &quot;main&quot;: &quot;server.js&quot;,
  &quot;scripts&quot;: {
    &quot;start&quot;: &quot;node server.js&quot;
  },
  &quot;dependencies&quot;: {
    &quot;express&quot;: &quot;^4.18.2&quot;,
    &quot;pg&quot;: &quot;^8.10.0&quot;,
    &quot;redis&quot;: &quot;^4.6.5&quot;
  }
}

</code></pre>
<p>How could I get <code>redis</code> to work properly for storing the number of hits when doing GET requests to the route <code>/foo</code>?</p>
<p>Both redis and the node web app work as docker containers on the same network in a very basic compose file:</p>
<pre><code>volumes:
  redis:

services:
  redis:
    image: &quot;redis:alpine&quot;
    ports:
      - &quot;6379:6379&quot;
    volumes:
    - redis:/var/lib/redis

  app:
    build: .
    ports:
      - &quot;80:80&quot;
    depends_on:
      - redis
</code></pre>
<p>Node version is: <code>v17.6.0</code></p>
",<node.js><docker><express><npm><redis>,0.0,0,0,1
50906,50159,75990327,1,76031491,20523596,1.0,3.0,0.0,0.0,2023-04-11T21:38:31.783,0.0,36.0,Why cant I install @mikro-orm/mariadb,"<p>Trying to install mikroorm into adminjs. I am using:<a href=""https://mikro-orm.io/docs/usage-with-adminjs"" rel=""nofollow noreferrer"">https://mikro-orm.io/docs/usage-with-adminjs</a></p>
<p>I ran the command <code>npm install @mikro-orm/mariadb</code> as instructed in the guide and it returns</p>
<pre><code>npm ERR!     @mikro-orm/mariadb@&quot;*&quot; from the root project
npm ERR!
npm ERR! Fix the upstream dependency conflict, or retry
npm ERR! this command with --force or --legacy-peer-deps
npm ERR! to accept an incorrect (and potentially broken) dependency resolution.
npm ERR!
npm ERR!
npm ERR! For a full report see:
npm ERR! C:\Users\me\AppData\Local\npm-cache\_logs\2023-04-11T21_31_08_922Z-eresolve-report.txt

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\me\AppData\Local\npm-cache\_logs\2023-04-11T21_31_08_922Z-debug-0.log
</code></pre>
<p>Log from the error message above:</p>
<pre><code>error code ERESOLVE
68 error ERESOLVE could not resolve
69 error
70 error While resolving: [1mcisgo[22m@[1m0.0.0[22m
70 error Found: [1m@mikro-orm/core[22m@[1m4.5.10[22m[2m[22m
70 error [2mnode_modules/@mikro-orm/core[22m
70 error   [35mpeer[39m [1m@mikro-orm/core[22m@&quot;[1m^4.5.0[22m&quot; from [1m@adminjs/mikroorm[22m@[1m2.0.0[22m[2m[22m
70 error   [2mnode_modules/@adminjs/mikroorm[22m
70 error     [1m@adminjs/mikroorm[22m@&quot;[1m^2.0.0[22m&quot; from the root project
70 error
70 error Could not resolve dependency:
70 error [1m@mikro-orm/mariadb[22m@&quot;[1m*[22m&quot; from the root project
70 error
70 error Conflicting peer dependency: [1m@mikro-orm/core[22m@[1m5.6.16[22m[2m[22m
70 error [2mnode_modules/@mikro-orm/core[22m
70 error   [35mpeer[39m [1m@mikro-orm/core[22m@&quot;[1m^5.0.0[22m&quot; from [1m@mikro-orm/mariadb[22m@[1m5.6.16[22m[2m[22m
70 error   [2mnode_modules/@mikro-orm/mariadb[22m
70 error     [1m@mikro-orm/mariadb[22m@&quot;[1m*[22m&quot; from the root project
70 error
70 error Fix the upstream dependency conflict, or retry
70 error this command with --force or --legacy-peer-deps
70 error to accept an incorrect (and potentially broken) dependency resolution.
71 error
71 error
71 error For a full report see:
71 error C:\Users\me\AppData\Local\npm-cache\_logs\2023-04-11T21_31_08_922Z-eresolve-report.txt
72 verbose exit 1
73 timing npm Completed in 3695ms
74 verbose unfinished npm timer reify 1681248668965
75 verbose unfinished npm timer reify:loadTrees 1681248668967
76 verbose unfinished npm timer idealTree:buildDeps 1681248669559
77 verbose unfinished npm timer idealTree:#root 1681248669559
78 verbose code 1
79 error A complete log of this run can be found in:
79 error     C:\Users\me\AppData\Local\npm-cache\_logs\2023-04-11T21_31_08_922Z-debug-0.log
</code></pre>
<p>Im not sure what to do here, any help would be appreciated</p>
",<express><npm><mariadb><mikro-orm><adminjs>,0.0,0,0,1
50937,50190,76004722,1,76107475,11066551,1.0,0.0,0.0,0.0,2023-04-13T11:08:32.460,2.0,241.0,Authentication error from Active Directory with Express.js,"<p>I am using the <a href=""https://www.npmjs.com/package/activedirectory"" rel=""nofollow noreferrer"">activedirectory</a> module to authenticate users with AD. I have had no issues with most users, but for users in one particular OU, authentication is constantly failing.
Here's the code I'm using</p>
<p><strong>.env</strong></p>
<pre><code>ldap_url = &quot;ldap://mydomain.local&quot;
baseDN = &quot;DC=mydomain, DC=local&quot;
ad_bind_user = &quot;bind-user@mydomain.local&quot;
ad_bind_user_password = &quot;Password Placeholder&quot;
</code></pre>
<p><strong>login.js</strong></p>
<pre><code>const express = require('express');
    const ActiveDirectory = require('activedirectory');
    const router = express.Router();

    const config = {
      url: process.env.ldap_url,
      baseDN: process.env.baseDN,
      username: process.env.ad_bind_user,
      password: process.env.ad_bind_user_password
    };

    const ad = new ActiveDirectory(config);

    router.post('/api/login', (req, res) =&gt; {
    const username = req.body.username;
    const password = req.body.password;

    ad.authenticate(username, password, (error, auth) =&gt; {
        if (error) {
            return res.status(500).send(error);
        }
        if (auth) {
            req.session.user = { 
                username: username,
                authenticated: true
            };
            return res.json(req.session.user);
        }
        else {
            return res.status(401).send('Unauthorized User');
        }
    });
});
</code></pre>
<p>For users other than a particular Users OU, I am able to authenticate successfully. However for accounts in the Users OU, authentication fails with the below error</p>
<pre><code>{
    &quot;lde_message&quot;:&quot;80090308: LdapErr: DSID-0C09044E, comment: AcceptSecurityContext error, data 52e, v2580&quot;,
    &quot;lde_dn&quot;: null
}

</code></pre>
<p>For users in this OU, if I provide the username with the domain, I am able to authenticate successfully, i.e. when the username is testuser it doesn't work, but when the username is testuser@mydomain.local it works just fine.</p>
<p>I also created another route to get the user details and there is no difference in the output for any parameter, i.e. Users in both OU have completely identical parameters</p>
<p>Here's the code I used to get the user details</p>
<pre><code>router.get('/api/getusers', (req, res) =&gt; {
    const username = req.body.username;

    ad.findUser(username, (error, auth) =&gt; {
        if (error) {
            return res.status(500).send(error);
        }
        if (auth) {
            return res.json(auth);
        }
    });
});
</code></pre>
<p>I don't seem to understand why the code expects the domain only for that particular OU in the authenticate function when its successfully able to find the user with the findUser function without the need of the domain?
How can I get around this?</p>
",<node.js><express><npm><active-directory>,0.0,0,0,1
50976,50229,76025377,1,0,21653486,0.0,4.0,0.0,0.0,2023-04-16T00:32:00.037,0.0,54.0,Function doc.save() is not a function,"<p>I want to save doc to DataBase but when i create new User and try to save it function .save() not working
I dont have any variants to solve this problem. I tried to do everything what i found in Internet
I check some overflow posts but anyone helps me</p>
<p>My Index.js file:</p>
<pre><code>
const app = express();
const port = 5000
app.use(express.json());
app.set('view engine', 'ejs');


const uri = '&lt;my link&gt;';
// Create a MongoClient with a MongoClientOptions object to set the Stable API version
const client = new MongoClient(uri,  {
        serverApi: {
            version: ServerApiVersion.v1,
            strict: true,
            deprecationErrors: true,
        }
    }
);
client
    .connect()
    .then((res)=&gt;console.log('Connected'))
    .catch((error)=&gt;console.log(error));

app.post('/auth/register',async (req, res)=&gt; {
    try {
        const user = new User(req.body);
        await user.save();

        res.json({
            success: true,
        });
    } catch (err) {
        res.status(500)
    }
});
app.listen(port, () =&gt; {
    console.log(`Example app listening on port ${port}`)
})
</code></pre>
<p>My model/user.js file</p>
<pre><code>import mongoose from &quot;mongoose&quot;;

const UserSchema = new mongoose.Schema({
    name: {
        type:String,
        required: true
    },
    email: {
        type:String,
        required: true,
        index: {unique: true}
    },
    passwordHash: {
        type:String,
        required: true
    },
    access: {
        type: Boolean,
        default: 0
    },
},
    {
        timestamps: true
    });

const User = mongoose.model('User', UserSchema);
export default User
</code></pre>
<p>My imports in Index.js</p>
<pre><code>import {registrationValidation} from &quot;./Validation/auth.js&quot;; 
import {validationResult} from &quot;express-validator&quot;; 
import express from 'express'; 
import { MongoClient, ServerApiVersion } from &quot;mongodb&quot;; 
import User from &quot;./models/user.js&quot;;
</code></pre>
",<javascript><node.js><express><npm><mongoose>,0.0,0,0,1
51188,50441,76135220,1,76135274,20099012,1.0,0.0,0.0,0.0,2023-04-29T08:22:12.147,2.0,89.0,Build for ejs: ERR missing script build (npm run build),"<p>I'm trying to build my .ejs to deploy it but for 'npm run build' it says: npm ERR! Missing script: &quot;build&quot; I tryied a lot of lines in my package.json like this one:</p>
<pre><code>&quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,
    &quot;build&quot;: &quot;echo 'build script executed'&quot;
  },
</code></pre>
<p>I don't know which is the correct script to build my ejs. I know that for react is  &quot;build&quot;: &quot;react-scripts build&quot;, but i dont know how it is for that other case.</p>
",<express><npm><build><ejs><package.json>,0.0,0,0,1
51191,50444,76135977,1,0,2337484,0.0,1.0,0.0,0.0,2023-04-29T11:29:06.807,0.0,27.0,Axios for page crawling. Cannot pass a variable url,"<p>I'm using Axios to crawl a page but I need to initialise the url and can't pass a variable via a form. I'm trying to send the url via an input form but I cannot change the url. And when I place the axios call in a function, I get a lexical error. Can this be achieved via Axios? Or am I using the wrong tool?</p>
<p>Just need to be able to pass a url via a form submit and return the data.</p>
",<node.js><express><npm><web-scraping><axios>,0.0,0,0,1
51381,50634,76241271,1,0,19411966,0.0,1.0,0.0,0.0,2023-05-13T05:45:08.547,0.0,13.0,"Why npm commands are not running in my pc? All commands were running smoothly till last night, i have not change any settings also","<p>PS D:\My Web Development\express learning&gt; npm start
npm ERR! code ENOENT
npm ERR! syscall open
npm ERR! path D:\My Web Development\express learning/package.json
npm ERR! errno -4058
npm ERR! enoent ENOENT: no such file or directory, open 'D:\My Web Development\express learning\package.json'
npm ERR! enoent This is related to npm not being able to find a file.
npm ERR! enoent</p>
<p>npm ERR! Log files were not written due to an error writing to the directory: C:\Users\myname\AppData\Roaming\npm-cache_logs
npm ERR! You can rerun the command with <code>--loglevel=verbose</code> to see the logs in your terminal</p>
<p><a href=""https://i.stack.imgur.com/3eZ2m.png"" rel=""nofollow noreferrer"">here is the screenshot</a></p>
",<node.js><reactjs><express><npm>,0.0,0,0,1
51395,50648,76247365,1,76408233,21546960,2.0,0.0,0.0,0.0,2023-05-14T11:58:41.307,2.0,235.0,Upload multiple files to BackBlaze according to the original filename,"<p>I'm trying to upload images to BackBlaze using backblaze-b2 npm module from a folder that has multiple images and for each image successfully uploading I push the fileId to an array all the files in the folder is named from <code>0001.jpg</code> to how many files there are in this was if there are 12 images in the folder the last image will be named <code>0012.jpg</code> but after all images are uploaded and the ids are pushed into the array it'll be like 2nd image's id will place placed on 5th or 6th in the array the last image will be placed at the first</p>
<p>Here is the code I'm using</p>
<pre><code>export const uploadToBackBlaze = async (req, res, next) =&gt; {
  // Defining backblaze masterkey and application key

  const b2 = new B2({
    applicationKeyId: process.env.BACKBLAZE_MASTER_APPLICATION_KEY_ID,
    applicationKey: process.env.BACKBLAZE_MASTER_APPLICATION_ID,
  });

  const __dirname = path.resolve(); // Defining directory
  let tempDir = path.join(__dirname, &quot;chapterTemp&quot;); // the temp directory

  const imageIds = []; // Empty array where the file IDs will be pushed

  try {
    await b2.authorize().then(async () =&gt; {
      const bucketId = process.env.BACKBLAZE_BUCKET_ID;

      fs.readdir(tempDir, async function (err, files) {
        if (err) {
          console.error(err);
          res.sendStatus(500).json({ message: err.message });
          return;
        }

        // Unique id

        let uid = uuidv4();

        // Reading file from temp Dir and upload to backblaze

        const uploadPromises = files.map(async (file) =&gt; {
          const fileData = fs.readFileSync(path.join(tempDir, file));
          const uploadFileName = path.join(uid, file); // changing file name to uniques
          const uploadUrl = await b2.getUploadUrl(bucketId); // Getting upload URL and auth token
          const response = await b2.uploadFile({
            uploadUrl: uploadUrl.data.uploadUrl,
            uploadAuthToken: uploadUrl.data.authorizationToken,
            filename: uploadFileName,
            data: fileData,
            mime: &quot;image/png&quot; || &quot;image/jpg&quot; || &quot;image/jpeg&quot; || &quot;image/webp&quot;, // replace with the appropriate MIME type for your files
          });

          imageIds.push(response.data.fileId);
        });

        await Promise.all(uploadPromises);

        req.imageIds = imageIds;
        next();
      });
    });
  } catch (error) {
    return res.status(500).json({ message: error.message });
  }
};
</code></pre>
<p>I want the array to have the file ids in order like <code>1.jpg's</code> file id should one on the <code>imageIds[0]</code> position and <code>2.jpg</code> should be on the <code>imageIds[1]</code> position and so on!</p>
",<node.js><express><npm><node-modules><backblaze>,0.0,0,0,1
51425,50678,76263439,1,0,21907349,0.0,0.0,0.0,0.0,2023-05-16T13:12:31.163,0.0,525.0,Trying to install express getting - ERR! code ENOENT,"<p>Can someone help me troubleshoot this please. Or understand what is going on here.</p>
<p>Learning to use node.js and following a course. However, when trying to install express getting this error, which I understand that for some reason it cant locate a file however, which file is in question:</p>
<pre><code>npm ERR! code ENOENT
npm ERR! syscall rename
npm ERR! path /Users/ac/.npm/_cacache/tmp/08121495
npm ERR! dest /Users/ac/.npm/_cacache/content-v2/sha512/f4/7d/62d2a7a5f2c4ffb04f3147496228443c92b3170dee68ec4c60f90bd14281f34b2c12f469acd27e6c3e83e3742a6510a5be0fe852bf17bd86b1ee6e2eafb9
npm ERR! errno ENOENT
npm ERR! enoent Invalid response body while trying to fetch https://registry.npmjs.org/accepts: ENOENT: no such file or directory, rename '/Users/ac/.npm/_cacache/tmp/08121495' -&gt; '/Users/ac/.npm/_cacache/content-v2/sha512/f4/7d/62d2a7a5f2c4ffb04f3147496228443c92b3170dee68ec4c60f90bd14281f34b2c12f469acd27e6c3e83e3742a6510a5be0fe852bf17bd86b1ee6e2eafb9'
npm ERR! enoent This is related to npm not being able to find a file.
</code></pre>
<p>My steps:</p>
<p>Installed node js &gt; installed npm &gt; checked both v &gt; mkdir myapp &gt; cd myapp &gt; npm init &gt; npm install express.. starts to load and then throws this error.</p>
<p>I tried searching all over the internet and it seems that the issue is common especially with react.</p>
<p>Using Mac OS</p>
<p>Thank you.</p>
<hr>
<p>Tried multiple ways to troubleshoot on other stackoverflow posts.</p>
<p>npm cache clear</p>
<p>unistall and reinstall node.js</p>
<hr>
I think using solved it... 
<p>sudo npm install express</p>
",<node.js><express><npm>,0.0,0,0,1
51428,50681,76264216,1,0,21907804,0.0,1.0,0.0,0.0,2023-05-16T14:27:57.387,0.0,29.0,when i install npm install this warning keep showing any solution for this,"<p>npm install nodemon</p>
<p>npm WARN EBADENGINE Unsupported engine {</p>
<p>npm WARN EBADENGINE   package: 'fileupload@0.2.1',</p>
<p>npm WARN EBADENGINE   required: { node: '&gt;= 0.4.6 &lt; 0.7.0' },</p>
<p>npm WARN EBADENGINE   current: { node: 'v18.16.0', npm: '9.6.6' }</p>
<p>npm WARN EBADENGINE }</p>
<p>why it keep showing unsupported engine is there any solution to prevent this</p>
",<node.js><express><npm-install>,0.0,0,0,1
51739,50992,76449307,1,0,22054887,0.0,4.0,0.0,0.0,2023-06-11T06:45:16.893,0.0,38.0,"i am facing an error in running a server , i try to open the port on 3000 but it is not working and also after change port no. still it is the same","<p>node:events:491
throw er; // Unhandled 'error' event
^</p>
<p>Error: listen EACCES: permission denied 3005;
Emitted 'error' event on Server instance at:
at emitErrorNT (node:net:1767:8)
at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
code: 'EACCES',
errno: -4092,
syscall: 'listen',
address: '3005;',
port: -1
}</p>
<p>after changing the port also this error is not resolved</p>
",<express><npm><server>,0.0,0,0,1
51810,51063,76485094,1,0,2349947,1.0,0.0,0.0,0.0,2023-06-15T19:50:48.100,0.0,90.0,node_modules/express-openid-connect/index.d.ts:7:8 - error TS7016: Could not find a declaration file for module 'openid-client',"<p>I am encountering an error while attempting to install <code>npm install express-openid-connect</code>. The library seems to be unable to find <code>openid-client</code>. I have attempted to resolve the issue by installing the types, creating a separate <code>d.ts</code> file with <code>declare module 'openid-client';</code>, downgrading <code>express-openid-connect</code> and <code>openid-client</code> libraries, but have been unsuccessful. Each time I receive a different error. Can someone assist in resolving this issue?</p>
<p>Here's the full stacktrace:</p>
<pre><code>&gt; npm run build

node_modules/express-openid-connect/index.d.ts:9:8 - error TS7016: Could not find a declaration file for module 'openid-client'. '/myproject/functions/node_modules/openid-client/lib/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/openid-client` if it exists or add a new declaration (.d.ts) file containing `declare module 'openid-client';`

9 } from 'openid-client';
         ~~~~~~~~~~~~~~~

node_modules/express-openid-connect/index.d.ts:11:15 - error TS2724: '&quot;jose&quot;' has no exported member named 'JSONWebKey'. Did you mean 'JSONWebKeySet'?

11 import type { JSONWebKey, KeyInput } from 'jose';
                 ~~~~~~~~~~

node_modules/express-openid-connect/index.d.ts:11:27 - error TS2305: Module '&quot;jose&quot;' has no exported member 'KeyInput'.

11 import type { JSONWebKey, KeyInput } from 'jose';
                             ~~~~~~~~


Found 3 errors in the same file, starting at: node_modules/express-openid-connect/index.d.ts:9
</code></pre>
",<node.js><typescript><firebase><npm><express-openid-connect>,0.0,0,0,1
51856,51109,76506757,1,76506872,15978297,1.0,0.0,0.0,0.0,2023-06-19T12:44:47.653,1.0,69.0,axios-curlirize npm not printing proxy in console log,"<p>I am using <strong>axios</strong> and <strong>axios-curlirize</strong> npm libraries in my code. It is working for all API calls. But one of my API is using a proxy, when I hit that API axios-curlirize package prints <strong>curl request</strong> for it in console, but it doesn't print the complete curl request for that API including the proxy settings.</p>
<p>I want to get the complete curl request with proxy settings in it.</p>
<p>I am using these libraries. When I make a hit to my API, I get this in console.</p>
<pre><code>import axios from 'axios';
import curlirize from 'axios-curlirize';
curlirize(axios);

curl -X GET &quot;http://host:port/url&quot; -H &quot;Authorization:Basic token&quot;
</code></pre>
<p>But I am not getting the complete curl request with proxy settings in it.</p>
",<node.js><express><npm><curl><axios>,0.0,0,0,1
51881,51134,76519856,1,0,19228828,0.0,0.0,0.0,0.0,2023-06-21T03:57:18.510,0.0,29.0,MERN - can't write to connected mongoose database,"<p>I am creating a full-stack MERN application, and I am having trouble writing to the database. I have made a connection, and making GET requests to the database works.</p>
<p>Connection string:</p>
<pre><code>require('dotenv').config()
const mongoose = require('mongoose')

mongoose.connect(
  process.env.MONGODB_URI || 'mongodb://127.0.0.1:27017/rapidosPortal',
  {
    useNewUrlParser: true,
    useUnifiedTopology: true,
  }
)

module.exports = mongoose.connection

</code></pre>
<p>The server connected:
<a href=""https://i.stack.imgur.com/sI7Nk.png"" rel=""nofollow noreferrer"">Server Connected</a></p>
<p>server.js file:</p>
<pre><code>require('dotenv').config()
const express = require('express')
const cors = require('cors')
const path = require('path')
const db = require('./config/connection')
const routes = require('./routes')

const app = express()
const PORT = process.env.PORT || 3001

app.use(express.urlencoded({ extended: true }))
app.use(express.json())
app.use(cors())

if (process.env.NODE_ENV === 'production') {
  app.use(express.static(path.join(__dirname, '../client/build')))
}

app.use(routes)

db.once('open', () =&gt; {
  app.listen(PORT, () =&gt; console.log(`Now listening on localhost: ${PORT}`))
})

</code></pre>
<p>Network Request:
<a href=""https://i.stack.imgur.com/Dnzx7.png"" rel=""nofollow noreferrer"">API Request In Browser</a></p>
<p>Here is my controller, it makes it all the way to <code>Employee.create()</code>, but never past that, unless it errors out.</p>
<pre><code>async function createEmployee(req, res) {
  try {
    const missingParams = await findMissingParams(
      ['employee_name', 'email', 'password'],
      req.body
    )
    if (missingParams)
      return res
        .status(400)
        .json({ message: `Missing Parameters: ${missingParams.join(', ')}` })

    const alreadyOne = await validateEmployee(req.body)
    if (alreadyOne)
      return res.status(400).json({ message: 'Employee already exists!' })

    console.log('!! request body', req.body)
    const employee = await Employee.create(req.body)
    console.log('!! create employee', employee)

    const token = signToken(employee)

    return res.status(200).json({ employee, token })
  } catch (err) {
    console.error(err)
    return res.status(500).json(err)
  }
}
</code></pre>
<p>Then it hangs there not completing, as you can see by the next log not getting outputted to the console.</p>
<p>Server Console:
<a href=""https://i.stack.imgur.com/Uc9wL.png"" rel=""nofollow noreferrer"">Console Not FInishing</a></p>
<p>I've tried re-cloning the repo but that didn't do anything. I also went to my window services and restarted the mongodb server.</p>
<p>I have a seed file that creates the employees just fine and doesn't hang.</p>
<p>Seed file:</p>
<pre><code>require('dotenv').config()
const Employee = require('../../models/Employee')
const Profile = require('../../models/Profile')
const employees = require('./employees.json')
const profiles = require('./profiles.json')
const mongoose = require('mongoose')

async function seedDatabase() {
  await Profile.deleteMany({})
  const newProfiles = await Profile.insertMany(profiles)

  await Employee.deleteMany({})
  const newEmployees = employees.map((emp, index) =&gt; ({
    ...emp,
    profile: newProfiles[index]._id,
  }))
  console.log('!! new employees: ', newEmployees)
  await Employee.insertMany(newEmployees)
}

mongoose
  .connect(
    process.env.MONGODB_URI || 'mongodb://127.0.0.1:27017/rapidosPortal',
    {
      useNewUrlParser: true,
      useUnifiedTopology: true,
    }
  )
  .then(() =&gt; seedDatabase())
  .catch(err =&gt; {
    console.error(err)
    mongoose.connection.close()
  })
  .finally(() =&gt; mongoose.connection.close())
</code></pre>
<p>These created employees are also in my local database.</p>
<p>MongoDB Compass:
<a href=""https://i.stack.imgur.com/tA5cZ.png"" rel=""nofollow noreferrer"">MongoDB Database</a></p>
<p>This repository does work on Heroku, I believe it is a problem with my local database</p>
<p>Sorry if this isn't done properly, first post on here!</p>
<p>Thanks for any help</p>
",<reactjs><mongodb><express><npm><mongoose>,0.0,0,0,1
51926,51179,76542366,1,0,12981353,0.0,0.0,0.0,0.0,2023-06-23T17:30:57.717,0.0,22.0,Facing error related to node-gyp while installing jsthemis,"<p>I am unable to install an npm package <code>jsthemis</code> on my NodeJS project. I am using <code>node version: 11.15.0</code> &amp; <code>npm version: 6.7.0</code> on my system.</p>
<p>While installing the aforementioned package, I am getting the following error:</p>
<p><a href=""https://i.stack.imgur.com/hjtyt.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/hjtyt.png"" alt="""" /></a></p>
<p>I cannot upgrade my node version, as doing so will break other things in my project. I have tried installing <code>node-gyp</code> globally too but it did not help me as well. Tried installing <code>jsthemis</code> package after deleting <code>node modules</code> and <code>package-lock.json</code> too but the error persisted.</p>
<p><strong>P.S.</strong> I have researched sufficiently before posting this question but none of the solutions helped me.</p>
",<node.js><express><npm>,0.0,0,0,1
52097,51350,76616111,1,0,4592510,0.0,0.0,0.0,0.0,2023-07-04T22:18:30.680,0.0,140.0,ReferenceError: Location is not defined | Angular 15 SSR with nguniversal/express-engine,"<p>After running <code>npm run dev:ssr</code> build Compiled successfully.</p>
<p>Then <code>ReferenceError: Location is not defined</code> appeared.</p>
<p>this is the whole error...</p>
<pre><code>ReferenceError: Location is not defined
    at Module.63370 (/Users/application/directory/dist/app/server/main.js:22723:15)
    at __webpack_require__ (/Users/application/directory/dist/app/server/main.js:23113:42)
    at Module.84362 (/Users/application/directory/dist/app/server/main.js:22752:69)
    at __webpack_require__ (/Users/application/directory/dist/app/server/main.js:23113:42)
    at Module.23149 (/Users/application/directory/dist/app/server/main.js:22789:80)
    at __webpack_require__ (/Users/application/directory/dist/app/server/main.js:23113:42)
    at Module.53226 (/Users/application/directory/dist/app/server/main.js:22818:74)
    at __webpack_require__ (/Users/application/directory/dist/app/server/main.js:23113:42)
    at /Users/application/directory/dist/app/server/main.js:23131:85
    at Function.__webpack_require__.O (/Users/application/directory/dist/app/server/main.js:23161:23)

A server error has occurred.
node exited with 1 code.
connect ECONNREFUSED 127.0.0.1:65425



Angular CLI: 15.1.6
Node: 16.19.0
Package Manager: npm 8.19.3
nguniversal/express-engine&quot;: &quot;^15.2.1&quot;,
</code></pre>
",<node.js><angular><express><npm><server-side-rendering>,1.0,0,0,1
52150,51403,76643339,1,0,18363961,1.0,0.0,0.0,0.0,2023-07-08T14:07:56.303,0.0,153.0,Render: Deployment failed,"<p>I m trying to deploy a node applicaton on Render as deployment service ....but end up getting <strong>build failed</strong> each time.
Here are the logs from the event of deployment:</p>
<pre><code>   Jul 8 07:41:12 PM  ==&gt; Cloning from https://github.com/nileshp07/Natours...
Jul 8 07:41:15 PM  ==&gt; Checking out commit 6b28421ce689c5171b48e0f038cc352471c844e0 in branch main
Jul 8 07:41:19 PM  ==&gt; Using Node version 20.4.0 via /opt/render/project/src/package.json
Jul 8 07:41:19 PM  ==&gt; Docs on specifying a Node version: https://render.com/docs/node-version
Jul 8 07:41:21 PM  ==&gt; Running build command 'npm install'...
Jul 8 07:41:22 PM  npm ERR! code ERESOLVE
Jul 8 07:41:22 PM  npm ERR! ERESOLVE could not resolve
Jul 8 07:41:22 PM  npm ERR!
Jul 8 07:41:22 PM  npm ERR! While resolving: eslint-config-airbnb@18.2.1
Jul 8 07:41:22 PM  npm ERR! Found: eslint@8.43.0
Jul 8 07:41:22 PM  npm ERR! node_modules/eslint
Jul 8 07:41:22 PM  npm ERR!   dev eslint@&quot;^8.43.0&quot; from the root project
Jul 8 07:41:22 PM  npm ERR!   peer eslint@&quot;^6.0.0 || ^7.0.0 || &gt;=8.0.0&quot; from @eslint-community/eslint-utils@4.4.0
Jul 8 07:41:22 PM  npm ERR!   node_modules/@eslint-community/eslint-utils
Jul 8 07:41:22 PM  npm ERR!     @eslint-community/eslint-utils@&quot;^4.2.0&quot; from eslint@8.43.0
Jul 8 07:41:22 PM  npm ERR!   5 more (eslint-config-prettier, eslint-plugin-import, ...)
Jul 8 07:41:22 PM  npm ERR!
Jul 8 07:41:22 PM  npm ERR! Could not resolve dependency:
Jul 8 07:41:22 PM  npm ERR! peer eslint@&quot;^5.16.0 || ^6.8.0 || ^7.2.0&quot; from eslint-config-airbnb@18.2.1
Jul 8 07:41:22 PM  npm ERR! node_modules/eslint-config-airbnb
Jul 8 07:41:22 PM  npm ERR!   dev eslint-config-airbnb@&quot;^18.2.1&quot; from the root project
Jul 8 07:41:22 PM  npm ERR!
Jul 8 07:41:22 PM  npm ERR! Conflicting peer dependency: eslint@7.32.0
Jul 8 07:41:22 PM  npm ERR! node_modules/eslint
Jul 8 07:41:22 PM  npm ERR!   peer eslint@&quot;^5.16.0 || ^6.8.0 || ^7.2.0&quot; from eslint-config-airbnb@18.2.1
Jul 8 07:41:22 PM  npm ERR!   node_modules/eslint-config-airbnb
Jul 8 07:41:22 PM  npm ERR!     dev eslint-config-airbnb@&quot;^18.2.1&quot; from the root project
Jul 8 07:41:22 PM  npm ERR!
Jul 8 07:41:22 PM  npm ERR! Fix the upstream dependency conflict, or retry
Jul 8 07:41:22 PM  npm ERR! this command with --force or --legacy-peer-deps
Jul 8 07:41:22 PM  npm ERR! to accept an incorrect (and potentially broken) dependency resolution.
Jul 8 07:41:22 PM  npm ERR!
Jul 8 07:41:22 PM  npm ERR!
Jul 8 07:41:22 PM  npm ERR! For a full report see:
Jul 8 07:41:22 PM  npm ERR! /opt/render/.cache/_logs/2023-07-08T14_11_21_566Z-eresolve-report.txt
Jul 8 07:41:22 PM  
Jul 8 07:41:22 PM  npm ERR! A complete log of this run can be found in: /opt/render/.cache/_logs/2023-07-08T14_11_21_566Z-debug-0.log
Jul 8 07:41:22 PM  ==&gt; Build failed 
</code></pre>
<p>I guess it has something to do with my npm packages. Can anyone help me out with this?
Any help would be gratefull :)</p>
",<node.js><express><npm><deployment>,0.0,0,0,1
52168,51421,76654560,1,76654637,22204104,1.0,0.0,0.0,0.0,2023-07-10T14:06:01.917,0.0,18.0,express.js css not loading but html does,"<p><a href=""https://i.stack.imgur.com/wdYAy.png"" rel=""nofollow noreferrer"">folder and files</a>
server.js this is what i created so far</p>
<pre><code>//importing packages
const express = require('express');
const admin = require('firebase-admin');
const bcrypt = require('bcrypt');
const path = require('path');

//declare static path
let staticPath = path.join(__dirname, &quot;js&quot;);

//intializing express.js

const app = express();

//midlewares
app.use(express.static(staticPath));

//routes
//home route
app.get(&quot;/&quot;, (req, res) =&gt; {
    res.sendFile(path.join(staticPath, &quot;index.html&quot;));
})

//signup route
app.get(&quot;/signup&quot;, (req, res) =&gt; {
    res.sendFile(path.join(staticPath, &quot;signup.html&quot;));
})

// 404 route
app.get(&quot;/404&quot;, (req, res) =&gt; {
    res.sendFile(path.join(staticPath, &quot;404.html&quot;));
})

app.use((req, res) =&gt; {
    res.redirect('/404');
})

app.listen(3000, () =&gt; {
    console.log('listening on port 3000.......');
})
</code></pre>
<p>index.html this is what i created so far</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot;&gt;
        &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edga&quot;&gt;
        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
        &lt;title&gt;Clothing - Best Apparels Online Store&lt;/title&gt;

        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;../css/home.css&quot;&gt;
    &lt;/head&gt;

    &lt;body&gt;
        &lt;nav class=&quot;navbar&quot;&gt;&lt;/nav&gt;

        &lt;!-- hero section--&gt;

        &lt;header class=&quot;hero-section&quot;&gt;
            &lt;div class=&quot;content&quot;&gt;
                &lt;img src=&quot;../img/light-logo.png&quot; class=&quot;logo&quot; alt=&quot;&quot;&gt;
                &lt;p class=&quot;sub-heading&quot;&gt;best fashion collection of all time&lt;/p&gt;
            &lt;/div&gt;
        &lt;/header&gt;

        &lt;!-- card-container--&gt;

        &lt;section class=&quot;product&quot;&gt;
            &lt;h2 class=&quot;product-category&quot;&gt;best selling&lt;/h2&gt;
            &lt;button class=&quot;pre-btn&quot;&gt;&lt;img src=&quot;../img/arrow.png&quot; alt=&quot;&quot;&gt;&lt;/button&gt;
            &lt;button class=&quot;nxt-btn&quot;&gt;&lt;img src=&quot;../img/arrow.png&quot; alt=&quot;&quot;&gt;&lt;/button&gt;
            &lt;div class=&quot;product-container&quot;&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/card1.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/card2.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/card3.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/card4.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/card5.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/card6.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/card7.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/card8.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/section&gt;

        &lt;!-- collections --&gt;

        &lt;section class=&quot;collection-container&quot;&gt;
            &lt;a href=&quot;#&quot; class=&quot;collection&quot;&gt;
                &lt;img src=&quot;../img/women-collection.png&quot; alt=&quot;&quot;&gt;
                &lt;p class=&quot;collection-title&quot;&gt;women &lt;br&gt; apparels &lt;/p&gt;
            &lt;/a&gt;
            &lt;a href=&quot;#&quot; class=&quot;collection&quot;&gt;
                &lt;img src=&quot;../img/men-collection.png&quot; alt=&quot;&quot;&gt;
                &lt;p class=&quot;collection-title&quot;&gt;women &lt;br&gt; apparels &lt;/p&gt;
            &lt;/a&gt;
            &lt;a href=&quot;#&quot; class=&quot;collection&quot;&gt;
                &lt;img src=&quot;../img/accessories-collection.png&quot; alt=&quot;&quot;&gt;
                &lt;p class=&quot;collection-title&quot;&gt;accessories&lt;/p&gt;
            &lt;/a&gt;
        &lt;/section&gt;
        
        &lt;!-- card-container--&gt;

        &lt;section class=&quot;product&quot;&gt;
            &lt;h2 class=&quot;product-category&quot;&gt;Shirts&lt;/h2&gt;
            &lt;button class=&quot;pre-btn&quot;&gt;&lt;img src=&quot;../img/arrow.png&quot; alt=&quot;&quot;&gt;&lt;/button&gt;
            &lt;button class=&quot;nxt-btn&quot;&gt;&lt;img src=&quot;../img/arrow.png&quot; alt=&quot;&quot;&gt;&lt;/button&gt;
            &lt;div class=&quot;product-container&quot;&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/product image 1.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/product image 2.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/product image 3.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/product image 4.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/card5.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/card6.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/card7.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/card8.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/section&gt;
        &lt;!-- card-container--&gt;

        &lt;section class=&quot;product&quot;&gt;
            &lt;h2 class=&quot;product-category&quot;&gt;Shoes&lt;/h2&gt;
            &lt;button class=&quot;pre-btn&quot;&gt;&lt;img src=&quot;../img/arrow.png&quot; alt=&quot;&quot;&gt;&lt;/button&gt;
            &lt;button class=&quot;nxt-btn&quot;&gt;&lt;img src=&quot;../img/arrow.png&quot; alt=&quot;&quot;&gt;&lt;/button&gt;
            &lt;div class=&quot;product-container&quot;&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/card9.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/card10.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/card11.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/card12.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/card5.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/card6.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/card7.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;product-card&quot;&gt;
                    &lt;div class=&quot;product-image&quot;&gt;
                        &lt;span class=&quot;discount-tag&quot;&gt;50% off&lt;/span&gt;
                        &lt;img src=&quot;../img/card8.png&quot; class=&quot;product-thumb&quot; alt=&quot;&quot;&gt;
                        &lt;button class=&quot;card-btn&quot;&gt;add to wishlist&lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;product-info&quot;&gt;
                        &lt;h2 class=&quot;product-brand&quot;&gt;brand&lt;/h2&gt;
                        &lt;p class=&quot;product-short-des&quot;&gt;a short line about the cloth...&lt;/p&gt;
                        &lt;span class=&quot;price&quot;&gt;$20&lt;/span&gt;&lt;span class=&quot;actual-price&quot;&gt;$40&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/section&gt;

        &lt;footer&gt;
            
        &lt;/footer&gt;

        &lt;script src=&quot;../js/nav.js&quot;&gt;&lt;/script&gt;
        &lt;script src=&quot;../js/home.js&quot;&gt;&lt;/script&gt;
        &lt;script src=&quot;../js/footer.js&quot;&gt;&lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>when i run localhost:3000 html does load but css doesnt
what should i do?
i am doing trying to recreate tutorial, but the author doesnt have this problem, nor somebody in the comments, this is the link of the creator <a href=""https://www.youtube.com/watch?v=yYSfOe0QBOk&amp;list=PLqm86YkewF6S45smPYeNv01aFFKWZSgYD&amp;index=2&amp;ab_channel=ModernWeb"" rel=""nofollow noreferrer"">https://www.youtube.com/watch?v=yYSfOe0QBOk&amp;list=PLqm86YkewF6S45smPYeNv01aFFKWZSgYD&amp;index=2&amp;ab_channel=ModernWeb</a></p>
",<javascript><html><css><express><npm>,0.0,0,0,1
52182,51435,76661317,1,0,22209009,0.0,3.0,0.0,0.0,2023-07-11T11:02:56.030,0.0,28.0,using the below code . why cant i set or add flags and expunge the mails permanentley using their UIDs in imap-node.js,"<p>let emailUid = [28276,28277,28278,28275];</p>
<pre><code>await imap.openBox(&quot;[Gmail]/All Mail&quot;, false, async function (err, box) {
  if (err) {
    console.error(err);
    return;
  }
  console.log(&quot;box opened&quot;,box.name);

  //  new Promise((resolve,reject)=&gt;{
            // Mark the email as deleted
            let flags= ['\\Deleted']
            imap.setFlags(emailUid, flags, async function (err) {
              if (err) {
                console.error(err);
                //reject(err)
              } else {
                console.log('Flags added to the emails:', emailUid);
                // resolve()
                imap.expunge();
              }
            });
          // })
});
await new Promise((resolve,reject)=&gt;{
 imap.expunge(function (err) {
  if (err) {
    console.error(err);
  } else {
    console.log('Expunge operation completed successfully.');
    resolve()
  }
})
});
</code></pre>
<p>connection to IMAP is successful .then the console logs in expunge is printed first then the log in setflags is printed.
finally , flags are not set to the mail and expunge operation is not completed when seen in the gmail</p>
",<javascript><node.js><express><npm><imap>,0.0,0,0,1
52202,51455,76673224,1,0,12537691,0.0,3.0,0.0,0.0,2023-07-12T17:47:04.140,1.0,286.0,"npx prisma generate giving, `failed, reason: self-signed certificate in certificate chain` in Docker build","<p><code>RUN npx prisma generate</code> throwing error while building a docker image.</p>
<p>#12 1.036 Error: request to <a href=""https://binaries.prisma.sh/all_commits/6b0aef69b7cdfc787f822ecd7cdc76d5f1991584/linux-arm64-openssl-3.0.x/libquery_engine.so.node.gz.sha256"" rel=""nofollow noreferrer"">https://binaries.prisma.sh/all_commits/6b0aef69b7cdfc787f822ecd7cdc76d5f1991584/linux-arm64-openssl-3.0.x/libquery_engine.so.node.gz.sha256</a> failed, reason: self-signed certificate in certificate chain</p>
<h4><code>.npmrc</code></h4>
<pre><code>registry=https://registry.npmjs.org/
</code></pre>
<h4><code>Dockerfile</code></h4>
<pre><code>FROM node:18

RUN mkdir /code
WORKDIR /code
COPY package*.json ./
COPY prisma ./prisma/
COPY .env ./

RUN npm install
RUN npx prisma generate.  

COPY tsconfig.json ./
COPY . .
RUN npm run build


EXPOSE 3001

CMD [ &quot;node&quot;, &quot;dist/index.js&quot; ]
</code></pre>
<h4>error</h4>
<p><a href=""https://i.stack.imgur.com/Oiued.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Oiued.png"" alt=""enter image description here"" /></a></p>
",<node.js><docker><express><npm><prisma>,0.0,0,0,1
52250,51503,76694194,1,0,16544213,0.0,0.0,0.0,0.0,2023-07-15T14:22:13.487,0.0,32.0,Should I use express-generator npm package?,"<p>In <a href=""https://expressjs.com/en/starter/generator.html"" rel=""nofollow noreferrer"">express official getting started</a>, They suggest using <code>express-generator</code>..</p>
<p>When I tried to install it using <code>npm</code>, it gave me about 50 vulnerabilities, among which there are 10 critical ones</p>
<p>So, what should I do? Skip those vulnerability messages or use other package? And if use other package, which one do you recommend?</p>
<p>And what should I do in general when I get those vulnerability messages? As I got some on installing <code>npx</code></p>
",<node.js><express><npm>,0.0,0,0,1
52254,51507,76695899,1,0,19476571,0.0,2.0,0.0,0.0,2023-07-15T21:48:46.570,0.0,53.0,I am Having a problem with mongoose package. after installing the when i run my app it shows the following message,"<h2>I am unable to run my application because of this issue.
(<a href=""https://i.stack.imgur.com/hbSt5.png"" rel=""nofollow noreferrer"">https://i.stack.imgur.com/hbSt5.png</a>) &lt;- image for reference</h2>
<h2>I have installed the mongoose npm package to connect with the mongodb but after installing the mongoose package  and running the app it's throwing the error like</h2>
<p>B:\angular\online\server\node_modules\mongodb\lib\collection.js:74
pkFactory: db.options?.pkFactory ?? utils_1.DEFAULT_PK_FACTORY,
^</p>
<p>SyntaxError: Invalid or unexpected token
at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)</p>
<h2>And my application get crashed..</h2>
",<node.js><mongodb><express><npm><mongoose>,1.0,0,0,1
52471,51724,76800668,1,0,14927211,0.0,0.0,0.0,0.0,2023-07-31T04:28:55.130,0.0,32.0,"npm ERR! syscall spawn C:\Program Files\MongoDB\Server\6.0\bin when trying to run ""npm run start""","<p>after I installed MongoDB, I've got an error as shows below:</p>
<pre><code>$ npm run dev

&gt; server-semina-bootcamp@0.0.0 dev
&gt; nodemon ./bin/www

npm ERR! code ENOENT
npm ERR! syscall spawn C:\Program Files\MongoDB\Server\6.0\bin
npm ERR! path D:\programming\Javascript\Program-NodeJS\website-event
npm ERR! errno -4058
npm ERR! enoent spawn C:\Program Files\MongoDB\Server\6.0\bin ENOENT
npm ERR! enoent This is related to npm not being able to find a file.
npm ERR! enoent

npm ERR! A complete log of this run can be found in: C:\Users\dell_\AppData\Local\npm-cache\_logs\2023-07-31T04_06_41_564Z-debug-0.log
</code></pre>
<p>I have already tried uninstalling MongoDB and NodeJS and reinstalling it.
and I've already check MongoDb path in environment variables But the error still showing, is there any solution to this error?</p>
<p>Here's the complete LOG file:</p>
<pre><code>0 verbose cli C:\NodeJs\node.exe C:\NodeJs\node_modules\npm\bin\npm-cli.js
1 info using npm@9.6.7
2 info using node@v18.17.0
3 timing npm:load:whichnode Completed in 2ms
4 timing config:load:defaults Completed in 1ms
5 timing config:load:file:C:\NodeJs\node_modules\npm\npmrc Completed in 3ms
6 timing config:load:builtin Completed in 3ms
7 timing config:load:cli Completed in 1ms
8 timing config:load:env Completed in 0ms
9 timing config:load:file:D:\programming\Javascript\Program-NodeJS\website-event\.npmrc Completed in 0ms
10 timing config:load:project Completed in 1ms
11 timing config:load:file:C:\Users\dell_\.npmrc Completed in 0ms
12 timing config:load:user Completed in 0ms
13 timing config:load:file:C:\Users\dell_\AppData\Roaming\npm\etc\npmrc Completed in 0ms
14 timing config:load:global Completed in 0ms
15 timing config:load:setEnvs Completed in 1ms
16 timing config:load Completed in 8ms
17 timing npm:load:configload Completed in 9ms
18 timing npm:load:mkdirpcache Completed in 0ms
19 timing npm:load:mkdirplogs Completed in 0ms
20 verbose title npm run dev
21 verbose argv &quot;run&quot; &quot;dev&quot;
22 timing npm:load:setTitle Completed in 1ms
23 timing config:load:flatten Completed in 2ms
24 timing npm:load:display Completed in 3ms
25 verbose logfile logs-max:10 dir:C:\Users\dell_\AppData\Local\npm-cache\_logs\2023-07-31T04_06_41_564Z-
26 verbose logfile C:\Users\dell_\AppData\Local\npm-cache\_logs\2023-07-31T04_06_41_564Z-debug-0.log
27 timing npm:load:logFile Completed in 7ms
28 timing npm:load:timers Completed in 0ms
29 timing npm:load:configScope Completed in 0ms
30 timing npm:load Completed in 23ms
31 timing command:run Completed in 9ms
32 verbose stack Error: spawn C:\Program Files\MongoDB\Server\6.0\bin ENOENT
32 verbose stack     at ChildProcess._handle.onexit (node:internal/child_process:283:19)
32 verbose stack     at onErrorNT (node:internal/child_process:476:16)
32 verbose stack     at process.processTicksAndRejections (node:internal/process/task_queues:82:21)
33 verbose pkgid server-semina-bootcamp@0.0.0
34 verbose cwd D:\programming\Javascript\Program-NodeJS\website-event
35 verbose Windows_NT 10.0.22621
36 verbose node v18.17.0
37 verbose npm  v9.6.7
38 error code ENOENT
39 error syscall spawn C:\Program Files\MongoDB\Server\6.0\bin
40 error path D:\programming\Javascript\Program-NodeJS\website-event
41 error errno -4058
42 error enoent spawn C:\Program Files\MongoDB\Server\6.0\bin ENOENT
43 error enoent This is related to npm not being able to find a file.
43 error enoent
44 verbose exit -4058
45 timing npm Completed in 53ms
46 verbose code -4058
47 error A complete log of this run can be found in: C:\Users\dell_\AppData\Local\npm-cache\_logs\2023-07-31T04_06_41_564Z-debug-0.log

</code></pre>
<p>and here's my package.json</p>
<pre><code>{
  &quot;name&quot;: &quot;server-semina-bootcamp&quot;,
  &quot;version&quot;: &quot;0.0.0&quot;,
  &quot;private&quot;: true,
  &quot;scripts&quot;: {
    &quot;start&quot;: &quot;node ./bin/www&quot;,
    &quot;dev&quot;: &quot;nodemon ./bin/www&quot;
  },
  &quot;dependencies&quot;: {
    &quot;cookie-parser&quot;: &quot;~1.4.4&quot;,
    &quot;debug&quot;: &quot;~2.6.9&quot;,
    &quot;dotenv&quot;: &quot;^16.3.1&quot;,
    &quot;express&quot;: &quot;~4.16.1&quot;,
    &quot;mongoose&quot;: &quot;^7.4.0&quot;,
    &quot;morgan&quot;: &quot;~1.9.1&quot;
  }
}

</code></pre>
",<javascript><node.js><mongodb><express><npm>,0.0,0,0,1
52648,51901,76890892,1,0,15135432,1.0,0.0,0.0,0.0,2023-08-12T19:48:49.010,1.0,51.0,Cannot find module './favicon.ico.json' Express - NodeJs:,"<p>My website (running on the express framework) suddenly started complaining that it needed a favicon.</p>
<pre><code>app.get('/:translation/:book', (req, res) =&gt; {
    const {translation} = req.params
    console.log(translation)
    
    const file = require(`./${translation}.json`)
    res.json(file.books.filter((book, index) =&gt; index === req.params.book)[0])
});
</code></pre>
",<node.js><express><npm>,0.0,0,0,1
52684,51937,76911903,1,0,11267298,0.0,1.0,0.0,0.0,2023-08-16T08:43:58.203,0.0,31.0,node:internal/modules/cjs/loader:998 throw err; - it works in localhost but not in Railway,"<p><strong>I fixed it, I added a comment below.</strong></p>
<p>I have been following this mdn tutorial:
<a href=""https://developer.mozilla.org/en-US/docs/Learn/Server-side/Express_Nodejs/deployment"" rel=""nofollow noreferrer"">https://developer.mozilla.org/en-US/docs/Learn/Server-side/Express_Nodejs/deployment</a></p>
<p>And I am just in the part of deploying the app, so I used Railway as the tutorial says, the code works well in the localhost, it does not display any error, but once is deployed and running in Railway it displays this error in the deploy log:</p>
<pre><code>`&gt; express-locallibrary-tutorial@0.0.0 start
&gt; node ./bin/www
node:internal/modules/cjs/loader:998
throw err;
^
Error: Cannot find module '../models/bookinstance'
Require stack:
- /app/controllers/bookController.js
- /app/routes/catalog.js
- /app/app.js
- /app/bin/www
at Module._resolveFilename (node:internal/modules/cjs/loader:995:15)
at Module._load (node:internal/modules/cjs/loader:841:27)
at Module.require (node:internal/modules/cjs/loader:1061:19)
at require (node:internal/modules/cjs/helpers:103:18)
at Object.&lt;anonymous&gt; (/app/controllers/bookController.js:4:22)
at Module._compile (node:internal/modules/cjs/loader:1159:14)
at Module._extensions..js (node:internal/modules/cjs/loader:1213:10)
at Module.load (node:internal/modules/cjs/loader:1037:32)
at Module._load (node:internal/modules/cjs/loader:878:12)
at Module.require (node:internal/modules/cjs/loader:1061:19) {
code: 'MODULE_NOT_FOUND',
requireStack: [
'/app/controllers/bookController.js',
'/app/routes/catalog.js',
'/app/app.js',
'/app/bin/www'
]
}
Node.js v18.12.1
npm WARN config production Use `--omit=dev` instead.`
</code></pre>
<p>This is the code I am deploying is this one: <a href=""https://github.com/DavitBoo/express-locallibrary-tutorial"" rel=""nofollow noreferrer"">https://github.com/DavitBoo/express-locallibrary-tutorial</a></p>
<p>I also tried to deploy it using render for example and I got the same output.
I was checking some similar stackoverflow posts, like this one: <a href=""https://stackoverflow.com/questions/74798386/nodeinternal-modules-cjs-loader998-throw-err-cannot-find-solution-to-this-e"">node:internal/modules/cjs/loader:998 throw err; ^ Cannot find solution to this error</a></p>
<p>But I could not implement a solution, a thing I was thinking is why the routes show this <em>'/app/'</em> in the error, like here:</p>
<p>`- /<strong>app</strong>/controllers/bookController.js</p>
<ul>
<li>/<strong>app</strong>/routes/catalog.js</li>
<li>/<strong>app</strong>/app.js</li>
<li>/<strong>app</strong>/bin/www`</li>
</ul>
",<node.js><express><npm><deployment><railway>,0.0,0,0,1
52707,51960,76933033,1,0,3971643,1.0,0.0,0.0,0.0,2023-08-18T23:38:56.293,0.0,225.0,How to dynamically display Last Refreshed <time> ago message on webpage that updates based on the elapsed time since the last API call,"<p>I am new to web development, and I am trying to display &quot;Last Refreshed  ago&quot; on the webpage. Something like this <a href=""https://trendshashtags.com/twitter-trends/united-states/"" rel=""nofollow noreferrer"">website</a>. I am making API call every 5 minutes, what I would like to achieve is I would like to display text for time 0sec-59 sec as &quot;Last Refreshed 1 sec ago&quot; and so forth. Next for minutes it should display text as &quot;Last refreshed 1 minute ago&quot; , and so on until 5 minutes.As soon API call is made again, then it should display &quot;Last refreshed 0 sec&quot; and continues until 5 minutes ago. Below code has 2 issues</p>
<ol>
<li>As soon as Browser is refreshed it starts the time again from 0 sec, in my case I would like to display continuous time.In provided website link, even if refresh button is pressed on browser you will notice that it display &quot;<strong>Trends last updated 1 min ago</strong>&quot;</li>
<li>After end of 5 minutes in below code, time continues for  6 minutes, 7 minutes etc. Even though data for Fetch API is refreshed.</li>
</ol>
<p><strong>Index.html</strong></p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Trending Hashtags&lt;/title&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.6.0.min.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Trending Hashtags&lt;/h1&gt;
    &lt;div id=&quot;hashtags-container&quot;&gt;
        &lt;!-- Trending hashtags will be dynamically added here --&gt;
    &lt;/div&gt;
    &lt;div id=&quot;timestamp-container&quot;&gt;
        &lt;span class=&quot;timestamp&quot;&gt;Last Refreshed: -&lt;/span&gt;
    &lt;/div&gt;

    &lt;script&gt;
        let startTime = 0;

        function startTimer() {
            fetch('/start-time') // Fetch initial start time from server
                .then(response =&gt; response.json())
                .then(data =&gt; {
                    startTime = data.startTime;
                    setInterval(updateTimer, 1000); // Update every second
                })
                .catch(error =&gt; console.error('Error fetching start time:', error));
        }

        function updateTimer() {
            const currentTime = Math.floor(Date.now() / 1000); // Get current Unix timestamp in seconds
            const elapsedSeconds = currentTime - startTime;

            updateTimestamp(elapsedSeconds);
        }

        function updateTimestamp(elapsedSeconds) {
            const timestampElement = document.querySelector('#timestamp-container .timestamp');
            if (timestampElement) {
                const timeAgo = formatTime(elapsedSeconds);
                timestampElement.textContent = `Last Refreshed: ${timeAgo} ago`;
            }
        }

        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return mins &gt; 0 ? `${mins} min` : `${secs} sec`;
        }

        function fetchAndUpdateHashtags(containerId) {
            fetch('/trends')
                .then(response =&gt; response.json())
                .then(data =&gt; {
                    updateHashtagsContainer(containerId, data.data);
                })
                .catch(error =&gt; console.error('Error fetching trends:', error));
        }

        function updateHashtagsContainer(containerId, data) {
            const hashtagsContainer = document.getElementById(containerId);
            hashtagsContainer.innerHTML = '';

            data.forEach((item, index) =&gt; {
                const trendItem = document.createElement('div');
                trendItem.className = 'trend-item';
                trendItem.innerHTML = `
                    &lt;span&gt;${index + 1}.&lt;/span&gt;
                    &lt;span&gt;&lt;span&gt;${item.hashtag}&lt;/span&gt;&lt;/span&gt;
                    &lt;span class=&quot;text-secondary&quot;&gt;${formatTweetVolume(item.tweetCount)}&lt;/span&gt;
                `;
                hashtagsContainer.appendChild(trendItem);
            });
        }

        function formatTweetVolume(volume) {
            if (volume &gt;= 1000) {
                return (volume / 1000).toFixed(1) + 'k';
            }
            return volume;
        }

        fetchAndUpdateHashtags('hashtags-container'); // Initial fetch
        startTimer(); // Start the timer

        setInterval(() =&gt; {
            fetchAndUpdateHashtags('hashtags-container');
        }, 300 * 1000); // Fetch every 5 minutes (300 seconds)
    &lt;/script&gt;

    &lt;style&gt;
        .trending-card {
            border: 1px solid #ccc;
            padding: 10px;
            margin: 10px;
            background-color: #f5f5f5;
        }
    &lt;/style&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p><strong>server.js</strong></p>
<pre><code>const express = require('express');
const path = require('path');
const Twit = require('twit');

const app = express();

const apikey = '';
const apisecretkey = '';
const accesstoken = '';
const accesstokensecret = '';

const T = new Twit({
  consumer_key: apikey,
  consumer_secret: apisecretkey,
  access_token: accesstoken,
  access_token_secret: accesstokensecret,
  timeout_ms: 60 * 1000,
});

app.get('/', (req, res) =&gt; {
  res.sendFile(path.join(__dirname, 'index.html'));
});

app.get('/start-time', (req, res) =&gt; {
  const startTime = Math.floor(Date.now() / 1000);
  res.json({ startTime });
});

app.get('/trends', (req, res) =&gt; {
  const timeAgo = req.query.time || '5min'; // Default to 5 minutes
  const params = { id: '23424977' };

  fetchTrendingHashtags(params)
    .then((data) =&gt; {
      res.json({ data, timeAgo });
    })
    .catch((error) =&gt; {
      res.status(500).send(error);
    });
});

function fetchTrendingHashtags(params) {
  return new Promise((resolve, reject) =&gt; {
    T.get('trends/place', params)
      .then((result) =&gt; {
        const trends = result.data[0].trends;

        const validTrends = trends.filter((trend) =&gt; trend.tweet_volume !== null);

        const sortedTrends = validTrends.sort((a, b) =&gt; b.tweet_volume - a.tweet_volume);

        const topTrends = sortedTrends.slice(0, 10);

        const simplifiedTrends = topTrends.map((trend) =&gt; {
          return {
            hashtag: trend.name,
            tweetCount: trend.tweet_volume,
          };
        });

        resolve(simplifiedTrends);
      })
      .catch((error) =&gt; {
        console.error('Error fetching trends:', error);
        reject('Error fetching trends');
      });
  });
}

const timeIntervals = [
  { minutes: 5, containerId: 'hashtags-container' }, // Fetch every 5 minutes
  // Add other time intervals here if needed
];

timeIntervals.forEach((interval) =&gt; {
  setInterval(() =&gt; {
    const newParams = { id: '23424977' };
    fetchTrendingHashtags(newParams)
      .then((data) =&gt; {
        updateHashtagsContainer(interval.containerId, data.data);
        console.log(`Fetched trends for ${interval.minutes} ago`);
      })
      .catch((error) =&gt; {
        console.error(`Error fetching trends for ${interval.minutes} ago:`, error);
      });
  }, interval.minutes * 60 * 1000);
});

const PORT = process.env.PORT || 3001;
app.listen(PORT, () =&gt; {
  console.log(`Server is running on port ${PORT}`);
});
</code></pre>
<p><strong>Code after SO User recommendation:</strong></p>
<p><strong>index.html</strong></p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Trending Hashtags&lt;/title&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.6.0.min.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Trending Hashtags&lt;/h1&gt;
    &lt;div id=&quot;hashtags-container&quot;&gt;
        &lt;!-- Trending hashtags will be dynamically added here --&gt;
    &lt;/div&gt;
    &lt;div id=&quot;timestamp-container&quot;&gt;
        &lt;span class=&quot;timestamp&quot;&gt;Last Refreshed: -&lt;/span&gt;
    &lt;/div&gt;

    &lt;script&gt;
        let startTime = localStorage.getItem('startTime') || Math.floor(Date.now() / 1000);

        function startTimer() {
            setInterval(updateTimer, 1000); // Update every second
        }

        function updateTimer() {
            const currentTime = Math.floor(Date.now() / 1000); // Get current Unix timestamp in seconds
            const elapsedSeconds = currentTime - startTime;

            updateTimestamp(elapsedSeconds);
        }

        function updateTimestamp(elapsedSeconds) {
            const timestampElement = document.querySelector('#timestamp-container .timestamp');
            if (timestampElement) {
                const timeAgo = formatTime(elapsedSeconds);
                timestampElement.textContent = `Last Refreshed: ${timeAgo} ago`;
            }
        }

        function formatTime(seconds) {
            if (seconds &gt;= 300) {
                startTime = Math.floor(Date.now() / 1000);
                localStorage.setItem('startTime', startTime);
                return '0 sec';
            }

            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return mins &gt; 0 ? `${mins} min` : `${secs} sec`;
        }

        function fetchAndUpdateHashtags(containerId) {
            fetch('/trends')
                .then(response =&gt; response.json())
                .then(data =&gt; {
                    updateHashtagsContainer(containerId, data.data);
                })
                .catch(error =&gt; console.error('Error fetching trends:', error));
        }

        function updateHashtagsContainer(containerId, data) {
            const hashtagsContainer = document.getElementById(containerId);
            hashtagsContainer.innerHTML = '';

            data.forEach((item, index) =&gt; {
                const trendItem = document.createElement('div');
                trendItem.className = 'trend-item';
                trendItem.innerHTML = `
                    &lt;span&gt;${index + 1}.&lt;/span&gt;
                    &lt;span&gt;&lt;span&gt;${item.hashtag}&lt;/span&gt;&lt;/span&gt;
                    &lt;span class=&quot;text-secondary&quot;&gt;${formatTweetVolume(item.tweetCount)}&lt;/span&gt;
                `;
                hashtagsContainer.appendChild(trendItem);
            });
        }

        function formatTweetVolume(volume) {
            if (volume &gt;= 1000) {
                return (volume / 1000).toFixed(1) + 'k';
            }
            return volume;
        }
    
   startTimer(); // Start the timer

// Remove this line: fetchAndUpdateHashtags('hashtags-container');

setInterval(() =&gt; {
    fetchAndUpdateHashtags('hashtags-container');
}, 300 * 1000); // Fetch every 5 minutes (300 seconds)
    &lt;/script&gt;

    &lt;style&gt;
        .trending-card {
            border: 1px solid #ccc;
            padding: 10px;
            margin: 10px;
            background-color: #f5f5f5;
        }
    &lt;/style&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p><strong>server.js</strong></p>
<pre><code>const express = require('express');
const path = require('path');
const Twit = require('twit');

const app = express();

const apikey = '';
const apisecretkey = '';
const accesstoken = '';
const accesstokensecret = '';

const T = new Twit({
  consumer_key: apikey,
  consumer_secret: apisecretkey,
  access_token: accesstoken,
  access_token_secret: accesstokensecret,
  timeout_ms: 60 * 1000,
});

app.get('/', (req, res) =&gt; {
  res.sendFile(path.join(__dirname, 'index.html'));
});


app.get('/start-time', (req, res) =&gt; {
  const startTime = Math.floor(Date.now() / 1000);
  res.json({ startTime });
});

app.get('/trends', (req, res) =&gt; {
  const timeAgo = req.query.time || '5min'; // Default to 5 minutes
  const params = { id: '23424977' };

  fetchTrendingHashtags(params)
    .then((data) =&gt; {
      res.json({ data, timeAgo });
    })
    .catch((error) =&gt; {
      res.status(500).send(error);
    });
});


function fetchTrendingHashtags(params) {
  return new Promise((resolve, reject) =&gt; {
    T.get('trends/place', params)
      .then((result) =&gt; {
        const trends = result.data[0].trends;

        const validTrends = trends.filter((trend) =&gt; trend.tweet_volume !== null);

        const sortedTrends = validTrends.sort((a, b) =&gt; b.tweet_volume - a.tweet_volume);

        const topTrends = sortedTrends.slice(0, 10);

        const simplifiedTrends = topTrends.map((trend) =&gt; {
          return {
            hashtag: trend.name,
            tweetCount: trend.tweet_volume,
          };
        });

        resolve(simplifiedTrends);
      })
      .catch((error) =&gt; {
        console.error('Error fetching trends:', error);
        reject('Error fetching trends');
      });
  });
}

const timeIntervals = [
  { minutes: 5, containerId: 'hashtags-container' }, // Fetch every 5 minutes
  // Add other time intervals here if needed
];

// Function to update hashtags container
function updateHashtagsContainer(containerId, data) {
  // ... (your code for updating hashtags container)
  const hashtagsContainer = document.getElementById(containerId);
            hashtagsContainer.innerHTML = '';

            data.forEach((item, index) =&gt; {
                const trendItem = document.createElement('div');
                trendItem.className = 'trend-item';
                trendItem.innerHTML = `
                    &lt;span&gt;${index + 1}.&lt;/span&gt;
                    &lt;span&gt;&lt;span&gt;${item.hashtag}&lt;/span&gt;&lt;/span&gt;
                    &lt;span class=&quot;text-secondary&quot;&gt;${formatTweetVolume(item.tweetCount)}&lt;/span&gt;
                `;
                hashtagsContainer.appendChild(trendItem);
            });
}

// Set intervals for data fetching
timeIntervals.forEach((interval) =&gt; {
  setInterval(() =&gt; {
    const newParams = { id: '23424977' };
    fetchTrendingHashtags(newParams)
      .then((data) =&gt; {
        updateHashtagsContainer(interval.containerId, data.data);
        console.log(`Fetched trends for ${interval.minutes} ago`);
      })
      .catch((error) =&gt; {
        console.error(`Error fetching trends for ${interval.minutes} ago:`, error);
      });
  }, (interval.minutes * 60 - 5) * 1000); // Adjust interval to 295 seconds
});

const PORT = process.env.PORT || 3001;
app.listen(PORT, () =&gt; {
  console.log(`Server is running on port ${PORT}`);
});
</code></pre>
",<javascript><html><express><npm-package>,0.0,0,0,1
52824,52077,76998633,1,0,22463924,0.0,3.0,0.0,0.0,2023-08-29T08:36:08.057,0.0,100.0,Nodemon error in terminal when i try to run my server with it & after installing it gobally,"<pre><code>$ nodemon index.js

[nodemon] 3.0.1
[nodemon] to restart at any time, enter `rs`
[nodemon] watching path(s): *.*
[nodemon] watching extensions: js,mjs,cjs,json
[nodemon] starting `node index.js`
[nodemon] Error
    at Bus.&lt;anonymous&gt; (C:\Users\TALMEEZ AKHTAR\AppData\Roaming\npm\node_modules\nodemon\lib\nodemon.js:158:25)
    at Bus.emit (node:events:526:35)
    at ChildProcess.&lt;anonymous&gt; (C:\Users\TALMEEZ AKHTAR\AppData\Roaming\npm\node_modules\nodemon\lib\monitor\run.js:180:9)
    at ChildProcess.emit (node:events:514:28)
    at ChildProcess._handle.onexit (node:internal/child_process:289:12)
    at onErrorNT (node:internal/child_process:476:16)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)
[nodemon] unable to run executable: &quot;node&quot;
</code></pre>
<p>I already installed nodemon =&gt; <code>npm i -g nodemon</code>.</p>
",<javascript><node.js><express><npm>,1.0,0,0,1
52869,52122,77023842,1,0,18754305,0.0,0.0,0.0,0.0,2023-09-01T14:14:45.697,1.0,37.0,Download package with npm install command from local API,"<p><strong>Context:</strong></p>
<p>I encountered an unusual issue (for me) as a junior web developer. My organization wanted to manage local package tarballs within specific folders for better control over the packages we install. To address this, I considered creating an API.</p>
<p><strong>The code:</strong></p>
<pre class=""lang-js prettyprint-override""><code>const express = require('express');
const app = express();
const port = 3000;
const fs = require('fs');

app.get('/tarballs/:packageName', (req, res) =&gt; {
    
    const { packageName } = req.params;
    const tarballPath = `./packages/${packageName}.tgz`;

    res.setHeader('Content-Type', 'application/octet-stream');
    res.setHeader('Content-Disposition', `attachment; filename=${packageName}.tgz`);
    
    const readStream = fs.createReadStream(tarballPath);
    readStream.pipe(res);
});

app.listen(port, () =&gt; {
    console.log(`API running on port ${port}`);
});
</code></pre>
<p>I also modified the npm registry like this:</p>
<pre class=""lang-bash prettyprint-override""><code>npm set registry http://localhost:3000/tarballs/
</code></pre>
<p><strong>The problem:</strong></p>
<p>When I access this URL in my browser: <code>http://localhost:3000/tarballs/my-package</code>, it downloads the tgz file successfully.</p>
<p>When I execute <code>npm i http://localhost:3000/tarballs/my-package</code>, it works as expected.</p>
<p>However, when I attempt <code>npm i my-package</code>, I encounter the following error:</p>
<pre class=""lang-less prettyprint-override""><code>npm ERR! Invalid JSON response body http://localhost:3000/tarballs/my-package reason: Unexpected token in JSON at position 0
</code></pre>
<p>I'm curious why providing the direct URL works, but using only the package name doesn't. Is there a solution to this problem? I considered using <code>app.use()</code> instead of conventional routes, but that might cause issues if someone tries <code>npm i my-package.tgz</code>, as it would search within the project repository instead of the API.</p>
<p>If there's no fix for this approach, is there a guide available for setting up a custom package server (not relying on existing solutions like Verdaccio)? My boss prefers a homemade solution.</p>
<p>Thanks, and have a great day!</p>
",<node.js><express><npm>,0.0,0,0,1
52999,52252,77099452,1,0,21780923,0.0,1.0,0.0,0.0,2023-09-13T17:57:17.300,0.0,13.0,navigator() Page navigation not working in reactjs,"<p>LoginForm.jsx</p>
<pre><code>import React,{useState} from &quot;react&quot;;
import { useNavigate } from 'react-router-dom';

import axios from 'axios';
import './loginstyle.css'
function LoginForm() {
  const [name, setName] = useState('');
  const [password, setPassword] = useState('');
  const [error, setError] = useState(null);
  const navigate = useNavigate(); 

  const handleSubmit = async (event) =&gt; {
    event.preventDefault();

    try {
      const response = await axios.post('/login', { name, password });

      if (response.data === 'Login successful') {
        // Redirect to admin panel
        navigate('/admin');
      } else {
        // Handle failed login here
        setError(response.data);
      }
    } catch (error) {
      console.error(error);
      setError('An error occurred');
    }
  };
  return (
    &lt;div className=&quot;wrapper&quot;&gt;
      &lt;div className=&quot;LoginForm&quot;&gt;
        &lt;div className=&quot;login-head&quot;&gt;ADMIN LOGIN&lt;/div&gt;
        &lt;div className=&quot;login-body&quot;&gt;
          &lt;form onSubmit={handleSubmit}&gt;
            &lt;input type=&quot;text&quot; placeholder=&quot;Enter name&quot; value={name} onChange={(e) =&gt; setName(e.target.value)} /&gt;
            &lt;input type=&quot;password&quot; placeholder=&quot;Enter password&quot; value={password} onChange={(e) =&gt; setPassword(e.target.value)} /&gt;
            {error &amp;&amp; &lt;p&gt;{error}&lt;/p&gt;}
            &lt;div className=&quot;login-btn&quot;&gt;
              &lt;button type=&quot;submit&quot; placeholder=&quot;LOGIN&quot;&gt;
                LOGIN
              &lt;/button&gt;
            &lt;/div&gt;
          &lt;/form&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}

export default LoginForm;
</code></pre>
<p>app.js</p>
<pre><code>import LoginPage from './components/LoginForm/LoginForm';
import AdminPage from './components/AdminPanel/AdminPanel';
import { BrowserRouter,Routes,Route } from 'react-router-dom';
import React from 'react';

import &quot;./App.css&quot;;
function App() {


  return (
   &lt;BrowserRouter&gt;
   &lt;Routes&gt;
      &lt;Route exact path='/' element={&lt;LoginPage/&gt;}&gt;&lt;/Route&gt;
      &lt;Route path='/admin' element={&lt;AdminPage/&gt;}&gt;&lt;/Route&gt;
   &lt;/Routes&gt;
   &lt;/BrowserRouter&gt;
  );
}

export default App;
</code></pre>
<p>I want a admin login page. If the username and password is true i want to navigate to /admin page but it is only showing login successful under the password input. I am using express,mongoDB as backend.
even though when I enter the URL http://localhost:3000/admin it is showing Unexpected Application Error!
404 Not Found. Can anyone help me with this?</p>
",<reactjs><express><npm>,0.0,0,0,1
53064,52317,77131678,1,0,22589825,1.0,1.0,0.0,0.0,2023-09-19T04:12:34.867,-3.0,32.0,When I execute 'npm install experss ' no node modules/package-lock.json is shown,"<p>Also I noted that execution is successful with no errors</p>
<p>I tried various tries like --save,-D etc but none of them work.</p>
<p>I think they are installed globally, if this is true can you plz tell how to localize the npm install</p>
",<express><npm>,0.0,0,0,1
53074,52327,77135845,1,0,22319996,0.0,0.0,0.0,0.0,2023-09-19T15:14:09.830,0.0,21.0,Mern Stack application mongoose error or callback function depricated,"<p><a href=""https://i.stack.imgur.com/xqCTM.png"" rel=""nofollow noreferrer"">Mongoose throws this error when starting npm at backend</a></p>
<pre><code>`const mongoose = require('mongoose')
const mongoURI = '&lt;MONGO_URL_USED&gt;'
module.exports = function (callback) {
    mongoose.connect(mongoURI, { useNewUrlParser: true }, async (err, result) =&gt; {
        if (err) console.log(&quot;---&quot; + err)
        else {
            // var database =
            console.log(&quot;connected to mongo&quot;)
            const foodCollection = await mongoose.connection.db.collection(&quot;food_items&quot;);
            foodCollection.find({}).toArray(async function (err, data) {
                const categoryCollection = await mongoose.connection.db.collection(&quot;Categories&quot;);
                categoryCollection.find({}).toArray(async function (err, Catdata) {
                    callback(err, data, Catdata);
                })
            });
        }
    })
};
</code></pre>
<p>`
I tried putting the connection call in a variable and declaring the function async but still it shows this error.</p>
",<mongodb><express><npm><mongoose><mongodb-atlas>,0.0,0,0,1
53218,52471,77217989,1,0,14725778,0.0,5.0,0.0,0.0,2023-10-02T19:19:37.060,0.0,33.0,"I am having issues making bubbly button ""bubble"" javascript","<p>the button appears and it is styled using CSS, that is ok however onClick it does not call the script, that is my best guess, have been trying to make it happen with no luck</p>
<p>I do not know if my script is not running ran debugging on package.json and it seems to have an issue however, it is beyond my knowledge at this point.</p>
<p>I do not know if my script is not running ran debugging on package.json and it seems to have an issue however, it is beyond my knowledge at this point.</p>
<p>I have tried updating package.json scripts: start however I think that the solution I tried was for another issue</p>
<pre><code>[&quot;scripts&quot;: {
    &quot;start&quot;: &quot;react-scripts start&quot;,
    &quot;build&quot;: &quot;react-scripts build&quot;,
    &quot;test&quot;: &quot;react-scripts test&quot;,
    &quot;eject&quot;: &quot;react-scripts eject&quot;
  },

`david@david-HP-ENVY-x360-m6-Convertible:~/Documents/Codecademy/Store-inventory/store-inventory$ npm run start
/usr/share/code/resources/app/extensions/ms-vscode.js-debug/src/bootloader.js:2
`,CHAR_NO_BREAK_SPACE:&quot;\xA0&quot;,CHAR_PERCENT:&quot;%&quot;,CHAR_PLUS:&quot;+&quot;,CHAR_QUESTION_MARK:&quot;?&quot;,CHAR_RIGHT_ANGLE_BRACKET:&quot;&gt;&quot;,CHAR_RIGHT_CURLY_BRACE:&quot;}&quot;,CHAR_RIGHT_SQUARE_BRACKET:&quot;]&quot;,CHAR_SEMICOLON:&quot;;&quot;,CHAR_SINGLE_QUOTE:&quot;'&quot;,CHAR_SPACE:&quot; &quot;,CHAR_TAB:&quot;   &quot;,CHAR_UNDERSCORE:&quot;_&quot;,CHAR_VERTICAL_LINE:&quot;|&quot;,CHAR_ZERO_WIDTH_NOBREAK_SPACE:&quot;\uFEFF&quot;}});var Lr=O((Ua,Pr)=&gt;{&quot;use strict&quot;;var ti=Xe(),{MAX_LENGTH:Or,CHAR_BACKSLASH:yt,CHAR_BACKTICK:ri,CHAR_COMMA:ni,CHAR_DOT:si,CHAR_LEFT_PARENTHESES:ii,CHAR_RIGHT_PARENTHESES:oi,CHAR_LEFT_CURLY_BRACE:ai,CHAR_RIGHT_CURLY_BRACE:li,CHAR_LEFT_SQUARE_BRACKET:Ir,CHAR_RIGHT_SQUARE_BRACKET:Nr,CHAR_DOUBLE_QUOTE:ui,CHAR_SINGLE_QUOTE:ci,CHAR_NO_BREAK_SPACE:fi,CHAR_ZERO_WIDTH_NOBREAK_SPACE:pi}=kr(),di=(e,t={})=&gt;{if(typeof e!=&quot;string&quot;)throw new TypeError(&quot;Expected a string&quot;);let r=t||{},n=typeof r.maxLength==&quot;number&quot;?Math.min(Or,r.maxLength):Or;if(e.length&gt;n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters 

SyntaxError: Unexpected token {
    at createScript (vm.js:80:10)
    at Object.runInThisContext (vm.js:139:10)
    at Module._compile (module.js:617:28)
    at Object.Module._extensions..js (module.js:664:10)
    at Module.load (module.js:566:32)
    at tryModuleLoad (module.js:506:12)
    at Function.Module._load (module.js:498:3)
    at Module.require (module.js:597:17)
    at Function.Module._preloadModules (module.js:754:12)
    at preloadModules (bootstrap_node.js:488:38)`
]

(https://github.com/ingdavidavila/Store-inventory)
</code></pre>
",<javascript><css><express><npm-scripts><npm-start>,1.0,0,0,1
53502,52755,77363109,1,0,443403,1.0,4.0,0.0,0.0,2023-10-25T22:02:45.523,0.0,18.0,"Yesterday Node Express API works locally, today getting ENOTFOUND localhost","<p>I have been working on several Node Express APIs and while they were working yesterday, I have rebooted my machines (laptop and workstation) and they are giving ENOTFOUND error for localhost (syscall getaddress info). I have thoroughly tested these APIs and I'm still getting:</p>
<pre><code>  error:  Error: getaddrinfo ENOTFOUND locahost
      at GetAddrInfoReqWrap.onlookup [as oncomplete] (node:dns:107:26) {
    errno: -3008,
    code: 'ENOTFOUND',
    syscall: 'getaddrinfo',
    hostname: 'locahost',
    fatal: true
  }
</code></pre>
<p>I am using Ubuntu (WSL) on both machines. I've checked /etc/hosts and 127.0.0.1 is localhost. I am lost as to what to do from here. I'm ready to test a third API and it's giving the same error. I deleted <code>rm -rf</code> node_modules and reinstalled. Still no go.</p>
<p>Any help is appreciated.</p>
",<express><npm>,1.0,0,0,1
53597,52850,77415044,1,0,17524544,0.0,0.0,0.0,0.0,2023-11-03T08:07:49.060,0.0,21.0,Can't update mkdirp to Istalling Express-generator,"<p>I'm facing an issue while installing express-generator using this commande  :</p>
<pre><code>npm install -g express-generator 
</code></pre>
<p>after executing it I get this error :</p>
<blockquote>
<p>npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)</p>
</blockquote>
",<node.js><express><npm><command><express-generator>,0.0,0,0,1
53807,53060,77525188,1,0,13871017,1.0,0.0,0.0,0.0,2023-11-21T18:35:20.853,0.0,30.0,Should I sanitize response data before sending it to the client?,"<p>I'm using the express-xss-sanitizer package to sanitize incoming requests in my Node.js Express application. However, I'm still seeing issues reported by Checkmarx regarding potential XSS attacks. I'm wondering if I need to sanitize response data before sending it to the client as well.</p>
<p>I've been under the impression that sanitizing input data is sufficient to prevent XSS attacks. However, the repeated Checkmarx warnings are making me doubt my understanding. Can someone clarify whether I need to sanitize response data as well?</p>
<pre><code>[![charityApiRouter.get('/charity/getCampaigns', async (req, res) =&gt; {
  const \[err, responseBody\] = await getCampaignData(req);
  if (err) {
    res.status(400).send({ success: false, err });
    return;
  }
  res._end = true;
  res.jsonp({
    success: true,
    data: responseBody.data,
  });
});][1]][1]
</code></pre>
<p><a href=""https://i.stack.imgur.com/fg3Ov.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/fg3Ov.png"" alt=""enter image description here"" /></a></p>
",<node.js><express><security><xss><npm-vulnerabilities>,0.0,0,0,1
